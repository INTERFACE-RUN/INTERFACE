/*! For license information please see bundle.js.LICENSE.txt */
(()=>{var t={8099:(t,e,n)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(7117);function i(t,e,n){return void 0===e&&(e=new Uint8Array(2)),void 0===n&&(n=0),e[n+0]=t>>>8,e[n+1]=t>>>0,e}function o(t,e,n){return void 0===e&&(e=new Uint8Array(2)),void 0===n&&(n=0),e[n+0]=t>>>0,e[n+1]=t>>>8,e}function s(t,e){return void 0===e&&(e=0),t[e]<<24|t[e+1]<<16|t[e+2]<<8|t[e+3]}function a(t,e){return void 0===e&&(e=0),(t[e]<<24|t[e+1]<<16|t[e+2]<<8|t[e+3])>>>0}function l(t,e){return void 0===e&&(e=0),t[e+3]<<24|t[e+2]<<16|t[e+1]<<8|t[e]}function c(t,e){return void 0===e&&(e=0),(t[e+3]<<24|t[e+2]<<16|t[e+1]<<8|t[e])>>>0}function u(t,e,n){return void 0===e&&(e=new Uint8Array(4)),void 0===n&&(n=0),e[n+0]=t>>>24,e[n+1]=t>>>16,e[n+2]=t>>>8,e[n+3]=t>>>0,e}function h(t,e,n){return void 0===e&&(e=new Uint8Array(4)),void 0===n&&(n=0),e[n+0]=t>>>0,e[n+1]=t>>>8,e[n+2]=t>>>16,e[n+3]=t>>>24,e}function f(t,e,n){return void 0===e&&(e=new Uint8Array(8)),void 0===n&&(n=0),u(t/4294967296>>>0,e,n),u(t>>>0,e,n+4),e}function d(t,e,n){return void 0===e&&(e=new Uint8Array(8)),void 0===n&&(n=0),h(t>>>0,e,n),h(t/4294967296>>>0,e,n+4),e}e.readInt16BE=function(t,e){return void 0===e&&(e=0),(t[e+0]<<8|t[e+1])<<16>>16},e.readUint16BE=function(t,e){return void 0===e&&(e=0),(t[e+0]<<8|t[e+1])>>>0},e.readInt16LE=function(t,e){return void 0===e&&(e=0),(t[e+1]<<8|t[e])<<16>>16},e.readUint16LE=function(t,e){return void 0===e&&(e=0),(t[e+1]<<8|t[e])>>>0},e.writeUint16BE=i,e.writeInt16BE=i,e.writeUint16LE=o,e.writeInt16LE=o,e.readInt32BE=s,e.readUint32BE=a,e.readInt32LE=l,e.readUint32LE=c,e.writeUint32BE=u,e.writeInt32BE=u,e.writeUint32LE=h,e.writeInt32LE=h,e.readInt64BE=function(t,e){void 0===e&&(e=0);var n=s(t,e),r=s(t,e+4);return 4294967296*n+r-4294967296*(r>>31)},e.readUint64BE=function(t,e){return void 0===e&&(e=0),4294967296*a(t,e)+a(t,e+4)},e.readInt64LE=function(t,e){void 0===e&&(e=0);var n=l(t,e);return 4294967296*l(t,e+4)+n-4294967296*(n>>31)},e.readUint64LE=function(t,e){void 0===e&&(e=0);var n=c(t,e);return 4294967296*c(t,e+4)+n},e.writeUint64BE=f,e.writeInt64BE=f,e.writeUint64LE=d,e.writeInt64LE=d,e.readUintBE=function(t,e,n){if(void 0===n&&(n=0),t%8!=0)throw new Error("readUintBE supports only bitLengths divisible by 8");if(t/8>e.length-n)throw new Error("readUintBE: array is too short for the given bitLength");for(var r=0,i=1,o=t/8+n-1;o>=n;o--)r+=e[o]*i,i*=256;return r},e.readUintLE=function(t,e,n){if(void 0===n&&(n=0),t%8!=0)throw new Error("readUintLE supports only bitLengths divisible by 8");if(t/8>e.length-n)throw new Error("readUintLE: array is too short for the given bitLength");for(var r=0,i=1,o=n;o<n+t/8;o++)r+=e[o]*i,i*=256;return r},e.writeUintBE=function(t,e,n,i){if(void 0===n&&(n=new Uint8Array(t/8)),void 0===i&&(i=0),t%8!=0)throw new Error("writeUintBE supports only bitLengths divisible by 8");if(!r.isSafeInteger(e))throw new Error("writeUintBE value must be an integer");for(var o=1,s=t/8+i-1;s>=i;s--)n[s]=e/o&255,o*=256;return n},e.writeUintLE=function(t,e,n,i){if(void 0===n&&(n=new Uint8Array(t/8)),void 0===i&&(i=0),t%8!=0)throw new Error("writeUintLE supports only bitLengths divisible by 8");if(!r.isSafeInteger(e))throw new Error("writeUintLE value must be an integer");for(var o=1,s=i;s<i+t/8;s++)n[s]=e/o&255,o*=256;return n},e.readFloat32BE=function(t,e){return void 0===e&&(e=0),new DataView(t.buffer,t.byteOffset,t.byteLength).getFloat32(e)},e.readFloat32LE=function(t,e){return void 0===e&&(e=0),new DataView(t.buffer,t.byteOffset,t.byteLength).getFloat32(e,!0)},e.readFloat64BE=function(t,e){return void 0===e&&(e=0),new DataView(t.buffer,t.byteOffset,t.byteLength).getFloat64(e)},e.readFloat64LE=function(t,e){return void 0===e&&(e=0),new DataView(t.buffer,t.byteOffset,t.byteLength).getFloat64(e,!0)},e.writeFloat32BE=function(t,e,n){return void 0===e&&(e=new Uint8Array(4)),void 0===n&&(n=0),new DataView(e.buffer,e.byteOffset,e.byteLength).setFloat32(n,t),e},e.writeFloat32LE=function(t,e,n){return void 0===e&&(e=new Uint8Array(4)),void 0===n&&(n=0),new DataView(e.buffer,e.byteOffset,e.byteLength).setFloat32(n,t,!0),e},e.writeFloat64BE=function(t,e,n){return void 0===e&&(e=new Uint8Array(8)),void 0===n&&(n=0),new DataView(e.buffer,e.byteOffset,e.byteLength).setFloat64(n,t),e},e.writeFloat64LE=function(t,e,n){return void 0===e&&(e=new Uint8Array(8)),void 0===n&&(n=0),new DataView(e.buffer,e.byteOffset,e.byteLength).setFloat64(n,t,!0),e}},1322:(t,e,n)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(8099),i=n(7309);e.BLOCK_SIZE=128,e.DIGEST_LENGTH=64,e.KEY_LENGTH=64,e.PERSONALIZATION_LENGTH=16,e.SALT_LENGTH=16,e.MAX_LEAF_SIZE=Math.pow(2,32)-1,e.MAX_FANOUT=255,e.MAX_MAX_DEPTH=255;var o=new Uint32Array([4089235720,1779033703,2227873595,3144134277,4271175723,1013904242,1595750129,2773480762,2917565137,1359893119,725511199,2600822924,4215389547,528734635,327033209,1541459225]),s=[[0,2,4,6,8,10,12,14,16,18,20,22,24,26,28,30],[28,20,8,16,18,30,26,12,2,24,0,4,22,14,10,6],[22,16,24,0,10,4,30,26,20,28,6,12,14,2,18,8],[14,18,6,2,26,24,22,28,4,12,10,20,8,0,30,16],[18,0,10,14,4,8,20,30,28,2,22,24,12,16,6,26],[4,24,12,20,0,22,16,6,8,26,14,10,30,28,2,18],[24,10,2,30,28,26,8,20,0,14,12,6,18,4,16,22],[26,22,14,28,24,2,6,18,10,0,30,8,16,12,4,20],[12,30,28,18,22,6,0,16,24,4,26,14,2,8,20,10],[20,4,16,8,14,12,2,10,30,22,18,28,6,24,26,0],[0,2,4,6,8,10,12,14,16,18,20,22,24,26,28,30],[28,20,8,16,18,30,26,12,2,24,0,4,22,14,10,6]],a=function(){function t(t,n){if(void 0===t&&(t=64),this.digestLength=t,this.blockSize=e.BLOCK_SIZE,this._state=new Int32Array(o),this._buffer=new Uint8Array(e.BLOCK_SIZE),this._bufferLength=0,this._ctr=new Uint32Array(4),this._flag=new Uint32Array(4),this._lastNode=!1,this._finished=!1,this._vtmp=new Uint32Array(32),this._mtmp=new Uint32Array(32),t<1||t>e.DIGEST_LENGTH)throw new Error("blake2b: wrong digest length");n&&this.validateConfig(n);var i=0;n&&n.key&&(i=n.key.length);var s=1,a=1;n&&n.tree&&(s=n.tree.fanout,a=n.tree.maxDepth),this._state[0]^=t|i<<8|s<<16|a<<24,n&&n.tree&&(this._state[1]^=n.tree.leafSize,this._state[2]^=n.tree.nodeOffsetLowBits,this._state[3]^=n.tree.nodeOffsetHighBits,this._state[4]^=n.tree.nodeDepth|n.tree.innerDigestLength<<8,this._lastNode=n.tree.lastNode),n&&n.salt&&(this._state[8]^=r.readUint32LE(n.salt,0),this._state[9]^=r.readUint32LE(n.salt,4),this._state[10]^=r.readUint32LE(n.salt,8),this._state[11]^=r.readUint32LE(n.salt,12)),n&&n.personalization&&(this._state[12]^=r.readUint32LE(n.personalization,0),this._state[13]^=r.readUint32LE(n.personalization,4),this._state[14]^=r.readUint32LE(n.personalization,8),this._state[15]^=r.readUint32LE(n.personalization,12)),this._initialState=new Uint32Array(this._state),n&&n.key&&i>0&&(this._paddedKey=new Uint8Array(e.BLOCK_SIZE),this._paddedKey.set(n.key),this._buffer.set(this._paddedKey),this._bufferLength=e.BLOCK_SIZE)}return t.prototype.reset=function(){return this._state.set(this._initialState),this._paddedKey?(this._buffer.set(this._paddedKey),this._bufferLength=e.BLOCK_SIZE):this._bufferLength=0,i.wipe(this._ctr),i.wipe(this._flag),this._finished=!1,this},t.prototype.validateConfig=function(t){if(t.key&&t.key.length>e.KEY_LENGTH)throw new Error("blake2b: wrong key length");if(t.salt&&t.salt.length!==e.SALT_LENGTH)throw new Error("blake2b: wrong salt length");if(t.personalization&&t.personalization.length!==e.PERSONALIZATION_LENGTH)throw new Error("blake2b: wrong personalization length");if(t.tree){if(t.tree.fanout<0||t.tree.fanout>e.MAX_FANOUT)throw new Error("blake2b: wrong tree fanout");if(t.tree.maxDepth<0||t.tree.maxDepth>e.MAX_MAX_DEPTH)throw new Error("blake2b: wrong tree depth");if(t.tree.leafSize<0||t.tree.leafSize>e.MAX_LEAF_SIZE)throw new Error("blake2b: wrong leaf size");if(t.tree.innerDigestLength<0||t.tree.innerDigestLength>e.DIGEST_LENGTH)throw new Error("blake2b: wrong tree inner digest length")}},t.prototype.update=function(t,n){if(void 0===n&&(n=t.length),this._finished)throw new Error("blake2b: can't update because hash was finished.");var r=e.BLOCK_SIZE-this._bufferLength,i=0;if(0===n)return this;if(n>r){for(var o=0;o<r;o++)this._buffer[this._bufferLength+o]=t[i+o];this._processBlock(e.BLOCK_SIZE),i+=r,n-=r,this._bufferLength=0}for(;n>e.BLOCK_SIZE;){for(o=0;o<e.BLOCK_SIZE;o++)this._buffer[o]=t[i+o];this._processBlock(e.BLOCK_SIZE),i+=e.BLOCK_SIZE,n-=e.BLOCK_SIZE,this._bufferLength=0}for(o=0;o<n;o++)this._buffer[this._bufferLength+o]=t[i+o];return this._bufferLength+=n,this},t.prototype.finish=function(t){if(!this._finished){for(var n=this._bufferLength;n<e.BLOCK_SIZE;n++)this._buffer[n]=0;this._flag[0]=4294967295,this._flag[1]=4294967295,this._lastNode&&(this._flag[2]=4294967295,this._flag[3]=4294967295),this._processBlock(this._bufferLength),this._finished=!0}var i=this._buffer.subarray(0,64);for(n=0;n<16;n++)r.writeUint32LE(this._state[n],i,4*n);return t.set(i.subarray(0,t.length)),this},t.prototype.digest=function(){var t=new Uint8Array(this.digestLength);return this.finish(t),t},t.prototype.clean=function(){i.wipe(this._vtmp),i.wipe(this._mtmp),i.wipe(this._state),i.wipe(this._buffer),i.wipe(this._initialState),this._paddedKey&&i.wipe(this._paddedKey),this._bufferLength=0,i.wipe(this._ctr),i.wipe(this._flag),this._lastNode=!1,this._finished=!1},t.prototype.saveState=function(){if(this._finished)throw new Error("blake2b: cannot save finished state");return{state:new Uint32Array(this._state),buffer:new Uint8Array(this._buffer),bufferLength:this._bufferLength,ctr:new Uint32Array(this._ctr),flag:new Uint32Array(this._flag),lastNode:this._lastNode,paddedKey:this._paddedKey?new Uint8Array(this._paddedKey):void 0,initialState:new Uint32Array(this._initialState)}},t.prototype.restoreState=function(t){return this._state.set(t.state),this._buffer.set(t.buffer),this._bufferLength=t.bufferLength,this._ctr.set(t.ctr),this._flag.set(t.flag),this._lastNode=t.lastNode,this._paddedKey&&i.wipe(this._paddedKey),this._paddedKey=t.paddedKey?new Uint8Array(t.paddedKey):void 0,this._initialState.set(t.initialState),this},t.prototype.cleanSavedState=function(t){i.wipe(t.state),i.wipe(t.buffer),i.wipe(t.initialState),t.paddedKey&&i.wipe(t.paddedKey),t.bufferLength=0,i.wipe(t.ctr),i.wipe(t.flag),t.lastNode=!1},t.prototype._G=function(t,e,n,r,i,o,s,a,l,c,u,h,f){var d=t[e],p=t[o],g=t[n],y=t[s],v=t[r],m=t[a],w=t[i],b=t[l],E=65535&d,_=d>>>16,x=65535&p,A=p>>>16;_+=g>>>16,x+=65535&y,A+=y>>>16,x+=(_+=(E+=65535&g)>>>16)>>>16,E=65535&(d=65535&E|_<<16),_=d>>>16,x=65535&(p=65535&x|(A+=x>>>16)<<16),A=p>>>16,_+=c>>>16,x+=65535&u,A+=u>>>16,d=65535&(E+=65535&c)|(_+=E>>>16)<<16,E=b^=p=65535&(x+=_>>>16)|(A+=x>>>16)<<16,b=w^=d,w=E,E=65535&v,_=v>>>16,x=65535&m,A=m>>>16,_+=w>>>16,x+=65535&b,A+=b>>>16,E=(g^=v=65535&(E+=65535&w)|(_+=E>>>16)<<16)<<8|(y^=m=65535&(x+=_>>>16)|(A+=x>>>16)<<16)>>>24,g=y<<8|g>>>24,y=E,E=65535&d,_=d>>>16,x=65535&p,A=p>>>16,_+=g>>>16,x+=65535&y,A+=y>>>16,x+=(_+=(E+=65535&g)>>>16)>>>16,E=65535&(d=65535&E|_<<16),_=d>>>16,x=65535&(p=65535&x|(A+=x>>>16)<<16),A=p>>>16,_+=h>>>16,x+=65535&f,A+=f>>>16,E=(w^=d=65535&(E+=65535&h)|(_+=E>>>16)<<16)<<16|(b^=p=65535&(x+=_>>>16)|(A+=x>>>16)<<16)>>>16,w=b<<16|w>>>16,b=E,E=65535&v,_=v>>>16,x=65535&m,A=m>>>16,_+=w>>>16,x+=65535&b,A+=b>>>16,E=(y^=m=65535&(x+=(_+=(E+=65535&w)>>>16)>>>16)|(A+=x>>>16)<<16)<<1|(g^=v=65535&E|_<<16)>>>31,g=g<<1|y>>>31,y=E,t[e]=d,t[o]=p,t[n]=g,t[s]=y,t[r]=v,t[a]=m,t[i]=w,t[l]=b},t.prototype._incrementCounter=function(t){for(var e=0;e<3;e++){var n=this._ctr[e]+t;if(this._ctr[e]=n>>>0,this._ctr[e]===n)return;t=1}},t.prototype._processBlock=function(t){this._incrementCounter(t);var e=this._vtmp;e.set(this._state),e.set(o,16),e[24]^=this._ctr[0],e[25]^=this._ctr[1],e[26]^=this._ctr[2],e[27]^=this._ctr[3],e[28]^=this._flag[0],e[29]^=this._flag[1],e[30]^=this._flag[2],e[31]^=this._flag[3];for(var n=this._mtmp,i=0;i<32;i++)n[i]=r.readUint32LE(this._buffer,4*i);for(var a=0;a<12;a++)this._G(e,0,8,16,24,1,9,17,25,n[s[a][0]],n[s[a][0]+1],n[s[a][1]],n[s[a][1]+1]),this._G(e,2,10,18,26,3,11,19,27,n[s[a][2]],n[s[a][2]+1],n[s[a][3]],n[s[a][3]+1]),this._G(e,4,12,20,28,5,13,21,29,n[s[a][4]],n[s[a][4]+1],n[s[a][5]],n[s[a][5]+1]),this._G(e,6,14,22,30,7,15,23,31,n[s[a][6]],n[s[a][6]+1],n[s[a][7]],n[s[a][7]+1]),this._G(e,0,10,20,30,1,11,21,31,n[s[a][8]],n[s[a][8]+1],n[s[a][9]],n[s[a][9]+1]),this._G(e,2,12,22,24,3,13,23,25,n[s[a][10]],n[s[a][10]+1],n[s[a][11]],n[s[a][11]+1]),this._G(e,4,14,16,26,5,15,17,27,n[s[a][12]],n[s[a][12]+1],n[s[a][13]],n[s[a][13]+1]),this._G(e,6,8,18,28,7,9,19,29,n[s[a][14]],n[s[a][14]+1],n[s[a][15]],n[s[a][15]+1]);for(i=0;i<16;i++)this._state[i]^=e[i]^e[i+16]},t}();e.BLAKE2b=a,e.hash=function(t,n,r){void 0===n&&(n=e.DIGEST_LENGTH);var i=new a(n,r);i.update(t);var o=i.digest();return i.clean(),o}},3683:(t,e)=>{"use strict";e.z=function(){for(var t=0,e=0;e<arguments.length;e++)t+=arguments[e].length;var n=new Uint8Array(t),r=0;for(e=0;e<arguments.length;e++){var i=arguments[e];n.set(i,r),r+=i.length}return n}},4153:(t,e)=>{"use strict";function n(t,e){if(t.length!==e.length)return 0;for(var n=0,r=0;r<t.length;r++)n|=t[r]^e[r];return 1&n-1>>>8}Object.defineProperty(e,"__esModule",{value:!0}),e.select=function(t,e,n){return~(t-1)&e|t-1&n},e.lessOrEqual=function(t,e){return(0|t)-(0|e)-1>>>31&1},e.compare=n,e.equal=function(t,e){return 0!==t.length&&0!==e.length&&0!==n(t,e)}},1050:(t,e,n)=>{"use strict";e.zh=e.SH=e.Xx=e._w=e.aP=e.KS=e.jQ=void 0;n(1416);const r=n(3350),i=n(7309);function o(t){const e=new Float64Array(16);if(t)for(let n=0;n<t.length;n++)e[n]=t[n];return e}e.jQ=64,e.KS=64,e.aP=32,new Uint8Array(32)[0]=9;const s=o(),a=o([1]),l=o([30883,4953,19914,30187,55467,16705,2637,112,59544,30585,16505,36039,65139,11119,27886,20995]),c=o([61785,9906,39828,60374,45398,33411,5274,224,53552,61171,33010,6542,64743,22239,55772,9222]),u=o([54554,36645,11616,51542,42930,38181,51040,26924,56412,64982,57905,49316,21502,52590,14035,8553]),h=o([26200,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214]),f=o([41136,18958,6951,50414,58488,44335,6150,12099,55207,15867,153,11085,57099,20417,9344,11139]);function d(t,e){for(let n=0;n<16;n++)t[n]=0|e[n]}function p(t){let e=1;for(let n=0;n<16;n++){let r=t[n]+e+65535;e=Math.floor(r/65536),t[n]=r-65536*e}t[0]+=e-1+37*(e-1)}function g(t,e,n){const r=~(n-1);for(let n=0;n<16;n++){const i=r&(t[n]^e[n]);t[n]^=i,e[n]^=i}}function y(t,e){const n=o(),r=o();for(let t=0;t<16;t++)r[t]=e[t];p(r),p(r),p(r);for(let t=0;t<2;t++){n[0]=r[0]-65517;for(let t=1;t<15;t++)n[t]=r[t]-65535-(n[t-1]>>16&1),n[t-1]&=65535;n[15]=r[15]-32767-(n[14]>>16&1);const t=n[15]>>16&1;n[14]&=65535,g(r,n,1-t)}for(let e=0;e<16;e++)t[2*e]=255&r[e],t[2*e+1]=r[e]>>8}function v(t,e){const n=new Uint8Array(32),r=new Uint8Array(32);return y(n,t),y(r,e),function(t,e){let n=0;for(let r=0;r<32;r++)n|=t[r]^e[r];return(1&n-1>>>8)-1}(n,r)}function m(t){const e=new Uint8Array(32);return y(e,t),1&e[0]}function w(t,e,n){for(let r=0;r<16;r++)t[r]=e[r]+n[r]}function b(t,e,n){for(let r=0;r<16;r++)t[r]=e[r]-n[r]}function E(t,e,n){let r,i,o=0,s=0,a=0,l=0,c=0,u=0,h=0,f=0,d=0,p=0,g=0,y=0,v=0,m=0,w=0,b=0,E=0,_=0,x=0,A=0,S=0,T=0,R=0,I=0,k=0,O=0,N=0,C=0,P=0,L=0,B=0,M=n[0],U=n[1],D=n[2],j=n[3],K=n[4],H=n[5],W=n[6],q=n[7],F=n[8],G=n[9],z=n[10],V=n[11],Q=n[12],X=n[13],Y=n[14],J=n[15];r=e[0],o+=r*M,s+=r*U,a+=r*D,l+=r*j,c+=r*K,u+=r*H,h+=r*W,f+=r*q,d+=r*F,p+=r*G,g+=r*z,y+=r*V,v+=r*Q,m+=r*X,w+=r*Y,b+=r*J,r=e[1],s+=r*M,a+=r*U,l+=r*D,c+=r*j,u+=r*K,h+=r*H,f+=r*W,d+=r*q,p+=r*F,g+=r*G,y+=r*z,v+=r*V,m+=r*Q,w+=r*X,b+=r*Y,E+=r*J,r=e[2],a+=r*M,l+=r*U,c+=r*D,u+=r*j,h+=r*K,f+=r*H,d+=r*W,p+=r*q,g+=r*F,y+=r*G,v+=r*z,m+=r*V,w+=r*Q,b+=r*X,E+=r*Y,_+=r*J,r=e[3],l+=r*M,c+=r*U,u+=r*D,h+=r*j,f+=r*K,d+=r*H,p+=r*W,g+=r*q,y+=r*F,v+=r*G,m+=r*z,w+=r*V,b+=r*Q,E+=r*X,_+=r*Y,x+=r*J,r=e[4],c+=r*M,u+=r*U,h+=r*D,f+=r*j,d+=r*K,p+=r*H,g+=r*W,y+=r*q,v+=r*F,m+=r*G,w+=r*z,b+=r*V,E+=r*Q,_+=r*X,x+=r*Y,A+=r*J,r=e[5],u+=r*M,h+=r*U,f+=r*D,d+=r*j,p+=r*K,g+=r*H,y+=r*W,v+=r*q,m+=r*F,w+=r*G,b+=r*z,E+=r*V,_+=r*Q,x+=r*X,A+=r*Y,S+=r*J,r=e[6],h+=r*M,f+=r*U,d+=r*D,p+=r*j,g+=r*K,y+=r*H,v+=r*W,m+=r*q,w+=r*F,b+=r*G,E+=r*z,_+=r*V,x+=r*Q,A+=r*X,S+=r*Y,T+=r*J,r=e[7],f+=r*M,d+=r*U,p+=r*D,g+=r*j,y+=r*K,v+=r*H,m+=r*W,w+=r*q,b+=r*F,E+=r*G,_+=r*z,x+=r*V,A+=r*Q,S+=r*X,T+=r*Y,R+=r*J,r=e[8],d+=r*M,p+=r*U,g+=r*D,y+=r*j,v+=r*K,m+=r*H,w+=r*W,b+=r*q,E+=r*F,_+=r*G,x+=r*z,A+=r*V,S+=r*Q,T+=r*X,R+=r*Y,I+=r*J,r=e[9],p+=r*M,g+=r*U,y+=r*D,v+=r*j,m+=r*K,w+=r*H,b+=r*W,E+=r*q,_+=r*F,x+=r*G,A+=r*z,S+=r*V,T+=r*Q,R+=r*X,I+=r*Y,k+=r*J,r=e[10],g+=r*M,y+=r*U,v+=r*D,m+=r*j,w+=r*K,b+=r*H,E+=r*W,_+=r*q,x+=r*F,A+=r*G,S+=r*z,T+=r*V,R+=r*Q,I+=r*X,k+=r*Y,O+=r*J,r=e[11],y+=r*M,v+=r*U,m+=r*D,w+=r*j,b+=r*K,E+=r*H,_+=r*W,x+=r*q,A+=r*F,S+=r*G,T+=r*z,R+=r*V,I+=r*Q,k+=r*X,O+=r*Y,N+=r*J,r=e[12],v+=r*M,m+=r*U,w+=r*D,b+=r*j,E+=r*K,_+=r*H,x+=r*W,A+=r*q,S+=r*F,T+=r*G,R+=r*z,I+=r*V,k+=r*Q,O+=r*X,N+=r*Y,C+=r*J,r=e[13],m+=r*M,w+=r*U,b+=r*D,E+=r*j,_+=r*K,x+=r*H,A+=r*W,S+=r*q,T+=r*F,R+=r*G,I+=r*z,k+=r*V,O+=r*Q,N+=r*X,C+=r*Y,P+=r*J,r=e[14],w+=r*M,b+=r*U,E+=r*D,_+=r*j,x+=r*K,A+=r*H,S+=r*W,T+=r*q,R+=r*F,I+=r*G,k+=r*z,O+=r*V,N+=r*Q,C+=r*X,P+=r*Y,L+=r*J,r=e[15],b+=r*M,E+=r*U,_+=r*D,x+=r*j,A+=r*K,S+=r*H,T+=r*W,R+=r*q,I+=r*F,k+=r*G,O+=r*z,N+=r*V,C+=r*Q,P+=r*X,L+=r*Y,B+=r*J,o+=38*E,s+=38*_,a+=38*x,l+=38*A,c+=38*S,u+=38*T,h+=38*R,f+=38*I,d+=38*k,p+=38*O,g+=38*N,y+=38*C,v+=38*P,m+=38*L,w+=38*B,i=1,r=o+i+65535,i=Math.floor(r/65536),o=r-65536*i,r=s+i+65535,i=Math.floor(r/65536),s=r-65536*i,r=a+i+65535,i=Math.floor(r/65536),a=r-65536*i,r=l+i+65535,i=Math.floor(r/65536),l=r-65536*i,r=c+i+65535,i=Math.floor(r/65536),c=r-65536*i,r=u+i+65535,i=Math.floor(r/65536),u=r-65536*i,r=h+i+65535,i=Math.floor(r/65536),h=r-65536*i,r=f+i+65535,i=Math.floor(r/65536),f=r-65536*i,r=d+i+65535,i=Math.floor(r/65536),d=r-65536*i,r=p+i+65535,i=Math.floor(r/65536),p=r-65536*i,r=g+i+65535,i=Math.floor(r/65536),g=r-65536*i,r=y+i+65535,i=Math.floor(r/65536),y=r-65536*i,r=v+i+65535,i=Math.floor(r/65536),v=r-65536*i,r=m+i+65535,i=Math.floor(r/65536),m=r-65536*i,r=w+i+65535,i=Math.floor(r/65536),w=r-65536*i,r=b+i+65535,i=Math.floor(r/65536),b=r-65536*i,o+=i-1+37*(i-1),i=1,r=o+i+65535,i=Math.floor(r/65536),o=r-65536*i,r=s+i+65535,i=Math.floor(r/65536),s=r-65536*i,r=a+i+65535,i=Math.floor(r/65536),a=r-65536*i,r=l+i+65535,i=Math.floor(r/65536),l=r-65536*i,r=c+i+65535,i=Math.floor(r/65536),c=r-65536*i,r=u+i+65535,i=Math.floor(r/65536),u=r-65536*i,r=h+i+65535,i=Math.floor(r/65536),h=r-65536*i,r=f+i+65535,i=Math.floor(r/65536),f=r-65536*i,r=d+i+65535,i=Math.floor(r/65536),d=r-65536*i,r=p+i+65535,i=Math.floor(r/65536),p=r-65536*i,r=g+i+65535,i=Math.floor(r/65536),g=r-65536*i,r=y+i+65535,i=Math.floor(r/65536),y=r-65536*i,r=v+i+65535,i=Math.floor(r/65536),v=r-65536*i,r=m+i+65535,i=Math.floor(r/65536),m=r-65536*i,r=w+i+65535,i=Math.floor(r/65536),w=r-65536*i,r=b+i+65535,i=Math.floor(r/65536),b=r-65536*i,o+=i-1+37*(i-1),t[0]=o,t[1]=s,t[2]=a,t[3]=l,t[4]=c,t[5]=u,t[6]=h,t[7]=f,t[8]=d,t[9]=p,t[10]=g,t[11]=y,t[12]=v,t[13]=m,t[14]=w,t[15]=b}function _(t,e){E(t,e,e)}function x(t,e){const n=o();let r;for(r=0;r<16;r++)n[r]=e[r];for(r=253;r>=0;r--)_(n,n),2!==r&&4!==r&&E(n,n,e);for(r=0;r<16;r++)t[r]=n[r]}function A(t,e){const n=o(),r=o(),i=o(),s=o(),a=o(),l=o(),u=o(),h=o(),f=o();b(n,t[1],t[0]),b(f,e[1],e[0]),E(n,n,f),w(r,t[0],t[1]),w(f,e[0],e[1]),E(r,r,f),E(i,t[3],e[3]),E(i,i,c),E(s,t[2],e[2]),w(s,s,s),b(a,r,n),b(l,s,i),w(u,s,i),w(h,r,n),E(t[0],a,l),E(t[1],h,u),E(t[2],u,l),E(t[3],a,h)}function S(t,e,n){for(let r=0;r<4;r++)g(t[r],e[r],n)}function T(t,e){const n=o(),r=o(),i=o();x(i,e[2]),E(n,e[0],i),E(r,e[1],i),y(t,r),t[31]^=m(n)<<7}function R(t,e){const n=[o(),o(),o(),o()];d(n[0],u),d(n[1],h),d(n[2],a),E(n[3],u,h),function(t,e,n){d(t[0],s),d(t[1],a),d(t[2],a),d(t[3],s);for(let r=255;r>=0;--r){const i=n[r/8|0]>>(7&r)&1;S(t,e,i),A(e,t),A(t,t),S(t,e,i)}}(t,n,e)}e._w=function(t){if(t.length!==e.aP)throw new Error(`ed25519: seed must be ${e.aP} bytes`);const n=(0,r.hash)(t);n[0]&=248,n[31]&=127,n[31]|=64;const i=new Uint8Array(32),s=[o(),o(),o(),o()];R(s,n),T(i,s);const a=new Uint8Array(64);return a.set(t),a.set(i,32),{publicKey:i,secretKey:a}};const I=new Float64Array([237,211,245,92,26,99,18,88,214,156,247,162,222,249,222,20,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,16]);function k(t,e){let n,r,i,o;for(r=63;r>=32;--r){for(n=0,i=r-32,o=r-12;i<o;++i)e[i]+=n-16*e[r]*I[i-(r-32)],n=Math.floor((e[i]+128)/256),e[i]-=256*n;e[i]+=n,e[r]=0}for(n=0,i=0;i<32;i++)e[i]+=n-(e[31]>>4)*I[i],n=e[i]>>8,e[i]&=255;for(i=0;i<32;i++)e[i]-=n*I[i];for(r=0;r<32;r++)e[r+1]+=e[r]>>8,t[r]=255&e[r]}function O(t){const e=new Float64Array(64);for(let n=0;n<64;n++)e[n]=t[n];for(let e=0;e<64;e++)t[e]=0;k(t,e)}e.Xx=function(t,e){const n=new Float64Array(64),i=[o(),o(),o(),o()],s=(0,r.hash)(t.subarray(0,32));s[0]&=248,s[31]&=127,s[31]|=64;const a=new Uint8Array(64);a.set(s.subarray(32),32);const l=new r.SHA512;l.update(a.subarray(32)),l.update(e);const c=l.digest();l.clean(),O(c),R(i,c),T(a,i),l.reset(),l.update(a.subarray(0,32)),l.update(t.subarray(32)),l.update(e);const u=l.digest();O(u);for(let t=0;t<32;t++)n[t]=c[t];for(let t=0;t<32;t++)for(let e=0;e<32;e++)n[t+e]+=u[t]*s[e];return k(a.subarray(32),n),a},e.SH=function(t){let e=[o(),o(),o(),o()];if(function(t,e){const n=o(),r=o(),i=o(),c=o(),u=o(),h=o(),p=o();return d(t[2],a),function(t,e){for(let n=0;n<16;n++)t[n]=e[2*n]+(e[2*n+1]<<8);t[15]&=32767}(t[1],e),_(i,t[1]),E(c,i,l),b(i,i,t[2]),w(c,t[2],c),_(u,c),_(h,u),E(p,h,u),E(n,p,i),E(n,n,c),function(t,e){const n=o();let r;for(r=0;r<16;r++)n[r]=e[r];for(r=250;r>=0;r--)_(n,n),1!==r&&E(n,n,e);for(r=0;r<16;r++)t[r]=n[r]}(n,n),E(n,n,i),E(n,n,c),E(n,n,c),E(t[0],n,c),_(r,t[0]),E(r,r,c),v(r,i)&&E(t[0],t[0],f),_(r,t[0]),E(r,r,c),v(r,i)?-1:(m(t[0])===e[31]>>7&&b(t[0],s,t[0]),E(t[3],t[0],t[1]),0)}(e,t))throw new Error("Ed25519: invalid public key");let n=o(),r=o(),i=e[1];w(n,a,i),b(r,a,i),x(r,r),E(n,n,r);let c=new Uint8Array(32);return y(c,n),c},e.zh=function(t){const e=(0,r.hash)(t.subarray(0,32));e[0]&=248,e[31]&=127,e[31]|=64;const n=new Uint8Array(e.subarray(0,32));return(0,i.wipe)(e),n}},7117:(t,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.mul=Math.imul||function(t,e){var n=65535&t,r=65535&e;return n*r+((t>>>16&65535)*r+n*(e>>>16&65535)<<16>>>0)|0},e.add=function(t,e){return t+e|0},e.sub=function(t,e){return t-e|0},e.rotl=function(t,e){return t<<e|t>>>32-e},e.rotr=function(t,e){return t<<32-e|t>>>e},e.isInteger=Number.isInteger||function(t){return"number"==typeof t&&isFinite(t)&&Math.floor(t)===t},e.MAX_SAFE_INTEGER=9007199254740991,e.isSafeInteger=function(t){return e.isInteger(t)&&t>=-e.MAX_SAFE_INTEGER&&t<=e.MAX_SAFE_INTEGER}},19:(t,e,n)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.openBox=e.box=e.precomputeSharedKey=e.generateKeyPair=void 0;const r=n(7664),i=n(7025),o=n(7801),s=n(7309);var a=n(7664);Object.defineProperty(e,"generateKeyPair",{enumerable:!0,get:function(){return a.generateKeyPair}});const l=new Uint8Array(16);function c(t,e){const n=(0,r.scalarMult)(e,t);return(0,i.hsalsa)(n,l,n),n}e.precomputeSharedKey=c,e.box=function(t,e,n,r){const i=c(t,e),a=(0,o.secretBox)(i,n,r);return(0,s.wipe)(i),a},e.openBox=function(t,e,n,r){const i=c(t,e),a=(0,o.openSecretBox)(i,n,r);return(0,s.wipe)(i),a}},450:function(t,e,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(t,e,n,r){void 0===r&&(r=n);var i=Object.getOwnPropertyDescriptor(e,n);i&&!("get"in i?!e.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return e[n]}}),Object.defineProperty(t,r,i)}:function(t,e,n,r){void 0===r&&(r=n),t[r]=e[n]}),i=this&&this.__exportStar||function(t,e){for(var n in t)"default"===n||Object.prototype.hasOwnProperty.call(e,n)||r(e,t,n)};Object.defineProperty(e,"__esModule",{value:!0}),i(n(19),e),i(n(7801),e)},7801:(t,e,n)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.generateKey=e.openSecretBox=e.secretBox=void 0;const r=n(7025),i=n(3027),o=n(7309),s=n(1416);e.secretBox=function(t,e,n){if(24!==e.length)throw new Error("secretBox nonce must be 24 bytes");const s=new Uint8Array(64),a=new Uint8Array(32);a.set(e),(0,r.stream)(t,a,s,8);const l=new Uint8Array(16+n.length);for(let t=0;t<32&&t<n.length;t++)l[16+t]=n[t]^s[32+t];n.length>32&&(0,r.streamXOR)(t,a,n.subarray(32),l.subarray(48),8);const c=(0,i.oneTimeAuth)(s.subarray(0,32),l.subarray(16));for(let t=0;t<c.length;t++)l[t]=c[t];return(0,o.wipe)(c),(0,o.wipe)(s),(0,o.wipe)(a),l},e.openSecretBox=function(t,e,n){if(24!==e.length)throw new Error("secretBox nonce must be 24 bytes");if(n.length<16)throw new Error("secretBox data must be at least 16 bytes");const s=new Uint8Array(64),a=new Uint8Array(32);a.set(e),(0,r.stream)(t,a,s,8);const l=(0,i.oneTimeAuth)(s.subarray(0,32),n.subarray(16));if(!(0,i.equal)(l,n.subarray(0,16)))return null;const c=n.subarray(16),u=new Uint8Array(c.length);for(let t=0;t<32&&t<c.length;t++)u[t]=c[t]^s[32+t];return c.length>32&&(0,r.streamXOR)(t,a,c.subarray(32),u.subarray(32),8),(0,o.wipe)(l),(0,o.wipe)(s),(0,o.wipe)(a),u},e.generateKey=function(t){return(0,s.randomBytes)(32,t)}},3027:(t,e,n)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(4153),i=n(7309);e.DIGEST_LENGTH=16;var o=function(){function t(t){this.digestLength=e.DIGEST_LENGTH,this._buffer=new Uint8Array(16),this._r=new Uint16Array(10),this._h=new Uint16Array(10),this._pad=new Uint16Array(8),this._leftover=0,this._fin=0,this._finished=!1;var n=t[0]|t[1]<<8;this._r[0]=8191&n;var r=t[2]|t[3]<<8;this._r[1]=8191&(n>>>13|r<<3);var i=t[4]|t[5]<<8;this._r[2]=7939&(r>>>10|i<<6);var o=t[6]|t[7]<<8;this._r[3]=8191&(i>>>7|o<<9);var s=t[8]|t[9]<<8;this._r[4]=255&(o>>>4|s<<12),this._r[5]=s>>>1&8190;var a=t[10]|t[11]<<8;this._r[6]=8191&(s>>>14|a<<2);var l=t[12]|t[13]<<8;this._r[7]=8065&(a>>>11|l<<5);var c=t[14]|t[15]<<8;this._r[8]=8191&(l>>>8|c<<8),this._r[9]=c>>>5&127,this._pad[0]=t[16]|t[17]<<8,this._pad[1]=t[18]|t[19]<<8,this._pad[2]=t[20]|t[21]<<8,this._pad[3]=t[22]|t[23]<<8,this._pad[4]=t[24]|t[25]<<8,this._pad[5]=t[26]|t[27]<<8,this._pad[6]=t[28]|t[29]<<8,this._pad[7]=t[30]|t[31]<<8}return t.prototype._blocks=function(t,e,n){for(var r=this._fin?0:2048,i=this._h[0],o=this._h[1],s=this._h[2],a=this._h[3],l=this._h[4],c=this._h[5],u=this._h[6],h=this._h[7],f=this._h[8],d=this._h[9],p=this._r[0],g=this._r[1],y=this._r[2],v=this._r[3],m=this._r[4],w=this._r[5],b=this._r[6],E=this._r[7],_=this._r[8],x=this._r[9];n>=16;){var A=t[e+0]|t[e+1]<<8;i+=8191&A;var S=t[e+2]|t[e+3]<<8;o+=8191&(A>>>13|S<<3);var T=t[e+4]|t[e+5]<<8;s+=8191&(S>>>10|T<<6);var R=t[e+6]|t[e+7]<<8;a+=8191&(T>>>7|R<<9);var I=t[e+8]|t[e+9]<<8;l+=8191&(R>>>4|I<<12),c+=I>>>1&8191;var k=t[e+10]|t[e+11]<<8;u+=8191&(I>>>14|k<<2);var O=t[e+12]|t[e+13]<<8;h+=8191&(k>>>11|O<<5);var N=t[e+14]|t[e+15]<<8,C=0,P=C;P+=i*p,P+=o*(5*x),P+=s*(5*_),P+=a*(5*E),C=(P+=l*(5*b))>>>13,P&=8191,P+=c*(5*w),P+=u*(5*m),P+=h*(5*v),P+=(f+=8191&(O>>>8|N<<8))*(5*y);var L=C+=(P+=(d+=N>>>5|r)*(5*g))>>>13;L+=i*g,L+=o*p,L+=s*(5*x),L+=a*(5*_),C=(L+=l*(5*E))>>>13,L&=8191,L+=c*(5*b),L+=u*(5*w),L+=h*(5*m),L+=f*(5*v),C+=(L+=d*(5*y))>>>13,L&=8191;var B=C;B+=i*y,B+=o*g,B+=s*p,B+=a*(5*x),C=(B+=l*(5*_))>>>13,B&=8191,B+=c*(5*E),B+=u*(5*b),B+=h*(5*w),B+=f*(5*m);var M=C+=(B+=d*(5*v))>>>13;M+=i*v,M+=o*y,M+=s*g,M+=a*p,C=(M+=l*(5*x))>>>13,M&=8191,M+=c*(5*_),M+=u*(5*E),M+=h*(5*b),M+=f*(5*w);var U=C+=(M+=d*(5*m))>>>13;U+=i*m,U+=o*v,U+=s*y,U+=a*g,C=(U+=l*p)>>>13,U&=8191,U+=c*(5*x),U+=u*(5*_),U+=h*(5*E),U+=f*(5*b);var D=C+=(U+=d*(5*w))>>>13;D+=i*w,D+=o*m,D+=s*v,D+=a*y,C=(D+=l*g)>>>13,D&=8191,D+=c*p,D+=u*(5*x),D+=h*(5*_),D+=f*(5*E);var j=C+=(D+=d*(5*b))>>>13;j+=i*b,j+=o*w,j+=s*m,j+=a*v,C=(j+=l*y)>>>13,j&=8191,j+=c*g,j+=u*p,j+=h*(5*x),j+=f*(5*_);var K=C+=(j+=d*(5*E))>>>13;K+=i*E,K+=o*b,K+=s*w,K+=a*m,C=(K+=l*v)>>>13,K&=8191,K+=c*y,K+=u*g,K+=h*p,K+=f*(5*x);var H=C+=(K+=d*(5*_))>>>13;H+=i*_,H+=o*E,H+=s*b,H+=a*w,C=(H+=l*m)>>>13,H&=8191,H+=c*v,H+=u*y,H+=h*g,H+=f*p;var W=C+=(H+=d*(5*x))>>>13;W+=i*x,W+=o*_,W+=s*E,W+=a*b,C=(W+=l*w)>>>13,W&=8191,W+=c*m,W+=u*v,W+=h*y,W+=f*g,i=P=8191&(C=(C=((C+=(W+=d*p)>>>13)<<2)+C|0)+(P&=8191)|0),o=L+=C>>>=13,s=B&=8191,a=M&=8191,l=U&=8191,c=D&=8191,u=j&=8191,h=K&=8191,f=H&=8191,d=W&=8191,e+=16,n-=16}this._h[0]=i,this._h[1]=o,this._h[2]=s,this._h[3]=a,this._h[4]=l,this._h[5]=c,this._h[6]=u,this._h[7]=h,this._h[8]=f,this._h[9]=d},t.prototype.finish=function(t,e){void 0===e&&(e=0);var n,r,i,o,s=new Uint16Array(10);if(this._leftover){for(o=this._leftover,this._buffer[o++]=1;o<16;o++)this._buffer[o]=0;this._fin=1,this._blocks(this._buffer,0,16)}for(n=this._h[1]>>>13,this._h[1]&=8191,o=2;o<10;o++)this._h[o]+=n,n=this._h[o]>>>13,this._h[o]&=8191;for(this._h[0]+=5*n,n=this._h[0]>>>13,this._h[0]&=8191,this._h[1]+=n,n=this._h[1]>>>13,this._h[1]&=8191,this._h[2]+=n,s[0]=this._h[0]+5,n=s[0]>>>13,s[0]&=8191,o=1;o<10;o++)s[o]=this._h[o]+n,n=s[o]>>>13,s[o]&=8191;for(s[9]-=8192,r=(1^n)-1,o=0;o<10;o++)s[o]&=r;for(r=~r,o=0;o<10;o++)this._h[o]=this._h[o]&r|s[o];for(this._h[0]=65535&(this._h[0]|this._h[1]<<13),this._h[1]=65535&(this._h[1]>>>3|this._h[2]<<10),this._h[2]=65535&(this._h[2]>>>6|this._h[3]<<7),this._h[3]=65535&(this._h[3]>>>9|this._h[4]<<4),this._h[4]=65535&(this._h[4]>>>12|this._h[5]<<1|this._h[6]<<14),this._h[5]=65535&(this._h[6]>>>2|this._h[7]<<11),this._h[6]=65535&(this._h[7]>>>5|this._h[8]<<8),this._h[7]=65535&(this._h[8]>>>8|this._h[9]<<5),i=this._h[0]+this._pad[0],this._h[0]=65535&i,o=1;o<8;o++)i=(this._h[o]+this._pad[o]|0)+(i>>>16)|0,this._h[o]=65535&i;return t[e+0]=this._h[0]>>>0,t[e+1]=this._h[0]>>>8,t[e+2]=this._h[1]>>>0,t[e+3]=this._h[1]>>>8,t[e+4]=this._h[2]>>>0,t[e+5]=this._h[2]>>>8,t[e+6]=this._h[3]>>>0,t[e+7]=this._h[3]>>>8,t[e+8]=this._h[4]>>>0,t[e+9]=this._h[4]>>>8,t[e+10]=this._h[5]>>>0,t[e+11]=this._h[5]>>>8,t[e+12]=this._h[6]>>>0,t[e+13]=this._h[6]>>>8,t[e+14]=this._h[7]>>>0,t[e+15]=this._h[7]>>>8,this._finished=!0,this},t.prototype.update=function(t){var e,n=0,r=t.length;if(this._leftover){(e=16-this._leftover)>r&&(e=r);for(var i=0;i<e;i++)this._buffer[this._leftover+i]=t[n+i];if(r-=e,n+=e,this._leftover+=e,this._leftover<16)return this;this._blocks(this._buffer,0,16),this._leftover=0}if(r>=16&&(e=r-r%16,this._blocks(t,n,e),n+=e,r-=e),r){for(i=0;i<r;i++)this._buffer[this._leftover+i]=t[n+i];this._leftover+=r}return this},t.prototype.digest=function(){if(this._finished)throw new Error("Poly1305 was finished");var t=new Uint8Array(16);return this.finish(t),t},t.prototype.clean=function(){return i.wipe(this._buffer),i.wipe(this._r),i.wipe(this._h),i.wipe(this._pad),this._leftover=0,this._fin=0,this._finished=!0,this},t}();e.Poly1305=o,e.oneTimeAuth=function(t,e){var n=new o(t);n.update(e);var r=n.digest();return n.clean(),r},e.equal=function(t,n){return t.length===e.DIGEST_LENGTH&&n.length===e.DIGEST_LENGTH&&r.equal(t,n)}},1416:(t,e,n)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.randomStringForEntropy=e.randomString=e.randomUint32=e.randomBytes=e.defaultRandomSource=void 0;const r=n(6008),i=n(8099),o=n(7309);function s(t,n=e.defaultRandomSource){return n.randomBytes(t)}e.defaultRandomSource=new r.SystemRandomSource,e.randomBytes=s,e.randomUint32=function(t=e.defaultRandomSource){const n=s(4,t),r=(0,i.readUint32LE)(n);return(0,o.wipe)(n),r};const a="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz";function l(t,n=a,r=e.defaultRandomSource){if(n.length<2)throw new Error("randomString charset is too short");if(n.length>256)throw new Error("randomString charset is too long");let i="";const l=n.length,c=256-256%l;for(;t>0;){const e=s(Math.ceil(256*t/c),r);for(let r=0;r<e.length&&t>0;r++){const o=e[r];o<c&&(i+=n.charAt(o%l),t--)}(0,o.wipe)(e)}return i}e.randomString=l,e.randomStringForEntropy=function(t,n=a,r=e.defaultRandomSource){return l(Math.ceil(t/(Math.log(n.length)/Math.LN2)),n,r)}},5455:(t,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.BrowserRandomSource=void 0,e.BrowserRandomSource=class{constructor(){this.isAvailable=!1,this.isInstantiated=!1;const t="undefined"!=typeof self?self.crypto||self.msCrypto:null;t&&void 0!==t.getRandomValues&&(this._crypto=t,this.isAvailable=!0,this.isInstantiated=!0)}randomBytes(t){if(!this.isAvailable||!this._crypto)throw new Error("Browser random byte generator is not available.");const e=new Uint8Array(t);for(let t=0;t<e.length;t+=65536)this._crypto.getRandomValues(e.subarray(t,t+Math.min(e.length-t,65536)));return e}}},8871:(t,e,n)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.NodeRandomSource=void 0;const r=n(7309);e.NodeRandomSource=class{constructor(){this.isAvailable=!1,this.isInstantiated=!1;{const t=n(5883);t&&t.randomBytes&&(this._crypto=t,this.isAvailable=!0,this.isInstantiated=!0)}}randomBytes(t){if(!this.isAvailable||!this._crypto)throw new Error("Node.js random byte generator is not available.");let e=this._crypto.randomBytes(t);if(e.length!==t)throw new Error("NodeRandomSource: got fewer bytes than requested");const n=new Uint8Array(t);for(let t=0;t<n.length;t++)n[t]=e[t];return(0,r.wipe)(e),n}}},6008:(t,e,n)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.SystemRandomSource=void 0;const r=n(5455),i=n(8871);e.SystemRandomSource=class{constructor(){return this.isAvailable=!1,this.name="",this._source=new r.BrowserRandomSource,this._source.isAvailable?(this.isAvailable=!0,void(this.name="Browser")):(this._source=new i.NodeRandomSource,this._source.isAvailable?(this.isAvailable=!0,void(this.name="Node")):void 0)}randomBytes(t){if(!this.isAvailable)throw new Error("System random byte generator is not available.");return this._source.randomBytes(t)}}},7318:(t,e,n)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(8099),i=n(7309),o=20;function s(t,e,n){for(var i,s=1634760805,a=n[3]<<24|n[2]<<16|n[1]<<8|n[0],l=n[7]<<24|n[6]<<16|n[5]<<8|n[4],c=n[11]<<24|n[10]<<16|n[9]<<8|n[8],u=n[15]<<24|n[14]<<16|n[13]<<8|n[12],h=857760878,f=e[3]<<24|e[2]<<16|e[1]<<8|e[0],d=e[7]<<24|e[6]<<16|e[5]<<8|e[4],p=e[11]<<24|e[10]<<16|e[9]<<8|e[8],g=e[15]<<24|e[14]<<16|e[13]<<8|e[12],y=2036477234,v=n[19]<<24|n[18]<<16|n[17]<<8|n[16],m=n[23]<<24|n[22]<<16|n[21]<<8|n[20],w=n[27]<<24|n[26]<<16|n[25]<<8|n[24],b=n[31]<<24|n[30]<<16|n[29]<<8|n[28],E=1797285236,_=s,x=a,A=l,S=c,T=u,R=h,I=f,k=d,O=p,N=g,C=y,P=v,L=m,B=w,M=b,U=E,D=0;D<o;D+=2)_^=(i=(L^=(i=(O^=(i=(T^=(i=_+L|0)<<7|i>>>25)+_|0)<<9|i>>>23)+T|0)<<13|i>>>19)+O|0)<<18|i>>>14,R^=(i=(x^=(i=(B^=(i=(N^=(i=R+x|0)<<7|i>>>25)+R|0)<<9|i>>>23)+N|0)<<13|i>>>19)+B|0)<<18|i>>>14,C^=(i=(I^=(i=(A^=(i=(M^=(i=C+I|0)<<7|i>>>25)+C|0)<<9|i>>>23)+M|0)<<13|i>>>19)+A|0)<<18|i>>>14,U^=(i=(P^=(i=(k^=(i=(S^=(i=U+P|0)<<7|i>>>25)+U|0)<<9|i>>>23)+S|0)<<13|i>>>19)+k|0)<<18|i>>>14,_^=(i=(S^=(i=(A^=(i=(x^=(i=_+S|0)<<7|i>>>25)+_|0)<<9|i>>>23)+x|0)<<13|i>>>19)+A|0)<<18|i>>>14,R^=(i=(T^=(i=(k^=(i=(I^=(i=R+T|0)<<7|i>>>25)+R|0)<<9|i>>>23)+I|0)<<13|i>>>19)+k|0)<<18|i>>>14,C^=(i=(N^=(i=(O^=(i=(P^=(i=C+N|0)<<7|i>>>25)+C|0)<<9|i>>>23)+P|0)<<13|i>>>19)+O|0)<<18|i>>>14,U^=(i=(M^=(i=(B^=(i=(L^=(i=U+M|0)<<7|i>>>25)+U|0)<<9|i>>>23)+L|0)<<13|i>>>19)+B|0)<<18|i>>>14;r.writeUint32LE(_+s|0,t,0),r.writeUint32LE(x+a|0,t,4),r.writeUint32LE(A+l|0,t,8),r.writeUint32LE(S+c|0,t,12),r.writeUint32LE(T+u|0,t,16),r.writeUint32LE(R+h|0,t,20),r.writeUint32LE(I+f|0,t,24),r.writeUint32LE(k+d|0,t,28),r.writeUint32LE(O+p|0,t,32),r.writeUint32LE(N+g|0,t,36),r.writeUint32LE(C+y|0,t,40),r.writeUint32LE(P+v|0,t,44),r.writeUint32LE(L+m|0,t,48),r.writeUint32LE(B+w|0,t,52),r.writeUint32LE(M+b|0,t,56),r.writeUint32LE(U+E|0,t,60)}function a(t,e,n,r,o){if(void 0===o&&(o=0),32!==t.length)throw new Error("Salsa20: key size must be 32 bytes");if(r.length<n.length)throw new Error("Salsa20: destination is shorter than source");var a,c;if(0===o){if(8!==e.length)throw new Error("Salsa20 nonce must be 8 bytes");(a=new Uint8Array(16)).set(e),c=e.length}else{if(16!==e.length)throw new Error("Salsa20 nonce with counter must be 16 bytes");a=e,c=16-o}for(var u=new Uint8Array(64),h=0;h<n.length;h+=64){s(u,a,t);for(var f=h;f<h+64&&f<n.length;f++)r[f]=n[f]^u[f-h];l(a,c,a.length-c)}return i.wipe(u),0===o&&i.wipe(a),r}function l(t,e,n){for(var r=1;n--;)r=r+(255&t[e])|0,t[e]=255&r,r>>>=8,e++;if(r>0)throw new Error("Salsa20: counter overflow")}e.streamXOR=a,e.stream=function(t,e,n,r){return void 0===r&&(r=0),i.wipe(n),a(t,e,n,n,r)}},3350:(t,e,n)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(8099),i=n(7309);e.DIGEST_LENGTH=64,e.BLOCK_SIZE=128;var o=function(){function t(){this.digestLength=e.DIGEST_LENGTH,this.blockSize=e.BLOCK_SIZE,this._stateHi=new Int32Array(8),this._stateLo=new Int32Array(8),this._tempHi=new Int32Array(16),this._tempLo=new Int32Array(16),this._buffer=new Uint8Array(256),this._bufferLength=0,this._bytesHashed=0,this._finished=!1,this.reset()}return t.prototype._initState=function(){this._stateHi[0]=1779033703,this._stateHi[1]=3144134277,this._stateHi[2]=1013904242,this._stateHi[3]=2773480762,this._stateHi[4]=1359893119,this._stateHi[5]=2600822924,this._stateHi[6]=528734635,this._stateHi[7]=1541459225,this._stateLo[0]=4089235720,this._stateLo[1]=2227873595,this._stateLo[2]=4271175723,this._stateLo[3]=1595750129,this._stateLo[4]=2917565137,this._stateLo[5]=725511199,this._stateLo[6]=4215389547,this._stateLo[7]=327033209},t.prototype.reset=function(){return this._initState(),this._bufferLength=0,this._bytesHashed=0,this._finished=!1,this},t.prototype.clean=function(){i.wipe(this._buffer),i.wipe(this._tempHi),i.wipe(this._tempLo),this.reset()},t.prototype.update=function(t,n){if(void 0===n&&(n=t.length),this._finished)throw new Error("SHA512: can't update because hash was finished.");var r=0;if(this._bytesHashed+=n,this._bufferLength>0){for(;this._bufferLength<e.BLOCK_SIZE&&n>0;)this._buffer[this._bufferLength++]=t[r++],n--;this._bufferLength===this.blockSize&&(a(this._tempHi,this._tempLo,this._stateHi,this._stateLo,this._buffer,0,this.blockSize),this._bufferLength=0)}for(n>=this.blockSize&&(r=a(this._tempHi,this._tempLo,this._stateHi,this._stateLo,t,r,n),n%=this.blockSize);n>0;)this._buffer[this._bufferLength++]=t[r++],n--;return this},t.prototype.finish=function(t){if(!this._finished){var e=this._bytesHashed,n=this._bufferLength,i=e/536870912|0,o=e<<3,s=e%128<112?128:256;this._buffer[n]=128;for(var l=n+1;l<s-8;l++)this._buffer[l]=0;r.writeUint32BE(i,this._buffer,s-8),r.writeUint32BE(o,this._buffer,s-4),a(this._tempHi,this._tempLo,this._stateHi,this._stateLo,this._buffer,0,s),this._finished=!0}for(l=0;l<this.digestLength/8;l++)r.writeUint32BE(this._stateHi[l],t,8*l),r.writeUint32BE(this._stateLo[l],t,8*l+4);return this},t.prototype.digest=function(){var t=new Uint8Array(this.digestLength);return this.finish(t),t},t.prototype.saveState=function(){if(this._finished)throw new Error("SHA256: cannot save finished state");return{stateHi:new Int32Array(this._stateHi),stateLo:new Int32Array(this._stateLo),buffer:this._bufferLength>0?new Uint8Array(this._buffer):void 0,bufferLength:this._bufferLength,bytesHashed:this._bytesHashed}},t.prototype.restoreState=function(t){return this._stateHi.set(t.stateHi),this._stateLo.set(t.stateLo),this._bufferLength=t.bufferLength,t.buffer&&this._buffer.set(t.buffer),this._bytesHashed=t.bytesHashed,this._finished=!1,this},t.prototype.cleanSavedState=function(t){i.wipe(t.stateHi),i.wipe(t.stateLo),t.buffer&&i.wipe(t.buffer),t.bufferLength=0,t.bytesHashed=0},t}();e.SHA512=o;var s=new Int32Array([1116352408,3609767458,1899447441,602891725,3049323471,3964484399,3921009573,2173295548,961987163,4081628472,1508970993,3053834265,2453635748,2937671579,2870763221,3664609560,3624381080,2734883394,310598401,1164996542,607225278,1323610764,1426881987,3590304994,1925078388,4068182383,2162078206,991336113,2614888103,633803317,3248222580,3479774868,3835390401,2666613458,4022224774,944711139,264347078,2341262773,604807628,2007800933,770255983,1495990901,1249150122,1856431235,1555081692,3175218132,1996064986,2198950837,2554220882,3999719339,2821834349,766784016,2952996808,2566594879,3210313671,3203337956,3336571891,1034457026,3584528711,2466948901,113926993,3758326383,338241895,168717936,666307205,1188179964,773529912,1546045734,1294757372,1522805485,1396182291,2643833823,1695183700,2343527390,1986661051,1014477480,2177026350,1206759142,2456956037,344077627,2730485921,1290863460,2820302411,3158454273,3259730800,3505952657,3345764771,106217008,3516065817,3606008344,3600352804,1432725776,4094571909,1467031594,275423344,851169720,430227734,3100823752,506948616,1363258195,659060556,3750685593,883997877,3785050280,958139571,3318307427,1322822218,3812723403,1537002063,2003034995,1747873779,3602036899,1955562222,1575990012,2024104815,1125592928,2227730452,2716904306,2361852424,442776044,2428436474,593698344,2756734187,3733110249,3204031479,2999351573,3329325298,3815920427,3391569614,3928383900,3515267271,566280711,3940187606,3454069534,4118630271,4000239992,116418474,1914138554,174292421,2731055270,289380356,3203993006,460393269,320620315,685471733,587496836,852142971,1086792851,1017036298,365543100,1126000580,2618297676,1288033470,3409855158,1501505948,4234509866,1607167915,987167468,1816402316,1246189591]);function a(t,e,n,i,o,a,l){for(var c,u,h,f,d,p,g,y,v=n[0],m=n[1],w=n[2],b=n[3],E=n[4],_=n[5],x=n[6],A=n[7],S=i[0],T=i[1],R=i[2],I=i[3],k=i[4],O=i[5],N=i[6],C=i[7];l>=128;){for(var P=0;P<16;P++){var L=8*P+a;t[P]=r.readUint32BE(o,L),e[P]=r.readUint32BE(o,L+4)}for(P=0;P<80;P++){var B,M,U=v,D=m,j=w,K=b,H=E,W=_,q=x,F=S,G=T,z=R,V=I,Q=k,X=O,Y=N;if(d=65535&(u=C),p=u>>>16,g=65535&(c=A),y=c>>>16,d+=65535&(u=(k>>>14|E<<18)^(k>>>18|E<<14)^(E>>>9|k<<23)),p+=u>>>16,g+=65535&(c=(E>>>14|k<<18)^(E>>>18|k<<14)^(k>>>9|E<<23)),y+=c>>>16,d+=65535&(u=k&O^~k&N),p+=u>>>16,g+=65535&(c=E&_^~E&x),y+=c>>>16,c=s[2*P],d+=65535&(u=s[2*P+1]),p+=u>>>16,g+=65535&c,y+=c>>>16,c=t[P%16],p+=(u=e[P%16])>>>16,g+=65535&c,y+=c>>>16,g+=(p+=(d+=65535&u)>>>16)>>>16,d=65535&(u=f=65535&d|p<<16),p=u>>>16,g=65535&(c=h=65535&g|(y+=g>>>16)<<16),y=c>>>16,d+=65535&(u=(S>>>28|v<<4)^(v>>>2|S<<30)^(v>>>7|S<<25)),p+=u>>>16,g+=65535&(c=(v>>>28|S<<4)^(S>>>2|v<<30)^(S>>>7|v<<25)),y+=c>>>16,p+=(u=S&T^S&R^T&R)>>>16,g+=65535&(c=v&m^v&w^m&w),y+=c>>>16,B=65535&(g+=(p+=(d+=65535&u)>>>16)>>>16)|(y+=g>>>16)<<16,M=65535&d|p<<16,d=65535&(u=V),p=u>>>16,g=65535&(c=K),y=c>>>16,p+=(u=f)>>>16,g+=65535&(c=h),y+=c>>>16,m=U,w=D,b=j,E=K=65535&(g+=(p+=(d+=65535&u)>>>16)>>>16)|(y+=g>>>16)<<16,_=H,x=W,A=q,v=B,T=F,R=G,I=z,k=V=65535&d|p<<16,O=Q,N=X,C=Y,S=M,P%16==15)for(L=0;L<16;L++)c=t[L],d=65535&(u=e[L]),p=u>>>16,g=65535&c,y=c>>>16,c=t[(L+9)%16],d+=65535&(u=e[(L+9)%16]),p+=u>>>16,g+=65535&c,y+=c>>>16,h=t[(L+1)%16],d+=65535&(u=((f=e[(L+1)%16])>>>1|h<<31)^(f>>>8|h<<24)^(f>>>7|h<<25)),p+=u>>>16,g+=65535&(c=(h>>>1|f<<31)^(h>>>8|f<<24)^h>>>7),y+=c>>>16,h=t[(L+14)%16],p+=(u=((f=e[(L+14)%16])>>>19|h<<13)^(h>>>29|f<<3)^(f>>>6|h<<26))>>>16,g+=65535&(c=(h>>>19|f<<13)^(f>>>29|h<<3)^h>>>6),y+=c>>>16,y+=(g+=(p+=(d+=65535&u)>>>16)>>>16)>>>16,t[L]=65535&g|y<<16,e[L]=65535&d|p<<16}d=65535&(u=S),p=u>>>16,g=65535&(c=v),y=c>>>16,c=n[0],p+=(u=i[0])>>>16,g+=65535&c,y+=c>>>16,y+=(g+=(p+=(d+=65535&u)>>>16)>>>16)>>>16,n[0]=v=65535&g|y<<16,i[0]=S=65535&d|p<<16,d=65535&(u=T),p=u>>>16,g=65535&(c=m),y=c>>>16,c=n[1],p+=(u=i[1])>>>16,g+=65535&c,y+=c>>>16,y+=(g+=(p+=(d+=65535&u)>>>16)>>>16)>>>16,n[1]=m=65535&g|y<<16,i[1]=T=65535&d|p<<16,d=65535&(u=R),p=u>>>16,g=65535&(c=w),y=c>>>16,c=n[2],p+=(u=i[2])>>>16,g+=65535&c,y+=c>>>16,y+=(g+=(p+=(d+=65535&u)>>>16)>>>16)>>>16,n[2]=w=65535&g|y<<16,i[2]=R=65535&d|p<<16,d=65535&(u=I),p=u>>>16,g=65535&(c=b),y=c>>>16,c=n[3],p+=(u=i[3])>>>16,g+=65535&c,y+=c>>>16,y+=(g+=(p+=(d+=65535&u)>>>16)>>>16)>>>16,n[3]=b=65535&g|y<<16,i[3]=I=65535&d|p<<16,d=65535&(u=k),p=u>>>16,g=65535&(c=E),y=c>>>16,c=n[4],p+=(u=i[4])>>>16,g+=65535&c,y+=c>>>16,y+=(g+=(p+=(d+=65535&u)>>>16)>>>16)>>>16,n[4]=E=65535&g|y<<16,i[4]=k=65535&d|p<<16,d=65535&(u=O),p=u>>>16,g=65535&(c=_),y=c>>>16,c=n[5],p+=(u=i[5])>>>16,g+=65535&c,y+=c>>>16,y+=(g+=(p+=(d+=65535&u)>>>16)>>>16)>>>16,n[5]=_=65535&g|y<<16,i[5]=O=65535&d|p<<16,d=65535&(u=N),p=u>>>16,g=65535&(c=x),y=c>>>16,c=n[6],p+=(u=i[6])>>>16,g+=65535&c,y+=c>>>16,y+=(g+=(p+=(d+=65535&u)>>>16)>>>16)>>>16,n[6]=x=65535&g|y<<16,i[6]=N=65535&d|p<<16,d=65535&(u=C),p=u>>>16,g=65535&(c=A),y=c>>>16,c=n[7],p+=(u=i[7])>>>16,g+=65535&c,y+=c>>>16,y+=(g+=(p+=(d+=65535&u)>>>16)>>>16)>>>16,n[7]=A=65535&g|y<<16,i[7]=C=65535&d|p<<16,a+=128,l-=128}return a}e.hash=function(t){var e=new o;e.update(t);var n=e.digest();return e.clean(),n}},6249:(t,e)=>{"use strict";var n="utf8: invalid string";e.cv=function(t){for(var e=new Uint8Array(function(t){for(var e=0,r=0;r<t.length;r++){var i=t.charCodeAt(r);if(i<128)e+=1;else if(i<2048)e+=2;else if(i<55296)e+=3;else{if(!(i<=57343))throw new Error(n);if(r>=t.length-1)throw new Error(n);r++,e+=4}}return e}(t)),r=0,i=0;i<t.length;i++){var o=t.charCodeAt(i);o<128?e[r++]=o:o<2048?(e[r++]=192|o>>6,e[r++]=128|63&o):o<55296?(e[r++]=224|o>>12,e[r++]=128|o>>6&63,e[r++]=128|63&o):(i++,o=(1023&o)<<10,o|=1023&t.charCodeAt(i),o+=65536,e[r++]=240|o>>18,e[r++]=128|o>>12&63,e[r++]=128|o>>6&63,e[r++]=128|63&o)}return e}},7309:(t,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.wipe=function(t){for(var e=0;e<t.length;e++)t[e]=0;return t}},6273:(t,e,n)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.X25519Session=e.SECRET_SEED_LENGTH=e.SAVED_STATE_LENGTH=e.ACCEPT_MESSAGE_LENGTH=e.OFFER_MESSAGE_LENGTH=void 0;const r=n(1416),i=n(7309),o=n(7664),s=n(4826);e.OFFER_MESSAGE_LENGTH=o.PUBLIC_KEY_LENGTH,e.ACCEPT_MESSAGE_LENGTH=o.PUBLIC_KEY_LENGTH,e.SAVED_STATE_LENGTH=o.SECRET_KEY_LENGTH,e.SECRET_SEED_LENGTH=o.SECRET_KEY_LENGTH,e.X25519Session=class{constructor(t,n){this.offerMessageLength=e.OFFER_MESSAGE_LENGTH,this.acceptMessageLength=e.ACCEPT_MESSAGE_LENGTH,this.sharedKeyLength=o.SHARED_KEY_LENGTH,this.savedStateLength=e.SAVED_STATE_LENGTH,this._seed=t||(0,r.randomBytes)(o.SECRET_KEY_LENGTH,n)}saveState(){return new Uint8Array(this._seed)}restoreState(t){return this._seed=new Uint8Array(t),this}clean(){this._seed&&(0,i.wipe)(this._seed),this._keyPair&&((0,i.wipe)(this._keyPair.secretKey),(0,i.wipe)(this._keyPair.publicKey)),this._sharedKey&&(0,i.wipe)(this._sharedKey),this._sessionKeys&&((0,i.wipe)(this._sessionKeys.receive),(0,i.wipe)(this._sessionKeys.send))}offer(){return this._keyPair=(0,o.generateKeyPairFromSeed)(this._seed),new Uint8Array(this._keyPair.publicKey)}accept(t){if(this._keyPair)throw new Error("X25519Session: accept shouldn't be called by offering party");if(t.length!==this.offerMessageLength)throw new Error("X25519Session: incorrect offer message length");if(this._sharedKey)throw new Error("X25519Session: accept was already called");const e=(0,o.generateKeyPairFromSeed)(this._seed);return this._sharedKey=(0,o.sharedKey)(e.secretKey,t),this._sessionKeys=(0,s.clientSessionKeysFromSharedKey)(this._sharedKey,e.publicKey,t),(0,i.wipe)(e.secretKey),e.publicKey}finish(t){if(t.length!==this.acceptMessageLength)throw new Error("X25519Session: incorrect accept message length");if(!this._keyPair)throw new Error("X25519Session: no offer state");if(this._sharedKey)throw new Error("X25519Session: finish was already called");return this._sharedKey=(0,o.sharedKey)(this._keyPair.secretKey,t),this._sessionKeys=(0,s.serverSessionKeysFromSharedKey)(this._sharedKey,this._keyPair.publicKey,t),this}getSharedKey(){if(!this._sharedKey)throw new Error("X25519Session: no shared key established");return new Uint8Array(this._sharedKey)}getSessionKeys(){if(!this._sessionKeys)throw new Error("X25519Session: no shared key established");return{receive:new Uint8Array(this._sessionKeys.receive),send:new Uint8Array(this._sessionKeys.send)}}}},4826:(t,e,n)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.clientSessionKeys=e.serverSessionKeys=e.clientSessionKeysFromSharedKey=e.serverSessionKeysFromSharedKey=e.X25519Session=void 0;const r=n(1322),i=n(7664);var o=n(6273);Object.defineProperty(e,"X25519Session",{enumerable:!0,get:function(){return o.X25519Session}});const s=32;function a(t,e,n,i=r.BLAKE2b){const o=new i;if(o.digestLength!==2*s)throw new Error("X25519: incorrect digest length");const a=o.update(t).update(n).update(e).digest();return{send:a.subarray(0,s),receive:a.subarray(s)}}function l(t,e,n,i=r.BLAKE2b){const o=new i;if(o.digestLength!==2*s)throw new Error("X25519: incorrect digest length");const a=o.update(t).update(e).update(n).digest();return{receive:a.subarray(0,s),send:a.subarray(s)}}e.serverSessionKeysFromSharedKey=a,e.clientSessionKeysFromSharedKey=l,e.serverSessionKeys=function(t,e,n=r.BLAKE2b){return a((0,i.sharedKey)(t.secretKey,e),t.publicKey,e,n)},e.clientSessionKeys=function(t,e,n=r.BLAKE2b){return l((0,i.sharedKey)(t.secretKey,e),t.publicKey,e,n)}},7664:(t,e,n)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.sharedKey=e.generateKeyPair=e.generateKeyPairFromSeed=e.scalarMultBase=e.scalarMult=e.SHARED_KEY_LENGTH=e.SECRET_KEY_LENGTH=e.PUBLIC_KEY_LENGTH=void 0;const r=n(1416),i=n(7309);function o(t){const e=new Float64Array(16);if(t)for(let n=0;n<t.length;n++)e[n]=t[n];return e}e.PUBLIC_KEY_LENGTH=32,e.SECRET_KEY_LENGTH=32,e.SHARED_KEY_LENGTH=32;const s=new Uint8Array(32);s[0]=9;const a=o([56129,1]);function l(t){let e=1;for(let n=0;n<16;n++){let r=t[n]+e+65535;e=Math.floor(r/65536),t[n]=r-65536*e}t[0]+=e-1+37*(e-1)}function c(t,e,n){const r=~(n-1);for(let n=0;n<16;n++){const i=r&(t[n]^e[n]);t[n]^=i,e[n]^=i}}function u(t,e,n){for(let r=0;r<16;r++)t[r]=e[r]+n[r]}function h(t,e,n){for(let r=0;r<16;r++)t[r]=e[r]-n[r]}function f(t,e,n){let r,i,o=0,s=0,a=0,l=0,c=0,u=0,h=0,f=0,d=0,p=0,g=0,y=0,v=0,m=0,w=0,b=0,E=0,_=0,x=0,A=0,S=0,T=0,R=0,I=0,k=0,O=0,N=0,C=0,P=0,L=0,B=0,M=n[0],U=n[1],D=n[2],j=n[3],K=n[4],H=n[5],W=n[6],q=n[7],F=n[8],G=n[9],z=n[10],V=n[11],Q=n[12],X=n[13],Y=n[14],J=n[15];r=e[0],o+=r*M,s+=r*U,a+=r*D,l+=r*j,c+=r*K,u+=r*H,h+=r*W,f+=r*q,d+=r*F,p+=r*G,g+=r*z,y+=r*V,v+=r*Q,m+=r*X,w+=r*Y,b+=r*J,r=e[1],s+=r*M,a+=r*U,l+=r*D,c+=r*j,u+=r*K,h+=r*H,f+=r*W,d+=r*q,p+=r*F,g+=r*G,y+=r*z,v+=r*V,m+=r*Q,w+=r*X,b+=r*Y,E+=r*J,r=e[2],a+=r*M,l+=r*U,c+=r*D,u+=r*j,h+=r*K,f+=r*H,d+=r*W,p+=r*q,g+=r*F,y+=r*G,v+=r*z,m+=r*V,w+=r*Q,b+=r*X,E+=r*Y,_+=r*J,r=e[3],l+=r*M,c+=r*U,u+=r*D,h+=r*j,f+=r*K,d+=r*H,p+=r*W,g+=r*q,y+=r*F,v+=r*G,m+=r*z,w+=r*V,b+=r*Q,E+=r*X,_+=r*Y,x+=r*J,r=e[4],c+=r*M,u+=r*U,h+=r*D,f+=r*j,d+=r*K,p+=r*H,g+=r*W,y+=r*q,v+=r*F,m+=r*G,w+=r*z,b+=r*V,E+=r*Q,_+=r*X,x+=r*Y,A+=r*J,r=e[5],u+=r*M,h+=r*U,f+=r*D,d+=r*j,p+=r*K,g+=r*H,y+=r*W,v+=r*q,m+=r*F,w+=r*G,b+=r*z,E+=r*V,_+=r*Q,x+=r*X,A+=r*Y,S+=r*J,r=e[6],h+=r*M,f+=r*U,d+=r*D,p+=r*j,g+=r*K,y+=r*H,v+=r*W,m+=r*q,w+=r*F,b+=r*G,E+=r*z,_+=r*V,x+=r*Q,A+=r*X,S+=r*Y,T+=r*J,r=e[7],f+=r*M,d+=r*U,p+=r*D,g+=r*j,y+=r*K,v+=r*H,m+=r*W,w+=r*q,b+=r*F,E+=r*G,_+=r*z,x+=r*V,A+=r*Q,S+=r*X,T+=r*Y,R+=r*J,r=e[8],d+=r*M,p+=r*U,g+=r*D,y+=r*j,v+=r*K,m+=r*H,w+=r*W,b+=r*q,E+=r*F,_+=r*G,x+=r*z,A+=r*V,S+=r*Q,T+=r*X,R+=r*Y,I+=r*J,r=e[9],p+=r*M,g+=r*U,y+=r*D,v+=r*j,m+=r*K,w+=r*H,b+=r*W,E+=r*q,_+=r*F,x+=r*G,A+=r*z,S+=r*V,T+=r*Q,R+=r*X,I+=r*Y,k+=r*J,r=e[10],g+=r*M,y+=r*U,v+=r*D,m+=r*j,w+=r*K,b+=r*H,E+=r*W,_+=r*q,x+=r*F,A+=r*G,S+=r*z,T+=r*V,R+=r*Q,I+=r*X,k+=r*Y,O+=r*J,r=e[11],y+=r*M,v+=r*U,m+=r*D,w+=r*j,b+=r*K,E+=r*H,_+=r*W,x+=r*q,A+=r*F,S+=r*G,T+=r*z,R+=r*V,I+=r*Q,k+=r*X,O+=r*Y,N+=r*J,r=e[12],v+=r*M,m+=r*U,w+=r*D,b+=r*j,E+=r*K,_+=r*H,x+=r*W,A+=r*q,S+=r*F,T+=r*G,R+=r*z,I+=r*V,k+=r*Q,O+=r*X,N+=r*Y,C+=r*J,r=e[13],m+=r*M,w+=r*U,b+=r*D,E+=r*j,_+=r*K,x+=r*H,A+=r*W,S+=r*q,T+=r*F,R+=r*G,I+=r*z,k+=r*V,O+=r*Q,N+=r*X,C+=r*Y,P+=r*J,r=e[14],w+=r*M,b+=r*U,E+=r*D,_+=r*j,x+=r*K,A+=r*H,S+=r*W,T+=r*q,R+=r*F,I+=r*G,k+=r*z,O+=r*V,N+=r*Q,C+=r*X,P+=r*Y,L+=r*J,r=e[15],b+=r*M,E+=r*U,_+=r*D,x+=r*j,A+=r*K,S+=r*H,T+=r*W,R+=r*q,I+=r*F,k+=r*G,O+=r*z,N+=r*V,C+=r*Q,P+=r*X,L+=r*Y,B+=r*J,o+=38*E,s+=38*_,a+=38*x,l+=38*A,c+=38*S,u+=38*T,h+=38*R,f+=38*I,d+=38*k,p+=38*O,g+=38*N,y+=38*C,v+=38*P,m+=38*L,w+=38*B,i=1,r=o+i+65535,i=Math.floor(r/65536),o=r-65536*i,r=s+i+65535,i=Math.floor(r/65536),s=r-65536*i,r=a+i+65535,i=Math.floor(r/65536),a=r-65536*i,r=l+i+65535,i=Math.floor(r/65536),l=r-65536*i,r=c+i+65535,i=Math.floor(r/65536),c=r-65536*i,r=u+i+65535,i=Math.floor(r/65536),u=r-65536*i,r=h+i+65535,i=Math.floor(r/65536),h=r-65536*i,r=f+i+65535,i=Math.floor(r/65536),f=r-65536*i,r=d+i+65535,i=Math.floor(r/65536),d=r-65536*i,r=p+i+65535,i=Math.floor(r/65536),p=r-65536*i,r=g+i+65535,i=Math.floor(r/65536),g=r-65536*i,r=y+i+65535,i=Math.floor(r/65536),y=r-65536*i,r=v+i+65535,i=Math.floor(r/65536),v=r-65536*i,r=m+i+65535,i=Math.floor(r/65536),m=r-65536*i,r=w+i+65535,i=Math.floor(r/65536),w=r-65536*i,r=b+i+65535,i=Math.floor(r/65536),b=r-65536*i,o+=i-1+37*(i-1),i=1,r=o+i+65535,i=Math.floor(r/65536),o=r-65536*i,r=s+i+65535,i=Math.floor(r/65536),s=r-65536*i,r=a+i+65535,i=Math.floor(r/65536),a=r-65536*i,r=l+i+65535,i=Math.floor(r/65536),l=r-65536*i,r=c+i+65535,i=Math.floor(r/65536),c=r-65536*i,r=u+i+65535,i=Math.floor(r/65536),u=r-65536*i,r=h+i+65535,i=Math.floor(r/65536),h=r-65536*i,r=f+i+65535,i=Math.floor(r/65536),f=r-65536*i,r=d+i+65535,i=Math.floor(r/65536),d=r-65536*i,r=p+i+65535,i=Math.floor(r/65536),p=r-65536*i,r=g+i+65535,i=Math.floor(r/65536),g=r-65536*i,r=y+i+65535,i=Math.floor(r/65536),y=r-65536*i,r=v+i+65535,i=Math.floor(r/65536),v=r-65536*i,r=m+i+65535,i=Math.floor(r/65536),m=r-65536*i,r=w+i+65535,i=Math.floor(r/65536),w=r-65536*i,r=b+i+65535,i=Math.floor(r/65536),b=r-65536*i,o+=i-1+37*(i-1),t[0]=o,t[1]=s,t[2]=a,t[3]=l,t[4]=c,t[5]=u,t[6]=h,t[7]=f,t[8]=d,t[9]=p,t[10]=g,t[11]=y,t[12]=v,t[13]=m,t[14]=w,t[15]=b}function d(t,e){f(t,e,e)}function p(t,e){const n=new Uint8Array(32),r=new Float64Array(80),i=o(),s=o(),p=o(),g=o(),y=o(),v=o();for(let e=0;e<31;e++)n[e]=t[e];n[31]=127&t[31]|64,n[0]&=248,function(t,e){for(let n=0;n<16;n++)t[n]=e[2*n]+(e[2*n+1]<<8);t[15]&=32767}(r,e);for(let t=0;t<16;t++)s[t]=r[t];i[0]=g[0]=1;for(let t=254;t>=0;--t){const e=n[t>>>3]>>>(7&t)&1;c(i,s,e),c(p,g,e),u(y,i,p),h(i,i,p),u(p,s,g),h(s,s,g),d(g,y),d(v,i),f(i,p,i),f(p,s,y),u(y,i,p),h(i,i,p),d(s,i),h(p,g,v),f(i,p,a),u(i,i,g),f(p,p,i),f(i,g,v),f(g,s,r),d(s,y),c(i,s,e),c(p,g,e)}for(let t=0;t<16;t++)r[t+16]=i[t],r[t+32]=p[t],r[t+48]=s[t],r[t+64]=g[t];const m=r.subarray(32),w=r.subarray(16);!function(t,e){const n=o();for(let t=0;t<16;t++)n[t]=e[t];for(let t=253;t>=0;t--)d(n,n),2!==t&&4!==t&&f(n,n,e);for(let e=0;e<16;e++)t[e]=n[e]}(m,m),f(w,w,m);const b=new Uint8Array(32);return function(t,e){const n=o(),r=o();for(let t=0;t<16;t++)r[t]=e[t];l(r),l(r),l(r);for(let t=0;t<2;t++){n[0]=r[0]-65517;for(let t=1;t<15;t++)n[t]=r[t]-65535-(n[t-1]>>16&1),n[t-1]&=65535;n[15]=r[15]-32767-(n[14]>>16&1);const t=n[15]>>16&1;n[14]&=65535,c(r,n,1-t)}for(let e=0;e<16;e++)t[2*e]=255&r[e],t[2*e+1]=r[e]>>8}(b,w),b}function g(t){return p(t,s)}function y(t){if(t.length!==e.SECRET_KEY_LENGTH)throw new Error(`x25519: seed must be ${e.SECRET_KEY_LENGTH} bytes`);const n=new Uint8Array(t);return{publicKey:g(n),secretKey:n}}e.scalarMult=p,e.scalarMultBase=g,e.generateKeyPairFromSeed=y,e.generateKeyPair=function(t){const e=(0,r.randomBytes)(32,t),n=y(e);return(0,i.wipe)(e),n},e.sharedKey=function(t,n,r=!1){if(t.length!==e.PUBLIC_KEY_LENGTH)throw new Error("X25519: incorrect secret key length");if(n.length!==e.PUBLIC_KEY_LENGTH)throw new Error("X25519: incorrect public key length");const i=p(t,n);if(r){let t=0;for(let e=0;e<i.length;e++)t|=i[e];if(0===t)throw new Error("X25519: invalid shared key")}return i}},7025:(t,e,n)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(8099),i=n(7318),o=n(7309);function s(t,e,n,r,s){if(void 0===s&&(s=0),0===s){if(24!==e.length)throw new Error("XSalsa20 nonce must be 24 bytes")}else if(32!==e.length)throw new Error("XSalsa20 nonce with counter must be 32 bytes");var a=l(t,e.subarray(0,16),new Uint8Array(32)),c=i.streamXOR(a,e.subarray(16),n,r,s);return o.wipe(a),c}e.streamXOR=s,e.stream=function(t,e,n,r){return void 0===r&&(r=0),o.wipe(n),s(t,e,n,n,r)};var a=20;function l(t,e,n){for(var i,o=1634760805,s=t[3]<<24|t[2]<<16|t[1]<<8|t[0],l=t[7]<<24|t[6]<<16|t[5]<<8|t[4],c=t[11]<<24|t[10]<<16|t[9]<<8|t[8],u=t[15]<<24|t[14]<<16|t[13]<<8|t[12],h=857760878,f=e[3]<<24|e[2]<<16|e[1]<<8|e[0],d=e[7]<<24|e[6]<<16|e[5]<<8|e[4],p=e[11]<<24|e[10]<<16|e[9]<<8|e[8],g=e[15]<<24|e[14]<<16|e[13]<<8|e[12],y=2036477234,v=t[19]<<24|t[18]<<16|t[17]<<8|t[16],m=t[23]<<24|t[22]<<16|t[21]<<8|t[20],w=t[27]<<24|t[26]<<16|t[25]<<8|t[24],b=t[31]<<24|t[30]<<16|t[29]<<8|t[28],E=1797285236,_=0;_<a;_+=2)o^=(i=(m^=(i=(p^=(i=(u^=(i=o+m|0)<<7|i>>>25)+o|0)<<9|i>>>23)+u|0)<<13|i>>>19)+p|0)<<18|i>>>14,h^=(i=(s^=(i=(w^=(i=(g^=(i=h+s|0)<<7|i>>>25)+h|0)<<9|i>>>23)+g|0)<<13|i>>>19)+w|0)<<18|i>>>14,y^=(i=(f^=(i=(l^=(i=(b^=(i=y+f|0)<<7|i>>>25)+y|0)<<9|i>>>23)+b|0)<<13|i>>>19)+l|0)<<18|i>>>14,E^=(i=(v^=(i=(d^=(i=(c^=(i=E+v|0)<<7|i>>>25)+E|0)<<9|i>>>23)+c|0)<<13|i>>>19)+d|0)<<18|i>>>14,o^=(i=(c^=(i=(l^=(i=(s^=(i=o+c|0)<<7|i>>>25)+o|0)<<9|i>>>23)+s|0)<<13|i>>>19)+l|0)<<18|i>>>14,h^=(i=(u^=(i=(d^=(i=(f^=(i=h+u|0)<<7|i>>>25)+h|0)<<9|i>>>23)+f|0)<<13|i>>>19)+d|0)<<18|i>>>14,y^=(i=(g^=(i=(p^=(i=(v^=(i=y+g|0)<<7|i>>>25)+y|0)<<9|i>>>23)+v|0)<<13|i>>>19)+p|0)<<18|i>>>14,E^=(i=(b^=(i=(w^=(i=(m^=(i=E+b|0)<<7|i>>>25)+E|0)<<9|i>>>23)+m|0)<<13|i>>>19)+w|0)<<18|i>>>14;return r.writeUint32LE(o,n,0),r.writeUint32LE(h,n,4),r.writeUint32LE(y,n,8),r.writeUint32LE(E,n,12),r.writeUint32LE(f,n,16),r.writeUint32LE(d,n,20),r.writeUint32LE(p,n,24),r.writeUint32LE(g,n,28),n}e.hsalsa=l},9669:(t,e,n)=>{t.exports=n(1609)},5448:(t,e,n)=>{"use strict";var r=n(4867),i=n(6026),o=n(4372),s=n(5327),a=n(4097),l=n(4109),c=n(7985),u=n(5061),h=n(5655),f=n(5263);t.exports=function(t){return new Promise((function(e,n){var d,p=t.data,g=t.headers,y=t.responseType;function v(){t.cancelToken&&t.cancelToken.unsubscribe(d),t.signal&&t.signal.removeEventListener("abort",d)}r.isFormData(p)&&delete g["Content-Type"];var m=new XMLHttpRequest;if(t.auth){var w=t.auth.username||"",b=t.auth.password?unescape(encodeURIComponent(t.auth.password)):"";g.Authorization="Basic "+btoa(w+":"+b)}var E=a(t.baseURL,t.url);function _(){if(m){var r="getAllResponseHeaders"in m?l(m.getAllResponseHeaders()):null,o={data:y&&"text"!==y&&"json"!==y?m.response:m.responseText,status:m.status,statusText:m.statusText,headers:r,config:t,request:m};i((function(t){e(t),v()}),(function(t){n(t),v()}),o),m=null}}if(m.open(t.method.toUpperCase(),s(E,t.params,t.paramsSerializer),!0),m.timeout=t.timeout,"onloadend"in m?m.onloadend=_:m.onreadystatechange=function(){m&&4===m.readyState&&(0!==m.status||m.responseURL&&0===m.responseURL.indexOf("file:"))&&setTimeout(_)},m.onabort=function(){m&&(n(u("Request aborted",t,"ECONNABORTED",m)),m=null)},m.onerror=function(){n(u("Network Error",t,null,m)),m=null},m.ontimeout=function(){var e=t.timeout?"timeout of "+t.timeout+"ms exceeded":"timeout exceeded",r=t.transitional||h.transitional;t.timeoutErrorMessage&&(e=t.timeoutErrorMessage),n(u(e,t,r.clarifyTimeoutError?"ETIMEDOUT":"ECONNABORTED",m)),m=null},r.isStandardBrowserEnv()){var x=(t.withCredentials||c(E))&&t.xsrfCookieName?o.read(t.xsrfCookieName):void 0;x&&(g[t.xsrfHeaderName]=x)}"setRequestHeader"in m&&r.forEach(g,(function(t,e){void 0===p&&"content-type"===e.toLowerCase()?delete g[e]:m.setRequestHeader(e,t)})),r.isUndefined(t.withCredentials)||(m.withCredentials=!!t.withCredentials),y&&"json"!==y&&(m.responseType=t.responseType),"function"==typeof t.onDownloadProgress&&m.addEventListener("progress",t.onDownloadProgress),"function"==typeof t.onUploadProgress&&m.upload&&m.upload.addEventListener("progress",t.onUploadProgress),(t.cancelToken||t.signal)&&(d=function(t){m&&(n(!t||t&&t.type?new f("canceled"):t),m.abort(),m=null)},t.cancelToken&&t.cancelToken.subscribe(d),t.signal&&(t.signal.aborted?d():t.signal.addEventListener("abort",d))),p||(p=null),m.send(p)}))}},1609:(t,e,n)=>{"use strict";var r=n(4867),i=n(1849),o=n(321),s=n(7185),a=function t(e){var n=new o(e),a=i(o.prototype.request,n);return r.extend(a,o.prototype,n),r.extend(a,n),a.create=function(n){return t(s(e,n))},a}(n(5655));a.Axios=o,a.Cancel=n(5263),a.CancelToken=n(4972),a.isCancel=n(6502),a.VERSION=n(7288).version,a.all=function(t){return Promise.all(t)},a.spread=n(8713),a.isAxiosError=n(6268),t.exports=a,t.exports.default=a},5263:t=>{"use strict";function e(t){this.message=t}e.prototype.toString=function(){return"Cancel"+(this.message?": "+this.message:"")},e.prototype.__CANCEL__=!0,t.exports=e},4972:(t,e,n)=>{"use strict";var r=n(5263);function i(t){if("function"!=typeof t)throw new TypeError("executor must be a function.");var e;this.promise=new Promise((function(t){e=t}));var n=this;this.promise.then((function(t){if(n._listeners){var e,r=n._listeners.length;for(e=0;e<r;e++)n._listeners[e](t);n._listeners=null}})),this.promise.then=function(t){var e,r=new Promise((function(t){n.subscribe(t),e=t})).then(t);return r.cancel=function(){n.unsubscribe(e)},r},t((function(t){n.reason||(n.reason=new r(t),e(n.reason))}))}i.prototype.throwIfRequested=function(){if(this.reason)throw this.reason},i.prototype.subscribe=function(t){this.reason?t(this.reason):this._listeners?this._listeners.push(t):this._listeners=[t]},i.prototype.unsubscribe=function(t){if(this._listeners){var e=this._listeners.indexOf(t);-1!==e&&this._listeners.splice(e,1)}},i.source=function(){var t;return{token:new i((function(e){t=e})),cancel:t}},t.exports=i},6502:t=>{"use strict";t.exports=function(t){return!(!t||!t.__CANCEL__)}},321:(t,e,n)=>{"use strict";var r=n(4867),i=n(5327),o=n(782),s=n(3572),a=n(7185),l=n(4875),c=l.validators;function u(t){this.defaults=t,this.interceptors={request:new o,response:new o}}u.prototype.request=function(t){"string"==typeof t?(t=arguments[1]||{}).url=arguments[0]:t=t||{},(t=a(this.defaults,t)).method?t.method=t.method.toLowerCase():this.defaults.method?t.method=this.defaults.method.toLowerCase():t.method="get";var e=t.transitional;void 0!==e&&l.assertOptions(e,{silentJSONParsing:c.transitional(c.boolean),forcedJSONParsing:c.transitional(c.boolean),clarifyTimeoutError:c.transitional(c.boolean)},!1);var n=[],r=!0;this.interceptors.request.forEach((function(e){"function"==typeof e.runWhen&&!1===e.runWhen(t)||(r=r&&e.synchronous,n.unshift(e.fulfilled,e.rejected))}));var i,o=[];if(this.interceptors.response.forEach((function(t){o.push(t.fulfilled,t.rejected)})),!r){var u=[s,void 0];for(Array.prototype.unshift.apply(u,n),u=u.concat(o),i=Promise.resolve(t);u.length;)i=i.then(u.shift(),u.shift());return i}for(var h=t;n.length;){var f=n.shift(),d=n.shift();try{h=f(h)}catch(t){d(t);break}}try{i=s(h)}catch(t){return Promise.reject(t)}for(;o.length;)i=i.then(o.shift(),o.shift());return i},u.prototype.getUri=function(t){return t=a(this.defaults,t),i(t.url,t.params,t.paramsSerializer).replace(/^\?/,"")},r.forEach(["delete","get","head","options"],(function(t){u.prototype[t]=function(e,n){return this.request(a(n||{},{method:t,url:e,data:(n||{}).data}))}})),r.forEach(["post","put","patch"],(function(t){u.prototype[t]=function(e,n,r){return this.request(a(r||{},{method:t,url:e,data:n}))}})),t.exports=u},782:(t,e,n)=>{"use strict";var r=n(4867);function i(){this.handlers=[]}i.prototype.use=function(t,e,n){return this.handlers.push({fulfilled:t,rejected:e,synchronous:!!n&&n.synchronous,runWhen:n?n.runWhen:null}),this.handlers.length-1},i.prototype.eject=function(t){this.handlers[t]&&(this.handlers[t]=null)},i.prototype.forEach=function(t){r.forEach(this.handlers,(function(e){null!==e&&t(e)}))},t.exports=i},4097:(t,e,n)=>{"use strict";var r=n(1793),i=n(7303);t.exports=function(t,e){return t&&!r(e)?i(t,e):e}},5061:(t,e,n)=>{"use strict";var r=n(481);t.exports=function(t,e,n,i,o){var s=new Error(t);return r(s,e,n,i,o)}},3572:(t,e,n)=>{"use strict";var r=n(4867),i=n(8527),o=n(6502),s=n(5655),a=n(5263);function l(t){if(t.cancelToken&&t.cancelToken.throwIfRequested(),t.signal&&t.signal.aborted)throw new a("canceled")}t.exports=function(t){return l(t),t.headers=t.headers||{},t.data=i.call(t,t.data,t.headers,t.transformRequest),t.headers=r.merge(t.headers.common||{},t.headers[t.method]||{},t.headers),r.forEach(["delete","get","head","post","put","patch","common"],(function(e){delete t.headers[e]})),(t.adapter||s.adapter)(t).then((function(e){return l(t),e.data=i.call(t,e.data,e.headers,t.transformResponse),e}),(function(e){return o(e)||(l(t),e&&e.response&&(e.response.data=i.call(t,e.response.data,e.response.headers,t.transformResponse))),Promise.reject(e)}))}},481:t=>{"use strict";t.exports=function(t,e,n,r,i){return t.config=e,n&&(t.code=n),t.request=r,t.response=i,t.isAxiosError=!0,t.toJSON=function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:this.config,code:this.code,status:this.response&&this.response.status?this.response.status:null}},t}},7185:(t,e,n)=>{"use strict";var r=n(4867);t.exports=function(t,e){e=e||{};var n={};function i(t,e){return r.isPlainObject(t)&&r.isPlainObject(e)?r.merge(t,e):r.isPlainObject(e)?r.merge({},e):r.isArray(e)?e.slice():e}function o(n){return r.isUndefined(e[n])?r.isUndefined(t[n])?void 0:i(void 0,t[n]):i(t[n],e[n])}function s(t){if(!r.isUndefined(e[t]))return i(void 0,e[t])}function a(n){return r.isUndefined(e[n])?r.isUndefined(t[n])?void 0:i(void 0,t[n]):i(void 0,e[n])}function l(n){return n in e?i(t[n],e[n]):n in t?i(void 0,t[n]):void 0}var c={url:s,method:s,data:s,baseURL:a,transformRequest:a,transformResponse:a,paramsSerializer:a,timeout:a,timeoutMessage:a,withCredentials:a,adapter:a,responseType:a,xsrfCookieName:a,xsrfHeaderName:a,onUploadProgress:a,onDownloadProgress:a,decompress:a,maxContentLength:a,maxBodyLength:a,transport:a,httpAgent:a,httpsAgent:a,cancelToken:a,socketPath:a,responseEncoding:a,validateStatus:l};return r.forEach(Object.keys(t).concat(Object.keys(e)),(function(t){var e=c[t]||o,i=e(t);r.isUndefined(i)&&e!==l||(n[t]=i)})),n}},6026:(t,e,n)=>{"use strict";var r=n(5061);t.exports=function(t,e,n){var i=n.config.validateStatus;n.status&&i&&!i(n.status)?e(r("Request failed with status code "+n.status,n.config,null,n.request,n)):t(n)}},8527:(t,e,n)=>{"use strict";var r=n(4867),i=n(5655);t.exports=function(t,e,n){var o=this||i;return r.forEach(n,(function(n){t=n.call(o,t,e)})),t}},5655:(t,e,n)=>{"use strict";var r=n(4155),i=n(4867),o=n(6016),s=n(481),a={"Content-Type":"application/x-www-form-urlencoded"};function l(t,e){!i.isUndefined(t)&&i.isUndefined(t["Content-Type"])&&(t["Content-Type"]=e)}var c,u={transitional:{silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},adapter:(("undefined"!=typeof XMLHttpRequest||void 0!==r&&"[object process]"===Object.prototype.toString.call(r))&&(c=n(5448)),c),transformRequest:[function(t,e){return o(e,"Accept"),o(e,"Content-Type"),i.isFormData(t)||i.isArrayBuffer(t)||i.isBuffer(t)||i.isStream(t)||i.isFile(t)||i.isBlob(t)?t:i.isArrayBufferView(t)?t.buffer:i.isURLSearchParams(t)?(l(e,"application/x-www-form-urlencoded;charset=utf-8"),t.toString()):i.isObject(t)||e&&"application/json"===e["Content-Type"]?(l(e,"application/json"),function(t,e,n){if(i.isString(t))try{return(0,JSON.parse)(t),i.trim(t)}catch(t){if("SyntaxError"!==t.name)throw t}return(0,JSON.stringify)(t)}(t)):t}],transformResponse:[function(t){var e=this.transitional||u.transitional,n=e&&e.silentJSONParsing,r=e&&e.forcedJSONParsing,o=!n&&"json"===this.responseType;if(o||r&&i.isString(t)&&t.length)try{return JSON.parse(t)}catch(t){if(o){if("SyntaxError"===t.name)throw s(t,this,"E_JSON_PARSE");throw t}}return t}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,validateStatus:function(t){return t>=200&&t<300},headers:{common:{Accept:"application/json, text/plain, */*"}}};i.forEach(["delete","get","head"],(function(t){u.headers[t]={}})),i.forEach(["post","put","patch"],(function(t){u.headers[t]=i.merge(a)})),t.exports=u},7288:t=>{t.exports={version:"0.24.0"}},1849:t=>{"use strict";t.exports=function(t,e){return function(){for(var n=new Array(arguments.length),r=0;r<n.length;r++)n[r]=arguments[r];return t.apply(e,n)}}},5327:(t,e,n)=>{"use strict";var r=n(4867);function i(t){return encodeURIComponent(t).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}t.exports=function(t,e,n){if(!e)return t;var o;if(n)o=n(e);else if(r.isURLSearchParams(e))o=e.toString();else{var s=[];r.forEach(e,(function(t,e){null!=t&&(r.isArray(t)?e+="[]":t=[t],r.forEach(t,(function(t){r.isDate(t)?t=t.toISOString():r.isObject(t)&&(t=JSON.stringify(t)),s.push(i(e)+"="+i(t))})))})),o=s.join("&")}if(o){var a=t.indexOf("#");-1!==a&&(t=t.slice(0,a)),t+=(-1===t.indexOf("?")?"?":"&")+o}return t}},7303:t=>{"use strict";t.exports=function(t,e){return e?t.replace(/\/+$/,"")+"/"+e.replace(/^\/+/,""):t}},4372:(t,e,n)=>{"use strict";var r=n(4867);t.exports=r.isStandardBrowserEnv()?{write:function(t,e,n,i,o,s){var a=[];a.push(t+"="+encodeURIComponent(e)),r.isNumber(n)&&a.push("expires="+new Date(n).toGMTString()),r.isString(i)&&a.push("path="+i),r.isString(o)&&a.push("domain="+o),!0===s&&a.push("secure"),document.cookie=a.join("; ")},read:function(t){var e=document.cookie.match(new RegExp("(^|;\\s*)("+t+")=([^;]*)"));return e?decodeURIComponent(e[3]):null},remove:function(t){this.write(t,"",Date.now()-864e5)}}:{write:function(){},read:function(){return null},remove:function(){}}},1793:t=>{"use strict";t.exports=function(t){return/^([a-z][a-z\d\+\-\.]*:)?\/\//i.test(t)}},6268:t=>{"use strict";t.exports=function(t){return"object"==typeof t&&!0===t.isAxiosError}},7985:(t,e,n)=>{"use strict";var r=n(4867);t.exports=r.isStandardBrowserEnv()?function(){var t,e=/(msie|trident)/i.test(navigator.userAgent),n=document.createElement("a");function i(t){var r=t;return e&&(n.setAttribute("href",r),r=n.href),n.setAttribute("href",r),{href:n.href,protocol:n.protocol?n.protocol.replace(/:$/,""):"",host:n.host,search:n.search?n.search.replace(/^\?/,""):"",hash:n.hash?n.hash.replace(/^#/,""):"",hostname:n.hostname,port:n.port,pathname:"/"===n.pathname.charAt(0)?n.pathname:"/"+n.pathname}}return t=i(window.location.href),function(e){var n=r.isString(e)?i(e):e;return n.protocol===t.protocol&&n.host===t.host}}():function(){return!0}},6016:(t,e,n)=>{"use strict";var r=n(4867);t.exports=function(t,e){r.forEach(t,(function(n,r){r!==e&&r.toUpperCase()===e.toUpperCase()&&(t[e]=n,delete t[r])}))}},4109:(t,e,n)=>{"use strict";var r=n(4867),i=["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"];t.exports=function(t){var e,n,o,s={};return t?(r.forEach(t.split("\n"),(function(t){if(o=t.indexOf(":"),e=r.trim(t.substr(0,o)).toLowerCase(),n=r.trim(t.substr(o+1)),e){if(s[e]&&i.indexOf(e)>=0)return;s[e]="set-cookie"===e?(s[e]?s[e]:[]).concat([n]):s[e]?s[e]+", "+n:n}})),s):s}},8713:t=>{"use strict";t.exports=function(t){return function(e){return t.apply(null,e)}}},4875:(t,e,n)=>{"use strict";var r=n(7288).version,i={};["object","boolean","number","function","string","symbol"].forEach((function(t,e){i[t]=function(n){return typeof n===t||"a"+(e<1?"n ":" ")+t}}));var o={};i.transitional=function(t,e,n){function i(t,e){return"[Axios v"+r+"] Transitional option '"+t+"'"+e+(n?". "+n:"")}return function(n,r,s){if(!1===t)throw new Error(i(r," has been removed"+(e?" in "+e:"")));return e&&!o[r]&&(o[r]=!0,console.warn(i(r," has been deprecated since v"+e+" and will be removed in the near future"))),!t||t(n,r,s)}},t.exports={assertOptions:function(t,e,n){if("object"!=typeof t)throw new TypeError("options must be an object");for(var r=Object.keys(t),i=r.length;i-- >0;){var o=r[i],s=e[o];if(s){var a=t[o],l=void 0===a||s(a,o,t);if(!0!==l)throw new TypeError("option "+o+" must be "+l)}else if(!0!==n)throw Error("Unknown option "+o)}},validators:i}},4867:(t,e,n)=>{"use strict";var r=n(1849),i=Object.prototype.toString;function o(t){return"[object Array]"===i.call(t)}function s(t){return void 0===t}function a(t){return null!==t&&"object"==typeof t}function l(t){if("[object Object]"!==i.call(t))return!1;var e=Object.getPrototypeOf(t);return null===e||e===Object.prototype}function c(t){return"[object Function]"===i.call(t)}function u(t,e){if(null!=t)if("object"!=typeof t&&(t=[t]),o(t))for(var n=0,r=t.length;n<r;n++)e.call(null,t[n],n,t);else for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&e.call(null,t[i],i,t)}t.exports={isArray:o,isArrayBuffer:function(t){return"[object ArrayBuffer]"===i.call(t)},isBuffer:function(t){return null!==t&&!s(t)&&null!==t.constructor&&!s(t.constructor)&&"function"==typeof t.constructor.isBuffer&&t.constructor.isBuffer(t)},isFormData:function(t){return"undefined"!=typeof FormData&&t instanceof FormData},isArrayBufferView:function(t){return"undefined"!=typeof ArrayBuffer&&ArrayBuffer.isView?ArrayBuffer.isView(t):t&&t.buffer&&t.buffer instanceof ArrayBuffer},isString:function(t){return"string"==typeof t},isNumber:function(t){return"number"==typeof t},isObject:a,isPlainObject:l,isUndefined:s,isDate:function(t){return"[object Date]"===i.call(t)},isFile:function(t){return"[object File]"===i.call(t)},isBlob:function(t){return"[object Blob]"===i.call(t)},isFunction:c,isStream:function(t){return a(t)&&c(t.pipe)},isURLSearchParams:function(t){return"undefined"!=typeof URLSearchParams&&t instanceof URLSearchParams},isStandardBrowserEnv:function(){return("undefined"==typeof navigator||"ReactNative"!==navigator.product&&"NativeScript"!==navigator.product&&"NS"!==navigator.product)&&"undefined"!=typeof window&&"undefined"!=typeof document},forEach:u,merge:function t(){var e={};function n(n,r){l(e[r])&&l(n)?e[r]=t(e[r],n):l(n)?e[r]=t({},n):o(n)?e[r]=n.slice():e[r]=n}for(var r=0,i=arguments.length;r<i;r++)u(arguments[r],n);return e},extend:function(t,e,n){return u(e,(function(e,i){t[i]=n&&"function"==typeof e?r(e,n):e})),t},trim:function(t){return t.trim?t.trim():t.replace(/^\s+|\s+$/g,"")},stripBOM:function(t){return 65279===t.charCodeAt(0)&&(t=t.slice(1)),t}}},8162:(t,e,n)=>{"use strict";var r=n(9509).Buffer;t.exports=function(t){if(t.length>=255)throw new TypeError("Alphabet too long");for(var e=new Uint8Array(256),n=0;n<e.length;n++)e[n]=255;for(var i=0;i<t.length;i++){var o=t.charAt(i),s=o.charCodeAt(0);if(255!==e[s])throw new TypeError(o+" is ambiguous");e[s]=i}var a=t.length,l=t.charAt(0),c=Math.log(a)/Math.log(256),u=Math.log(256)/Math.log(a);function h(t){if("string"!=typeof t)throw new TypeError("Expected String");if(0===t.length)return r.alloc(0);for(var n=0,i=0,o=0;t[n]===l;)i++,n++;for(var s=(t.length-n)*c+1>>>0,u=new Uint8Array(s);t[n];){var h=e[t.charCodeAt(n)];if(255===h)return;for(var f=0,d=s-1;(0!==h||f<o)&&-1!==d;d--,f++)h+=a*u[d]>>>0,u[d]=h%256>>>0,h=h/256>>>0;if(0!==h)throw new Error("Non-zero carry");o=f,n++}for(var p=s-o;p!==s&&0===u[p];)p++;var g=r.allocUnsafe(i+(s-p));g.fill(0,0,i);for(var y=i;p!==s;)g[y++]=u[p++];return g}return{encode:function(e){if((Array.isArray(e)||e instanceof Uint8Array)&&(e=r.from(e)),!r.isBuffer(e))throw new TypeError("Expected Buffer");if(0===e.length)return"";for(var n=0,i=0,o=0,s=e.length;o!==s&&0===e[o];)o++,n++;for(var c=(s-o)*u+1>>>0,h=new Uint8Array(c);o!==s;){for(var f=e[o],d=0,p=c-1;(0!==f||d<i)&&-1!==p;p--,d++)f+=256*h[p]>>>0,h[p]=f%a>>>0,f=f/a>>>0;if(0!==f)throw new Error("Non-zero carry");i=d,o++}for(var g=c-i;g!==c&&0===h[g];)g++;for(var y=l.repeat(n);g<c;++g)y+=t.charAt(h[g]);return y},decodeUnsafe:h,decode:function(t){var e=h(t);if(e)return e;throw new Error("Non-base"+a+" character")}}}},9742:(t,e)=>{"use strict";e.byteLength=function(t){var e=l(t),n=e[0],r=e[1];return 3*(n+r)/4-r},e.toByteArray=function(t){var e,n,o=l(t),s=o[0],a=o[1],c=new i(function(t,e,n){return 3*(e+n)/4-n}(0,s,a)),u=0,h=a>0?s-4:s;for(n=0;n<h;n+=4)e=r[t.charCodeAt(n)]<<18|r[t.charCodeAt(n+1)]<<12|r[t.charCodeAt(n+2)]<<6|r[t.charCodeAt(n+3)],c[u++]=e>>16&255,c[u++]=e>>8&255,c[u++]=255&e;return 2===a&&(e=r[t.charCodeAt(n)]<<2|r[t.charCodeAt(n+1)]>>4,c[u++]=255&e),1===a&&(e=r[t.charCodeAt(n)]<<10|r[t.charCodeAt(n+1)]<<4|r[t.charCodeAt(n+2)]>>2,c[u++]=e>>8&255,c[u++]=255&e),c},e.fromByteArray=function(t){for(var e,r=t.length,i=r%3,o=[],s=16383,a=0,l=r-i;a<l;a+=s)o.push(c(t,a,a+s>l?l:a+s));return 1===i?(e=t[r-1],o.push(n[e>>2]+n[e<<4&63]+"==")):2===i&&(e=(t[r-2]<<8)+t[r-1],o.push(n[e>>10]+n[e>>4&63]+n[e<<2&63]+"=")),o.join("")};for(var n=[],r=[],i="undefined"!=typeof Uint8Array?Uint8Array:Array,o="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",s=0,a=o.length;s<a;++s)n[s]=o[s],r[o.charCodeAt(s)]=s;function l(t){var e=t.length;if(e%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var n=t.indexOf("=");return-1===n&&(n=e),[n,n===e?0:4-n%4]}function c(t,e,r){for(var i,o,s=[],a=e;a<r;a+=3)i=(t[a]<<16&16711680)+(t[a+1]<<8&65280)+(255&t[a+2]),s.push(n[(o=i)>>18&63]+n[o>>12&63]+n[o>>6&63]+n[63&o]);return s.join("")}r["-".charCodeAt(0)]=62,r["_".charCodeAt(0)]=63},7191:(t,e,n)=>{var r=n(8162);t.exports=r("123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz")},3310:(t,e,n)=>{"use strict";var r=n(7191),i=n(9509).Buffer;t.exports=function(t){function e(e){var n=e.slice(0,-4),r=e.slice(-4),i=t(n);if(!(r[0]^i[0]|r[1]^i[1]|r[2]^i[2]|r[3]^i[3]))return n}return{encode:function(e){var n=t(e);return r.encode(i.concat([e,n],e.length+4))},decode:function(t){var n=e(r.decode(t));if(!n)throw new Error("Invalid checksum");return n},decodeUnsafe:function(t){var n=r.decodeUnsafe(t);if(n)return e(n)}}}},8334:(t,e,n)=>{"use strict";var r=n(3482),i=n(3310);t.exports=i((function(t){var e=r("sha256").update(t).digest();return r("sha256").update(e).digest()}))},8764:(t,e,n)=>{"use strict";const r=n(9742),i=n(645),o="function"==typeof Symbol&&"function"==typeof Symbol.for?Symbol.for("nodejs.util.inspect.custom"):null;e.Buffer=l,e.SlowBuffer=function(t){return+t!=t&&(t=0),l.alloc(+t)},e.INSPECT_MAX_BYTES=50;const s=2147483647;function a(t){if(t>s)throw new RangeError('The value "'+t+'" is invalid for option "size"');const e=new Uint8Array(t);return Object.setPrototypeOf(e,l.prototype),e}function l(t,e,n){if("number"==typeof t){if("string"==typeof e)throw new TypeError('The "string" argument must be of type string. Received type number');return h(t)}return c(t,e,n)}function c(t,e,n){if("string"==typeof t)return function(t,e){if("string"==typeof e&&""!==e||(e="utf8"),!l.isEncoding(e))throw new TypeError("Unknown encoding: "+e);const n=0|g(t,e);let r=a(n);const i=r.write(t,e);return i!==n&&(r=r.slice(0,i)),r}(t,e);if(ArrayBuffer.isView(t))return function(t){if(X(t,Uint8Array)){const e=new Uint8Array(t);return d(e.buffer,e.byteOffset,e.byteLength)}return f(t)}(t);if(null==t)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof t);if(X(t,ArrayBuffer)||t&&X(t.buffer,ArrayBuffer))return d(t,e,n);if("undefined"!=typeof SharedArrayBuffer&&(X(t,SharedArrayBuffer)||t&&X(t.buffer,SharedArrayBuffer)))return d(t,e,n);if("number"==typeof t)throw new TypeError('The "value" argument must not be of type number. Received type number');const r=t.valueOf&&t.valueOf();if(null!=r&&r!==t)return l.from(r,e,n);const i=function(t){if(l.isBuffer(t)){const e=0|p(t.length),n=a(e);return 0===n.length||t.copy(n,0,0,e),n}return void 0!==t.length?"number"!=typeof t.length||Y(t.length)?a(0):f(t):"Buffer"===t.type&&Array.isArray(t.data)?f(t.data):void 0}(t);if(i)return i;if("undefined"!=typeof Symbol&&null!=Symbol.toPrimitive&&"function"==typeof t[Symbol.toPrimitive])return l.from(t[Symbol.toPrimitive]("string"),e,n);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof t)}function u(t){if("number"!=typeof t)throw new TypeError('"size" argument must be of type number');if(t<0)throw new RangeError('The value "'+t+'" is invalid for option "size"')}function h(t){return u(t),a(t<0?0:0|p(t))}function f(t){const e=t.length<0?0:0|p(t.length),n=a(e);for(let r=0;r<e;r+=1)n[r]=255&t[r];return n}function d(t,e,n){if(e<0||t.byteLength<e)throw new RangeError('"offset" is outside of buffer bounds');if(t.byteLength<e+(n||0))throw new RangeError('"length" is outside of buffer bounds');let r;return r=void 0===e&&void 0===n?new Uint8Array(t):void 0===n?new Uint8Array(t,e):new Uint8Array(t,e,n),Object.setPrototypeOf(r,l.prototype),r}function p(t){if(t>=s)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+s.toString(16)+" bytes");return 0|t}function g(t,e){if(l.isBuffer(t))return t.length;if(ArrayBuffer.isView(t)||X(t,ArrayBuffer))return t.byteLength;if("string"!=typeof t)throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof t);const n=t.length,r=arguments.length>2&&!0===arguments[2];if(!r&&0===n)return 0;let i=!1;for(;;)switch(e){case"ascii":case"latin1":case"binary":return n;case"utf8":case"utf-8":return z(t).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*n;case"hex":return n>>>1;case"base64":return V(t).length;default:if(i)return r?-1:z(t).length;e=(""+e).toLowerCase(),i=!0}}function y(t,e,n){let r=!1;if((void 0===e||e<0)&&(e=0),e>this.length)return"";if((void 0===n||n>this.length)&&(n=this.length),n<=0)return"";if((n>>>=0)<=(e>>>=0))return"";for(t||(t="utf8");;)switch(t){case"hex":return O(this,e,n);case"utf8":case"utf-8":return T(this,e,n);case"ascii":return I(this,e,n);case"latin1":case"binary":return k(this,e,n);case"base64":return S(this,e,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return N(this,e,n);default:if(r)throw new TypeError("Unknown encoding: "+t);t=(t+"").toLowerCase(),r=!0}}function v(t,e,n){const r=t[e];t[e]=t[n],t[n]=r}function m(t,e,n,r,i){if(0===t.length)return-1;if("string"==typeof n?(r=n,n=0):n>2147483647?n=2147483647:n<-2147483648&&(n=-2147483648),Y(n=+n)&&(n=i?0:t.length-1),n<0&&(n=t.length+n),n>=t.length){if(i)return-1;n=t.length-1}else if(n<0){if(!i)return-1;n=0}if("string"==typeof e&&(e=l.from(e,r)),l.isBuffer(e))return 0===e.length?-1:w(t,e,n,r,i);if("number"==typeof e)return e&=255,"function"==typeof Uint8Array.prototype.indexOf?i?Uint8Array.prototype.indexOf.call(t,e,n):Uint8Array.prototype.lastIndexOf.call(t,e,n):w(t,[e],n,r,i);throw new TypeError("val must be string, number or Buffer")}function w(t,e,n,r,i){let o,s=1,a=t.length,l=e.length;if(void 0!==r&&("ucs2"===(r=String(r).toLowerCase())||"ucs-2"===r||"utf16le"===r||"utf-16le"===r)){if(t.length<2||e.length<2)return-1;s=2,a/=2,l/=2,n/=2}function c(t,e){return 1===s?t[e]:t.readUInt16BE(e*s)}if(i){let r=-1;for(o=n;o<a;o++)if(c(t,o)===c(e,-1===r?0:o-r)){if(-1===r&&(r=o),o-r+1===l)return r*s}else-1!==r&&(o-=o-r),r=-1}else for(n+l>a&&(n=a-l),o=n;o>=0;o--){let n=!0;for(let r=0;r<l;r++)if(c(t,o+r)!==c(e,r)){n=!1;break}if(n)return o}return-1}function b(t,e,n,r){n=Number(n)||0;const i=t.length-n;r?(r=Number(r))>i&&(r=i):r=i;const o=e.length;let s;for(r>o/2&&(r=o/2),s=0;s<r;++s){const r=parseInt(e.substr(2*s,2),16);if(Y(r))return s;t[n+s]=r}return s}function E(t,e,n,r){return Q(z(e,t.length-n),t,n,r)}function _(t,e,n,r){return Q(function(t){const e=[];for(let n=0;n<t.length;++n)e.push(255&t.charCodeAt(n));return e}(e),t,n,r)}function x(t,e,n,r){return Q(V(e),t,n,r)}function A(t,e,n,r){return Q(function(t,e){let n,r,i;const o=[];for(let s=0;s<t.length&&!((e-=2)<0);++s)n=t.charCodeAt(s),r=n>>8,i=n%256,o.push(i),o.push(r);return o}(e,t.length-n),t,n,r)}function S(t,e,n){return 0===e&&n===t.length?r.fromByteArray(t):r.fromByteArray(t.slice(e,n))}function T(t,e,n){n=Math.min(t.length,n);const r=[];let i=e;for(;i<n;){const e=t[i];let o=null,s=e>239?4:e>223?3:e>191?2:1;if(i+s<=n){let n,r,a,l;switch(s){case 1:e<128&&(o=e);break;case 2:n=t[i+1],128==(192&n)&&(l=(31&e)<<6|63&n,l>127&&(o=l));break;case 3:n=t[i+1],r=t[i+2],128==(192&n)&&128==(192&r)&&(l=(15&e)<<12|(63&n)<<6|63&r,l>2047&&(l<55296||l>57343)&&(o=l));break;case 4:n=t[i+1],r=t[i+2],a=t[i+3],128==(192&n)&&128==(192&r)&&128==(192&a)&&(l=(15&e)<<18|(63&n)<<12|(63&r)<<6|63&a,l>65535&&l<1114112&&(o=l))}}null===o?(o=65533,s=1):o>65535&&(o-=65536,r.push(o>>>10&1023|55296),o=56320|1023&o),r.push(o),i+=s}return function(t){const e=t.length;if(e<=R)return String.fromCharCode.apply(String,t);let n="",r=0;for(;r<e;)n+=String.fromCharCode.apply(String,t.slice(r,r+=R));return n}(r)}e.kMaxLength=s,l.TYPED_ARRAY_SUPPORT=function(){try{const t=new Uint8Array(1),e={foo:function(){return 42}};return Object.setPrototypeOf(e,Uint8Array.prototype),Object.setPrototypeOf(t,e),42===t.foo()}catch(t){return!1}}(),l.TYPED_ARRAY_SUPPORT||"undefined"==typeof console||"function"!=typeof console.error||console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support."),Object.defineProperty(l.prototype,"parent",{enumerable:!0,get:function(){if(l.isBuffer(this))return this.buffer}}),Object.defineProperty(l.prototype,"offset",{enumerable:!0,get:function(){if(l.isBuffer(this))return this.byteOffset}}),l.poolSize=8192,l.from=function(t,e,n){return c(t,e,n)},Object.setPrototypeOf(l.prototype,Uint8Array.prototype),Object.setPrototypeOf(l,Uint8Array),l.alloc=function(t,e,n){return function(t,e,n){return u(t),t<=0?a(t):void 0!==e?"string"==typeof n?a(t).fill(e,n):a(t).fill(e):a(t)}(t,e,n)},l.allocUnsafe=function(t){return h(t)},l.allocUnsafeSlow=function(t){return h(t)},l.isBuffer=function(t){return null!=t&&!0===t._isBuffer&&t!==l.prototype},l.compare=function(t,e){if(X(t,Uint8Array)&&(t=l.from(t,t.offset,t.byteLength)),X(e,Uint8Array)&&(e=l.from(e,e.offset,e.byteLength)),!l.isBuffer(t)||!l.isBuffer(e))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(t===e)return 0;let n=t.length,r=e.length;for(let i=0,o=Math.min(n,r);i<o;++i)if(t[i]!==e[i]){n=t[i],r=e[i];break}return n<r?-1:r<n?1:0},l.isEncoding=function(t){switch(String(t).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},l.concat=function(t,e){if(!Array.isArray(t))throw new TypeError('"list" argument must be an Array of Buffers');if(0===t.length)return l.alloc(0);let n;if(void 0===e)for(e=0,n=0;n<t.length;++n)e+=t[n].length;const r=l.allocUnsafe(e);let i=0;for(n=0;n<t.length;++n){let e=t[n];if(X(e,Uint8Array))i+e.length>r.length?(l.isBuffer(e)||(e=l.from(e)),e.copy(r,i)):Uint8Array.prototype.set.call(r,e,i);else{if(!l.isBuffer(e))throw new TypeError('"list" argument must be an Array of Buffers');e.copy(r,i)}i+=e.length}return r},l.byteLength=g,l.prototype._isBuffer=!0,l.prototype.swap16=function(){const t=this.length;if(t%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(let e=0;e<t;e+=2)v(this,e,e+1);return this},l.prototype.swap32=function(){const t=this.length;if(t%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(let e=0;e<t;e+=4)v(this,e,e+3),v(this,e+1,e+2);return this},l.prototype.swap64=function(){const t=this.length;if(t%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(let e=0;e<t;e+=8)v(this,e,e+7),v(this,e+1,e+6),v(this,e+2,e+5),v(this,e+3,e+4);return this},l.prototype.toString=function(){const t=this.length;return 0===t?"":0===arguments.length?T(this,0,t):y.apply(this,arguments)},l.prototype.toLocaleString=l.prototype.toString,l.prototype.equals=function(t){if(!l.isBuffer(t))throw new TypeError("Argument must be a Buffer");return this===t||0===l.compare(this,t)},l.prototype.inspect=function(){let t="";const n=e.INSPECT_MAX_BYTES;return t=this.toString("hex",0,n).replace(/(.{2})/g,"$1 ").trim(),this.length>n&&(t+=" ... "),"<Buffer "+t+">"},o&&(l.prototype[o]=l.prototype.inspect),l.prototype.compare=function(t,e,n,r,i){if(X(t,Uint8Array)&&(t=l.from(t,t.offset,t.byteLength)),!l.isBuffer(t))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof t);if(void 0===e&&(e=0),void 0===n&&(n=t?t.length:0),void 0===r&&(r=0),void 0===i&&(i=this.length),e<0||n>t.length||r<0||i>this.length)throw new RangeError("out of range index");if(r>=i&&e>=n)return 0;if(r>=i)return-1;if(e>=n)return 1;if(this===t)return 0;let o=(i>>>=0)-(r>>>=0),s=(n>>>=0)-(e>>>=0);const a=Math.min(o,s),c=this.slice(r,i),u=t.slice(e,n);for(let t=0;t<a;++t)if(c[t]!==u[t]){o=c[t],s=u[t];break}return o<s?-1:s<o?1:0},l.prototype.includes=function(t,e,n){return-1!==this.indexOf(t,e,n)},l.prototype.indexOf=function(t,e,n){return m(this,t,e,n,!0)},l.prototype.lastIndexOf=function(t,e,n){return m(this,t,e,n,!1)},l.prototype.write=function(t,e,n,r){if(void 0===e)r="utf8",n=this.length,e=0;else if(void 0===n&&"string"==typeof e)r=e,n=this.length,e=0;else{if(!isFinite(e))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");e>>>=0,isFinite(n)?(n>>>=0,void 0===r&&(r="utf8")):(r=n,n=void 0)}const i=this.length-e;if((void 0===n||n>i)&&(n=i),t.length>0&&(n<0||e<0)||e>this.length)throw new RangeError("Attempt to write outside buffer bounds");r||(r="utf8");let o=!1;for(;;)switch(r){case"hex":return b(this,t,e,n);case"utf8":case"utf-8":return E(this,t,e,n);case"ascii":case"latin1":case"binary":return _(this,t,e,n);case"base64":return x(this,t,e,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return A(this,t,e,n);default:if(o)throw new TypeError("Unknown encoding: "+r);r=(""+r).toLowerCase(),o=!0}},l.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};const R=4096;function I(t,e,n){let r="";n=Math.min(t.length,n);for(let i=e;i<n;++i)r+=String.fromCharCode(127&t[i]);return r}function k(t,e,n){let r="";n=Math.min(t.length,n);for(let i=e;i<n;++i)r+=String.fromCharCode(t[i]);return r}function O(t,e,n){const r=t.length;(!e||e<0)&&(e=0),(!n||n<0||n>r)&&(n=r);let i="";for(let r=e;r<n;++r)i+=J[t[r]];return i}function N(t,e,n){const r=t.slice(e,n);let i="";for(let t=0;t<r.length-1;t+=2)i+=String.fromCharCode(r[t]+256*r[t+1]);return i}function C(t,e,n){if(t%1!=0||t<0)throw new RangeError("offset is not uint");if(t+e>n)throw new RangeError("Trying to access beyond buffer length")}function P(t,e,n,r,i,o){if(!l.isBuffer(t))throw new TypeError('"buffer" argument must be a Buffer instance');if(e>i||e<o)throw new RangeError('"value" argument is out of bounds');if(n+r>t.length)throw new RangeError("Index out of range")}function L(t,e,n,r,i){W(e,r,i,t,n,7);let o=Number(e&BigInt(4294967295));t[n++]=o,o>>=8,t[n++]=o,o>>=8,t[n++]=o,o>>=8,t[n++]=o;let s=Number(e>>BigInt(32)&BigInt(4294967295));return t[n++]=s,s>>=8,t[n++]=s,s>>=8,t[n++]=s,s>>=8,t[n++]=s,n}function B(t,e,n,r,i){W(e,r,i,t,n,7);let o=Number(e&BigInt(4294967295));t[n+7]=o,o>>=8,t[n+6]=o,o>>=8,t[n+5]=o,o>>=8,t[n+4]=o;let s=Number(e>>BigInt(32)&BigInt(4294967295));return t[n+3]=s,s>>=8,t[n+2]=s,s>>=8,t[n+1]=s,s>>=8,t[n]=s,n+8}function M(t,e,n,r,i,o){if(n+r>t.length)throw new RangeError("Index out of range");if(n<0)throw new RangeError("Index out of range")}function U(t,e,n,r,o){return e=+e,n>>>=0,o||M(t,0,n,4),i.write(t,e,n,r,23,4),n+4}function D(t,e,n,r,o){return e=+e,n>>>=0,o||M(t,0,n,8),i.write(t,e,n,r,52,8),n+8}l.prototype.slice=function(t,e){const n=this.length;(t=~~t)<0?(t+=n)<0&&(t=0):t>n&&(t=n),(e=void 0===e?n:~~e)<0?(e+=n)<0&&(e=0):e>n&&(e=n),e<t&&(e=t);const r=this.subarray(t,e);return Object.setPrototypeOf(r,l.prototype),r},l.prototype.readUintLE=l.prototype.readUIntLE=function(t,e,n){t>>>=0,e>>>=0,n||C(t,e,this.length);let r=this[t],i=1,o=0;for(;++o<e&&(i*=256);)r+=this[t+o]*i;return r},l.prototype.readUintBE=l.prototype.readUIntBE=function(t,e,n){t>>>=0,e>>>=0,n||C(t,e,this.length);let r=this[t+--e],i=1;for(;e>0&&(i*=256);)r+=this[t+--e]*i;return r},l.prototype.readUint8=l.prototype.readUInt8=function(t,e){return t>>>=0,e||C(t,1,this.length),this[t]},l.prototype.readUint16LE=l.prototype.readUInt16LE=function(t,e){return t>>>=0,e||C(t,2,this.length),this[t]|this[t+1]<<8},l.prototype.readUint16BE=l.prototype.readUInt16BE=function(t,e){return t>>>=0,e||C(t,2,this.length),this[t]<<8|this[t+1]},l.prototype.readUint32LE=l.prototype.readUInt32LE=function(t,e){return t>>>=0,e||C(t,4,this.length),(this[t]|this[t+1]<<8|this[t+2]<<16)+16777216*this[t+3]},l.prototype.readUint32BE=l.prototype.readUInt32BE=function(t,e){return t>>>=0,e||C(t,4,this.length),16777216*this[t]+(this[t+1]<<16|this[t+2]<<8|this[t+3])},l.prototype.readBigUInt64LE=Z((function(t){q(t>>>=0,"offset");const e=this[t],n=this[t+7];void 0!==e&&void 0!==n||F(t,this.length-8);const r=e+256*this[++t]+65536*this[++t]+this[++t]*2**24,i=this[++t]+256*this[++t]+65536*this[++t]+n*2**24;return BigInt(r)+(BigInt(i)<<BigInt(32))})),l.prototype.readBigUInt64BE=Z((function(t){q(t>>>=0,"offset");const e=this[t],n=this[t+7];void 0!==e&&void 0!==n||F(t,this.length-8);const r=e*2**24+65536*this[++t]+256*this[++t]+this[++t],i=this[++t]*2**24+65536*this[++t]+256*this[++t]+n;return(BigInt(r)<<BigInt(32))+BigInt(i)})),l.prototype.readIntLE=function(t,e,n){t>>>=0,e>>>=0,n||C(t,e,this.length);let r=this[t],i=1,o=0;for(;++o<e&&(i*=256);)r+=this[t+o]*i;return i*=128,r>=i&&(r-=Math.pow(2,8*e)),r},l.prototype.readIntBE=function(t,e,n){t>>>=0,e>>>=0,n||C(t,e,this.length);let r=e,i=1,o=this[t+--r];for(;r>0&&(i*=256);)o+=this[t+--r]*i;return i*=128,o>=i&&(o-=Math.pow(2,8*e)),o},l.prototype.readInt8=function(t,e){return t>>>=0,e||C(t,1,this.length),128&this[t]?-1*(255-this[t]+1):this[t]},l.prototype.readInt16LE=function(t,e){t>>>=0,e||C(t,2,this.length);const n=this[t]|this[t+1]<<8;return 32768&n?4294901760|n:n},l.prototype.readInt16BE=function(t,e){t>>>=0,e||C(t,2,this.length);const n=this[t+1]|this[t]<<8;return 32768&n?4294901760|n:n},l.prototype.readInt32LE=function(t,e){return t>>>=0,e||C(t,4,this.length),this[t]|this[t+1]<<8|this[t+2]<<16|this[t+3]<<24},l.prototype.readInt32BE=function(t,e){return t>>>=0,e||C(t,4,this.length),this[t]<<24|this[t+1]<<16|this[t+2]<<8|this[t+3]},l.prototype.readBigInt64LE=Z((function(t){q(t>>>=0,"offset");const e=this[t],n=this[t+7];void 0!==e&&void 0!==n||F(t,this.length-8);const r=this[t+4]+256*this[t+5]+65536*this[t+6]+(n<<24);return(BigInt(r)<<BigInt(32))+BigInt(e+256*this[++t]+65536*this[++t]+this[++t]*2**24)})),l.prototype.readBigInt64BE=Z((function(t){q(t>>>=0,"offset");const e=this[t],n=this[t+7];void 0!==e&&void 0!==n||F(t,this.length-8);const r=(e<<24)+65536*this[++t]+256*this[++t]+this[++t];return(BigInt(r)<<BigInt(32))+BigInt(this[++t]*2**24+65536*this[++t]+256*this[++t]+n)})),l.prototype.readFloatLE=function(t,e){return t>>>=0,e||C(t,4,this.length),i.read(this,t,!0,23,4)},l.prototype.readFloatBE=function(t,e){return t>>>=0,e||C(t,4,this.length),i.read(this,t,!1,23,4)},l.prototype.readDoubleLE=function(t,e){return t>>>=0,e||C(t,8,this.length),i.read(this,t,!0,52,8)},l.prototype.readDoubleBE=function(t,e){return t>>>=0,e||C(t,8,this.length),i.read(this,t,!1,52,8)},l.prototype.writeUintLE=l.prototype.writeUIntLE=function(t,e,n,r){t=+t,e>>>=0,n>>>=0,r||P(this,t,e,n,Math.pow(2,8*n)-1,0);let i=1,o=0;for(this[e]=255&t;++o<n&&(i*=256);)this[e+o]=t/i&255;return e+n},l.prototype.writeUintBE=l.prototype.writeUIntBE=function(t,e,n,r){t=+t,e>>>=0,n>>>=0,r||P(this,t,e,n,Math.pow(2,8*n)-1,0);let i=n-1,o=1;for(this[e+i]=255&t;--i>=0&&(o*=256);)this[e+i]=t/o&255;return e+n},l.prototype.writeUint8=l.prototype.writeUInt8=function(t,e,n){return t=+t,e>>>=0,n||P(this,t,e,1,255,0),this[e]=255&t,e+1},l.prototype.writeUint16LE=l.prototype.writeUInt16LE=function(t,e,n){return t=+t,e>>>=0,n||P(this,t,e,2,65535,0),this[e]=255&t,this[e+1]=t>>>8,e+2},l.prototype.writeUint16BE=l.prototype.writeUInt16BE=function(t,e,n){return t=+t,e>>>=0,n||P(this,t,e,2,65535,0),this[e]=t>>>8,this[e+1]=255&t,e+2},l.prototype.writeUint32LE=l.prototype.writeUInt32LE=function(t,e,n){return t=+t,e>>>=0,n||P(this,t,e,4,4294967295,0),this[e+3]=t>>>24,this[e+2]=t>>>16,this[e+1]=t>>>8,this[e]=255&t,e+4},l.prototype.writeUint32BE=l.prototype.writeUInt32BE=function(t,e,n){return t=+t,e>>>=0,n||P(this,t,e,4,4294967295,0),this[e]=t>>>24,this[e+1]=t>>>16,this[e+2]=t>>>8,this[e+3]=255&t,e+4},l.prototype.writeBigUInt64LE=Z((function(t,e=0){return L(this,t,e,BigInt(0),BigInt("0xffffffffffffffff"))})),l.prototype.writeBigUInt64BE=Z((function(t,e=0){return B(this,t,e,BigInt(0),BigInt("0xffffffffffffffff"))})),l.prototype.writeIntLE=function(t,e,n,r){if(t=+t,e>>>=0,!r){const r=Math.pow(2,8*n-1);P(this,t,e,n,r-1,-r)}let i=0,o=1,s=0;for(this[e]=255&t;++i<n&&(o*=256);)t<0&&0===s&&0!==this[e+i-1]&&(s=1),this[e+i]=(t/o>>0)-s&255;return e+n},l.prototype.writeIntBE=function(t,e,n,r){if(t=+t,e>>>=0,!r){const r=Math.pow(2,8*n-1);P(this,t,e,n,r-1,-r)}let i=n-1,o=1,s=0;for(this[e+i]=255&t;--i>=0&&(o*=256);)t<0&&0===s&&0!==this[e+i+1]&&(s=1),this[e+i]=(t/o>>0)-s&255;return e+n},l.prototype.writeInt8=function(t,e,n){return t=+t,e>>>=0,n||P(this,t,e,1,127,-128),t<0&&(t=255+t+1),this[e]=255&t,e+1},l.prototype.writeInt16LE=function(t,e,n){return t=+t,e>>>=0,n||P(this,t,e,2,32767,-32768),this[e]=255&t,this[e+1]=t>>>8,e+2},l.prototype.writeInt16BE=function(t,e,n){return t=+t,e>>>=0,n||P(this,t,e,2,32767,-32768),this[e]=t>>>8,this[e+1]=255&t,e+2},l.prototype.writeInt32LE=function(t,e,n){return t=+t,e>>>=0,n||P(this,t,e,4,2147483647,-2147483648),this[e]=255&t,this[e+1]=t>>>8,this[e+2]=t>>>16,this[e+3]=t>>>24,e+4},l.prototype.writeInt32BE=function(t,e,n){return t=+t,e>>>=0,n||P(this,t,e,4,2147483647,-2147483648),t<0&&(t=4294967295+t+1),this[e]=t>>>24,this[e+1]=t>>>16,this[e+2]=t>>>8,this[e+3]=255&t,e+4},l.prototype.writeBigInt64LE=Z((function(t,e=0){return L(this,t,e,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))})),l.prototype.writeBigInt64BE=Z((function(t,e=0){return B(this,t,e,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))})),l.prototype.writeFloatLE=function(t,e,n){return U(this,t,e,!0,n)},l.prototype.writeFloatBE=function(t,e,n){return U(this,t,e,!1,n)},l.prototype.writeDoubleLE=function(t,e,n){return D(this,t,e,!0,n)},l.prototype.writeDoubleBE=function(t,e,n){return D(this,t,e,!1,n)},l.prototype.copy=function(t,e,n,r){if(!l.isBuffer(t))throw new TypeError("argument should be a Buffer");if(n||(n=0),r||0===r||(r=this.length),e>=t.length&&(e=t.length),e||(e=0),r>0&&r<n&&(r=n),r===n)return 0;if(0===t.length||0===this.length)return 0;if(e<0)throw new RangeError("targetStart out of bounds");if(n<0||n>=this.length)throw new RangeError("Index out of range");if(r<0)throw new RangeError("sourceEnd out of bounds");r>this.length&&(r=this.length),t.length-e<r-n&&(r=t.length-e+n);const i=r-n;return this===t&&"function"==typeof Uint8Array.prototype.copyWithin?this.copyWithin(e,n,r):Uint8Array.prototype.set.call(t,this.subarray(n,r),e),i},l.prototype.fill=function(t,e,n,r){if("string"==typeof t){if("string"==typeof e?(r=e,e=0,n=this.length):"string"==typeof n&&(r=n,n=this.length),void 0!==r&&"string"!=typeof r)throw new TypeError("encoding must be a string");if("string"==typeof r&&!l.isEncoding(r))throw new TypeError("Unknown encoding: "+r);if(1===t.length){const e=t.charCodeAt(0);("utf8"===r&&e<128||"latin1"===r)&&(t=e)}}else"number"==typeof t?t&=255:"boolean"==typeof t&&(t=Number(t));if(e<0||this.length<e||this.length<n)throw new RangeError("Out of range index");if(n<=e)return this;let i;if(e>>>=0,n=void 0===n?this.length:n>>>0,t||(t=0),"number"==typeof t)for(i=e;i<n;++i)this[i]=t;else{const o=l.isBuffer(t)?t:l.from(t,r),s=o.length;if(0===s)throw new TypeError('The value "'+t+'" is invalid for argument "value"');for(i=0;i<n-e;++i)this[i+e]=o[i%s]}return this};const j={};function K(t,e,n){j[t]=class extends n{constructor(){super(),Object.defineProperty(this,"message",{value:e.apply(this,arguments),writable:!0,configurable:!0}),this.name=`${this.name} [${t}]`,this.stack,delete this.name}get code(){return t}set code(t){Object.defineProperty(this,"code",{configurable:!0,enumerable:!0,value:t,writable:!0})}toString(){return`${this.name} [${t}]: ${this.message}`}}}function H(t){let e="",n=t.length;const r="-"===t[0]?1:0;for(;n>=r+4;n-=3)e=`_${t.slice(n-3,n)}${e}`;return`${t.slice(0,n)}${e}`}function W(t,e,n,r,i,o){if(t>n||t<e){const r="bigint"==typeof e?"n":"";let i;throw i=o>3?0===e||e===BigInt(0)?`>= 0${r} and < 2${r} ** ${8*(o+1)}${r}`:`>= -(2${r} ** ${8*(o+1)-1}${r}) and < 2 ** ${8*(o+1)-1}${r}`:`>= ${e}${r} and <= ${n}${r}`,new j.ERR_OUT_OF_RANGE("value",i,t)}!function(t,e,n){q(e,"offset"),void 0!==t[e]&&void 0!==t[e+n]||F(e,t.length-(n+1))}(r,i,o)}function q(t,e){if("number"!=typeof t)throw new j.ERR_INVALID_ARG_TYPE(e,"number",t)}function F(t,e,n){if(Math.floor(t)!==t)throw q(t,n),new j.ERR_OUT_OF_RANGE(n||"offset","an integer",t);if(e<0)throw new j.ERR_BUFFER_OUT_OF_BOUNDS;throw new j.ERR_OUT_OF_RANGE(n||"offset",`>= ${n?1:0} and <= ${e}`,t)}K("ERR_BUFFER_OUT_OF_BOUNDS",(function(t){return t?`${t} is outside of buffer bounds`:"Attempt to access memory outside buffer bounds"}),RangeError),K("ERR_INVALID_ARG_TYPE",(function(t,e){return`The "${t}" argument must be of type number. Received type ${typeof e}`}),TypeError),K("ERR_OUT_OF_RANGE",(function(t,e,n){let r=`The value of "${t}" is out of range.`,i=n;return Number.isInteger(n)&&Math.abs(n)>2**32?i=H(String(n)):"bigint"==typeof n&&(i=String(n),(n>BigInt(2)**BigInt(32)||n<-(BigInt(2)**BigInt(32)))&&(i=H(i)),i+="n"),r+=` It must be ${e}. Received ${i}`,r}),RangeError);const G=/[^+/0-9A-Za-z-_]/g;function z(t,e){let n;e=e||1/0;const r=t.length;let i=null;const o=[];for(let s=0;s<r;++s){if(n=t.charCodeAt(s),n>55295&&n<57344){if(!i){if(n>56319){(e-=3)>-1&&o.push(239,191,189);continue}if(s+1===r){(e-=3)>-1&&o.push(239,191,189);continue}i=n;continue}if(n<56320){(e-=3)>-1&&o.push(239,191,189),i=n;continue}n=65536+(i-55296<<10|n-56320)}else i&&(e-=3)>-1&&o.push(239,191,189);if(i=null,n<128){if((e-=1)<0)break;o.push(n)}else if(n<2048){if((e-=2)<0)break;o.push(n>>6|192,63&n|128)}else if(n<65536){if((e-=3)<0)break;o.push(n>>12|224,n>>6&63|128,63&n|128)}else{if(!(n<1114112))throw new Error("Invalid code point");if((e-=4)<0)break;o.push(n>>18|240,n>>12&63|128,n>>6&63|128,63&n|128)}}return o}function V(t){return r.toByteArray(function(t){if((t=(t=t.split("=")[0]).trim().replace(G,"")).length<2)return"";for(;t.length%4!=0;)t+="=";return t}(t))}function Q(t,e,n,r){let i;for(i=0;i<r&&!(i+n>=e.length||i>=t.length);++i)e[i+n]=t[i];return i}function X(t,e){return t instanceof e||null!=t&&null!=t.constructor&&null!=t.constructor.name&&t.constructor.name===e.name}function Y(t){return t!=t}const J=function(){const t="0123456789abcdef",e=new Array(256);for(let n=0;n<16;++n){const r=16*n;for(let i=0;i<16;++i)e[r+i]=t[n]+t[i]}return e}();function Z(t){return"undefined"==typeof BigInt?$:t}function $(){throw new Error("BigInt not supported")}},1027:(t,e,n)=>{var r=n(9509).Buffer,i=n(2830).Transform,o=n(2553).s;function s(t){i.call(this),this.hashMode="string"==typeof t,this.hashMode?this[t]=this._finalOrDigest:this.final=this._finalOrDigest,this._final&&(this.__final=this._final,this._final=null),this._decoder=null,this._encoding=null}n(5717)(s,i),s.prototype.update=function(t,e,n){"string"==typeof t&&(t=r.from(t,e));var i=this._update(t);return this.hashMode?this:(n&&(i=this._toString(i,n)),i)},s.prototype.setAutoPadding=function(){},s.prototype.getAuthTag=function(){throw new Error("trying to get auth tag in unsupported state")},s.prototype.setAuthTag=function(){throw new Error("trying to set auth tag in unsupported state")},s.prototype.setAAD=function(){throw new Error("trying to set aad in unsupported state")},s.prototype._transform=function(t,e,n){var r;try{this.hashMode?this._update(t):this.push(this._update(t))}catch(t){r=t}finally{n(r)}},s.prototype._flush=function(t){var e;try{this.push(this.__final())}catch(t){e=t}t(e)},s.prototype._finalOrDigest=function(t){var e=this.__final()||r.alloc(0);return t&&(e=this._toString(e,t,!0)),e},s.prototype._toString=function(t,e,n){if(this._decoder||(this._decoder=new o(e),this._encoding=e),this._encoding!==e)throw new Error("can't switch encodings");var r=this._decoder.write(t);return n&&(r+=this._decoder.end()),r},t.exports=s},3482:(t,e,n)=>{"use strict";var r=n(5717),i=n(2318),o=n(9785),s=n(9072),a=n(1027);function l(t){a.call(this,"digest"),this._hash=t}r(l,a),l.prototype._update=function(t){this._hash.update(t)},l.prototype._final=function(){return this._hash.digest()},t.exports=function(t){return"md5"===(t=t.toLowerCase())?new i:"rmd160"===t||"ripemd160"===t?new o:new l(s(t))}},4098:function(t,e){var n="undefined"!=typeof self?self:this,r=function(){function t(){this.fetch=!1,this.DOMException=n.DOMException}return t.prototype=n,new t}();!function(t){!function(e){var n={searchParams:"URLSearchParams"in t,iterable:"Symbol"in t&&"iterator"in Symbol,blob:"FileReader"in t&&"Blob"in t&&function(){try{return new Blob,!0}catch(t){return!1}}(),formData:"FormData"in t,arrayBuffer:"ArrayBuffer"in t};if(n.arrayBuffer)var r=["[object Int8Array]","[object Uint8Array]","[object Uint8ClampedArray]","[object Int16Array]","[object Uint16Array]","[object Int32Array]","[object Uint32Array]","[object Float32Array]","[object Float64Array]"],i=ArrayBuffer.isView||function(t){return t&&r.indexOf(Object.prototype.toString.call(t))>-1};function o(t){if("string"!=typeof t&&(t=String(t)),/[^a-z0-9\-#$%&'*+.^_`|~]/i.test(t))throw new TypeError("Invalid character in header field name");return t.toLowerCase()}function s(t){return"string"!=typeof t&&(t=String(t)),t}function a(t){var e={next:function(){var e=t.shift();return{done:void 0===e,value:e}}};return n.iterable&&(e[Symbol.iterator]=function(){return e}),e}function l(t){this.map={},t instanceof l?t.forEach((function(t,e){this.append(e,t)}),this):Array.isArray(t)?t.forEach((function(t){this.append(t[0],t[1])}),this):t&&Object.getOwnPropertyNames(t).forEach((function(e){this.append(e,t[e])}),this)}function c(t){if(t.bodyUsed)return Promise.reject(new TypeError("Already read"));t.bodyUsed=!0}function u(t){return new Promise((function(e,n){t.onload=function(){e(t.result)},t.onerror=function(){n(t.error)}}))}function h(t){var e=new FileReader,n=u(e);return e.readAsArrayBuffer(t),n}function f(t){if(t.slice)return t.slice(0);var e=new Uint8Array(t.byteLength);return e.set(new Uint8Array(t)),e.buffer}function d(){return this.bodyUsed=!1,this._initBody=function(t){var e;this._bodyInit=t,t?"string"==typeof t?this._bodyText=t:n.blob&&Blob.prototype.isPrototypeOf(t)?this._bodyBlob=t:n.formData&&FormData.prototype.isPrototypeOf(t)?this._bodyFormData=t:n.searchParams&&URLSearchParams.prototype.isPrototypeOf(t)?this._bodyText=t.toString():n.arrayBuffer&&n.blob&&(e=t)&&DataView.prototype.isPrototypeOf(e)?(this._bodyArrayBuffer=f(t.buffer),this._bodyInit=new Blob([this._bodyArrayBuffer])):n.arrayBuffer&&(ArrayBuffer.prototype.isPrototypeOf(t)||i(t))?this._bodyArrayBuffer=f(t):this._bodyText=t=Object.prototype.toString.call(t):this._bodyText="",this.headers.get("content-type")||("string"==typeof t?this.headers.set("content-type","text/plain;charset=UTF-8"):this._bodyBlob&&this._bodyBlob.type?this.headers.set("content-type",this._bodyBlob.type):n.searchParams&&URLSearchParams.prototype.isPrototypeOf(t)&&this.headers.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"))},n.blob&&(this.blob=function(){var t=c(this);if(t)return t;if(this._bodyBlob)return Promise.resolve(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(new Blob([this._bodyArrayBuffer]));if(this._bodyFormData)throw new Error("could not read FormData body as blob");return Promise.resolve(new Blob([this._bodyText]))},this.arrayBuffer=function(){return this._bodyArrayBuffer?c(this)||Promise.resolve(this._bodyArrayBuffer):this.blob().then(h)}),this.text=function(){var t,e,n,r=c(this);if(r)return r;if(this._bodyBlob)return t=this._bodyBlob,n=u(e=new FileReader),e.readAsText(t),n;if(this._bodyArrayBuffer)return Promise.resolve(function(t){for(var e=new Uint8Array(t),n=new Array(e.length),r=0;r<e.length;r++)n[r]=String.fromCharCode(e[r]);return n.join("")}(this._bodyArrayBuffer));if(this._bodyFormData)throw new Error("could not read FormData body as text");return Promise.resolve(this._bodyText)},n.formData&&(this.formData=function(){return this.text().then(y)}),this.json=function(){return this.text().then(JSON.parse)},this}l.prototype.append=function(t,e){t=o(t),e=s(e);var n=this.map[t];this.map[t]=n?n+", "+e:e},l.prototype.delete=function(t){delete this.map[o(t)]},l.prototype.get=function(t){return t=o(t),this.has(t)?this.map[t]:null},l.prototype.has=function(t){return this.map.hasOwnProperty(o(t))},l.prototype.set=function(t,e){this.map[o(t)]=s(e)},l.prototype.forEach=function(t,e){for(var n in this.map)this.map.hasOwnProperty(n)&&t.call(e,this.map[n],n,this)},l.prototype.keys=function(){var t=[];return this.forEach((function(e,n){t.push(n)})),a(t)},l.prototype.values=function(){var t=[];return this.forEach((function(e){t.push(e)})),a(t)},l.prototype.entries=function(){var t=[];return this.forEach((function(e,n){t.push([n,e])})),a(t)},n.iterable&&(l.prototype[Symbol.iterator]=l.prototype.entries);var p=["DELETE","GET","HEAD","OPTIONS","POST","PUT"];function g(t,e){var n,r,i=(e=e||{}).body;if(t instanceof g){if(t.bodyUsed)throw new TypeError("Already read");this.url=t.url,this.credentials=t.credentials,e.headers||(this.headers=new l(t.headers)),this.method=t.method,this.mode=t.mode,this.signal=t.signal,i||null==t._bodyInit||(i=t._bodyInit,t.bodyUsed=!0)}else this.url=String(t);if(this.credentials=e.credentials||this.credentials||"same-origin",!e.headers&&this.headers||(this.headers=new l(e.headers)),this.method=(r=(n=e.method||this.method||"GET").toUpperCase(),p.indexOf(r)>-1?r:n),this.mode=e.mode||this.mode||null,this.signal=e.signal||this.signal,this.referrer=null,("GET"===this.method||"HEAD"===this.method)&&i)throw new TypeError("Body not allowed for GET or HEAD requests");this._initBody(i)}function y(t){var e=new FormData;return t.trim().split("&").forEach((function(t){if(t){var n=t.split("="),r=n.shift().replace(/\+/g," "),i=n.join("=").replace(/\+/g," ");e.append(decodeURIComponent(r),decodeURIComponent(i))}})),e}function v(t,e){e||(e={}),this.type="default",this.status=void 0===e.status?200:e.status,this.ok=this.status>=200&&this.status<300,this.statusText="statusText"in e?e.statusText:"OK",this.headers=new l(e.headers),this.url=e.url||"",this._initBody(t)}g.prototype.clone=function(){return new g(this,{body:this._bodyInit})},d.call(g.prototype),d.call(v.prototype),v.prototype.clone=function(){return new v(this._bodyInit,{status:this.status,statusText:this.statusText,headers:new l(this.headers),url:this.url})},v.error=function(){var t=new v(null,{status:0,statusText:""});return t.type="error",t};var m=[301,302,303,307,308];v.redirect=function(t,e){if(-1===m.indexOf(e))throw new RangeError("Invalid status code");return new v(null,{status:e,headers:{location:t}})},e.DOMException=t.DOMException;try{new e.DOMException}catch(t){e.DOMException=function(t,e){this.message=t,this.name=e;var n=Error(t);this.stack=n.stack},e.DOMException.prototype=Object.create(Error.prototype),e.DOMException.prototype.constructor=e.DOMException}function w(t,r){return new Promise((function(i,o){var s=new g(t,r);if(s.signal&&s.signal.aborted)return o(new e.DOMException("Aborted","AbortError"));var a=new XMLHttpRequest;function c(){a.abort()}a.onload=function(){var t,e,n={status:a.status,statusText:a.statusText,headers:(t=a.getAllResponseHeaders()||"",e=new l,t.replace(/\r?\n[\t ]+/g," ").split(/\r?\n/).forEach((function(t){var n=t.split(":"),r=n.shift().trim();if(r){var i=n.join(":").trim();e.append(r,i)}})),e)};n.url="responseURL"in a?a.responseURL:n.headers.get("X-Request-URL");var r="response"in a?a.response:a.responseText;i(new v(r,n))},a.onerror=function(){o(new TypeError("Network request failed"))},a.ontimeout=function(){o(new TypeError("Network request failed"))},a.onabort=function(){o(new e.DOMException("Aborted","AbortError"))},a.open(s.method,s.url,!0),"include"===s.credentials?a.withCredentials=!0:"omit"===s.credentials&&(a.withCredentials=!1),"responseType"in a&&n.blob&&(a.responseType="blob"),s.headers.forEach((function(t,e){a.setRequestHeader(e,t)})),s.signal&&(s.signal.addEventListener("abort",c),a.onreadystatechange=function(){4===a.readyState&&s.signal.removeEventListener("abort",c)}),a.send(void 0===s._bodyInit?null:s._bodyInit)}))}w.polyfill=!0,t.fetch||(t.fetch=w,t.Headers=l,t.Request=g,t.Response=v),e.Headers=l,e.Request=g,e.Response=v,e.fetch=w,Object.defineProperty(e,"__esModule",{value:!0})}({})}(r),r.fetch.ponyfill=!0,delete r.fetch.polyfill;var i=r;(e=i.fetch).default=i.fetch,e.fetch=i.fetch,e.Headers=i.Headers,e.Request=i.Request,e.Response=i.Response,t.exports=e},7187:t=>{"use strict";var e,n="object"==typeof Reflect?Reflect:null,r=n&&"function"==typeof n.apply?n.apply:function(t,e,n){return Function.prototype.apply.call(t,e,n)};e=n&&"function"==typeof n.ownKeys?n.ownKeys:Object.getOwnPropertySymbols?function(t){return Object.getOwnPropertyNames(t).concat(Object.getOwnPropertySymbols(t))}:function(t){return Object.getOwnPropertyNames(t)};var i=Number.isNaN||function(t){return t!=t};function o(){o.init.call(this)}t.exports=o,t.exports.once=function(t,e){return new Promise((function(n,r){function i(n){t.removeListener(e,o),r(n)}function o(){"function"==typeof t.removeListener&&t.removeListener("error",i),n([].slice.call(arguments))}g(t,e,o,{once:!0}),"error"!==e&&function(t,e,n){"function"==typeof t.on&&g(t,"error",e,{once:!0})}(t,i)}))},o.EventEmitter=o,o.prototype._events=void 0,o.prototype._eventsCount=0,o.prototype._maxListeners=void 0;var s=10;function a(t){if("function"!=typeof t)throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof t)}function l(t){return void 0===t._maxListeners?o.defaultMaxListeners:t._maxListeners}function c(t,e,n,r){var i,o,s,c;if(a(n),void 0===(o=t._events)?(o=t._events=Object.create(null),t._eventsCount=0):(void 0!==o.newListener&&(t.emit("newListener",e,n.listener?n.listener:n),o=t._events),s=o[e]),void 0===s)s=o[e]=n,++t._eventsCount;else if("function"==typeof s?s=o[e]=r?[n,s]:[s,n]:r?s.unshift(n):s.push(n),(i=l(t))>0&&s.length>i&&!s.warned){s.warned=!0;var u=new Error("Possible EventEmitter memory leak detected. "+s.length+" "+String(e)+" listeners added. Use emitter.setMaxListeners() to increase limit");u.name="MaxListenersExceededWarning",u.emitter=t,u.type=e,u.count=s.length,c=u,console&&console.warn&&console.warn(c)}return t}function u(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,0===arguments.length?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function h(t,e,n){var r={fired:!1,wrapFn:void 0,target:t,type:e,listener:n},i=u.bind(r);return i.listener=n,r.wrapFn=i,i}function f(t,e,n){var r=t._events;if(void 0===r)return[];var i=r[e];return void 0===i?[]:"function"==typeof i?n?[i.listener||i]:[i]:n?function(t){for(var e=new Array(t.length),n=0;n<e.length;++n)e[n]=t[n].listener||t[n];return e}(i):p(i,i.length)}function d(t){var e=this._events;if(void 0!==e){var n=e[t];if("function"==typeof n)return 1;if(void 0!==n)return n.length}return 0}function p(t,e){for(var n=new Array(e),r=0;r<e;++r)n[r]=t[r];return n}function g(t,e,n,r){if("function"==typeof t.on)r.once?t.once(e,n):t.on(e,n);else{if("function"!=typeof t.addEventListener)throw new TypeError('The "emitter" argument must be of type EventEmitter. Received type '+typeof t);t.addEventListener(e,(function i(o){r.once&&t.removeEventListener(e,i),n(o)}))}}Object.defineProperty(o,"defaultMaxListeners",{enumerable:!0,get:function(){return s},set:function(t){if("number"!=typeof t||t<0||i(t))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+t+".");s=t}}),o.init=function(){void 0!==this._events&&this._events!==Object.getPrototypeOf(this)._events||(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},o.prototype.setMaxListeners=function(t){if("number"!=typeof t||t<0||i(t))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+t+".");return this._maxListeners=t,this},o.prototype.getMaxListeners=function(){return l(this)},o.prototype.emit=function(t){for(var e=[],n=1;n<arguments.length;n++)e.push(arguments[n]);var i="error"===t,o=this._events;if(void 0!==o)i=i&&void 0===o.error;else if(!i)return!1;if(i){var s;if(e.length>0&&(s=e[0]),s instanceof Error)throw s;var a=new Error("Unhandled error."+(s?" ("+s.message+")":""));throw a.context=s,a}var l=o[t];if(void 0===l)return!1;if("function"==typeof l)r(l,this,e);else{var c=l.length,u=p(l,c);for(n=0;n<c;++n)r(u[n],this,e)}return!0},o.prototype.addListener=function(t,e){return c(this,t,e,!1)},o.prototype.on=o.prototype.addListener,o.prototype.prependListener=function(t,e){return c(this,t,e,!0)},o.prototype.once=function(t,e){return a(e),this.on(t,h(this,t,e)),this},o.prototype.prependOnceListener=function(t,e){return a(e),this.prependListener(t,h(this,t,e)),this},o.prototype.removeListener=function(t,e){var n,r,i,o,s;if(a(e),void 0===(r=this._events))return this;if(void 0===(n=r[t]))return this;if(n===e||n.listener===e)0==--this._eventsCount?this._events=Object.create(null):(delete r[t],r.removeListener&&this.emit("removeListener",t,n.listener||e));else if("function"!=typeof n){for(i=-1,o=n.length-1;o>=0;o--)if(n[o]===e||n[o].listener===e){s=n[o].listener,i=o;break}if(i<0)return this;0===i?n.shift():function(t,e){for(;e+1<t.length;e++)t[e]=t[e+1];t.pop()}(n,i),1===n.length&&(r[t]=n[0]),void 0!==r.removeListener&&this.emit("removeListener",t,s||e)}return this},o.prototype.off=o.prototype.removeListener,o.prototype.removeAllListeners=function(t){var e,n,r;if(void 0===(n=this._events))return this;if(void 0===n.removeListener)return 0===arguments.length?(this._events=Object.create(null),this._eventsCount=0):void 0!==n[t]&&(0==--this._eventsCount?this._events=Object.create(null):delete n[t]),this;if(0===arguments.length){var i,o=Object.keys(n);for(r=0;r<o.length;++r)"removeListener"!==(i=o[r])&&this.removeAllListeners(i);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if("function"==typeof(e=n[t]))this.removeListener(t,e);else if(void 0!==e)for(r=e.length-1;r>=0;r--)this.removeListener(t,e[r]);return this},o.prototype.listeners=function(t){return f(this,t,!0)},o.prototype.rawListeners=function(t){return f(this,t,!1)},o.listenerCount=function(t,e){return"function"==typeof t.listenerCount?t.listenerCount(e):d.call(t,e)},o.prototype.listenerCount=d,o.prototype.eventNames=function(){return this._eventsCount>0?e(this._events):[]}},2445:t=>{"use strict";t.exports=function(t){var e=t.uri,n=t.name,r=t.type;this.uri=e,this.name=n,this.type=r}},804:(t,e,n)=>{"use strict";var r=n(1268);t.exports=function t(e,n,i){var o;void 0===n&&(n=""),void 0===i&&(i=r);var s=new Map;function a(t,e){var n=s.get(e);n?n.push.apply(n,t):s.set(e,t)}if(i(e))o=null,a([n],e);else{var l=n?n+".":"";if("undefined"!=typeof FileList&&e instanceof FileList)o=Array.prototype.map.call(e,(function(t,e){return a([""+l+e],t),null}));else if(Array.isArray(e))o=e.map((function(e,n){var r=t(e,""+l+n,i);return r.files.forEach(a),r.clone}));else if(e&&e.constructor===Object)for(var c in o={},e){var u=t(e[c],""+l+c,i);u.files.forEach(a),o[c]=u.clone}else o=e}return{clone:o,files:s}}},4823:(t,e,n)=>{"use strict";e.ReactNativeFile=n(2445),e.extractFiles=n(804),e.isExtractableFile=n(1268)},1268:(t,e,n)=>{"use strict";var r=n(2445);t.exports=function(t){return"undefined"!=typeof File&&t instanceof File||"undefined"!=typeof Blob&&t instanceof Blob||t instanceof r}},6230:t=>{t.exports="object"==typeof self?self.FormData:window.FormData},8458:function(t,e,n){"use strict";var r=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var i=n(4823),o=r(n(6230)),s=function(t){return i.isExtractableFile(t)||null!==t&&"object"==typeof t&&"function"==typeof t.pipe};e.default=function(t,e,n){var r=i.extractFiles({query:t,variables:e,operationName:n},"",s),a=r.clone,l=r.files;if(0===l.size){if(!Array.isArray(t))return JSON.stringify(a);if(void 0!==e&&!Array.isArray(e))throw new Error("Cannot create request body with given variable type, array expected");var c=t.reduce((function(t,n,r){return t.push({query:n,variables:e?e[r]:void 0}),t}),[]);return JSON.stringify(c)}var u=new("undefined"==typeof FormData?o.default:FormData);u.append("operations",JSON.stringify(a));var h={},f=0;return l.forEach((function(t){h[++f]=t})),u.append("map",JSON.stringify(h)),f=0,l.forEach((function(t,e){u.append(""+ ++f,e)})),u}},8687:function(t,e,n){"use strict";var r=this&&this.__assign||function(){return r=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var i in e=arguments[n])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t},r.apply(this,arguments)},i=this&&this.__createBinding||(Object.create?function(t,e,n,r){void 0===r&&(r=n),Object.defineProperty(t,r,{enumerable:!0,get:function(){return e[n]}})}:function(t,e,n,r){void 0===r&&(r=n),t[r]=e[n]}),o=this&&this.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),s=this&&this.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)"default"!==n&&Object.prototype.hasOwnProperty.call(t,n)&&i(e,t,n);return o(e,t),e},a=this&&this.__awaiter||function(t,e,n,r){return new(n||(n=Promise))((function(i,o){function s(t){try{l(r.next(t))}catch(t){o(t)}}function a(t){try{l(r.throw(t))}catch(t){o(t)}}function l(t){var e;t.done?i(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(s,a)}l((r=r.apply(t,e||[])).next())}))},l=this&&this.__generator||function(t,e){var n,r,i,o,s={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function a(o){return function(a){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return s.label++,{value:o[1],done:!1};case 5:s.label++,r=o[1],o=[0];continue;case 7:o=s.ops.pop(),s.trys.pop();continue;default:if(!((i=(i=s.trys).length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){s=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){s.label=o[1];break}if(6===o[0]&&s.label<i[1]){s.label=i[1],i=o;break}if(i&&s.label<i[2]){s.label=i[2],s.ops.push(o);break}i[2]&&s.ops.pop(),s.trys.pop();continue}o=e.call(t,s)}catch(t){o=[6,t],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,a])}}},c=this&&this.__rest||function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(null!=t&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]])}return n},u=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0}),e.gql=e.batchRequests=e.request=e.rawRequest=e.GraphQLClient=e.ClientError=void 0;var h=s(n(4098)),f=h,d=n(3033),p=u(n(8458)),g=n(8308);Object.defineProperty(e,"ClientError",{enumerable:!0,get:function(){return g.ClientError}});var y=function(t){var e={};return t&&("undefined"!=typeof Headers&&t instanceof Headers||t instanceof f.Headers?e=function(t){var e={};return t.forEach((function(t,n){e[n]=t})),e}(t):Array.isArray(t)?t.forEach((function(t){var n=t[0],r=t[1];e[n]=r})):e=t),e},v=function(t){return t.replace(/([\s,]|#[^\n\r]+)+/g," ").trim()},m=function(t){var e=t.url,n=t.query,i=t.variables,o=t.operationName,s=t.headers,c=t.fetch,u=t.fetchOptions;return a(void 0,void 0,void 0,(function(){var t;return l(this,(function(a){switch(a.label){case 0:return t=p.default(n,i,o),[4,c(e,r({method:"POST",headers:r(r({},"string"==typeof t?{"Content-Type":"application/json"}:{}),s),body:t},u))];case 1:return[2,a.sent()]}}))}))},w=function(t){var e=t.url,n=t.query,i=t.variables,o=t.operationName,s=t.headers,c=t.fetch,u=t.fetchOptions;return a(void 0,void 0,void 0,(function(){var t;return l(this,(function(a){switch(a.label){case 0:return t=function(t){var e=t.query,n=t.variables,r=t.operationName;if(!Array.isArray(e)){var i=["query="+encodeURIComponent(v(e))];return n&&i.push("variables="+encodeURIComponent(JSON.stringify(n))),r&&i.push("operationName="+encodeURIComponent(r)),i.join("&")}if(void 0!==n&&!Array.isArray(n))throw new Error("Cannot create query with given variable type, array expected");var o=e.reduce((function(t,e,r){return t.push({query:v(e),variables:n?JSON.stringify(n[r]):void 0}),t}),[]);return"query="+encodeURIComponent(JSON.stringify(o))}({query:n,variables:i,operationName:o}),[4,c(e+"?"+t,r({method:"GET",headers:s},u))];case 1:return[2,a.sent()]}}))}))},b=function(){function t(t,e){this.url=t,this.options=e||{}}return t.prototype.rawRequest=function(t,e,n){var i=this.options,o=i.headers,s=i.fetch,a=void 0===s?h.default:s,l=i.method,u=void 0===l?"POST":l,f=c(i,["headers","fetch","method"]);return E({url:this.url,query:t,variables:e,headers:r(r({},y(o)),y(n)),operationName:void 0,fetch:a,method:u,fetchOptions:f})},t.prototype.request=function(t,e,n){return a(this,void 0,void 0,(function(){var i,o,s,a,u,f,d,p,g,v,m;return l(this,(function(l){switch(l.label){case 0:return i=this.options,o=i.headers,s=i.fetch,a=void 0===s?h.default:s,u=i.method,f=void 0===u?"POST":u,d=c(i,["headers","fetch","method"]),p=this.url,g=A(t),v=g.query,m=g.operationName,[4,E({url:p,query:v,variables:e,headers:r(r({},y(o)),y(n)),operationName:m,fetch:a,method:f,fetchOptions:d})];case 1:return[2,l.sent().data]}}))}))},t.prototype.batchRequests=function(t,e){return a(this,void 0,void 0,(function(){var n,i,o,s,a,u,f,d,p,g;return l(this,(function(l){switch(l.label){case 0:return n=this.options,i=n.headers,o=n.fetch,s=void 0===o?h.default:o,a=n.method,u=void 0===a?"POST":a,f=c(n,["headers","fetch","method"]),d=this.url,p=t.map((function(t){return A(t.document).query})),g=t.map((function(t){return t.variables})),[4,E({url:d,query:p,variables:g,headers:r(r({},y(i)),y(e)),operationName:void 0,fetch:s,method:u,fetchOptions:f})];case 1:return[2,l.sent().data]}}))}))},t.prototype.setHeaders=function(t){return this.options.headers=t,this},t.prototype.setHeader=function(t,e){var n,r=this.options.headers;return r?r[t]=e:this.options.headers=((n={})[t]=e,n),this},t.prototype.setEndpoint=function(t){return this.url=t,this},t}();function E(t){var e=t.url,n=t.query,i=t.variables,o=t.headers,s=t.operationName,c=t.fetch,u=t.method,h=void 0===u?"POST":u,f=t.fetchOptions;return a(this,void 0,void 0,(function(){var t,a,u,d,p,y,v,b;return l(this,(function(l){switch(l.label){case 0:return t="POST"===h.toUpperCase()?m:w,a=Array.isArray(n),[4,t({url:e,query:n,variables:i,operationName:s,headers:o,fetch:c,fetchOptions:f})];case 1:return[4,x(u=l.sent())];case 2:if(d=l.sent(),p=a&&Array.isArray(d)?!d.some((function(t){return!t.data})):!!d.data,u.ok&&!d.errors&&p)return y=u.headers,v=u.status,[2,r(r({},a?{data:d}:d),{headers:y,status:v})];throw b="string"==typeof d?{error:d}:d,new g.ClientError(r(r({},b),{status:u.status,headers:u.headers}),{query:n,variables:i})}}))}))}function _(t,e,n,r){return a(this,void 0,void 0,(function(){return l(this,(function(i){return[2,new b(t).request(e,n,r)]}))}))}function x(t){var e=t.headers.get("Content-Type");return e&&e.startsWith("application/json")?t.json():t.text()}function A(t){var e;if("string"==typeof t)return{query:t};var n=void 0,r=t.definitions.filter((function(t){return"OperationDefinition"===t.kind}));return 1===r.length&&(n=null===(e=r[0].name)||void 0===e?void 0:e.value),{query:d.print(t),operationName:n}}e.GraphQLClient=b,e.rawRequest=function(t,e,n,r){return a(this,void 0,void 0,(function(){return l(this,(function(i){return[2,new b(t).rawRequest(e,n,r)]}))}))},e.request=_,e.batchRequests=function(t,e,n){return a(this,void 0,void 0,(function(){return l(this,(function(r){return[2,new b(t).batchRequests(e,n)]}))}))},e.default=_,e.gql=function(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];return t.reduce((function(t,n,r){return""+t+n+(r in e?e[r]:"")}),"")}},8308:function(t,e){"use strict";var n,r=this&&this.__extends||(n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},n(t,e)},function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function r(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)});Object.defineProperty(e,"__esModule",{value:!0}),e.ClientError=void 0;var i=function(t){function e(n,r){var i=this,o=e.extractMessage(n)+": "+JSON.stringify({response:n,request:r});return i=t.call(this,o)||this,Object.setPrototypeOf(i,e.prototype),i.response=n,i.request=r,"function"==typeof Error.captureStackTrace&&Error.captureStackTrace(i,e),i}return r(e,t),e.extractMessage=function(t){try{return t.errors[0].message}catch(e){return"GraphQL Error (Code: "+t.status+")"}},e}(Error);e.ClientError=i},7242:(t,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.devAssert=function(t,e){if(!Boolean(t))throw new Error(e)}},8002:(t,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.inspect=function(t){return i(t,[])};const n=10,r=2;function i(t,e){switch(typeof t){case"string":return JSON.stringify(t);case"function":return t.name?`[function ${t.name}]`:"[function]";case"object":return function(t,e){if(null===t)return"null";if(e.includes(t))return"[Circular]";const o=[...e,t];if(function(t){return"function"==typeof t.toJSON}(t)){const e=t.toJSON();if(e!==t)return"string"==typeof e?e:i(e,o)}else if(Array.isArray(t))return function(t,e){if(0===t.length)return"[]";if(e.length>r)return"[Array]";const o=Math.min(n,t.length),s=t.length-o,a=[];for(let n=0;n<o;++n)a.push(i(t[n],e));return 1===s?a.push("... 1 more item"):s>1&&a.push(`... ${s} more items`),"["+a.join(", ")+"]"}(t,o);return function(t,e){const n=Object.entries(t);if(0===n.length)return"{}";if(e.length>r)return"["+function(t){const e=Object.prototype.toString.call(t).replace(/^\[object /,"").replace(/]$/,"");if("Object"===e&&"function"==typeof t.constructor){const e=t.constructor.name;if("string"==typeof e&&""!==e)return e}return e}(t)+"]";const o=n.map((([t,n])=>t+": "+i(n,e)));return"{ "+o.join(", ")+" }"}(t,o)}(t,e);default:return String(t)}}},1807:(t,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Token=e.QueryDocumentKeys=e.OperationTypeNode=e.Location=void 0,e.isNode=function(t){const e=null==t?void 0:t.kind;return"string"==typeof e&&o.has(e)};class n{constructor(t,e,n){this.start=t.start,this.end=e.end,this.startToken=t,this.endToken=e,this.source=n}get[Symbol.toStringTag](){return"Location"}toJSON(){return{start:this.start,end:this.end}}}e.Location=n;class r{constructor(t,e,n,r,i,o){this.kind=t,this.start=e,this.end=n,this.line=r,this.column=i,this.value=o,this.prev=null,this.next=null}get[Symbol.toStringTag](){return"Token"}toJSON(){return{kind:this.kind,value:this.value,line:this.line,column:this.column}}}e.Token=r;const i={Name:[],Document:["definitions"],OperationDefinition:["name","variableDefinitions","directives","selectionSet"],VariableDefinition:["variable","type","defaultValue","directives"],Variable:["name"],SelectionSet:["selections"],Field:["alias","name","arguments","directives","selectionSet"],Argument:["name","value"],FragmentSpread:["name","directives"],InlineFragment:["typeCondition","directives","selectionSet"],FragmentDefinition:["name","variableDefinitions","typeCondition","directives","selectionSet"],IntValue:[],FloatValue:[],StringValue:[],BooleanValue:[],NullValue:[],EnumValue:[],ListValue:["values"],ObjectValue:["fields"],ObjectField:["name","value"],Directive:["name","arguments"],NamedType:["name"],ListType:["type"],NonNullType:["type"],SchemaDefinition:["description","directives","operationTypes"],OperationTypeDefinition:["type"],ScalarTypeDefinition:["description","name","directives"],ObjectTypeDefinition:["description","name","interfaces","directives","fields"],FieldDefinition:["description","name","arguments","type","directives"],InputValueDefinition:["description","name","type","defaultValue","directives"],InterfaceTypeDefinition:["description","name","interfaces","directives","fields"],UnionTypeDefinition:["description","name","directives","types"],EnumTypeDefinition:["description","name","directives","values"],EnumValueDefinition:["description","name","directives"],InputObjectTypeDefinition:["description","name","directives","fields"],DirectiveDefinition:["description","name","arguments","locations"],SchemaExtension:["directives","operationTypes"],ScalarTypeExtension:["name","directives"],ObjectTypeExtension:["name","interfaces","directives","fields"],InterfaceTypeExtension:["name","interfaces","directives","fields"],UnionTypeExtension:["name","directives","types"],EnumTypeExtension:["name","directives","values"],InputObjectTypeExtension:["name","directives","fields"]};e.QueryDocumentKeys=i;const o=new Set(Object.keys(i));var s;e.OperationTypeNode=s,function(t){t.QUERY="query",t.MUTATION="mutation",t.SUBSCRIPTION="subscription"}(s||(e.OperationTypeNode=s={}))},849:(t,e,n)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.dedentBlockStringLines=function(t){var e;let n=Number.MAX_SAFE_INTEGER,r=null,o=-1;for(let e=0;e<t.length;++e){var s;const a=t[e],l=i(a);l!==a.length&&(r=null!==(s=r)&&void 0!==s?s:e,o=e,0!==e&&l<n&&(n=l))}return t.map(((t,e)=>0===e?t:t.slice(n))).slice(null!==(e=r)&&void 0!==e?e:0,o+1)},e.isPrintableAsBlockString=function(t){if(""===t)return!0;let e=!0,n=!1,r=!0,i=!1;for(let o=0;o<t.length;++o)switch(t.codePointAt(o)){case 0:case 1:case 2:case 3:case 4:case 5:case 6:case 7:case 8:case 11:case 12:case 14:case 15:case 13:return!1;case 10:if(e&&!i)return!1;i=!0,e=!0,n=!1;break;case 9:case 32:n||(n=e);break;default:r&&(r=n),e=!1}return!e&&(!r||!i)},e.printBlockString=function(t,e){const n=t.replace(/"""/g,'\\"""'),i=n.split(/\r\n|[\n\r]/g),o=1===i.length,s=i.length>1&&i.slice(1).every((t=>0===t.length||(0,r.isWhiteSpace)(t.charCodeAt(0)))),a=n.endsWith('\\"""'),l=t.endsWith('"')&&!a,c=t.endsWith("\\"),u=l||c,h=!(null!=e&&e.minimize)&&(!o||t.length>70||u||s||a);let f="";const d=o&&(0,r.isWhiteSpace)(t.charCodeAt(0));return(h&&!d||s)&&(f+="\n"),f+=n,(h||u)&&(f+="\n"),'"""'+f+'"""'};var r=n(100);function i(t){let e=0;for(;e<t.length&&(0,r.isWhiteSpace)(t.charCodeAt(e));)++e;return e}},100:(t,e)=>{"use strict";function n(t){return t>=48&&t<=57}function r(t){return t>=97&&t<=122||t>=65&&t<=90}Object.defineProperty(e,"__esModule",{value:!0}),e.isDigit=n,e.isLetter=r,e.isNameContinue=function(t){return r(t)||n(t)||95===t},e.isNameStart=function(t){return r(t)||95===t},e.isWhiteSpace=function(t){return 9===t||32===t}},2828:(t,e)=>{"use strict";var n;Object.defineProperty(e,"__esModule",{value:!0}),e.Kind=void 0,e.Kind=n,function(t){t.NAME="Name",t.DOCUMENT="Document",t.OPERATION_DEFINITION="OperationDefinition",t.VARIABLE_DEFINITION="VariableDefinition",t.SELECTION_SET="SelectionSet",t.FIELD="Field",t.ARGUMENT="Argument",t.FRAGMENT_SPREAD="FragmentSpread",t.INLINE_FRAGMENT="InlineFragment",t.FRAGMENT_DEFINITION="FragmentDefinition",t.VARIABLE="Variable",t.INT="IntValue",t.FLOAT="FloatValue",t.STRING="StringValue",t.BOOLEAN="BooleanValue",t.NULL="NullValue",t.ENUM="EnumValue",t.LIST="ListValue",t.OBJECT="ObjectValue",t.OBJECT_FIELD="ObjectField",t.DIRECTIVE="Directive",t.NAMED_TYPE="NamedType",t.LIST_TYPE="ListType",t.NON_NULL_TYPE="NonNullType",t.SCHEMA_DEFINITION="SchemaDefinition",t.OPERATION_TYPE_DEFINITION="OperationTypeDefinition",t.SCALAR_TYPE_DEFINITION="ScalarTypeDefinition",t.OBJECT_TYPE_DEFINITION="ObjectTypeDefinition",t.FIELD_DEFINITION="FieldDefinition",t.INPUT_VALUE_DEFINITION="InputValueDefinition",t.INTERFACE_TYPE_DEFINITION="InterfaceTypeDefinition",t.UNION_TYPE_DEFINITION="UnionTypeDefinition",t.ENUM_TYPE_DEFINITION="EnumTypeDefinition",t.ENUM_VALUE_DEFINITION="EnumValueDefinition",t.INPUT_OBJECT_TYPE_DEFINITION="InputObjectTypeDefinition",t.DIRECTIVE_DEFINITION="DirectiveDefinition",t.SCHEMA_EXTENSION="SchemaExtension",t.SCALAR_TYPE_EXTENSION="ScalarTypeExtension",t.OBJECT_TYPE_EXTENSION="ObjectTypeExtension",t.INTERFACE_TYPE_EXTENSION="InterfaceTypeExtension",t.UNION_TYPE_EXTENSION="UnionTypeExtension",t.ENUM_TYPE_EXTENSION="EnumTypeExtension",t.INPUT_OBJECT_TYPE_EXTENSION="InputObjectTypeExtension"}(n||(e.Kind=n={}))},8942:(t,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.printString=function(t){return`"${t.replace(n,r)}"`};const n=/[\x00-\x1f\x22\x5c\x7f-\x9f]/g;function r(t){return i[t.charCodeAt(0)]}const i=["\\u0000","\\u0001","\\u0002","\\u0003","\\u0004","\\u0005","\\u0006","\\u0007","\\b","\\t","\\n","\\u000B","\\f","\\r","\\u000E","\\u000F","\\u0010","\\u0011","\\u0012","\\u0013","\\u0014","\\u0015","\\u0016","\\u0017","\\u0018","\\u0019","\\u001A","\\u001B","\\u001C","\\u001D","\\u001E","\\u001F","","",'\\"',"","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","\\\\","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","\\u007F","\\u0080","\\u0081","\\u0082","\\u0083","\\u0084","\\u0085","\\u0086","\\u0087","\\u0088","\\u0089","\\u008A","\\u008B","\\u008C","\\u008D","\\u008E","\\u008F","\\u0090","\\u0091","\\u0092","\\u0093","\\u0094","\\u0095","\\u0096","\\u0097","\\u0098","\\u0099","\\u009A","\\u009B","\\u009C","\\u009D","\\u009E","\\u009F"]},3033:(t,e,n)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.print=function(t){return(0,o.visit)(t,s)};var r=n(849),i=n(8942),o=n(285);const s={Name:{leave:t=>t.value},Variable:{leave:t=>"$"+t.name},Document:{leave:t=>a(t.definitions,"\n\n")},OperationDefinition:{leave(t){const e=c("(",a(t.variableDefinitions,", "),")"),n=a([t.operation,a([t.name,e]),a(t.directives," ")]," ");return("query"===n?"":n+" ")+t.selectionSet}},VariableDefinition:{leave:({variable:t,type:e,defaultValue:n,directives:r})=>t+": "+e+c(" = ",n)+c(" ",a(r," "))},SelectionSet:{leave:({selections:t})=>l(t)},Field:{leave({alias:t,name:e,arguments:n,directives:r,selectionSet:i}){const o=c("",t,": ")+e;let s=o+c("(",a(n,", "),")");return s.length>80&&(s=o+c("(\n",u(a(n,"\n")),"\n)")),a([s,a(r," "),i]," ")}},Argument:{leave:({name:t,value:e})=>t+": "+e},FragmentSpread:{leave:({name:t,directives:e})=>"..."+t+c(" ",a(e," "))},InlineFragment:{leave:({typeCondition:t,directives:e,selectionSet:n})=>a(["...",c("on ",t),a(e," "),n]," ")},FragmentDefinition:{leave:({name:t,typeCondition:e,variableDefinitions:n,directives:r,selectionSet:i})=>`fragment ${t}${c("(",a(n,", "),")")} on ${e} ${c("",a(r," ")," ")}`+i},IntValue:{leave:({value:t})=>t},FloatValue:{leave:({value:t})=>t},StringValue:{leave:({value:t,block:e})=>e?(0,r.printBlockString)(t):(0,i.printString)(t)},BooleanValue:{leave:({value:t})=>t?"true":"false"},NullValue:{leave:()=>"null"},EnumValue:{leave:({value:t})=>t},ListValue:{leave:({values:t})=>"["+a(t,", ")+"]"},ObjectValue:{leave:({fields:t})=>"{"+a(t,", ")+"}"},ObjectField:{leave:({name:t,value:e})=>t+": "+e},Directive:{leave:({name:t,arguments:e})=>"@"+t+c("(",a(e,", "),")")},NamedType:{leave:({name:t})=>t},ListType:{leave:({type:t})=>"["+t+"]"},NonNullType:{leave:({type:t})=>t+"!"},SchemaDefinition:{leave:({description:t,directives:e,operationTypes:n})=>c("",t,"\n")+a(["schema",a(e," "),l(n)]," ")},OperationTypeDefinition:{leave:({operation:t,type:e})=>t+": "+e},ScalarTypeDefinition:{leave:({description:t,name:e,directives:n})=>c("",t,"\n")+a(["scalar",e,a(n," ")]," ")},ObjectTypeDefinition:{leave:({description:t,name:e,interfaces:n,directives:r,fields:i})=>c("",t,"\n")+a(["type",e,c("implements ",a(n," & ")),a(r," "),l(i)]," ")},FieldDefinition:{leave:({description:t,name:e,arguments:n,type:r,directives:i})=>c("",t,"\n")+e+(h(n)?c("(\n",u(a(n,"\n")),"\n)"):c("(",a(n,", "),")"))+": "+r+c(" ",a(i," "))},InputValueDefinition:{leave:({description:t,name:e,type:n,defaultValue:r,directives:i})=>c("",t,"\n")+a([e+": "+n,c("= ",r),a(i," ")]," ")},InterfaceTypeDefinition:{leave:({description:t,name:e,interfaces:n,directives:r,fields:i})=>c("",t,"\n")+a(["interface",e,c("implements ",a(n," & ")),a(r," "),l(i)]," ")},UnionTypeDefinition:{leave:({description:t,name:e,directives:n,types:r})=>c("",t,"\n")+a(["union",e,a(n," "),c("= ",a(r," | "))]," ")},EnumTypeDefinition:{leave:({description:t,name:e,directives:n,values:r})=>c("",t,"\n")+a(["enum",e,a(n," "),l(r)]," ")},EnumValueDefinition:{leave:({description:t,name:e,directives:n})=>c("",t,"\n")+a([e,a(n," ")]," ")},InputObjectTypeDefinition:{leave:({description:t,name:e,directives:n,fields:r})=>c("",t,"\n")+a(["input",e,a(n," "),l(r)]," ")},DirectiveDefinition:{leave:({description:t,name:e,arguments:n,repeatable:r,locations:i})=>c("",t,"\n")+"directive @"+e+(h(n)?c("(\n",u(a(n,"\n")),"\n)"):c("(",a(n,", "),")"))+(r?" repeatable":"")+" on "+a(i," | ")},SchemaExtension:{leave:({directives:t,operationTypes:e})=>a(["extend schema",a(t," "),l(e)]," ")},ScalarTypeExtension:{leave:({name:t,directives:e})=>a(["extend scalar",t,a(e," ")]," ")},ObjectTypeExtension:{leave:({name:t,interfaces:e,directives:n,fields:r})=>a(["extend type",t,c("implements ",a(e," & ")),a(n," "),l(r)]," ")},InterfaceTypeExtension:{leave:({name:t,interfaces:e,directives:n,fields:r})=>a(["extend interface",t,c("implements ",a(e," & ")),a(n," "),l(r)]," ")},UnionTypeExtension:{leave:({name:t,directives:e,types:n})=>a(["extend union",t,a(e," "),c("= ",a(n," | "))]," ")},EnumTypeExtension:{leave:({name:t,directives:e,values:n})=>a(["extend enum",t,a(e," "),l(n)]," ")},InputObjectTypeExtension:{leave:({name:t,directives:e,fields:n})=>a(["extend input",t,a(e," "),l(n)]," ")}};function a(t,e=""){var n;return null!==(n=null==t?void 0:t.filter((t=>t)).join(e))&&void 0!==n?n:""}function l(t){return c("{\n",u(a(t,"\n")),"\n}")}function c(t,e,n=""){return null!=e&&""!==e?t+e+n:""}function u(t){return c("  ",t.replace(/\n/g,"\n  "))}function h(t){var e;return null!==(e=null==t?void 0:t.some((t=>t.includes("\n"))))&&void 0!==e&&e}},285:(t,e,n)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.BREAK=void 0,e.getEnterLeaveForKind=l,e.getVisitFn=function(t,e,n){const{enter:r,leave:i}=l(t,e);return n?i:r},e.visit=function(t,e,n=o.QueryDocumentKeys){const c=new Map;for(const t of Object.values(s.Kind))c.set(t,l(e,t));let u,h,f,d=Array.isArray(t),p=[t],g=-1,y=[],v=t;const m=[],w=[];do{g++;const t=g===p.length,s=t&&0!==y.length;if(t){if(h=0===w.length?void 0:m[m.length-1],v=f,f=w.pop(),s)if(d){v=v.slice();let t=0;for(const[e,n]of y){const r=e-t;null===n?(v.splice(r,1),t++):v[r]=n}}else{v=Object.defineProperties({},Object.getOwnPropertyDescriptors(v));for(const[t,e]of y)v[t]=e}g=u.index,p=u.keys,y=u.edits,d=u.inArray,u=u.prev}else if(f){if(h=d?g:p[g],v=f[h],null==v)continue;m.push(h)}let l;if(!Array.isArray(v)){var b,E;(0,o.isNode)(v)||(0,r.devAssert)(!1,`Invalid AST Node: ${(0,i.inspect)(v)}.`);const n=t?null===(b=c.get(v.kind))||void 0===b?void 0:b.leave:null===(E=c.get(v.kind))||void 0===E?void 0:E.enter;if(l=null==n?void 0:n.call(e,v,h,f,m,w),l===a)break;if(!1===l){if(!t){m.pop();continue}}else if(void 0!==l&&(y.push([h,l]),!t)){if(!(0,o.isNode)(l)){m.pop();continue}v=l}}var _;void 0===l&&s&&y.push([h,v]),t?m.pop():(u={inArray:d,index:g,keys:p,edits:y,prev:u},d=Array.isArray(v),p=d?v:null!==(_=n[v.kind])&&void 0!==_?_:[],g=-1,y=[],f&&w.push(f),f=v)}while(void 0!==u);return 0!==y.length?y[y.length-1][1]:t},e.visitInParallel=function(t){const e=new Array(t.length).fill(null),n=Object.create(null);for(const r of Object.values(s.Kind)){let i=!1;const o=new Array(t.length).fill(void 0),s=new Array(t.length).fill(void 0);for(let e=0;e<t.length;++e){const{enter:n,leave:a}=l(t[e],r);i||(i=null!=n||null!=a),o[e]=n,s[e]=a}if(!i)continue;const c={enter(...n){const r=n[0];for(let s=0;s<t.length;s++)if(null===e[s]){var i;const l=null===(i=o[s])||void 0===i?void 0:i.apply(t[s],n);if(!1===l)e[s]=r;else if(l===a)e[s]=a;else if(void 0!==l)return l}},leave(...n){const r=n[0];for(let o=0;o<t.length;o++)if(null===e[o]){var i;const r=null===(i=s[o])||void 0===i?void 0:i.apply(t[o],n);if(r===a)e[o]=a;else if(void 0!==r&&!1!==r)return r}else e[o]===r&&(e[o]=null)}};n[r]=c}return n};var r=n(7242),i=n(8002),o=n(1807),s=n(2828);const a=Object.freeze({});function l(t,e){const n=t[e];return"object"==typeof n?n:"function"==typeof n?{enter:n,leave:void 0}:{enter:t.enter,leave:t.leave}}e.BREAK=a},3349:(t,e,n)=>{"use strict";var r=n(9509).Buffer,i=n(8473).Transform;function o(t){i.call(this),this._block=r.allocUnsafe(t),this._blockSize=t,this._blockOffset=0,this._length=[0,0,0,0],this._finalized=!1}n(5717)(o,i),o.prototype._transform=function(t,e,n){var r=null;try{this.update(t,e)}catch(t){r=t}n(r)},o.prototype._flush=function(t){var e=null;try{this.push(this.digest())}catch(t){e=t}t(e)},o.prototype.update=function(t,e){if(function(t,e){if(!r.isBuffer(t)&&"string"!=typeof t)throw new TypeError("Data must be a string or a buffer")}(t),this._finalized)throw new Error("Digest already called");r.isBuffer(t)||(t=r.from(t,e));for(var n=this._block,i=0;this._blockOffset+t.length-i>=this._blockSize;){for(var o=this._blockOffset;o<this._blockSize;)n[o++]=t[i++];this._update(),this._blockOffset=0}for(;i<t.length;)n[this._blockOffset++]=t[i++];for(var s=0,a=8*t.length;a>0;++s)this._length[s]+=a,(a=this._length[s]/4294967296|0)>0&&(this._length[s]-=4294967296*a);return this},o.prototype._update=function(){throw new Error("_update is not implemented")},o.prototype.digest=function(t){if(this._finalized)throw new Error("Digest already called");this._finalized=!0;var e=this._digest();void 0!==t&&(e=e.toString(t)),this._block.fill(0),this._blockOffset=0;for(var n=0;n<4;++n)this._length[n]=0;return e},o.prototype._digest=function(){throw new Error("_digest is not implemented")},t.exports=o},645:(t,e)=>{e.read=function(t,e,n,r,i){var o,s,a=8*i-r-1,l=(1<<a)-1,c=l>>1,u=-7,h=n?i-1:0,f=n?-1:1,d=t[e+h];for(h+=f,o=d&(1<<-u)-1,d>>=-u,u+=a;u>0;o=256*o+t[e+h],h+=f,u-=8);for(s=o&(1<<-u)-1,o>>=-u,u+=r;u>0;s=256*s+t[e+h],h+=f,u-=8);if(0===o)o=1-c;else{if(o===l)return s?NaN:1/0*(d?-1:1);s+=Math.pow(2,r),o-=c}return(d?-1:1)*s*Math.pow(2,o-r)},e.write=function(t,e,n,r,i,o){var s,a,l,c=8*o-i-1,u=(1<<c)-1,h=u>>1,f=23===i?Math.pow(2,-24)-Math.pow(2,-77):0,d=r?0:o-1,p=r?1:-1,g=e<0||0===e&&1/e<0?1:0;for(e=Math.abs(e),isNaN(e)||e===1/0?(a=isNaN(e)?1:0,s=u):(s=Math.floor(Math.log(e)/Math.LN2),e*(l=Math.pow(2,-s))<1&&(s--,l*=2),(e+=s+h>=1?f/l:f*Math.pow(2,1-h))*l>=2&&(s++,l/=2),s+h>=u?(a=0,s=u):s+h>=1?(a=(e*l-1)*Math.pow(2,i),s+=h):(a=e*Math.pow(2,h-1)*Math.pow(2,i),s=0));i>=8;t[n+d]=255&a,d+=p,a/=256,i-=8);for(s=s<<i|a,c+=i;c>0;t[n+d]=255&s,d+=p,s/=256,c-=8);t[n+d-p]|=128*g}},5717:t=>{"function"==typeof Object.create?t.exports=function(t,e){e&&(t.super_=e,t.prototype=Object.create(e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}))}:t.exports=function(t,e){if(e){t.super_=e;var n=function(){};n.prototype=e.prototype,t.prototype=new n,t.prototype.constructor=t}}},2318:(t,e,n)=>{"use strict";var r=n(5717),i=n(3349),o=n(9509).Buffer,s=new Array(16);function a(){i.call(this,64),this._a=1732584193,this._b=4023233417,this._c=2562383102,this._d=271733878}function l(t,e){return t<<e|t>>>32-e}function c(t,e,n,r,i,o,s){return l(t+(e&n|~e&r)+i+o|0,s)+e|0}function u(t,e,n,r,i,o,s){return l(t+(e&r|n&~r)+i+o|0,s)+e|0}function h(t,e,n,r,i,o,s){return l(t+(e^n^r)+i+o|0,s)+e|0}function f(t,e,n,r,i,o,s){return l(t+(n^(e|~r))+i+o|0,s)+e|0}r(a,i),a.prototype._update=function(){for(var t=s,e=0;e<16;++e)t[e]=this._block.readInt32LE(4*e);var n=this._a,r=this._b,i=this._c,o=this._d;n=c(n,r,i,o,t[0],3614090360,7),o=c(o,n,r,i,t[1],3905402710,12),i=c(i,o,n,r,t[2],606105819,17),r=c(r,i,o,n,t[3],3250441966,22),n=c(n,r,i,o,t[4],4118548399,7),o=c(o,n,r,i,t[5],1200080426,12),i=c(i,o,n,r,t[6],2821735955,17),r=c(r,i,o,n,t[7],4249261313,22),n=c(n,r,i,o,t[8],1770035416,7),o=c(o,n,r,i,t[9],2336552879,12),i=c(i,o,n,r,t[10],4294925233,17),r=c(r,i,o,n,t[11],2304563134,22),n=c(n,r,i,o,t[12],1804603682,7),o=c(o,n,r,i,t[13],4254626195,12),i=c(i,o,n,r,t[14],2792965006,17),n=u(n,r=c(r,i,o,n,t[15],1236535329,22),i,o,t[1],4129170786,5),o=u(o,n,r,i,t[6],3225465664,9),i=u(i,o,n,r,t[11],643717713,14),r=u(r,i,o,n,t[0],3921069994,20),n=u(n,r,i,o,t[5],3593408605,5),o=u(o,n,r,i,t[10],38016083,9),i=u(i,o,n,r,t[15],3634488961,14),r=u(r,i,o,n,t[4],3889429448,20),n=u(n,r,i,o,t[9],568446438,5),o=u(o,n,r,i,t[14],3275163606,9),i=u(i,o,n,r,t[3],4107603335,14),r=u(r,i,o,n,t[8],1163531501,20),n=u(n,r,i,o,t[13],2850285829,5),o=u(o,n,r,i,t[2],4243563512,9),i=u(i,o,n,r,t[7],1735328473,14),n=h(n,r=u(r,i,o,n,t[12],2368359562,20),i,o,t[5],4294588738,4),o=h(o,n,r,i,t[8],2272392833,11),i=h(i,o,n,r,t[11],1839030562,16),r=h(r,i,o,n,t[14],4259657740,23),n=h(n,r,i,o,t[1],2763975236,4),o=h(o,n,r,i,t[4],1272893353,11),i=h(i,o,n,r,t[7],4139469664,16),r=h(r,i,o,n,t[10],3200236656,23),n=h(n,r,i,o,t[13],681279174,4),o=h(o,n,r,i,t[0],3936430074,11),i=h(i,o,n,r,t[3],3572445317,16),r=h(r,i,o,n,t[6],76029189,23),n=h(n,r,i,o,t[9],3654602809,4),o=h(o,n,r,i,t[12],3873151461,11),i=h(i,o,n,r,t[15],530742520,16),n=f(n,r=h(r,i,o,n,t[2],3299628645,23),i,o,t[0],4096336452,6),o=f(o,n,r,i,t[7],1126891415,10),i=f(i,o,n,r,t[14],2878612391,15),r=f(r,i,o,n,t[5],4237533241,21),n=f(n,r,i,o,t[12],1700485571,6),o=f(o,n,r,i,t[3],2399980690,10),i=f(i,o,n,r,t[10],4293915773,15),r=f(r,i,o,n,t[1],2240044497,21),n=f(n,r,i,o,t[8],1873313359,6),o=f(o,n,r,i,t[15],4264355552,10),i=f(i,o,n,r,t[6],2734768916,15),r=f(r,i,o,n,t[13],1309151649,21),n=f(n,r,i,o,t[4],4149444226,6),o=f(o,n,r,i,t[11],3174756917,10),i=f(i,o,n,r,t[2],718787259,15),r=f(r,i,o,n,t[9],3951481745,21),this._a=this._a+n|0,this._b=this._b+r|0,this._c=this._c+i|0,this._d=this._d+o|0},a.prototype._digest=function(){this._block[this._blockOffset++]=128,this._blockOffset>56&&(this._block.fill(0,this._blockOffset,64),this._update(),this._blockOffset=0),this._block.fill(0,this._blockOffset,56),this._block.writeUInt32LE(this._length[0],56),this._block.writeUInt32LE(this._length[1],60),this._update();var t=o.allocUnsafe(16);return t.writeInt32LE(this._a,0),t.writeInt32LE(this._b,4),t.writeInt32LE(this._c,8),t.writeInt32LE(this._d,12),t},t.exports=a},4155:t=>{var e,n,r=t.exports={};function i(){throw new Error("setTimeout has not been defined")}function o(){throw new Error("clearTimeout has not been defined")}function s(t){if(e===setTimeout)return setTimeout(t,0);if((e===i||!e)&&setTimeout)return e=setTimeout,setTimeout(t,0);try{return e(t,0)}catch(n){try{return e.call(null,t,0)}catch(n){return e.call(this,t,0)}}}!function(){try{e="function"==typeof setTimeout?setTimeout:i}catch(t){e=i}try{n="function"==typeof clearTimeout?clearTimeout:o}catch(t){n=o}}();var a,l=[],c=!1,u=-1;function h(){c&&a&&(c=!1,a.length?l=a.concat(l):u=-1,l.length&&f())}function f(){if(!c){var t=s(h);c=!0;for(var e=l.length;e;){for(a=l,l=[];++u<e;)a&&a[u].run();u=-1,e=l.length}a=null,c=!1,function(t){if(n===clearTimeout)return clearTimeout(t);if((n===o||!n)&&clearTimeout)return n=clearTimeout,clearTimeout(t);try{return n(t)}catch(e){try{return n.call(null,t)}catch(e){return n.call(this,t)}}}(t)}}function d(t,e){this.fun=t,this.array=e}function p(){}r.nextTick=function(t){var e=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)e[n-1]=arguments[n];l.push(new d(t,e)),1!==l.length||c||s(f)},d.prototype.run=function(){this.fun.apply(null,this.array)},r.title="browser",r.browser=!0,r.env={},r.argv=[],r.version="",r.versions={},r.on=p,r.addListener=p,r.once=p,r.off=p,r.removeListener=p,r.removeAllListeners=p,r.emit=p,r.prependListener=p,r.prependOnceListener=p,r.listeners=function(t){return[]},r.binding=function(t){throw new Error("process.binding is not supported")},r.cwd=function(){return"/"},r.chdir=function(t){throw new Error("process.chdir is not supported")},r.umask=function(){return 0}},6192:(t,e)=>{var n,r,i=function(){var t=function(t,e){var n=t,r=s[e],i=null,o=0,l=null,y=[],v={},w=function(t,e){i=function(t){for(var e=new Array(t),n=0;n<t;n+=1){e[n]=new Array(t);for(var r=0;r<t;r+=1)e[n][r]=null}return e}(o=4*n+17),b(0,0),b(o-7,0),b(0,o-7),_(),E(),A(t,e),n>=7&&x(t),null==l&&(l=T(n,r,y)),S(l,e)},b=function(t,e){for(var n=-1;n<=7;n+=1)if(!(t+n<=-1||o<=t+n))for(var r=-1;r<=7;r+=1)e+r<=-1||o<=e+r||(i[t+n][e+r]=0<=n&&n<=6&&(0==r||6==r)||0<=r&&r<=6&&(0==n||6==n)||2<=n&&n<=4&&2<=r&&r<=4)},E=function(){for(var t=8;t<o-8;t+=1)null==i[t][6]&&(i[t][6]=t%2==0);for(var e=8;e<o-8;e+=1)null==i[6][e]&&(i[6][e]=e%2==0)},_=function(){for(var t=a.getPatternPosition(n),e=0;e<t.length;e+=1)for(var r=0;r<t.length;r+=1){var o=t[e],s=t[r];if(null==i[o][s])for(var l=-2;l<=2;l+=1)for(var c=-2;c<=2;c+=1)i[o+l][s+c]=-2==l||2==l||-2==c||2==c||0==l&&0==c}},x=function(t){for(var e=a.getBCHTypeNumber(n),r=0;r<18;r+=1){var s=!t&&1==(e>>r&1);i[Math.floor(r/3)][r%3+o-8-3]=s}for(r=0;r<18;r+=1)s=!t&&1==(e>>r&1),i[r%3+o-8-3][Math.floor(r/3)]=s},A=function(t,e){for(var n=r<<3|e,s=a.getBCHTypeInfo(n),l=0;l<15;l+=1){var c=!t&&1==(s>>l&1);l<6?i[l][8]=c:l<8?i[l+1][8]=c:i[o-15+l][8]=c}for(l=0;l<15;l+=1)c=!t&&1==(s>>l&1),l<8?i[8][o-l-1]=c:l<9?i[8][15-l-1+1]=c:i[8][15-l-1]=c;i[o-8][8]=!t},S=function(t,e){for(var n=-1,r=o-1,s=7,l=0,c=a.getMaskFunction(e),u=o-1;u>0;u-=2)for(6==u&&(u-=1);;){for(var h=0;h<2;h+=1)if(null==i[r][u-h]){var f=!1;l<t.length&&(f=1==(t[l]>>>s&1)),c(r,u-h)&&(f=!f),i[r][u-h]=f,-1==(s-=1)&&(l+=1,s=7)}if((r+=n)<0||o<=r){r-=n,n=-n;break}}},T=function(t,e,n){for(var r=u.getRSBlocks(t,e),i=h(),o=0;o<n.length;o+=1){var s=n[o];i.put(s.getMode(),4),i.put(s.getLength(),a.getLengthInBits(s.getMode(),t)),s.write(i)}var l=0;for(o=0;o<r.length;o+=1)l+=r[o].dataCount;if(i.getLengthInBits()>8*l)throw"code length overflow. ("+i.getLengthInBits()+">"+8*l+")";for(i.getLengthInBits()+4<=8*l&&i.put(0,4);i.getLengthInBits()%8!=0;)i.putBit(!1);for(;!(i.getLengthInBits()>=8*l||(i.put(236,8),i.getLengthInBits()>=8*l));)i.put(17,8);return function(t,e){for(var n=0,r=0,i=0,o=new Array(e.length),s=new Array(e.length),l=0;l<e.length;l+=1){var u=e[l].dataCount,h=e[l].totalCount-u;r=Math.max(r,u),i=Math.max(i,h),o[l]=new Array(u);for(var f=0;f<o[l].length;f+=1)o[l][f]=255&t.getBuffer()[f+n];n+=u;var d=a.getErrorCorrectPolynomial(h),p=c(o[l],d.getLength()-1).mod(d);for(s[l]=new Array(d.getLength()-1),f=0;f<s[l].length;f+=1){var g=f+p.getLength()-s[l].length;s[l][f]=g>=0?p.getAt(g):0}}var y=0;for(f=0;f<e.length;f+=1)y+=e[f].totalCount;var v=new Array(y),m=0;for(f=0;f<r;f+=1)for(l=0;l<e.length;l+=1)f<o[l].length&&(v[m]=o[l][f],m+=1);for(f=0;f<i;f+=1)for(l=0;l<e.length;l+=1)f<s[l].length&&(v[m]=s[l][f],m+=1);return v}(i,r)};v.addData=function(t,e){var n=null;switch(e=e||"Byte"){case"Numeric":n=f(t);break;case"Alphanumeric":n=d(t);break;case"Byte":n=p(t);break;case"Kanji":n=g(t);break;default:throw"mode:"+e}y.push(n),l=null},v.isDark=function(t,e){if(t<0||o<=t||e<0||o<=e)throw t+","+e;return i[t][e]},v.getModuleCount=function(){return o},v.make=function(){if(n<1){for(var t=1;t<40;t++){for(var e=u.getRSBlocks(t,r),i=h(),o=0;o<y.length;o++){var s=y[o];i.put(s.getMode(),4),i.put(s.getLength(),a.getLengthInBits(s.getMode(),t)),s.write(i)}var l=0;for(o=0;o<e.length;o++)l+=e[o].dataCount;if(i.getLengthInBits()<=8*l)break}n=t}w(!1,function(){for(var t=0,e=0,n=0;n<8;n+=1){w(!0,n);var r=a.getLostPoint(v);(0==n||t>r)&&(t=r,e=n)}return e}())},v.createTableTag=function(t,e){t=t||2;var n="";n+='<table style="',n+=" border-width: 0px; border-style: none;",n+=" border-collapse: collapse;",n+=" padding: 0px; margin: "+(e=void 0===e?4*t:e)+"px;",n+='">',n+="<tbody>";for(var r=0;r<v.getModuleCount();r+=1){n+="<tr>";for(var i=0;i<v.getModuleCount();i+=1)n+='<td style="',n+=" border-width: 0px; border-style: none;",n+=" border-collapse: collapse;",n+=" padding: 0px; margin: 0px;",n+=" width: "+t+"px;",n+=" height: "+t+"px;",n+=" background-color: ",n+=v.isDark(r,i)?"#000000":"#ffffff",n+=";",n+='"/>';n+="</tr>"}return(n+="</tbody>")+"</table>"},v.createSvgTag=function(t,e,n,r){var i={};"object"==typeof arguments[0]&&(t=(i=arguments[0]).cellSize,e=i.margin,n=i.alt,r=i.title),t=t||2,e=void 0===e?4*t:e,(n="string"==typeof n?{text:n}:n||{}).text=n.text||null,n.id=n.text?n.id||"qrcode-description":null,(r="string"==typeof r?{text:r}:r||{}).text=r.text||null,r.id=r.text?r.id||"qrcode-title":null;var o,s,a,l,c=v.getModuleCount()*t+2*e,u="";for(l="l"+t+",0 0,"+t+" -"+t+",0 0,-"+t+"z ",u+='<svg version="1.1" xmlns="http://www.w3.org/2000/svg"',u+=i.scalable?"":' width="'+c+'px" height="'+c+'px"',u+=' viewBox="0 0 '+c+" "+c+'" ',u+=' preserveAspectRatio="xMinYMin meet"',u+=r.text||n.text?' role="img" aria-labelledby="'+R([r.id,n.id].join(" ").trim())+'"':"",u+=">",u+=r.text?'<title id="'+R(r.id)+'">'+R(r.text)+"</title>":"",u+=n.text?'<description id="'+R(n.id)+'">'+R(n.text)+"</description>":"",u+='<rect width="100%" height="100%" fill="white" cx="0" cy="0"/>',u+='<path d="',s=0;s<v.getModuleCount();s+=1)for(a=s*t+e,o=0;o<v.getModuleCount();o+=1)v.isDark(s,o)&&(u+="M"+(o*t+e)+","+a+l);return(u+='" stroke="transparent" fill="black"/>')+"</svg>"},v.createDataURL=function(t,e){t=t||2,e=void 0===e?4*t:e;var n=v.getModuleCount()*t+2*e,r=e,i=n-e;return m(n,n,(function(e,n){if(r<=e&&e<i&&r<=n&&n<i){var o=Math.floor((e-r)/t),s=Math.floor((n-r)/t);return v.isDark(s,o)?0:1}return 1}))},v.createImgTag=function(t,e,n){t=t||2,e=void 0===e?4*t:e;var r=v.getModuleCount()*t+2*e,i="";return i+="<img",i+=' src="',i+=v.createDataURL(t,e),i+='"',i+=' width="',i+=r,i+='"',i+=' height="',i+=r,i+='"',n&&(i+=' alt="',i+=R(n),i+='"'),i+"/>"};var R=function(t){for(var e="",n=0;n<t.length;n+=1){var r=t.charAt(n);switch(r){case"<":e+="&lt;";break;case">":e+="&gt;";break;case"&":e+="&amp;";break;case'"':e+="&quot;";break;default:e+=r}}return e};return v.createASCII=function(t,e){if((t=t||1)<2)return function(t){t=void 0===t?2:t;var e,n,r,i,o,s=1*v.getModuleCount()+2*t,a=t,l=s-t,c={"":""," ":""," ":"","  ":" "},u={"":""," ":""," ":" ","  ":" "},h="";for(e=0;e<s;e+=2){for(r=Math.floor((e-a)/1),i=Math.floor((e+1-a)/1),n=0;n<s;n+=1)o="",a<=n&&n<l&&a<=e&&e<l&&v.isDark(r,Math.floor((n-a)/1))&&(o=" "),a<=n&&n<l&&a<=e+1&&e+1<l&&v.isDark(i,Math.floor((n-a)/1))?o+=" ":o+="",h+=t<1&&e+1>=l?u[o]:c[o];h+="\n"}return s%2&&t>0?h.substring(0,h.length-s-1)+Array(s+1).join(""):h.substring(0,h.length-1)}(e);t-=1,e=void 0===e?2*t:e;var n,r,i,o,s=v.getModuleCount()*t+2*e,a=e,l=s-e,c=Array(t+1).join(""),u=Array(t+1).join("  "),h="",f="";for(n=0;n<s;n+=1){for(i=Math.floor((n-a)/t),f="",r=0;r<s;r+=1)o=1,a<=r&&r<l&&a<=n&&n<l&&v.isDark(i,Math.floor((r-a)/t))&&(o=0),f+=o?c:u;for(i=0;i<t;i+=1)h+=f+"\n"}return h.substring(0,h.length-1)},v.renderTo2dContext=function(t,e){e=e||2;for(var n=v.getModuleCount(),r=0;r<n;r++)for(var i=0;i<n;i++)t.fillStyle=v.isDark(r,i)?"black":"white",t.fillRect(r*e,i*e,e,e)},v};t.stringToBytes=(t.stringToBytesFuncs={default:function(t){for(var e=[],n=0;n<t.length;n+=1){var r=t.charCodeAt(n);e.push(255&r)}return e}}).default,t.createStringToBytes=function(t,e){var n=function(){for(var n=v(t),r=function(){var t=n.read();if(-1==t)throw"eof";return t},i=0,o={};;){var s=n.read();if(-1==s)break;var a=r(),l=r()<<8|r();o[String.fromCharCode(s<<8|a)]=l,i+=1}if(i!=e)throw i+" != "+e;return o}(),r="?".charCodeAt(0);return function(t){for(var e=[],i=0;i<t.length;i+=1){var o=t.charCodeAt(i);if(o<128)e.push(o);else{var s=n[t.charAt(i)];"number"==typeof s?(255&s)==s?e.push(s):(e.push(s>>>8),e.push(255&s)):e.push(r)}}return e}};var e,n,r,i,o,s={L:1,M:0,Q:3,H:2},a=(e=[[],[6,18],[6,22],[6,26],[6,30],[6,34],[6,22,38],[6,24,42],[6,26,46],[6,28,50],[6,30,54],[6,32,58],[6,34,62],[6,26,46,66],[6,26,48,70],[6,26,50,74],[6,30,54,78],[6,30,56,82],[6,30,58,86],[6,34,62,90],[6,28,50,72,94],[6,26,50,74,98],[6,30,54,78,102],[6,28,54,80,106],[6,32,58,84,110],[6,30,58,86,114],[6,34,62,90,118],[6,26,50,74,98,122],[6,30,54,78,102,126],[6,26,52,78,104,130],[6,30,56,82,108,134],[6,34,60,86,112,138],[6,30,58,86,114,142],[6,34,62,90,118,146],[6,30,54,78,102,126,150],[6,24,50,76,102,128,154],[6,28,54,80,106,132,158],[6,32,58,84,110,136,162],[6,26,54,82,110,138,166],[6,30,58,86,114,142,170]],n=1335,r=7973,o=function(t){for(var e=0;0!=t;)e+=1,t>>>=1;return e},(i={}).getBCHTypeInfo=function(t){for(var e=t<<10;o(e)-o(n)>=0;)e^=n<<o(e)-o(n);return 21522^(t<<10|e)},i.getBCHTypeNumber=function(t){for(var e=t<<12;o(e)-o(r)>=0;)e^=r<<o(e)-o(r);return t<<12|e},i.getPatternPosition=function(t){return e[t-1]},i.getMaskFunction=function(t){switch(t){case 0:return function(t,e){return(t+e)%2==0};case 1:return function(t,e){return t%2==0};case 2:return function(t,e){return e%3==0};case 3:return function(t,e){return(t+e)%3==0};case 4:return function(t,e){return(Math.floor(t/2)+Math.floor(e/3))%2==0};case 5:return function(t,e){return t*e%2+t*e%3==0};case 6:return function(t,e){return(t*e%2+t*e%3)%2==0};case 7:return function(t,e){return(t*e%3+(t+e)%2)%2==0};default:throw"bad maskPattern:"+t}},i.getErrorCorrectPolynomial=function(t){for(var e=c([1],0),n=0;n<t;n+=1)e=e.multiply(c([1,l.gexp(n)],0));return e},i.getLengthInBits=function(t,e){if(1<=e&&e<10)switch(t){case 1:return 10;case 2:return 9;case 4:case 8:return 8;default:throw"mode:"+t}else if(e<27)switch(t){case 1:return 12;case 2:return 11;case 4:return 16;case 8:return 10;default:throw"mode:"+t}else{if(!(e<41))throw"type:"+e;switch(t){case 1:return 14;case 2:return 13;case 4:return 16;case 8:return 12;default:throw"mode:"+t}}},i.getLostPoint=function(t){for(var e=t.getModuleCount(),n=0,r=0;r<e;r+=1)for(var i=0;i<e;i+=1){for(var o=0,s=t.isDark(r,i),a=-1;a<=1;a+=1)if(!(r+a<0||e<=r+a))for(var l=-1;l<=1;l+=1)i+l<0||e<=i+l||0==a&&0==l||s==t.isDark(r+a,i+l)&&(o+=1);o>5&&(n+=3+o-5)}for(r=0;r<e-1;r+=1)for(i=0;i<e-1;i+=1){var c=0;t.isDark(r,i)&&(c+=1),t.isDark(r+1,i)&&(c+=1),t.isDark(r,i+1)&&(c+=1),t.isDark(r+1,i+1)&&(c+=1),0!=c&&4!=c||(n+=3)}for(r=0;r<e;r+=1)for(i=0;i<e-6;i+=1)t.isDark(r,i)&&!t.isDark(r,i+1)&&t.isDark(r,i+2)&&t.isDark(r,i+3)&&t.isDark(r,i+4)&&!t.isDark(r,i+5)&&t.isDark(r,i+6)&&(n+=40);for(i=0;i<e;i+=1)for(r=0;r<e-6;r+=1)t.isDark(r,i)&&!t.isDark(r+1,i)&&t.isDark(r+2,i)&&t.isDark(r+3,i)&&t.isDark(r+4,i)&&!t.isDark(r+5,i)&&t.isDark(r+6,i)&&(n+=40);var u=0;for(i=0;i<e;i+=1)for(r=0;r<e;r+=1)t.isDark(r,i)&&(u+=1);return n+Math.abs(100*u/e/e-50)/5*10},i),l=function(){for(var t=new Array(256),e=new Array(256),n=0;n<8;n+=1)t[n]=1<<n;for(n=8;n<256;n+=1)t[n]=t[n-4]^t[n-5]^t[n-6]^t[n-8];for(n=0;n<255;n+=1)e[t[n]]=n;return{glog:function(t){if(t<1)throw"glog("+t+")";return e[t]},gexp:function(e){for(;e<0;)e+=255;for(;e>=256;)e-=255;return t[e]}}}();function c(t,e){if(void 0===t.length)throw t.length+"/"+e;var n=function(){for(var n=0;n<t.length&&0==t[n];)n+=1;for(var r=new Array(t.length-n+e),i=0;i<t.length-n;i+=1)r[i]=t[i+n];return r}(),r={getAt:function(t){return n[t]},getLength:function(){return n.length},multiply:function(t){for(var e=new Array(r.getLength()+t.getLength()-1),n=0;n<r.getLength();n+=1)for(var i=0;i<t.getLength();i+=1)e[n+i]^=l.gexp(l.glog(r.getAt(n))+l.glog(t.getAt(i)));return c(e,0)},mod:function(t){if(r.getLength()-t.getLength()<0)return r;for(var e=l.glog(r.getAt(0))-l.glog(t.getAt(0)),n=new Array(r.getLength()),i=0;i<r.getLength();i+=1)n[i]=r.getAt(i);for(i=0;i<t.getLength();i+=1)n[i]^=l.gexp(l.glog(t.getAt(i))+e);return c(n,0).mod(t)}};return r}var u=function(){var t=[[1,26,19],[1,26,16],[1,26,13],[1,26,9],[1,44,34],[1,44,28],[1,44,22],[1,44,16],[1,70,55],[1,70,44],[2,35,17],[2,35,13],[1,100,80],[2,50,32],[2,50,24],[4,25,9],[1,134,108],[2,67,43],[2,33,15,2,34,16],[2,33,11,2,34,12],[2,86,68],[4,43,27],[4,43,19],[4,43,15],[2,98,78],[4,49,31],[2,32,14,4,33,15],[4,39,13,1,40,14],[2,121,97],[2,60,38,2,61,39],[4,40,18,2,41,19],[4,40,14,2,41,15],[2,146,116],[3,58,36,2,59,37],[4,36,16,4,37,17],[4,36,12,4,37,13],[2,86,68,2,87,69],[4,69,43,1,70,44],[6,43,19,2,44,20],[6,43,15,2,44,16],[4,101,81],[1,80,50,4,81,51],[4,50,22,4,51,23],[3,36,12,8,37,13],[2,116,92,2,117,93],[6,58,36,2,59,37],[4,46,20,6,47,21],[7,42,14,4,43,15],[4,133,107],[8,59,37,1,60,38],[8,44,20,4,45,21],[12,33,11,4,34,12],[3,145,115,1,146,116],[4,64,40,5,65,41],[11,36,16,5,37,17],[11,36,12,5,37,13],[5,109,87,1,110,88],[5,65,41,5,66,42],[5,54,24,7,55,25],[11,36,12,7,37,13],[5,122,98,1,123,99],[7,73,45,3,74,46],[15,43,19,2,44,20],[3,45,15,13,46,16],[1,135,107,5,136,108],[10,74,46,1,75,47],[1,50,22,15,51,23],[2,42,14,17,43,15],[5,150,120,1,151,121],[9,69,43,4,70,44],[17,50,22,1,51,23],[2,42,14,19,43,15],[3,141,113,4,142,114],[3,70,44,11,71,45],[17,47,21,4,48,22],[9,39,13,16,40,14],[3,135,107,5,136,108],[3,67,41,13,68,42],[15,54,24,5,55,25],[15,43,15,10,44,16],[4,144,116,4,145,117],[17,68,42],[17,50,22,6,51,23],[19,46,16,6,47,17],[2,139,111,7,140,112],[17,74,46],[7,54,24,16,55,25],[34,37,13],[4,151,121,5,152,122],[4,75,47,14,76,48],[11,54,24,14,55,25],[16,45,15,14,46,16],[6,147,117,4,148,118],[6,73,45,14,74,46],[11,54,24,16,55,25],[30,46,16,2,47,17],[8,132,106,4,133,107],[8,75,47,13,76,48],[7,54,24,22,55,25],[22,45,15,13,46,16],[10,142,114,2,143,115],[19,74,46,4,75,47],[28,50,22,6,51,23],[33,46,16,4,47,17],[8,152,122,4,153,123],[22,73,45,3,74,46],[8,53,23,26,54,24],[12,45,15,28,46,16],[3,147,117,10,148,118],[3,73,45,23,74,46],[4,54,24,31,55,25],[11,45,15,31,46,16],[7,146,116,7,147,117],[21,73,45,7,74,46],[1,53,23,37,54,24],[19,45,15,26,46,16],[5,145,115,10,146,116],[19,75,47,10,76,48],[15,54,24,25,55,25],[23,45,15,25,46,16],[13,145,115,3,146,116],[2,74,46,29,75,47],[42,54,24,1,55,25],[23,45,15,28,46,16],[17,145,115],[10,74,46,23,75,47],[10,54,24,35,55,25],[19,45,15,35,46,16],[17,145,115,1,146,116],[14,74,46,21,75,47],[29,54,24,19,55,25],[11,45,15,46,46,16],[13,145,115,6,146,116],[14,74,46,23,75,47],[44,54,24,7,55,25],[59,46,16,1,47,17],[12,151,121,7,152,122],[12,75,47,26,76,48],[39,54,24,14,55,25],[22,45,15,41,46,16],[6,151,121,14,152,122],[6,75,47,34,76,48],[46,54,24,10,55,25],[2,45,15,64,46,16],[17,152,122,4,153,123],[29,74,46,14,75,47],[49,54,24,10,55,25],[24,45,15,46,46,16],[4,152,122,18,153,123],[13,74,46,32,75,47],[48,54,24,14,55,25],[42,45,15,32,46,16],[20,147,117,4,148,118],[40,75,47,7,76,48],[43,54,24,22,55,25],[10,45,15,67,46,16],[19,148,118,6,149,119],[18,75,47,31,76,48],[34,54,24,34,55,25],[20,45,15,61,46,16]],e=function(t,e){var n={};return n.totalCount=t,n.dataCount=e,n},n={getRSBlocks:function(n,r){var i=function(e,n){switch(n){case s.L:return t[4*(e-1)+0];case s.M:return t[4*(e-1)+1];case s.Q:return t[4*(e-1)+2];case s.H:return t[4*(e-1)+3];default:return}}(n,r);if(void 0===i)throw"bad rs block @ typeNumber:"+n+"/errorCorrectionLevel:"+r;for(var o=i.length/3,a=[],l=0;l<o;l+=1)for(var c=i[3*l+0],u=i[3*l+1],h=i[3*l+2],f=0;f<c;f+=1)a.push(e(u,h));return a}};return n}(),h=function(){var t=[],e=0,n={getBuffer:function(){return t},getAt:function(e){var n=Math.floor(e/8);return 1==(t[n]>>>7-e%8&1)},put:function(t,e){for(var r=0;r<e;r+=1)n.putBit(1==(t>>>e-r-1&1))},getLengthInBits:function(){return e},putBit:function(n){var r=Math.floor(e/8);t.length<=r&&t.push(0),n&&(t[r]|=128>>>e%8),e+=1}};return n},f=function(t){var e=t,n={getMode:function(){return 1},getLength:function(t){return e.length},write:function(t){for(var n=e,i=0;i+2<n.length;)t.put(r(n.substring(i,i+3)),10),i+=3;i<n.length&&(n.length-i==1?t.put(r(n.substring(i,i+1)),4):n.length-i==2&&t.put(r(n.substring(i,i+2)),7))}},r=function(t){for(var e=0,n=0;n<t.length;n+=1)e=10*e+i(t.charAt(n));return e},i=function(t){if("0"<=t&&t<="9")return t.charCodeAt(0)-"0".charCodeAt(0);throw"illegal char :"+t};return n},d=function(t){var e=t,n={getMode:function(){return 2},getLength:function(t){return e.length},write:function(t){for(var n=e,i=0;i+1<n.length;)t.put(45*r(n.charAt(i))+r(n.charAt(i+1)),11),i+=2;i<n.length&&t.put(r(n.charAt(i)),6)}},r=function(t){if("0"<=t&&t<="9")return t.charCodeAt(0)-"0".charCodeAt(0);if("A"<=t&&t<="Z")return t.charCodeAt(0)-"A".charCodeAt(0)+10;switch(t){case" ":return 36;case"$":return 37;case"%":return 38;case"*":return 39;case"+":return 40;case"-":return 41;case".":return 42;case"/":return 43;case":":return 44;default:throw"illegal char :"+t}};return n},p=function(e){var n=t.stringToBytes(e);return{getMode:function(){return 4},getLength:function(t){return n.length},write:function(t){for(var e=0;e<n.length;e+=1)t.put(n[e],8)}}},g=function(e){var n=t.stringToBytesFuncs.SJIS;if(!n)throw"sjis not supported.";!function(t,e){var r=n("");if(2!=r.length||38726!=(r[0]<<8|r[1]))throw"sjis not supported."}();var r=n(e),i={getMode:function(){return 8},getLength:function(t){return~~(r.length/2)},write:function(t){for(var e=r,n=0;n+1<e.length;){var i=(255&e[n])<<8|255&e[n+1];if(33088<=i&&i<=40956)i-=33088;else{if(!(57408<=i&&i<=60351))throw"illegal char at "+(n+1)+"/"+i;i-=49472}i=192*(i>>>8&255)+(255&i),t.put(i,13),n+=2}if(n<e.length)throw"illegal char at "+(n+1)}};return i},y=function(){var t=[],e={writeByte:function(e){t.push(255&e)},writeShort:function(t){e.writeByte(t),e.writeByte(t>>>8)},writeBytes:function(t,n,r){n=n||0,r=r||t.length;for(var i=0;i<r;i+=1)e.writeByte(t[i+n])},writeString:function(t){for(var n=0;n<t.length;n+=1)e.writeByte(t.charCodeAt(n))},toByteArray:function(){return t},toString:function(){var e="";e+="[";for(var n=0;n<t.length;n+=1)n>0&&(e+=","),e+=t[n];return e+"]"}};return e},v=function(t){var e=t,n=0,r=0,i=0,o={read:function(){for(;i<8;){if(n>=e.length){if(0==i)return-1;throw"unexpected end of file./"+i}var t=e.charAt(n);if(n+=1,"="==t)return i=0,-1;t.match(/^\s$/)||(r=r<<6|s(t.charCodeAt(0)),i+=6)}var o=r>>>i-8&255;return i-=8,o}},s=function(t){if(65<=t&&t<=90)return t-65;if(97<=t&&t<=122)return t-97+26;if(48<=t&&t<=57)return t-48+52;if(43==t)return 62;if(47==t)return 63;throw"c:"+t};return o},m=function(t,e,n){for(var r=function(t,e){var n=t,r=e,i=new Array(t*e),o={setPixel:function(t,e,r){i[e*n+t]=r},write:function(t){t.writeString("GIF87a"),t.writeShort(n),t.writeShort(r),t.writeByte(128),t.writeByte(0),t.writeByte(0),t.writeByte(0),t.writeByte(0),t.writeByte(0),t.writeByte(255),t.writeByte(255),t.writeByte(255),t.writeString(","),t.writeShort(0),t.writeShort(0),t.writeShort(n),t.writeShort(r),t.writeByte(0);var e=s(2);t.writeByte(2);for(var i=0;e.length-i>255;)t.writeByte(255),t.writeBytes(e,i,255),i+=255;t.writeByte(e.length-i),t.writeBytes(e,i,e.length-i),t.writeByte(0),t.writeString(";")}},s=function(t){for(var e=1<<t,n=1+(1<<t),r=t+1,o=a(),s=0;s<e;s+=1)o.add(String.fromCharCode(s));o.add(String.fromCharCode(e)),o.add(String.fromCharCode(n));var l,c,u,h=y(),f=(l=h,c=0,u=0,{write:function(t,e){if(t>>>e!=0)throw"length over";for(;c+e>=8;)l.writeByte(255&(t<<c|u)),e-=8-c,t>>>=8-c,u=0,c=0;u|=t<<c,c+=e},flush:function(){c>0&&l.writeByte(u)}});f.write(e,r);var d=0,p=String.fromCharCode(i[d]);for(d+=1;d<i.length;){var g=String.fromCharCode(i[d]);d+=1,o.contains(p+g)?p+=g:(f.write(o.indexOf(p),r),o.size()<4095&&(o.size()==1<<r&&(r+=1),o.add(p+g)),p=g)}return f.write(o.indexOf(p),r),f.write(n,r),f.flush(),h.toByteArray()},a=function(){var t={},e=0,n={add:function(r){if(n.contains(r))throw"dup key:"+r;t[r]=e,e+=1},size:function(){return e},indexOf:function(e){return t[e]},contains:function(e){return void 0!==t[e]}};return n};return o}(t,e),i=0;i<e;i+=1)for(var o=0;o<t;o+=1)r.setPixel(o,i,n(o,i));var s=y();r.write(s);for(var a=function(){var t=0,e=0,n=0,r="",i={},o=function(t){r+=String.fromCharCode(s(63&t))},s=function(t){if(t<0);else{if(t<26)return 65+t;if(t<52)return t-26+97;if(t<62)return t-52+48;if(62==t)return 43;if(63==t)return 47}throw"n:"+t};return i.writeByte=function(r){for(t=t<<8|255&r,e+=8,n+=1;e>=6;)o(t>>>e-6),e-=6},i.flush=function(){if(e>0&&(o(t<<6-e),t=0,e=0),n%3!=0)for(var i=3-n%3,s=0;s<i;s+=1)r+="="},i.toString=function(){return r},i}(),l=s.toByteArray(),c=0;c<l.length;c+=1)a.writeByte(l[c]);return a.flush(),"data:image/gif;base64,"+a};return t}();i.stringToBytesFuncs["UTF-8"]=function(t){return function(t){for(var e=[],n=0;n<t.length;n++){var r=t.charCodeAt(n);r<128?e.push(r):r<2048?e.push(192|r>>6,128|63&r):r<55296||r>=57344?e.push(224|r>>12,128|r>>6&63,128|63&r):(n++,r=65536+((1023&r)<<10|1023&t.charCodeAt(n)),e.push(240|r>>18,128|r>>12&63,128|r>>6&63,128|63&r))}return e}(t)},void 0===(r="function"==typeof(n=function(){return i})?n.apply(e,[]):n)||(t.exports=r)},4281:t=>{"use strict";var e={};function n(t,n,r){r||(r=Error);var i=function(t){var e,r;function i(e,r,i){return t.call(this,function(t,e,r){return"string"==typeof n?n:n(t,e,r)}(e,r,i))||this}return r=t,(e=i).prototype=Object.create(r.prototype),e.prototype.constructor=e,e.__proto__=r,i}(r);i.prototype.name=r.name,i.prototype.code=t,e[t]=i}function r(t,e){if(Array.isArray(t)){var n=t.length;return t=t.map((function(t){return String(t)})),n>2?"one of ".concat(e," ").concat(t.slice(0,n-1).join(", "),", or ")+t[n-1]:2===n?"one of ".concat(e," ").concat(t[0]," or ").concat(t[1]):"of ".concat(e," ").concat(t[0])}return"of ".concat(e," ").concat(String(t))}n("ERR_INVALID_OPT_VALUE",(function(t,e){return'The value "'+e+'" is invalid for option "'+t+'"'}),TypeError),n("ERR_INVALID_ARG_TYPE",(function(t,e,n){var i,o,s,a,l;if("string"==typeof e&&(o="not ",e.substr(0,o.length)===o)?(i="must not be",e=e.replace(/^not /,"")):i="must be",function(t,e,n){return(void 0===n||n>t.length)&&(n=t.length),t.substring(n-e.length,n)===e}(t," argument"))s="The ".concat(t," ").concat(i," ").concat(r(e,"type"));else{var c=("number"!=typeof l&&(l=0),l+".".length>(a=t).length||-1===a.indexOf(".",l)?"argument":"property");s='The "'.concat(t,'" ').concat(c," ").concat(i," ").concat(r(e,"type"))}return s+". Received type ".concat(typeof n)}),TypeError),n("ERR_STREAM_PUSH_AFTER_EOF","stream.push() after EOF"),n("ERR_METHOD_NOT_IMPLEMENTED",(function(t){return"The "+t+" method is not implemented"})),n("ERR_STREAM_PREMATURE_CLOSE","Premature close"),n("ERR_STREAM_DESTROYED",(function(t){return"Cannot call "+t+" after a stream was destroyed"})),n("ERR_MULTIPLE_CALLBACK","Callback called multiple times"),n("ERR_STREAM_CANNOT_PIPE","Cannot pipe, not readable"),n("ERR_STREAM_WRITE_AFTER_END","write after end"),n("ERR_STREAM_NULL_VALUES","May not write null values to stream",TypeError),n("ERR_UNKNOWN_ENCODING",(function(t){return"Unknown encoding: "+t}),TypeError),n("ERR_STREAM_UNSHIFT_AFTER_END_EVENT","stream.unshift() after end event"),t.exports.q=e},6753:(t,e,n)=>{"use strict";var r=n(4155),i=Object.keys||function(t){var e=[];for(var n in t)e.push(n);return e};t.exports=u;var o=n(9481),s=n(4229);n(5717)(u,o);for(var a=i(s.prototype),l=0;l<a.length;l++){var c=a[l];u.prototype[c]||(u.prototype[c]=s.prototype[c])}function u(t){if(!(this instanceof u))return new u(t);o.call(this,t),s.call(this,t),this.allowHalfOpen=!0,t&&(!1===t.readable&&(this.readable=!1),!1===t.writable&&(this.writable=!1),!1===t.allowHalfOpen&&(this.allowHalfOpen=!1,this.once("end",h)))}function h(){this._writableState.ended||r.nextTick(f,this)}function f(t){t.end()}Object.defineProperty(u.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),Object.defineProperty(u.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}}),Object.defineProperty(u.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}}),Object.defineProperty(u.prototype,"destroyed",{enumerable:!1,get:function(){return void 0!==this._readableState&&void 0!==this._writableState&&this._readableState.destroyed&&this._writableState.destroyed},set:function(t){void 0!==this._readableState&&void 0!==this._writableState&&(this._readableState.destroyed=t,this._writableState.destroyed=t)}})},2725:(t,e,n)=>{"use strict";t.exports=i;var r=n(4605);function i(t){if(!(this instanceof i))return new i(t);r.call(this,t)}n(5717)(i,r),i.prototype._transform=function(t,e,n){n(null,t)}},9481:(t,e,n)=>{"use strict";var r,i=n(4155);t.exports=S,S.ReadableState=A,n(7187).EventEmitter;var o,s=function(t,e){return t.listeners(e).length},a=n(2503),l=n(8764).Buffer,c=(void 0!==n.g?n.g:"undefined"!=typeof window?window:"undefined"!=typeof self?self:{}).Uint8Array||function(){},u=n(4616);o=u&&u.debuglog?u.debuglog("stream"):function(){};var h,f,d,p=n(7327),g=n(1195),y=n(2457).getHighWaterMark,v=n(4281).q,m=v.ERR_INVALID_ARG_TYPE,w=v.ERR_STREAM_PUSH_AFTER_EOF,b=v.ERR_METHOD_NOT_IMPLEMENTED,E=v.ERR_STREAM_UNSHIFT_AFTER_END_EVENT;n(5717)(S,a);var _=g.errorOrDestroy,x=["error","close","destroy","pause","resume"];function A(t,e,i){r=r||n(6753),t=t||{},"boolean"!=typeof i&&(i=e instanceof r),this.objectMode=!!t.objectMode,i&&(this.objectMode=this.objectMode||!!t.readableObjectMode),this.highWaterMark=y(this,t,"readableHighWaterMark",i),this.buffer=new p,this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.paused=!0,this.emitClose=!1!==t.emitClose,this.autoDestroy=!!t.autoDestroy,this.destroyed=!1,this.defaultEncoding=t.defaultEncoding||"utf8",this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,t.encoding&&(h||(h=n(2553).s),this.decoder=new h(t.encoding),this.encoding=t.encoding)}function S(t){if(r=r||n(6753),!(this instanceof S))return new S(t);var e=this instanceof r;this._readableState=new A(t,this,e),this.readable=!0,t&&("function"==typeof t.read&&(this._read=t.read),"function"==typeof t.destroy&&(this._destroy=t.destroy)),a.call(this)}function T(t,e,n,r,i){o("readableAddChunk",e);var s,a=t._readableState;if(null===e)a.reading=!1,function(t,e){if(o("onEofChunk"),!e.ended){if(e.decoder){var n=e.decoder.end();n&&n.length&&(e.buffer.push(n),e.length+=e.objectMode?1:n.length)}e.ended=!0,e.sync?O(t):(e.needReadable=!1,e.emittedReadable||(e.emittedReadable=!0,N(t)))}}(t,a);else if(i||(s=function(t,e){var n,r;return r=e,l.isBuffer(r)||r instanceof c||"string"==typeof e||void 0===e||t.objectMode||(n=new m("chunk",["string","Buffer","Uint8Array"],e)),n}(a,e)),s)_(t,s);else if(a.objectMode||e&&e.length>0)if("string"==typeof e||a.objectMode||Object.getPrototypeOf(e)===l.prototype||(e=function(t){return l.from(t)}(e)),r)a.endEmitted?_(t,new E):R(t,a,e,!0);else if(a.ended)_(t,new w);else{if(a.destroyed)return!1;a.reading=!1,a.decoder&&!n?(e=a.decoder.write(e),a.objectMode||0!==e.length?R(t,a,e,!1):C(t,a)):R(t,a,e,!1)}else r||(a.reading=!1,C(t,a));return!a.ended&&(a.length<a.highWaterMark||0===a.length)}function R(t,e,n,r){e.flowing&&0===e.length&&!e.sync?(e.awaitDrain=0,t.emit("data",n)):(e.length+=e.objectMode?1:n.length,r?e.buffer.unshift(n):e.buffer.push(n),e.needReadable&&O(t)),C(t,e)}Object.defineProperty(S.prototype,"destroyed",{enumerable:!1,get:function(){return void 0!==this._readableState&&this._readableState.destroyed},set:function(t){this._readableState&&(this._readableState.destroyed=t)}}),S.prototype.destroy=g.destroy,S.prototype._undestroy=g.undestroy,S.prototype._destroy=function(t,e){e(t)},S.prototype.push=function(t,e){var n,r=this._readableState;return r.objectMode?n=!0:"string"==typeof t&&((e=e||r.defaultEncoding)!==r.encoding&&(t=l.from(t,e),e=""),n=!0),T(this,t,e,!1,n)},S.prototype.unshift=function(t){return T(this,t,null,!0,!1)},S.prototype.isPaused=function(){return!1===this._readableState.flowing},S.prototype.setEncoding=function(t){h||(h=n(2553).s);var e=new h(t);this._readableState.decoder=e,this._readableState.encoding=this._readableState.decoder.encoding;for(var r=this._readableState.buffer.head,i="";null!==r;)i+=e.write(r.data),r=r.next;return this._readableState.buffer.clear(),""!==i&&this._readableState.buffer.push(i),this._readableState.length=i.length,this};var I=1073741824;function k(t,e){return t<=0||0===e.length&&e.ended?0:e.objectMode?1:t!=t?e.flowing&&e.length?e.buffer.head.data.length:e.length:(t>e.highWaterMark&&(e.highWaterMark=function(t){return t>=I?t=I:(t--,t|=t>>>1,t|=t>>>2,t|=t>>>4,t|=t>>>8,t|=t>>>16,t++),t}(t)),t<=e.length?t:e.ended?e.length:(e.needReadable=!0,0))}function O(t){var e=t._readableState;o("emitReadable",e.needReadable,e.emittedReadable),e.needReadable=!1,e.emittedReadable||(o("emitReadable",e.flowing),e.emittedReadable=!0,i.nextTick(N,t))}function N(t){var e=t._readableState;o("emitReadable_",e.destroyed,e.length,e.ended),e.destroyed||!e.length&&!e.ended||(t.emit("readable"),e.emittedReadable=!1),e.needReadable=!e.flowing&&!e.ended&&e.length<=e.highWaterMark,U(t)}function C(t,e){e.readingMore||(e.readingMore=!0,i.nextTick(P,t,e))}function P(t,e){for(;!e.reading&&!e.ended&&(e.length<e.highWaterMark||e.flowing&&0===e.length);){var n=e.length;if(o("maybeReadMore read 0"),t.read(0),n===e.length)break}e.readingMore=!1}function L(t){var e=t._readableState;e.readableListening=t.listenerCount("readable")>0,e.resumeScheduled&&!e.paused?e.flowing=!0:t.listenerCount("data")>0&&t.resume()}function B(t){o("readable nexttick read 0"),t.read(0)}function M(t,e){o("resume",e.reading),e.reading||t.read(0),e.resumeScheduled=!1,t.emit("resume"),U(t),e.flowing&&!e.reading&&t.read(0)}function U(t){var e=t._readableState;for(o("flow",e.flowing);e.flowing&&null!==t.read(););}function D(t,e){return 0===e.length?null:(e.objectMode?n=e.buffer.shift():!t||t>=e.length?(n=e.decoder?e.buffer.join(""):1===e.buffer.length?e.buffer.first():e.buffer.concat(e.length),e.buffer.clear()):n=e.buffer.consume(t,e.decoder),n);var n}function j(t){var e=t._readableState;o("endReadable",e.endEmitted),e.endEmitted||(e.ended=!0,i.nextTick(K,e,t))}function K(t,e){if(o("endReadableNT",t.endEmitted,t.length),!t.endEmitted&&0===t.length&&(t.endEmitted=!0,e.readable=!1,e.emit("end"),t.autoDestroy)){var n=e._writableState;(!n||n.autoDestroy&&n.finished)&&e.destroy()}}function H(t,e){for(var n=0,r=t.length;n<r;n++)if(t[n]===e)return n;return-1}S.prototype.read=function(t){o("read",t),t=parseInt(t,10);var e=this._readableState,n=t;if(0!==t&&(e.emittedReadable=!1),0===t&&e.needReadable&&((0!==e.highWaterMark?e.length>=e.highWaterMark:e.length>0)||e.ended))return o("read: emitReadable",e.length,e.ended),0===e.length&&e.ended?j(this):O(this),null;if(0===(t=k(t,e))&&e.ended)return 0===e.length&&j(this),null;var r,i=e.needReadable;return o("need readable",i),(0===e.length||e.length-t<e.highWaterMark)&&o("length less than watermark",i=!0),e.ended||e.reading?o("reading or ended",i=!1):i&&(o("do read"),e.reading=!0,e.sync=!0,0===e.length&&(e.needReadable=!0),this._read(e.highWaterMark),e.sync=!1,e.reading||(t=k(n,e))),null===(r=t>0?D(t,e):null)?(e.needReadable=e.length<=e.highWaterMark,t=0):(e.length-=t,e.awaitDrain=0),0===e.length&&(e.ended||(e.needReadable=!0),n!==t&&e.ended&&j(this)),null!==r&&this.emit("data",r),r},S.prototype._read=function(t){_(this,new b("_read()"))},S.prototype.pipe=function(t,e){var n=this,r=this._readableState;switch(r.pipesCount){case 0:r.pipes=t;break;case 1:r.pipes=[r.pipes,t];break;default:r.pipes.push(t)}r.pipesCount+=1,o("pipe count=%d opts=%j",r.pipesCount,e);var a=e&&!1===e.end||t===i.stdout||t===i.stderr?g:l;function l(){o("onend"),t.end()}r.endEmitted?i.nextTick(a):n.once("end",a),t.on("unpipe",(function e(i,s){o("onunpipe"),i===n&&s&&!1===s.hasUnpiped&&(s.hasUnpiped=!0,o("cleanup"),t.removeListener("close",d),t.removeListener("finish",p),t.removeListener("drain",c),t.removeListener("error",f),t.removeListener("unpipe",e),n.removeListener("end",l),n.removeListener("end",g),n.removeListener("data",h),u=!0,!r.awaitDrain||t._writableState&&!t._writableState.needDrain||c())}));var c=function(t){return function(){var e=t._readableState;o("pipeOnDrain",e.awaitDrain),e.awaitDrain&&e.awaitDrain--,0===e.awaitDrain&&s(t,"data")&&(e.flowing=!0,U(t))}}(n);t.on("drain",c);var u=!1;function h(e){o("ondata");var i=t.write(e);o("dest.write",i),!1===i&&((1===r.pipesCount&&r.pipes===t||r.pipesCount>1&&-1!==H(r.pipes,t))&&!u&&(o("false write response, pause",r.awaitDrain),r.awaitDrain++),n.pause())}function f(e){o("onerror",e),g(),t.removeListener("error",f),0===s(t,"error")&&_(t,e)}function d(){t.removeListener("finish",p),g()}function p(){o("onfinish"),t.removeListener("close",d),g()}function g(){o("unpipe"),n.unpipe(t)}return n.on("data",h),function(t,e,n){if("function"==typeof t.prependListener)return t.prependListener(e,n);t._events&&t._events[e]?Array.isArray(t._events[e])?t._events[e].unshift(n):t._events[e]=[n,t._events[e]]:t.on(e,n)}(t,"error",f),t.once("close",d),t.once("finish",p),t.emit("pipe",n),r.flowing||(o("pipe resume"),n.resume()),t},S.prototype.unpipe=function(t){var e=this._readableState,n={hasUnpiped:!1};if(0===e.pipesCount)return this;if(1===e.pipesCount)return t&&t!==e.pipes||(t||(t=e.pipes),e.pipes=null,e.pipesCount=0,e.flowing=!1,t&&t.emit("unpipe",this,n)),this;if(!t){var r=e.pipes,i=e.pipesCount;e.pipes=null,e.pipesCount=0,e.flowing=!1;for(var o=0;o<i;o++)r[o].emit("unpipe",this,{hasUnpiped:!1});return this}var s=H(e.pipes,t);return-1===s||(e.pipes.splice(s,1),e.pipesCount-=1,1===e.pipesCount&&(e.pipes=e.pipes[0]),t.emit("unpipe",this,n)),this},S.prototype.on=function(t,e){var n=a.prototype.on.call(this,t,e),r=this._readableState;return"data"===t?(r.readableListening=this.listenerCount("readable")>0,!1!==r.flowing&&this.resume()):"readable"===t&&(r.endEmitted||r.readableListening||(r.readableListening=r.needReadable=!0,r.flowing=!1,r.emittedReadable=!1,o("on readable",r.length,r.reading),r.length?O(this):r.reading||i.nextTick(B,this))),n},S.prototype.addListener=S.prototype.on,S.prototype.removeListener=function(t,e){var n=a.prototype.removeListener.call(this,t,e);return"readable"===t&&i.nextTick(L,this),n},S.prototype.removeAllListeners=function(t){var e=a.prototype.removeAllListeners.apply(this,arguments);return"readable"!==t&&void 0!==t||i.nextTick(L,this),e},S.prototype.resume=function(){var t=this._readableState;return t.flowing||(o("resume"),t.flowing=!t.readableListening,function(t,e){e.resumeScheduled||(e.resumeScheduled=!0,i.nextTick(M,t,e))}(this,t)),t.paused=!1,this},S.prototype.pause=function(){return o("call pause flowing=%j",this._readableState.flowing),!1!==this._readableState.flowing&&(o("pause"),this._readableState.flowing=!1,this.emit("pause")),this._readableState.paused=!0,this},S.prototype.wrap=function(t){var e=this,n=this._readableState,r=!1;for(var i in t.on("end",(function(){if(o("wrapped end"),n.decoder&&!n.ended){var t=n.decoder.end();t&&t.length&&e.push(t)}e.push(null)})),t.on("data",(function(i){o("wrapped data"),n.decoder&&(i=n.decoder.write(i)),n.objectMode&&null==i||(n.objectMode||i&&i.length)&&(e.push(i)||(r=!0,t.pause()))})),t)void 0===this[i]&&"function"==typeof t[i]&&(this[i]=function(e){return function(){return t[e].apply(t,arguments)}}(i));for(var s=0;s<x.length;s++)t.on(x[s],this.emit.bind(this,x[s]));return this._read=function(e){o("wrapped _read",e),r&&(r=!1,t.resume())},this},"function"==typeof Symbol&&(S.prototype[Symbol.asyncIterator]=function(){return void 0===f&&(f=n(5850)),f(this)}),Object.defineProperty(S.prototype,"readableHighWaterMark",{enumerable:!1,get:function(){return this._readableState.highWaterMark}}),Object.defineProperty(S.prototype,"readableBuffer",{enumerable:!1,get:function(){return this._readableState&&this._readableState.buffer}}),Object.defineProperty(S.prototype,"readableFlowing",{enumerable:!1,get:function(){return this._readableState.flowing},set:function(t){this._readableState&&(this._readableState.flowing=t)}}),S._fromList=D,Object.defineProperty(S.prototype,"readableLength",{enumerable:!1,get:function(){return this._readableState.length}}),"function"==typeof Symbol&&(S.from=function(t,e){return void 0===d&&(d=n(5167)),d(S,t,e)})},4605:(t,e,n)=>{"use strict";t.exports=u;var r=n(4281).q,i=r.ERR_METHOD_NOT_IMPLEMENTED,o=r.ERR_MULTIPLE_CALLBACK,s=r.ERR_TRANSFORM_ALREADY_TRANSFORMING,a=r.ERR_TRANSFORM_WITH_LENGTH_0,l=n(6753);function c(t,e){var n=this._transformState;n.transforming=!1;var r=n.writecb;if(null===r)return this.emit("error",new o);n.writechunk=null,n.writecb=null,null!=e&&this.push(e),r(t);var i=this._readableState;i.reading=!1,(i.needReadable||i.length<i.highWaterMark)&&this._read(i.highWaterMark)}function u(t){if(!(this instanceof u))return new u(t);l.call(this,t),this._transformState={afterTransform:c.bind(this),needTransform:!1,transforming:!1,writecb:null,writechunk:null,writeencoding:null},this._readableState.needReadable=!0,this._readableState.sync=!1,t&&("function"==typeof t.transform&&(this._transform=t.transform),"function"==typeof t.flush&&(this._flush=t.flush)),this.on("prefinish",h)}function h(){var t=this;"function"!=typeof this._flush||this._readableState.destroyed?f(this,null,null):this._flush((function(e,n){f(t,e,n)}))}function f(t,e,n){if(e)return t.emit("error",e);if(null!=n&&t.push(n),t._writableState.length)throw new a;if(t._transformState.transforming)throw new s;return t.push(null)}n(5717)(u,l),u.prototype.push=function(t,e){return this._transformState.needTransform=!1,l.prototype.push.call(this,t,e)},u.prototype._transform=function(t,e,n){n(new i("_transform()"))},u.prototype._write=function(t,e,n){var r=this._transformState;if(r.writecb=n,r.writechunk=t,r.writeencoding=e,!r.transforming){var i=this._readableState;(r.needTransform||i.needReadable||i.length<i.highWaterMark)&&this._read(i.highWaterMark)}},u.prototype._read=function(t){var e=this._transformState;null===e.writechunk||e.transforming?e.needTransform=!0:(e.transforming=!0,this._transform(e.writechunk,e.writeencoding,e.afterTransform))},u.prototype._destroy=function(t,e){l.prototype._destroy.call(this,t,(function(t){e(t)}))}},4229:(t,e,n)=>{"use strict";var r,i=n(4155);function o(t){var e=this;this.next=null,this.entry=null,this.finish=function(){!function(t,e,n){var r=t.entry;for(t.entry=null;r;){var i=r.callback;e.pendingcb--,i(undefined),r=r.next}e.corkedRequestsFree.next=t}(e,t)}}t.exports=S,S.WritableState=A;var s,a={deprecate:n(4927)},l=n(2503),c=n(8764).Buffer,u=(void 0!==n.g?n.g:"undefined"!=typeof window?window:"undefined"!=typeof self?self:{}).Uint8Array||function(){},h=n(1195),f=n(2457).getHighWaterMark,d=n(4281).q,p=d.ERR_INVALID_ARG_TYPE,g=d.ERR_METHOD_NOT_IMPLEMENTED,y=d.ERR_MULTIPLE_CALLBACK,v=d.ERR_STREAM_CANNOT_PIPE,m=d.ERR_STREAM_DESTROYED,w=d.ERR_STREAM_NULL_VALUES,b=d.ERR_STREAM_WRITE_AFTER_END,E=d.ERR_UNKNOWN_ENCODING,_=h.errorOrDestroy;function x(){}function A(t,e,s){r=r||n(6753),t=t||{},"boolean"!=typeof s&&(s=e instanceof r),this.objectMode=!!t.objectMode,s&&(this.objectMode=this.objectMode||!!t.writableObjectMode),this.highWaterMark=f(this,t,"writableHighWaterMark",s),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1;var a=!1===t.decodeStrings;this.decodeStrings=!a,this.defaultEncoding=t.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(t){!function(t,e){var n=t._writableState,r=n.sync,o=n.writecb;if("function"!=typeof o)throw new y;if(function(t){t.writing=!1,t.writecb=null,t.length-=t.writelen,t.writelen=0}(n),e)!function(t,e,n,r,o){--e.pendingcb,n?(i.nextTick(o,r),i.nextTick(N,t,e),t._writableState.errorEmitted=!0,_(t,r)):(o(r),t._writableState.errorEmitted=!0,_(t,r),N(t,e))}(t,n,r,e,o);else{var s=k(n)||t.destroyed;s||n.corked||n.bufferProcessing||!n.bufferedRequest||I(t,n),r?i.nextTick(R,t,n,s,o):R(t,n,s,o)}}(e,t)},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.emitClose=!1!==t.emitClose,this.autoDestroy=!!t.autoDestroy,this.bufferedRequestCount=0,this.corkedRequestsFree=new o(this)}function S(t){var e=this instanceof(r=r||n(6753));if(!e&&!s.call(S,this))return new S(t);this._writableState=new A(t,this,e),this.writable=!0,t&&("function"==typeof t.write&&(this._write=t.write),"function"==typeof t.writev&&(this._writev=t.writev),"function"==typeof t.destroy&&(this._destroy=t.destroy),"function"==typeof t.final&&(this._final=t.final)),l.call(this)}function T(t,e,n,r,i,o,s){e.writelen=r,e.writecb=s,e.writing=!0,e.sync=!0,e.destroyed?e.onwrite(new m("write")):n?t._writev(i,e.onwrite):t._write(i,o,e.onwrite),e.sync=!1}function R(t,e,n,r){n||function(t,e){0===e.length&&e.needDrain&&(e.needDrain=!1,t.emit("drain"))}(t,e),e.pendingcb--,r(),N(t,e)}function I(t,e){e.bufferProcessing=!0;var n=e.bufferedRequest;if(t._writev&&n&&n.next){var r=e.bufferedRequestCount,i=new Array(r),s=e.corkedRequestsFree;s.entry=n;for(var a=0,l=!0;n;)i[a]=n,n.isBuf||(l=!1),n=n.next,a+=1;i.allBuffers=l,T(t,e,!0,e.length,i,"",s.finish),e.pendingcb++,e.lastBufferedRequest=null,s.next?(e.corkedRequestsFree=s.next,s.next=null):e.corkedRequestsFree=new o(e),e.bufferedRequestCount=0}else{for(;n;){var c=n.chunk,u=n.encoding,h=n.callback;if(T(t,e,!1,e.objectMode?1:c.length,c,u,h),n=n.next,e.bufferedRequestCount--,e.writing)break}null===n&&(e.lastBufferedRequest=null)}e.bufferedRequest=n,e.bufferProcessing=!1}function k(t){return t.ending&&0===t.length&&null===t.bufferedRequest&&!t.finished&&!t.writing}function O(t,e){t._final((function(n){e.pendingcb--,n&&_(t,n),e.prefinished=!0,t.emit("prefinish"),N(t,e)}))}function N(t,e){var n=k(e);if(n&&(function(t,e){e.prefinished||e.finalCalled||("function"!=typeof t._final||e.destroyed?(e.prefinished=!0,t.emit("prefinish")):(e.pendingcb++,e.finalCalled=!0,i.nextTick(O,t,e)))}(t,e),0===e.pendingcb&&(e.finished=!0,t.emit("finish"),e.autoDestroy))){var r=t._readableState;(!r||r.autoDestroy&&r.endEmitted)&&t.destroy()}return n}n(5717)(S,l),A.prototype.getBuffer=function(){for(var t=this.bufferedRequest,e=[];t;)e.push(t),t=t.next;return e},function(){try{Object.defineProperty(A.prototype,"buffer",{get:a.deprecate((function(){return this.getBuffer()}),"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.","DEP0003")})}catch(t){}}(),"function"==typeof Symbol&&Symbol.hasInstance&&"function"==typeof Function.prototype[Symbol.hasInstance]?(s=Function.prototype[Symbol.hasInstance],Object.defineProperty(S,Symbol.hasInstance,{value:function(t){return!!s.call(this,t)||this===S&&t&&t._writableState instanceof A}})):s=function(t){return t instanceof this},S.prototype.pipe=function(){_(this,new v)},S.prototype.write=function(t,e,n){var r,o=this._writableState,s=!1,a=!o.objectMode&&(r=t,c.isBuffer(r)||r instanceof u);return a&&!c.isBuffer(t)&&(t=function(t){return c.from(t)}(t)),"function"==typeof e&&(n=e,e=null),a?e="buffer":e||(e=o.defaultEncoding),"function"!=typeof n&&(n=x),o.ending?function(t,e){var n=new b;_(t,n),i.nextTick(e,n)}(this,n):(a||function(t,e,n,r){var o;return null===n?o=new w:"string"==typeof n||e.objectMode||(o=new p("chunk",["string","Buffer"],n)),!o||(_(t,o),i.nextTick(r,o),!1)}(this,o,t,n))&&(o.pendingcb++,s=function(t,e,n,r,i,o){if(!n){var s=function(t,e,n){return t.objectMode||!1===t.decodeStrings||"string"!=typeof e||(e=c.from(e,n)),e}(e,r,i);r!==s&&(n=!0,i="buffer",r=s)}var a=e.objectMode?1:r.length;e.length+=a;var l=e.length<e.highWaterMark;if(l||(e.needDrain=!0),e.writing||e.corked){var u=e.lastBufferedRequest;e.lastBufferedRequest={chunk:r,encoding:i,isBuf:n,callback:o,next:null},u?u.next=e.lastBufferedRequest:e.bufferedRequest=e.lastBufferedRequest,e.bufferedRequestCount+=1}else T(t,e,!1,a,r,i,o);return l}(this,o,a,t,e,n)),s},S.prototype.cork=function(){this._writableState.corked++},S.prototype.uncork=function(){var t=this._writableState;t.corked&&(t.corked--,t.writing||t.corked||t.bufferProcessing||!t.bufferedRequest||I(this,t))},S.prototype.setDefaultEncoding=function(t){if("string"==typeof t&&(t=t.toLowerCase()),!(["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((t+"").toLowerCase())>-1))throw new E(t);return this._writableState.defaultEncoding=t,this},Object.defineProperty(S.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}}),Object.defineProperty(S.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),S.prototype._write=function(t,e,n){n(new g("_write()"))},S.prototype._writev=null,S.prototype.end=function(t,e,n){var r=this._writableState;return"function"==typeof t?(n=t,t=null,e=null):"function"==typeof e&&(n=e,e=null),null!=t&&this.write(t,e),r.corked&&(r.corked=1,this.uncork()),r.ending||function(t,e,n){e.ending=!0,N(t,e),n&&(e.finished?i.nextTick(n):t.once("finish",n)),e.ended=!0,t.writable=!1}(this,r,n),this},Object.defineProperty(S.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}}),Object.defineProperty(S.prototype,"destroyed",{enumerable:!1,get:function(){return void 0!==this._writableState&&this._writableState.destroyed},set:function(t){this._writableState&&(this._writableState.destroyed=t)}}),S.prototype.destroy=h.destroy,S.prototype._undestroy=h.undestroy,S.prototype._destroy=function(t,e){e(t)}},5850:(t,e,n)=>{"use strict";var r,i=n(4155);function o(t,e,n){return(e=function(t){var e=function(t,e){if("object"!=typeof t||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,"string");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"==typeof e?e:String(e)}(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var s=n(8610),a=Symbol("lastResolve"),l=Symbol("lastReject"),c=Symbol("error"),u=Symbol("ended"),h=Symbol("lastPromise"),f=Symbol("handlePromise"),d=Symbol("stream");function p(t,e){return{value:t,done:e}}function g(t){var e=t[a];if(null!==e){var n=t[d].read();null!==n&&(t[h]=null,t[a]=null,t[l]=null,e(p(n,!1)))}}function y(t){i.nextTick(g,t)}var v=Object.getPrototypeOf((function(){})),m=Object.setPrototypeOf((o(r={get stream(){return this[d]},next:function(){var t=this,e=this[c];if(null!==e)return Promise.reject(e);if(this[u])return Promise.resolve(p(void 0,!0));if(this[d].destroyed)return new Promise((function(e,n){i.nextTick((function(){t[c]?n(t[c]):e(p(void 0,!0))}))}));var n,r=this[h];if(r)n=new Promise(function(t,e){return function(n,r){t.then((function(){e[u]?n(p(void 0,!0)):e[f](n,r)}),r)}}(r,this));else{var o=this[d].read();if(null!==o)return Promise.resolve(p(o,!1));n=new Promise(this[f])}return this[h]=n,n}},Symbol.asyncIterator,(function(){return this})),o(r,"return",(function(){var t=this;return new Promise((function(e,n){t[d].destroy(null,(function(t){t?n(t):e(p(void 0,!0))}))}))})),r),v);t.exports=function(t){var e,n=Object.create(m,(o(e={},d,{value:t,writable:!0}),o(e,a,{value:null,writable:!0}),o(e,l,{value:null,writable:!0}),o(e,c,{value:null,writable:!0}),o(e,u,{value:t._readableState.endEmitted,writable:!0}),o(e,f,{value:function(t,e){var r=n[d].read();r?(n[h]=null,n[a]=null,n[l]=null,t(p(r,!1))):(n[a]=t,n[l]=e)},writable:!0}),e));return n[h]=null,s(t,(function(t){if(t&&"ERR_STREAM_PREMATURE_CLOSE"!==t.code){var e=n[l];return null!==e&&(n[h]=null,n[a]=null,n[l]=null,e(t)),void(n[c]=t)}var r=n[a];null!==r&&(n[h]=null,n[a]=null,n[l]=null,r(p(void 0,!0))),n[u]=!0})),t.on("readable",y.bind(null,n)),n}},7327:(t,e,n)=>{"use strict";function r(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function i(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?r(Object(n),!0).forEach((function(e){o(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):r(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function o(t,e,n){return(e=a(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function s(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,a(r.key),r)}}function a(t){var e=function(t,e){if("object"!=typeof t||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,"string");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"==typeof e?e:String(e)}var l=n(8764).Buffer,c=n(2361).inspect,u=c&&c.custom||"inspect";t.exports=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.head=null,this.tail=null,this.length=0}var e,n;return e=t,(n=[{key:"push",value:function(t){var e={data:t,next:null};this.length>0?this.tail.next=e:this.head=e,this.tail=e,++this.length}},{key:"unshift",value:function(t){var e={data:t,next:this.head};0===this.length&&(this.tail=e),this.head=e,++this.length}},{key:"shift",value:function(){if(0!==this.length){var t=this.head.data;return 1===this.length?this.head=this.tail=null:this.head=this.head.next,--this.length,t}}},{key:"clear",value:function(){this.head=this.tail=null,this.length=0}},{key:"join",value:function(t){if(0===this.length)return"";for(var e=this.head,n=""+e.data;e=e.next;)n+=t+e.data;return n}},{key:"concat",value:function(t){if(0===this.length)return l.alloc(0);for(var e,n,r,i=l.allocUnsafe(t>>>0),o=this.head,s=0;o;)e=o.data,n=i,r=s,l.prototype.copy.call(e,n,r),s+=o.data.length,o=o.next;return i}},{key:"consume",value:function(t,e){var n;return t<this.head.data.length?(n=this.head.data.slice(0,t),this.head.data=this.head.data.slice(t)):n=t===this.head.data.length?this.shift():e?this._getString(t):this._getBuffer(t),n}},{key:"first",value:function(){return this.head.data}},{key:"_getString",value:function(t){var e=this.head,n=1,r=e.data;for(t-=r.length;e=e.next;){var i=e.data,o=t>i.length?i.length:t;if(o===i.length?r+=i:r+=i.slice(0,t),0==(t-=o)){o===i.length?(++n,e.next?this.head=e.next:this.head=this.tail=null):(this.head=e,e.data=i.slice(o));break}++n}return this.length-=n,r}},{key:"_getBuffer",value:function(t){var e=l.allocUnsafe(t),n=this.head,r=1;for(n.data.copy(e),t-=n.data.length;n=n.next;){var i=n.data,o=t>i.length?i.length:t;if(i.copy(e,e.length-t,0,o),0==(t-=o)){o===i.length?(++r,n.next?this.head=n.next:this.head=this.tail=null):(this.head=n,n.data=i.slice(o));break}++r}return this.length-=r,e}},{key:u,value:function(t,e){return c(this,i(i({},e),{},{depth:0,customInspect:!1}))}}])&&s(e.prototype,n),Object.defineProperty(e,"prototype",{writable:!1}),t}()},1195:(t,e,n)=>{"use strict";var r=n(4155);function i(t,e){s(t,e),o(t)}function o(t){t._writableState&&!t._writableState.emitClose||t._readableState&&!t._readableState.emitClose||t.emit("close")}function s(t,e){t.emit("error",e)}t.exports={destroy:function(t,e){var n=this,a=this._readableState&&this._readableState.destroyed,l=this._writableState&&this._writableState.destroyed;return a||l?(e?e(t):t&&(this._writableState?this._writableState.errorEmitted||(this._writableState.errorEmitted=!0,r.nextTick(s,this,t)):r.nextTick(s,this,t)),this):(this._readableState&&(this._readableState.destroyed=!0),this._writableState&&(this._writableState.destroyed=!0),this._destroy(t||null,(function(t){!e&&t?n._writableState?n._writableState.errorEmitted?r.nextTick(o,n):(n._writableState.errorEmitted=!0,r.nextTick(i,n,t)):r.nextTick(i,n,t):e?(r.nextTick(o,n),e(t)):r.nextTick(o,n)})),this)},undestroy:function(){this._readableState&&(this._readableState.destroyed=!1,this._readableState.reading=!1,this._readableState.ended=!1,this._readableState.endEmitted=!1),this._writableState&&(this._writableState.destroyed=!1,this._writableState.ended=!1,this._writableState.ending=!1,this._writableState.finalCalled=!1,this._writableState.prefinished=!1,this._writableState.finished=!1,this._writableState.errorEmitted=!1)},errorOrDestroy:function(t,e){var n=t._readableState,r=t._writableState;n&&n.autoDestroy||r&&r.autoDestroy?t.destroy(e):t.emit("error",e)}}},8610:(t,e,n)=>{"use strict";var r=n(4281).q.ERR_STREAM_PREMATURE_CLOSE;function i(){}t.exports=function t(e,n,o){if("function"==typeof n)return t(e,null,n);n||(n={}),o=function(t){var e=!1;return function(){if(!e){e=!0;for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];t.apply(this,r)}}}(o||i);var s=n.readable||!1!==n.readable&&e.readable,a=n.writable||!1!==n.writable&&e.writable,l=function(){e.writable||u()},c=e._writableState&&e._writableState.finished,u=function(){a=!1,c=!0,s||o.call(e)},h=e._readableState&&e._readableState.endEmitted,f=function(){s=!1,h=!0,a||o.call(e)},d=function(t){o.call(e,t)},p=function(){var t;return s&&!h?(e._readableState&&e._readableState.ended||(t=new r),o.call(e,t)):a&&!c?(e._writableState&&e._writableState.ended||(t=new r),o.call(e,t)):void 0},g=function(){e.req.on("finish",u)};return function(t){return t.setHeader&&"function"==typeof t.abort}(e)?(e.on("complete",u),e.on("abort",p),e.req?g():e.on("request",g)):a&&!e._writableState&&(e.on("end",l),e.on("close",l)),e.on("end",f),e.on("finish",u),!1!==n.error&&e.on("error",d),e.on("close",p),function(){e.removeListener("complete",u),e.removeListener("abort",p),e.removeListener("request",g),e.req&&e.req.removeListener("finish",u),e.removeListener("end",l),e.removeListener("close",l),e.removeListener("finish",u),e.removeListener("end",f),e.removeListener("error",d),e.removeListener("close",p)}}},5167:t=>{t.exports=function(){throw new Error("Readable.from is not available in the browser")}},9946:(t,e,n)=>{"use strict";var r,i=n(4281).q,o=i.ERR_MISSING_ARGS,s=i.ERR_STREAM_DESTROYED;function a(t){if(t)throw t}function l(t){t()}function c(t,e){return t.pipe(e)}t.exports=function(){for(var t=arguments.length,e=new Array(t),i=0;i<t;i++)e[i]=arguments[i];var u,h=function(t){return t.length?"function"!=typeof t[t.length-1]?a:t.pop():a}(e);if(Array.isArray(e[0])&&(e=e[0]),e.length<2)throw new o("streams");var f=e.map((function(t,i){var o=i<e.length-1;return function(t,e,i,o){o=function(t){var e=!1;return function(){e||(e=!0,t.apply(void 0,arguments))}}(o);var a=!1;t.on("close",(function(){a=!0})),void 0===r&&(r=n(8610)),r(t,{readable:e,writable:i},(function(t){if(t)return o(t);a=!0,o()}));var l=!1;return function(e){if(!a&&!l)return l=!0,function(t){return t.setHeader&&"function"==typeof t.abort}(t)?t.abort():"function"==typeof t.destroy?t.destroy():void o(e||new s("pipe"))}}(t,o,i>0,(function(t){u||(u=t),t&&f.forEach(l),o||(f.forEach(l),h(u))}))}));return e.reduce(c)}},2457:(t,e,n)=>{"use strict";var r=n(4281).q.ERR_INVALID_OPT_VALUE;t.exports={getHighWaterMark:function(t,e,n,i){var o=function(t,e,n){return null!=t.highWaterMark?t.highWaterMark:e?t[n]:null}(e,i,n);if(null!=o){if(!isFinite(o)||Math.floor(o)!==o||o<0)throw new r(i?n:"highWaterMark",o);return Math.floor(o)}return t.objectMode?16:16384}}},2503:(t,e,n)=>{t.exports=n(7187).EventEmitter},8473:(t,e,n)=>{(e=t.exports=n(9481)).Stream=e,e.Readable=e,e.Writable=n(4229),e.Duplex=n(6753),e.Transform=n(4605),e.PassThrough=n(2725),e.finished=n(8610),e.pipeline=n(9946)},9785:(t,e,n)=>{"use strict";var r=n(8764).Buffer,i=n(5717),o=n(3349),s=new Array(16),a=[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,7,4,13,1,10,6,15,3,12,0,9,5,2,14,11,8,3,10,14,4,9,15,8,1,2,7,0,6,13,11,5,12,1,9,11,10,0,8,12,4,13,3,7,15,14,5,6,2,4,0,5,9,7,12,2,10,14,1,3,8,11,6,15,13],l=[5,14,7,0,9,2,11,4,13,6,15,8,1,10,3,12,6,11,3,7,0,13,5,10,14,15,8,12,4,9,1,2,15,5,1,3,7,14,6,9,11,8,12,2,10,0,4,13,8,6,4,1,3,11,15,0,5,12,2,13,9,7,10,14,12,15,10,4,1,5,8,7,6,2,13,14,0,3,9,11],c=[11,14,15,12,5,8,7,9,11,13,14,15,6,7,9,8,7,6,8,13,11,9,7,15,7,12,15,9,11,7,13,12,11,13,6,7,14,9,13,15,14,8,13,6,5,12,7,5,11,12,14,15,14,15,9,8,9,14,5,6,8,6,5,12,9,15,5,11,6,8,13,12,5,12,13,14,11,8,5,6],u=[8,9,9,11,13,15,15,5,7,7,8,11,14,14,12,6,9,13,15,7,12,8,9,11,7,7,12,7,6,15,13,11,9,7,15,11,8,6,6,14,12,13,5,14,13,13,7,5,15,5,8,11,14,14,6,14,6,9,12,9,12,5,15,8,8,5,12,9,12,5,14,6,8,13,6,5,15,13,11,11],h=[0,1518500249,1859775393,2400959708,2840853838],f=[1352829926,1548603684,1836072691,2053994217,0];function d(){o.call(this,64),this._a=1732584193,this._b=4023233417,this._c=2562383102,this._d=271733878,this._e=3285377520}function p(t,e){return t<<e|t>>>32-e}function g(t,e,n,r,i,o,s,a){return p(t+(e^n^r)+o+s|0,a)+i|0}function y(t,e,n,r,i,o,s,a){return p(t+(e&n|~e&r)+o+s|0,a)+i|0}function v(t,e,n,r,i,o,s,a){return p(t+((e|~n)^r)+o+s|0,a)+i|0}function m(t,e,n,r,i,o,s,a){return p(t+(e&r|n&~r)+o+s|0,a)+i|0}function w(t,e,n,r,i,o,s,a){return p(t+(e^(n|~r))+o+s|0,a)+i|0}i(d,o),d.prototype._update=function(){for(var t=s,e=0;e<16;++e)t[e]=this._block.readInt32LE(4*e);for(var n=0|this._a,r=0|this._b,i=0|this._c,o=0|this._d,d=0|this._e,b=0|this._a,E=0|this._b,_=0|this._c,x=0|this._d,A=0|this._e,S=0;S<80;S+=1){var T,R;S<16?(T=g(n,r,i,o,d,t[a[S]],h[0],c[S]),R=w(b,E,_,x,A,t[l[S]],f[0],u[S])):S<32?(T=y(n,r,i,o,d,t[a[S]],h[1],c[S]),R=m(b,E,_,x,A,t[l[S]],f[1],u[S])):S<48?(T=v(n,r,i,o,d,t[a[S]],h[2],c[S]),R=v(b,E,_,x,A,t[l[S]],f[2],u[S])):S<64?(T=m(n,r,i,o,d,t[a[S]],h[3],c[S]),R=y(b,E,_,x,A,t[l[S]],f[3],u[S])):(T=w(n,r,i,o,d,t[a[S]],h[4],c[S]),R=g(b,E,_,x,A,t[l[S]],f[4],u[S])),n=d,d=o,o=p(i,10),i=r,r=T,b=A,A=x,x=p(_,10),_=E,E=R}var I=this._b+i+x|0;this._b=this._c+o+A|0,this._c=this._d+d+b|0,this._d=this._e+n+E|0,this._e=this._a+r+_|0,this._a=I},d.prototype._digest=function(){this._block[this._blockOffset++]=128,this._blockOffset>56&&(this._block.fill(0,this._blockOffset,64),this._update(),this._blockOffset=0),this._block.fill(0,this._blockOffset,56),this._block.writeUInt32LE(this._length[0],56),this._block.writeUInt32LE(this._length[1],60),this._update();var t=r.alloc?r.alloc(20):new r(20);return t.writeInt32LE(this._a,0),t.writeInt32LE(this._b,4),t.writeInt32LE(this._c,8),t.writeInt32LE(this._d,12),t.writeInt32LE(this._e,16),t},t.exports=d},9509:(t,e,n)=>{var r=n(8764),i=r.Buffer;function o(t,e){for(var n in t)e[n]=t[n]}function s(t,e,n){return i(t,e,n)}i.from&&i.alloc&&i.allocUnsafe&&i.allocUnsafeSlow?t.exports=r:(o(r,e),e.Buffer=s),s.prototype=Object.create(i.prototype),o(i,s),s.from=function(t,e,n){if("number"==typeof t)throw new TypeError("Argument must not be a number");return i(t,e,n)},s.alloc=function(t,e,n){if("number"!=typeof t)throw new TypeError("Argument must be a number");var r=i(t);return void 0!==e?"string"==typeof n?r.fill(e,n):r.fill(e):r.fill(0),r},s.allocUnsafe=function(t){if("number"!=typeof t)throw new TypeError("Argument must be a number");return i(t)},s.allocUnsafeSlow=function(t){if("number"!=typeof t)throw new TypeError("Argument must be a number");return r.SlowBuffer(t)}},4189:(t,e,n)=>{var r=n(9509).Buffer;function i(t,e){this._block=r.alloc(t),this._finalSize=e,this._blockSize=t,this._len=0}i.prototype.update=function(t,e){"string"==typeof t&&(e=e||"utf8",t=r.from(t,e));for(var n=this._block,i=this._blockSize,o=t.length,s=this._len,a=0;a<o;){for(var l=s%i,c=Math.min(o-a,i-l),u=0;u<c;u++)n[l+u]=t[a+u];a+=c,(s+=c)%i==0&&this._update(n)}return this._len+=o,this},i.prototype.digest=function(t){var e=this._len%this._blockSize;this._block[e]=128,this._block.fill(0,e+1),e>=this._finalSize&&(this._update(this._block),this._block.fill(0));var n=8*this._len;if(n<=4294967295)this._block.writeUInt32BE(n,this._blockSize-4);else{var r=(4294967295&n)>>>0,i=(n-r)/4294967296;this._block.writeUInt32BE(i,this._blockSize-8),this._block.writeUInt32BE(r,this._blockSize-4)}this._update(this._block);var o=this._hash();return t?o.toString(t):o},i.prototype._update=function(){throw new Error("_update must be implemented by subclass")},t.exports=i},9072:(t,e,n)=>{var r=t.exports=function(t){t=t.toLowerCase();var e=r[t];if(!e)throw new Error(t+" is not supported (we accept pull requests)");return new e};r.sha=n(4448),r.sha1=n(8336),r.sha224=n(8432),r.sha256=n(7499),r.sha384=n(1686),r.sha512=n(7816)},4448:(t,e,n)=>{var r=n(5717),i=n(4189),o=n(9509).Buffer,s=[1518500249,1859775393,-1894007588,-899497514],a=new Array(80);function l(){this.init(),this._w=a,i.call(this,64,56)}function c(t){return t<<30|t>>>2}function u(t,e,n,r){return 0===t?e&n|~e&r:2===t?e&n|e&r|n&r:e^n^r}r(l,i),l.prototype.init=function(){return this._a=1732584193,this._b=4023233417,this._c=2562383102,this._d=271733878,this._e=3285377520,this},l.prototype._update=function(t){for(var e,n=this._w,r=0|this._a,i=0|this._b,o=0|this._c,a=0|this._d,l=0|this._e,h=0;h<16;++h)n[h]=t.readInt32BE(4*h);for(;h<80;++h)n[h]=n[h-3]^n[h-8]^n[h-14]^n[h-16];for(var f=0;f<80;++f){var d=~~(f/20),p=0|((e=r)<<5|e>>>27)+u(d,i,o,a)+l+n[f]+s[d];l=a,a=o,o=c(i),i=r,r=p}this._a=r+this._a|0,this._b=i+this._b|0,this._c=o+this._c|0,this._d=a+this._d|0,this._e=l+this._e|0},l.prototype._hash=function(){var t=o.allocUnsafe(20);return t.writeInt32BE(0|this._a,0),t.writeInt32BE(0|this._b,4),t.writeInt32BE(0|this._c,8),t.writeInt32BE(0|this._d,12),t.writeInt32BE(0|this._e,16),t},t.exports=l},8336:(t,e,n)=>{var r=n(5717),i=n(4189),o=n(9509).Buffer,s=[1518500249,1859775393,-1894007588,-899497514],a=new Array(80);function l(){this.init(),this._w=a,i.call(this,64,56)}function c(t){return t<<5|t>>>27}function u(t){return t<<30|t>>>2}function h(t,e,n,r){return 0===t?e&n|~e&r:2===t?e&n|e&r|n&r:e^n^r}r(l,i),l.prototype.init=function(){return this._a=1732584193,this._b=4023233417,this._c=2562383102,this._d=271733878,this._e=3285377520,this},l.prototype._update=function(t){for(var e,n=this._w,r=0|this._a,i=0|this._b,o=0|this._c,a=0|this._d,l=0|this._e,f=0;f<16;++f)n[f]=t.readInt32BE(4*f);for(;f<80;++f)n[f]=(e=n[f-3]^n[f-8]^n[f-14]^n[f-16])<<1|e>>>31;for(var d=0;d<80;++d){var p=~~(d/20),g=c(r)+h(p,i,o,a)+l+n[d]+s[p]|0;l=a,a=o,o=u(i),i=r,r=g}this._a=r+this._a|0,this._b=i+this._b|0,this._c=o+this._c|0,this._d=a+this._d|0,this._e=l+this._e|0},l.prototype._hash=function(){var t=o.allocUnsafe(20);return t.writeInt32BE(0|this._a,0),t.writeInt32BE(0|this._b,4),t.writeInt32BE(0|this._c,8),t.writeInt32BE(0|this._d,12),t.writeInt32BE(0|this._e,16),t},t.exports=l},8432:(t,e,n)=>{var r=n(5717),i=n(7499),o=n(4189),s=n(9509).Buffer,a=new Array(64);function l(){this.init(),this._w=a,o.call(this,64,56)}r(l,i),l.prototype.init=function(){return this._a=3238371032,this._b=914150663,this._c=812702999,this._d=4144912697,this._e=4290775857,this._f=1750603025,this._g=1694076839,this._h=3204075428,this},l.prototype._hash=function(){var t=s.allocUnsafe(28);return t.writeInt32BE(this._a,0),t.writeInt32BE(this._b,4),t.writeInt32BE(this._c,8),t.writeInt32BE(this._d,12),t.writeInt32BE(this._e,16),t.writeInt32BE(this._f,20),t.writeInt32BE(this._g,24),t},t.exports=l},7499:(t,e,n)=>{var r=n(5717),i=n(4189),o=n(9509).Buffer,s=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298],a=new Array(64);function l(){this.init(),this._w=a,i.call(this,64,56)}function c(t,e,n){return n^t&(e^n)}function u(t,e,n){return t&e|n&(t|e)}function h(t){return(t>>>2|t<<30)^(t>>>13|t<<19)^(t>>>22|t<<10)}function f(t){return(t>>>6|t<<26)^(t>>>11|t<<21)^(t>>>25|t<<7)}function d(t){return(t>>>7|t<<25)^(t>>>18|t<<14)^t>>>3}r(l,i),l.prototype.init=function(){return this._a=1779033703,this._b=3144134277,this._c=1013904242,this._d=2773480762,this._e=1359893119,this._f=2600822924,this._g=528734635,this._h=1541459225,this},l.prototype._update=function(t){for(var e,n=this._w,r=0|this._a,i=0|this._b,o=0|this._c,a=0|this._d,l=0|this._e,p=0|this._f,g=0|this._g,y=0|this._h,v=0;v<16;++v)n[v]=t.readInt32BE(4*v);for(;v<64;++v)n[v]=0|(((e=n[v-2])>>>17|e<<15)^(e>>>19|e<<13)^e>>>10)+n[v-7]+d(n[v-15])+n[v-16];for(var m=0;m<64;++m){var w=y+f(l)+c(l,p,g)+s[m]+n[m]|0,b=h(r)+u(r,i,o)|0;y=g,g=p,p=l,l=a+w|0,a=o,o=i,i=r,r=w+b|0}this._a=r+this._a|0,this._b=i+this._b|0,this._c=o+this._c|0,this._d=a+this._d|0,this._e=l+this._e|0,this._f=p+this._f|0,this._g=g+this._g|0,this._h=y+this._h|0},l.prototype._hash=function(){var t=o.allocUnsafe(32);return t.writeInt32BE(this._a,0),t.writeInt32BE(this._b,4),t.writeInt32BE(this._c,8),t.writeInt32BE(this._d,12),t.writeInt32BE(this._e,16),t.writeInt32BE(this._f,20),t.writeInt32BE(this._g,24),t.writeInt32BE(this._h,28),t},t.exports=l},1686:(t,e,n)=>{var r=n(5717),i=n(7816),o=n(4189),s=n(9509).Buffer,a=new Array(160);function l(){this.init(),this._w=a,o.call(this,128,112)}r(l,i),l.prototype.init=function(){return this._ah=3418070365,this._bh=1654270250,this._ch=2438529370,this._dh=355462360,this._eh=1731405415,this._fh=2394180231,this._gh=3675008525,this._hh=1203062813,this._al=3238371032,this._bl=914150663,this._cl=812702999,this._dl=4144912697,this._el=4290775857,this._fl=1750603025,this._gl=1694076839,this._hl=3204075428,this},l.prototype._hash=function(){var t=s.allocUnsafe(48);function e(e,n,r){t.writeInt32BE(e,r),t.writeInt32BE(n,r+4)}return e(this._ah,this._al,0),e(this._bh,this._bl,8),e(this._ch,this._cl,16),e(this._dh,this._dl,24),e(this._eh,this._el,32),e(this._fh,this._fl,40),t},t.exports=l},7816:(t,e,n)=>{var r=n(5717),i=n(4189),o=n(9509).Buffer,s=[1116352408,3609767458,1899447441,602891725,3049323471,3964484399,3921009573,2173295548,961987163,4081628472,1508970993,3053834265,2453635748,2937671579,2870763221,3664609560,3624381080,2734883394,310598401,1164996542,607225278,1323610764,1426881987,3590304994,1925078388,4068182383,2162078206,991336113,2614888103,633803317,3248222580,3479774868,3835390401,2666613458,4022224774,944711139,264347078,2341262773,604807628,2007800933,770255983,1495990901,1249150122,1856431235,1555081692,3175218132,1996064986,2198950837,2554220882,3999719339,2821834349,766784016,2952996808,2566594879,3210313671,3203337956,3336571891,1034457026,3584528711,2466948901,113926993,3758326383,338241895,168717936,666307205,1188179964,773529912,1546045734,1294757372,1522805485,1396182291,2643833823,1695183700,2343527390,1986661051,1014477480,2177026350,1206759142,2456956037,344077627,2730485921,1290863460,2820302411,3158454273,3259730800,3505952657,3345764771,106217008,3516065817,3606008344,3600352804,1432725776,4094571909,1467031594,275423344,851169720,430227734,3100823752,506948616,1363258195,659060556,3750685593,883997877,3785050280,958139571,3318307427,1322822218,3812723403,1537002063,2003034995,1747873779,3602036899,1955562222,1575990012,2024104815,1125592928,2227730452,2716904306,2361852424,442776044,2428436474,593698344,2756734187,3733110249,3204031479,2999351573,3329325298,3815920427,3391569614,3928383900,3515267271,566280711,3940187606,3454069534,4118630271,4000239992,116418474,1914138554,174292421,2731055270,289380356,3203993006,460393269,320620315,685471733,587496836,852142971,1086792851,1017036298,365543100,1126000580,2618297676,1288033470,3409855158,1501505948,4234509866,1607167915,987167468,1816402316,1246189591],a=new Array(160);function l(){this.init(),this._w=a,i.call(this,128,112)}function c(t,e,n){return n^t&(e^n)}function u(t,e,n){return t&e|n&(t|e)}function h(t,e){return(t>>>28|e<<4)^(e>>>2|t<<30)^(e>>>7|t<<25)}function f(t,e){return(t>>>14|e<<18)^(t>>>18|e<<14)^(e>>>9|t<<23)}function d(t,e){return(t>>>1|e<<31)^(t>>>8|e<<24)^t>>>7}function p(t,e){return(t>>>1|e<<31)^(t>>>8|e<<24)^(t>>>7|e<<25)}function g(t,e){return(t>>>19|e<<13)^(e>>>29|t<<3)^t>>>6}function y(t,e){return(t>>>19|e<<13)^(e>>>29|t<<3)^(t>>>6|e<<26)}function v(t,e){return t>>>0<e>>>0?1:0}r(l,i),l.prototype.init=function(){return this._ah=1779033703,this._bh=3144134277,this._ch=1013904242,this._dh=2773480762,this._eh=1359893119,this._fh=2600822924,this._gh=528734635,this._hh=1541459225,this._al=4089235720,this._bl=2227873595,this._cl=4271175723,this._dl=1595750129,this._el=2917565137,this._fl=725511199,this._gl=4215389547,this._hl=327033209,this},l.prototype._update=function(t){for(var e=this._w,n=0|this._ah,r=0|this._bh,i=0|this._ch,o=0|this._dh,a=0|this._eh,l=0|this._fh,m=0|this._gh,w=0|this._hh,b=0|this._al,E=0|this._bl,_=0|this._cl,x=0|this._dl,A=0|this._el,S=0|this._fl,T=0|this._gl,R=0|this._hl,I=0;I<32;I+=2)e[I]=t.readInt32BE(4*I),e[I+1]=t.readInt32BE(4*I+4);for(;I<160;I+=2){var k=e[I-30],O=e[I-30+1],N=d(k,O),C=p(O,k),P=g(k=e[I-4],O=e[I-4+1]),L=y(O,k),B=e[I-14],M=e[I-14+1],U=e[I-32],D=e[I-32+1],j=C+M|0,K=N+B+v(j,C)|0;K=(K=K+P+v(j=j+L|0,L)|0)+U+v(j=j+D|0,D)|0,e[I]=K,e[I+1]=j}for(var H=0;H<160;H+=2){K=e[H],j=e[H+1];var W=u(n,r,i),q=u(b,E,_),F=h(n,b),G=h(b,n),z=f(a,A),V=f(A,a),Q=s[H],X=s[H+1],Y=c(a,l,m),J=c(A,S,T),Z=R+V|0,$=w+z+v(Z,R)|0;$=($=($=$+Y+v(Z=Z+J|0,J)|0)+Q+v(Z=Z+X|0,X)|0)+K+v(Z=Z+j|0,j)|0;var tt=G+q|0,et=F+W+v(tt,G)|0;w=m,R=T,m=l,T=S,l=a,S=A,a=o+$+v(A=x+Z|0,x)|0,o=i,x=_,i=r,_=E,r=n,E=b,n=$+et+v(b=Z+tt|0,Z)|0}this._al=this._al+b|0,this._bl=this._bl+E|0,this._cl=this._cl+_|0,this._dl=this._dl+x|0,this._el=this._el+A|0,this._fl=this._fl+S|0,this._gl=this._gl+T|0,this._hl=this._hl+R|0,this._ah=this._ah+n+v(this._al,b)|0,this._bh=this._bh+r+v(this._bl,E)|0,this._ch=this._ch+i+v(this._cl,_)|0,this._dh=this._dh+o+v(this._dl,x)|0,this._eh=this._eh+a+v(this._el,A)|0,this._fh=this._fh+l+v(this._fl,S)|0,this._gh=this._gh+m+v(this._gl,T)|0,this._hh=this._hh+w+v(this._hl,R)|0},l.prototype._hash=function(){var t=o.allocUnsafe(64);function e(e,n,r){t.writeInt32BE(e,r),t.writeInt32BE(n,r+4)}return e(this._ah,this._al,0),e(this._bh,this._bl,8),e(this._ch,this._cl,16),e(this._dh,this._dl,24),e(this._eh,this._el,32),e(this._fh,this._fl,40),e(this._gh,this._gl,48),e(this._hh,this._hl,56),t},t.exports=l},2830:(t,e,n)=>{t.exports=i;var r=n(7187).EventEmitter;function i(){r.call(this)}n(5717)(i,r),i.Readable=n(9481),i.Writable=n(4229),i.Duplex=n(6753),i.Transform=n(4605),i.PassThrough=n(2725),i.finished=n(8610),i.pipeline=n(9946),i.Stream=i,i.prototype.pipe=function(t,e){var n=this;function i(e){t.writable&&!1===t.write(e)&&n.pause&&n.pause()}function o(){n.readable&&n.resume&&n.resume()}n.on("data",i),t.on("drain",o),t._isStdio||e&&!1===e.end||(n.on("end",a),n.on("close",l));var s=!1;function a(){s||(s=!0,t.end())}function l(){s||(s=!0,"function"==typeof t.destroy&&t.destroy())}function c(t){if(u(),0===r.listenerCount(this,"error"))throw t}function u(){n.removeListener("data",i),t.removeListener("drain",o),n.removeListener("end",a),n.removeListener("close",l),n.removeListener("error",c),t.removeListener("error",c),n.removeListener("end",u),n.removeListener("close",u),t.removeListener("close",u)}return n.on("error",c),t.on("error",c),n.on("end",u),n.on("close",u),t.on("close",u),t.emit("pipe",n),t}},2553:(t,e,n)=>{"use strict";var r=n(9509).Buffer,i=r.isEncoding||function(t){switch((t=""+t)&&t.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return!0;default:return!1}};function o(t){var e;switch(this.encoding=function(t){var e=function(t){if(!t)return"utf8";for(var e;;)switch(t){case"utf8":case"utf-8":return"utf8";case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return"utf16le";case"latin1":case"binary":return"latin1";case"base64":case"ascii":case"hex":return t;default:if(e)return;t=(""+t).toLowerCase(),e=!0}}(t);if("string"!=typeof e&&(r.isEncoding===i||!i(t)))throw new Error("Unknown encoding: "+t);return e||t}(t),this.encoding){case"utf16le":this.text=l,this.end=c,e=4;break;case"utf8":this.fillLast=a,e=4;break;case"base64":this.text=u,this.end=h,e=3;break;default:return this.write=f,void(this.end=d)}this.lastNeed=0,this.lastTotal=0,this.lastChar=r.allocUnsafe(e)}function s(t){return t<=127?0:t>>5==6?2:t>>4==14?3:t>>3==30?4:t>>6==2?-1:-2}function a(t){var e=this.lastTotal-this.lastNeed,n=function(t,e,n){if(128!=(192&e[0]))return t.lastNeed=0,"";if(t.lastNeed>1&&e.length>1){if(128!=(192&e[1]))return t.lastNeed=1,"";if(t.lastNeed>2&&e.length>2&&128!=(192&e[2]))return t.lastNeed=2,""}}(this,t);return void 0!==n?n:this.lastNeed<=t.length?(t.copy(this.lastChar,e,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal)):(t.copy(this.lastChar,e,0,t.length),void(this.lastNeed-=t.length))}function l(t,e){if((t.length-e)%2==0){var n=t.toString("utf16le",e);if(n){var r=n.charCodeAt(n.length-1);if(r>=55296&&r<=56319)return this.lastNeed=2,this.lastTotal=4,this.lastChar[0]=t[t.length-2],this.lastChar[1]=t[t.length-1],n.slice(0,-1)}return n}return this.lastNeed=1,this.lastTotal=2,this.lastChar[0]=t[t.length-1],t.toString("utf16le",e,t.length-1)}function c(t){var e=t&&t.length?this.write(t):"";if(this.lastNeed){var n=this.lastTotal-this.lastNeed;return e+this.lastChar.toString("utf16le",0,n)}return e}function u(t,e){var n=(t.length-e)%3;return 0===n?t.toString("base64",e):(this.lastNeed=3-n,this.lastTotal=3,1===n?this.lastChar[0]=t[t.length-1]:(this.lastChar[0]=t[t.length-2],this.lastChar[1]=t[t.length-1]),t.toString("base64",e,t.length-n))}function h(t){var e=t&&t.length?this.write(t):"";return this.lastNeed?e+this.lastChar.toString("base64",0,3-this.lastNeed):e}function f(t){return t.toString(this.encoding)}function d(t){return t&&t.length?this.write(t):""}e.s=o,o.prototype.write=function(t){if(0===t.length)return"";var e,n;if(this.lastNeed){if(void 0===(e=this.fillLast(t)))return"";n=this.lastNeed,this.lastNeed=0}else n=0;return n<t.length?e?e+this.text(t,n):this.text(t,n):e||""},o.prototype.end=function(t){var e=t&&t.length?this.write(t):"";return this.lastNeed?e+"":e},o.prototype.text=function(t,e){var n=function(t,e,n){var r=e.length-1;if(r<n)return 0;var i=s(e[r]);return i>=0?(i>0&&(t.lastNeed=i-1),i):--r<n||-2===i?0:(i=s(e[r]))>=0?(i>0&&(t.lastNeed=i-2),i):--r<n||-2===i?0:(i=s(e[r]))>=0?(i>0&&(2===i?i=0:t.lastNeed=i-3),i):0}(this,t,e);if(!this.lastNeed)return t.toString("utf8",e);this.lastTotal=n;var r=t.length-(n-this.lastNeed);return t.copy(this.lastChar,0,r),t.toString("utf8",e,r)},o.prototype.fillLast=function(t){if(this.lastNeed<=t.length)return t.copy(this.lastChar,this.lastTotal-this.lastNeed,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);t.copy(this.lastChar,this.lastTotal-this.lastNeed,0,t.length),this.lastNeed-=t.length}},4927:(t,e,n)=>{function r(t){try{if(!n.g.localStorage)return!1}catch(t){return!1}var e=n.g.localStorage[t];return null!=e&&"true"===String(e).toLowerCase()}t.exports=function(t,e){if(r("noDeprecation"))return t;var n=!1;return function(){if(!n){if(r("throwDeprecation"))throw new Error(e);r("traceDeprecation")?console.trace(e):console.warn(e),n=!0}return t.apply(this,arguments)}}},5883:()=>{},2361:()=>{},4616:()=>{}},e={};function n(r){var i=e[r];if(void 0!==i)return i.exports;var o=e[r]={exports:{}};return t[r].call(o.exports,o,o.exports,n),o.exports}n.m=t,n.n=t=>{var e=t&&t.__esModule?()=>t.default:()=>t;return n.d(e,{a:e}),e},n.d=(t,e)=>{for(var r in e)n.o(e,r)&&!n.o(t,r)&&Object.defineProperty(t,r,{enumerable:!0,get:e[r]})},n.u=t=>t+".bundle.js",n.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(t){if("object"==typeof window)return window}}(),n.o=(t,e)=>Object.prototype.hasOwnProperty.call(t,e),(()=>{var t;n.g.importScripts&&(t=n.g.location+"");var e=n.g.document;if(!t&&e&&(e.currentScript&&(t=e.currentScript.src),!t)){var r=e.getElementsByTagName("script");r.length&&(t=r[r.length-1].src)}if(!t)throw new Error("Automatic publicPath is not supported in this browser");t=t.replace(/#.*$/,"").replace(/\?.*$/,"").replace(/\/[^\/]+$/,"/"),n.p=t})(),n.b=document.baseURI||self.location.href,(()=>{"use strict";const t={},e=e=>{if(!t.hasOwnProperty(e)){const n=new Image;n.src=e,t[e]=n}return t[e]};var r,i=!1,o={};const s=document.getElementById("crux-canvas").getContext("2d"),a=(t,e,n,i)=>{s.font=parseInt(crux.offsetWidth/25)+"px monospace";let a="";if(n===f?r=f:(o["Alt"+n]=[],r=o["Alt"+n]),"img"===i){for(let t=0;t<7;t++)r.push({type:"interval"});a=(t=>{const e={text:t,type:"img"},n=new Image;return n.src=t,e.illustration=n,e})(t),r.push(a)}else{let n=t.split(" "),o=n[0];a={text:o,type:i};for(var l=1;l<n.length;l++){var c=n[l];let t=s.measureText(o+" "+c).width*e;RegExp("\n","g").test(c)?(a={text:o,type:i},r.push(a),o=c):t<.8*crux.offsetWidth?o+=" "+c:(a={text:o,type:i},r.push(a),o=c)}a={text:o,type:i},r.push(a)}},l=()=>{Object.keys(o).length>2&&(pc<=Object.keys(o).length-1?wc(pc+2):wc(1),Hl.drawAlt(ac,oc,o["Alt"+pc],pc),o.hasOwnProperty(["Alt"+parseInt(pc+1)])&&o["Alt"+(parseInt(pc)+1)][0].text.length>0?Hl.drawAlt(sc,ic,o["Alt"+(parseInt(pc)+1)],pc+1):Hl.drawAlt(sc,ic," "))},c=t=>{if(t<=f.length){i=!0;let n=parseInt(crux.offsetWidth/16),r=-(t-parseInt(f.length-hc/parseInt(crux.offsetWidth/16)))*n,s=r;var e;function a(){Math.abs(r)>4?(r>0?r-=3:r+=3,hc+(s-r)>0&&(vc((crux.offsetWidth/16*f.length-(hc+(s-r)))/(crux.offsetWidth/16*f.length)*100),Hl.drawCrux(hc+(s-r),f,dc)),e=window.requestAnimationFrame(a)):(mc(hc+s),wc(1),Hl.drawAlt(ac,oc,o.Alt1,pc),o.hasOwnProperty("Alt2")&&o.Alt2.length>0?Hl.drawAlt(sc,ic,o.Alt2,pc+1):Hl.drawAlt(sc,ic,""),window.cancelAnimationFrame(e),o.hasOwnProperty("Alt1")&&o.Alt1[0].text.length>0?setTimeout((()=>{i=!1,Uc()}),200):(Uc(),Dc()))}h.hasOwnProperty("alts")&&(h.alts.length>2?(Hl.updateSwitch(!0),altSwitch.style.cursor="pointer",altSwitch.addEventListener("click",l)):(Hl.updateSwitch(!1),altSwitch.style.cursor="not-allowed",altSwitch.removeEventListener("click",l))),e=window.requestAnimationFrame(a)}},u=t=>{const e=(t=>{var e=pc;if(t<2&&e--,h.alts.hasOwnProperty(e))return h.alts[e].text})(t);if(console.log(e),e&&(o={},lc)){i=!0,Hl.drawbg(),Hl.drawAlt(ac,oc," "),Hl.drawAlt(sc,ic," "),jc();try{a(e,1,f,"alt"),Zl(parseInt(pc+t-1))}catch(t){console.log(t)}}};var h,f=[{}],d=[];const p=()=>f=[{}],g=t=>h=t,y={bgcvs:document.getElementById("background-canvas"),bgctx:document.getElementById("background-canvas").getContext("2d"),crux:document.getElementById("crux"),cruxCanvas:document.getElementById("crux-canvas"),cruxctx:document.getElementById("crux-canvas").getContext("2d"),timeSlider:document.getElementById("timeSlider"),tsctx:timeSlider.getContext("2d"),alt1Div:document.getElementById("alt1Div"),alt1Canvas:document.getElementById("alt1-canvas"),alt2Div:document.getElementById("alt2Div"),alt2Canvas:document.getElementById("alt2-canvas"),altSwitch:document.getElementById("altSwitch"),compteur:document.getElementById("compteur")};var v,m=window.devicePixelRatio||1;const w=(t,e)=>(m=window.devicePixelRatio||1,v=t.getBoundingClientRect(),t.width=v.width*m,t.height=v.height*m,e.scale(m,m),e.clearRect(0,0,parseInt(v.width*m),parseInt(v.height*m)),e);var b,E,_,x={t920:{opt1:"OPTION 1",opt2:"OPTION 2",flux:"MAIN",princ:"FLUX",switch:"SWITCH BUTTON",transm:"TRANSMISSION",defil:"FAST",rap:"SCROLL",compt:"LINE",ligne:"COUNT",term:"TERMINAL"},t1080:{ligne:"LINE"},t1440:{topMenu:"PEGAS Folder File Edit           Help",switch:"                         Switch",mainWin:"PEGAS - Flux",opt1:"Option 1",opt2:"Option 2",compt:"Line"}};function A(t){return Object.keys(t)}!function(t){t.transfer_request="transfer_request",t.sign_payload_request="sign_payload_request"}(b||(b={})),function(t){t.transfer="transfer",t.sign_payload_json="sign_payload_json",t.sign_payload_raw="sign_payload_raw"}(E||(E={})),function(t){t.PENDING="pending",t.RESOLVED="resolved",t.REJECTED="rejected"}(_||(_={}));const S=()=>{throw new Error("ExposedPromise not initialized yet.")};class T{constructor(){this._resolve=S,this._reject=S,this._status=_.PENDING,this._promise=new Promise(((t,e)=>{this._resolve=e=>{this.isSettled()||(this._promiseResult=e,t(e),this._status=_.RESOLVED)},this._reject=t=>{this.isSettled()||(this._promiseError=t,e(t),this._status=_.REJECTED)}}))}get promise(){return this._promise}get resolve(){return this._resolve}get reject(){return this._reject}get status(){return this._status}get promiseResult(){return this._promiseResult}get promiseError(){return this._promiseError}static resolve(t){const e=new T;return e.resolve(t),e}static reject(t){const e=new T;return e.reject(t),e}isPending(){return this.status===_.PENDING}isResolved(){return this.status===_.RESOLVED}isRejected(){return this.status===_.REJECTED}isSettled(){return this.isResolved()||this.isRejected()}}var R=n(8334),I=n(450),k=n(1416),O=n(6249),N=n(1322),C=n(1050),P=n(3683),L=n(8764).Buffer,B=function(t,e,n,r){return new(n||(n=Promise))((function(i,o){function s(t){try{l(r.next(t))}catch(t){o(t)}}function a(t){try{l(r.throw(t))}catch(t){o(t)}}function l(t){var e;t.done?i(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(s,a)}l((r=r.apply(t,e||[])).next())}))};const M=24;function U(t){return L.from(t).toString("hex")}function D(t){return B(this,void 0,void 0,(function*(){return U("string"==typeof t?(0,N.hash)((0,O.cv)(t),32):(0,N.hash)(t,32))}))}function j(t){return B(this,void 0,void 0,(function*(){return(0,C._w)((0,N.hash)((0,O.cv)(t),32))}))}function K(t,e){return B(this,void 0,void 0,(function*(){const n=L.from((0,k.randomBytes)(M));return U(L.concat([n,L.from((0,I.secretBox)(e,n,L.from(t,"utf8")))]))}))}function H(t,e){return B(this,void 0,void 0,(function*(){const n=t.slice(0,M),r=t.slice(M),i=(0,I.openSecretBox)(e,n,r);if(!i)throw new Error("Decryption failed");return L.from(i).toString("utf8")}))}function W(t,e,n){return B(this,void 0,void 0,(function*(){const r=(0,C.zh)(L.from(n)),i=(0,C.SH)(L.from(e)),o="string"==typeof t?(0,O.cv)(t):t,s=o.slice(0,32),a=o.slice(32),l=new N.BLAKE2b(24).update(s,32).update(i,32).digest(),c=(0,I.openBox)(s,r,l,a);if(!c)throw new Error("Decryption failed");return L.from(c).toString()}))}function q(t,e){return`@${t}:${e}`}var F,G,z,V,Q,X,Y,J,Z,$,tt,et,nt,rt,it=n(8764).Buffer,ot=function(t,e,n,r){return new(n||(n=Promise))((function(i,o){function s(t){try{l(r.next(t))}catch(t){o(t)}}function a(t){try{l(r.throw(t))}catch(t){o(t)}}function l(t){var e;t.done?i(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(s,a)}l((r=r.apply(t,e||[])).next())}))};function st(){return ot(this,void 0,void 0,(function*(){const t=(0,k.randomBytes)(16);return[t.slice(0,4),t.slice(4,6),t.slice(6,8),t.slice(8,10),t.slice(10,16)].map((function(t){return it.from(t).toString("hex")})).join("-")}))}(rt=F||(F={})).BlockchainRequest="blockchain_request",rt.PermissionRequest="permission_request",rt.SignPayloadRequest="sign_payload_request",rt.OperationRequest="operation_request",rt.BroadcastRequest="broadcast_request",rt.BlockchainResponse="blockchain_response",rt.PermissionResponse="permission_response",rt.SignPayloadResponse="sign_payload_response",rt.OperationResponse="operation_response",rt.BroadcastResponse="broadcast_response",rt.Acknowledge="acknowledge",rt.Disconnect="disconnect",rt.Error="error",function(t){t.SIGN="sign",t.OPERATION_REQUEST="operation_request",t.ENCRYPT="encrypt",t.NOTIFICATION="notification",t.THRESHOLD="threshold"}(G||(G={})),function(t){t.MAINNET="mainnet",t.GHOSTNET="ghostnet",t.MONDAYNET="mondaynet",t.DAILYNET="dailynet",t.DELPHINET="delphinet",t.EDONET="edonet",t.FLORENCENET="florencenet",t.GRANADANET="granadanet",t.HANGZHOUNET="hangzhounet",t.ITHACANET="ithacanet",t.JAKARTANET="jakartanet",t.KATHMANDUNET="kathmandunet",t.LIMANET="limanet",t.MUMBAINET="mumbainet",t.CUSTOM="custom"}(z||(z={})),function(t){t.ENDORSEMENT="endorsement",t.SEED_NONCE_REVELATION="seed_nonce_revelation",t.DOUBLE_ENDORSEMENT_EVIDENCE="double_endorsement_evidence",t.DOUBLE_BAKING_EVIDENCE="double_baking_evidence",t.ACTIVATE_ACCOUNT="activate_account",t.PROPOSALS="proposals",t.BALLOT="ballot",t.REVEAL="reveal",t.TRANSACTION="transaction",t.ORIGINATION="origination",t.DELEGATION="delegation"}(V||(V={})),function(t){t.WEBSITE="website",t.EXTENSION="extension",t.P2P="p2p"}(Q||(Q={})),function(t){t.BACKGROUND="toBackground",t.PAGE="toPage",t.EXTENSION="toExtension"}(X||(X={})),(nt=Y||(Y={})).BROADCAST_ERROR="BROADCAST_ERROR",nt.NETWORK_NOT_SUPPORTED="NETWORK_NOT_SUPPORTED",nt.NO_ADDRESS_ERROR="NO_ADDRESS_ERROR",nt.NO_PRIVATE_KEY_FOUND_ERROR="NO_PRIVATE_KEY_FOUND_ERROR",nt.NOT_GRANTED_ERROR="NOT_GRANTED_ERROR",nt.PARAMETERS_INVALID_ERROR="PARAMETERS_INVALID_ERROR",nt.TOO_MANY_OPERATIONS="TOO_MANY_OPERATIONS",nt.TRANSACTION_INVALID_ERROR="TRANSACTION_INVALID_ERROR",nt.SIGNATURE_TYPE_NOT_SUPPORTED="SIGNATURE_TYPE_NOT_SUPPORTED",nt.ABORTED_ERROR="ABORTED_ERROR",nt.UNKNOWN_ERROR="UNKNOWN_ERROR",(et=J||(J={})).NOT_CONNECTED="NOT_CONNECTED",et.CONNECTING="CONNECTING",et.CONNECTED="CONNECTED",function(t){t.CHROME_MESSAGE="chrome_message",t.POST_MESSAGE="post_message",t.LEDGER="ledger",t.P2P="p2p"}(Z||(Z={})),(tt=$||($={})).TRANSPORT_P2P_PEERS_DAPP="beacon:communication-peers-dapp",tt.TRANSPORT_P2P_PEERS_WALLET="beacon:communication-peers-wallet",tt.TRANSPORT_POSTMESSAGE_PEERS_DAPP="beacon:postmessage-peers-dapp",tt.TRANSPORT_POSTMESSAGE_PEERS_WALLET="beacon:postmessage-peers-wallet",tt.ACCOUNTS="beacon:accounts",tt.ACTIVE_ACCOUNT="beacon:active-account",tt.PUSH_TOKENS="beacon:push-tokens",tt.BEACON_SDK_SECRET_SEED="beacon:sdk-secret-seed",tt.APP_METADATA_LIST="beacon:app-metadata-list",tt.PERMISSION_LIST="beacon:permissions",tt.BEACON_SDK_VERSION="beacon:sdk_version",tt.MATRIX_PRESERVED_STATE="beacon:sdk-matrix-preserved-state",tt.MATRIX_PEER_ROOM_IDS="beacon:matrix-peer-rooms",tt.MATRIX_SELECTED_NODE="beacon:matrix-selected-node",tt.MULTI_NODE_SETUP_DONE="beacon:multi-node-setup";const at={[$.TRANSPORT_P2P_PEERS_DAPP]:[],[$.TRANSPORT_P2P_PEERS_WALLET]:[],[$.TRANSPORT_POSTMESSAGE_PEERS_DAPP]:[],[$.TRANSPORT_POSTMESSAGE_PEERS_WALLET]:[],[$.ACCOUNTS]:[],[$.ACTIVE_ACCOUNT]:void 0,[$.PUSH_TOKENS]:[],[$.BEACON_SDK_SECRET_SEED]:void 0,[$.APP_METADATA_LIST]:[],[$.PERMISSION_LIST]:[],[$.BEACON_SDK_VERSION]:void 0,[$.MATRIX_PRESERVED_STATE]:{},[$.MATRIX_PEER_ROOM_IDS]:{},[$.MATRIX_SELECTED_NODE]:void 0,[$.MULTI_NODE_SETUP_DONE]:void 0};var lt,ct,ut;!function(t){t.RAW="raw",t.OPERATION="operation",t.MICHELINE="micheline"}(lt||(lt={})),function(t){t.LIGHT="light",t.DARK="dark"}(ct||(ct={})),function(t){t.EUROPE_EAST="europe-east",t.EUROPE_WEST="europe-west",t.NORTH_AMERICA_EAST="north-america-east",t.NORTH_AMERICA_WEST="north-america-west",t.CENTRAL_AMERICA="central-america",t.SOUTH_AMERICA="south-america",t.ASIA_EAST="asia-east",t.ASIA_WEST="asia-west",t.AFRICA="africa",t.AUSTRALIA="australia"}(ut||(ut={}));const ht=[t=>{}];let ft={postMessage:(t,e)=>{console.log("GOT MOCK POST MESSAGE",t),ht.forEach((e=>{e({data:t})}))},addEventListener:(t,e)=>{ht.push(e)},removeEventListener:(t,e)=>{ht.splice(ht.indexOf((t=>t===e)),1)},location:{origin:"*"}};try{"undefined"!=typeof window&&(ft=window)}catch(t){console.log(`not defined: ${t}`)}var dt=function(t,e,n,r){return new(n||(n=Promise))((function(i,o){function s(t){try{l(r.next(t))}catch(t){o(t)}}function a(t){try{l(r.throw(t))}catch(t){o(t)}}function l(t){var e;t.done?i(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(s,a)}l((r=r.apply(t,e||[])).next())}))};class pt{constructor(t){if(this._beaconId=new T,this._keyPair=new T,!t.name)throw new Error("Name not set");if(!t.storage)throw new Error("Storage not set");this.name=t.name,this.iconUrl=t.iconUrl,this.appUrl=t.appUrl,this.storage=t.storage,ft.beaconCreatedClientInstance?console.error("[BEACON] It looks like you created multiple Beacon SDK Client instances. This can lead to problems. Only create one instance and re-use it everywhere."):ft.beaconCreatedClientInstance=!0,this.initSDK().catch(console.error)}get beaconId(){return this._beaconId.promise}get keyPair(){return this._keyPair.promise}destroy(){return dt(this,void 0,void 0,(function*(){yield this.removeBeaconEntriesFromStorage(),ft.beaconCreatedClientInstance=!1}))}initSDK(){return dt(this,void 0,void 0,(function*(){return this.storage.set($.BEACON_SDK_VERSION,"3.3.4").catch(console.error),this.loadOrCreateBeaconSecret().catch(console.error),this.keyPair.then((t=>{this._beaconId.resolve(U(t.publicKey))}))}))}removeBeaconEntriesFromStorage(){return dt(this,void 0,void 0,(function*(){const t=Object.values($);yield Promise.all(t.map((t=>this.storage.delete(t))))}))}loadOrCreateBeaconSecret(){return dt(this,void 0,void 0,(function*(){const t=yield this.storage.get($.BEACON_SDK_SECRET_SEED);if(t&&"string"==typeof t)this._keyPair.resolve(yield j(t));else{const t=yield st();yield this.storage.set($.BEACON_SDK_SECRET_SEED,t),this._keyPair.resolve(yield j(t))}}))}}var gt=function(t,e,n,r){return new(n||(n=Promise))((function(i,o){function s(t){try{l(r.next(t))}catch(t){o(t)}}function a(t){try{l(r.throw(t))}catch(t){o(t)}}function l(t){var e;t.done?i(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(s,a)}l((r=r.apply(t,e||[])).next())}))};class yt{constructor(t,e){this.storage=t,this.storageKey=e}getAll(){return gt(this,void 0,void 0,(function*(){return this.storage.get(this.storageKey)}))}getOne(t){return gt(this,void 0,void 0,(function*(){return(yield this.storage.get(this.storageKey)).find(t)}))}addOne(t,e,n=!0){return gt(this,void 0,void 0,(function*(){const r=yield this.storage.get(this.storageKey);if(r.some(e)){if(n)for(let n=0;n<r.length;n++)e(r[n])&&(r[n]=t)}else r.push(t);return this.storage.set(this.storageKey,r)}))}remove(t){return gt(this,void 0,void 0,(function*(){const e=(yield this.storage.get(this.storageKey)).filter((e=>!t(e)));return this.storage.set(this.storageKey,e)}))}removeAll(){return gt(this,void 0,void 0,(function*(){return this.storage.delete(this.storageKey)}))}}var vt=n(8764).Buffer;const mt=(t,e)=>{return n=void 0,r=void 0,o=function*(){const n=[t,e.type];e.name&&n.push(`name:${e.name}`),e.rpcUrl&&n.push(`rpc:${e.rpcUrl}`);const r=vt.from((0,N.hash)((0,O.cv)(n.join("-")),10));return R.encode(r)},new((i=void 0)||(i=Promise))((function(t,e){function s(t){try{l(o.next(t))}catch(t){e(t)}}function a(t){try{l(o.throw(t))}catch(t){e(t)}}function l(e){var n;e.done?t(e.value):(n=e.value,n instanceof i?n:new i((function(t){t(n)}))).then(s,a)}l((o=o.apply(n,r||[])).next())}));var n,r,i,o};class wt{static hasPermission(t,e,n){return r=this,i=void 0,s=function*(){switch(t.type){case F.PermissionRequest:case F.BroadcastRequest:return!0;case F.OperationRequest:{const n=yield mt(t.sourceAddress,t.network),r=yield e(n);return!!r&&r.scopes.includes(G.OPERATION_REQUEST)}case F.SignPayloadRequest:{const e=(yield n()).filter((e=>e.address===t.sourceAddress));return 0!==e.length&&e.some((t=>t.scopes.includes(G.SIGN)))}default:throw new Error("Message not handled")}},new((o=void 0)||(o=Promise))((function(t,e){function n(t){try{l(s.next(t))}catch(t){e(t)}}function a(t){try{l(s.throw(t))}catch(t){e(t)}}function l(e){var r;e.done?t(e.value):(r=e.value,r instanceof o?r:new o((function(t){t(r)}))).then(n,a)}l((s=s.apply(r,i||[])).next())}));var r,i,o,s}}var bt=function(t,e,n,r){return new(n||(n=Promise))((function(i,o){function s(t){try{l(r.next(t))}catch(t){o(t)}}function a(t){try{l(r.throw(t))}catch(t){o(t)}}function l(t){var e;t.done?i(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(s,a)}l((r=r.apply(t,e||[])).next())}))};class Et{constructor(t){this.storageManager=new yt(t,$.ACCOUNTS)}getAccounts(){return bt(this,void 0,void 0,(function*(){return this.storageManager.getAll()}))}getAccount(t){return bt(this,void 0,void 0,(function*(){return this.storageManager.getOne((e=>e.accountIdentifier===t))}))}addAccount(t){return bt(this,void 0,void 0,(function*(){return this.storageManager.addOne(t,(e=>e.accountIdentifier===t.accountIdentifier))}))}removeAccount(t){return bt(this,void 0,void 0,(function*(){return this.storageManager.remove((e=>e.accountIdentifier===t))}))}removeAccounts(t){return bt(this,void 0,void 0,(function*(){return this.storageManager.remove((e=>t.includes(e.accountIdentifier)))}))}removeAllAccounts(){return bt(this,void 0,void 0,(function*(){return this.storageManager.removeAll()}))}hasPermission(t){return bt(this,void 0,void 0,(function*(){return wt.hasPermission(t,this.getAccount.bind(this),this.getAccounts.bind(this))}))}}var _t=n(8764).Buffer;const xt=t=>{return e=void 0,n=void 0,i=function*(){const e=_t.from((0,N.hash)(_t.from(t,"hex"),5));return R.encode(e)},new((r=void 0)||(r=Promise))((function(t,o){function s(t){try{l(i.next(t))}catch(t){o(t)}}function a(t){try{l(i.throw(t))}catch(t){o(t)}}function l(e){var n;e.done?t(e.value):(n=e.value,n instanceof r?n:new r((function(t){t(n)}))).then(s,a)}l((i=i.apply(e,n||[])).next())}));var e,n,r,i};let At=!!ft.beaconSdkDebugEnabled;At&&console.log("[BEACON]: Debug mode is ON (turned on either by the developer or a browser extension)");class St{constructor(t){this.name=t}debug(t,...e){Tt.debug(this.name,t,e)}log(t,...e){Tt.log(this.name,t,e)}warn(t,...e){Tt.warn(this.name,t,e)}error(t,...e){Tt.error(this.name,t,e)}}new St("");let Tt=new class{constructor(){}debug(t,e,...n){this._log("debug",t,e,n)}log(t,e,...n){this._log("log",t,e,n)}warn(t,e,...n){this._log("warn",t,e,n)}error(t,e,...n){this._log("error",t,e,n)}_log(t,e,n,r=[]){if(!At)return;let i=`[BEACON] ${(new Date).toISOString()} [${e}](${n})`,o=r;switch(r[0]&&"string"==typeof r[0]&&(i+=` ${r[0]}`,o=r.slice(1)),t){case"error":console.group(i),console.error(...o);break;case"warn":console.group(i),console.warn(...o);break;case"debug":console.groupCollapsed(i),console.debug(...o);break;default:console.group(i),console.log(...o)}console.groupEnd()}};var Rt=function(t,e,n,r){return new(n||(n=Promise))((function(i,o){function s(t){try{l(r.next(t))}catch(t){o(t)}}function a(t){try{l(r.throw(t))}catch(t){o(t)}}function l(t){var e;t.done?i(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(s,a)}l((r=r.apply(t,e||[])).next())}))};const It=new St("Client");class kt extends pt{constructor(t){var e;super(t),this.rateLimit=2,this.rateLimitWindowInSeconds=5,this.requestCounter=[],this._transport=new T,this.accountManager=new Et(t.storage),this.matrixNodes=null!==(e=t.matrixNodes)&&void 0!==e?e:{},this.handleResponse=(t,e)=>{throw new Error(`not overwritten${JSON.stringify(t)} - ${JSON.stringify(e)}`)}}get transport(){return this._transport.promise}get connectionStatus(){var t,e;return null!==(e=null===(t=this._transport.promiseResult)||void 0===t?void 0:t.connectionStatus)&&void 0!==e?e:J.NOT_CONNECTED}get ready(){return this.transport.then((()=>{}))}getAccounts(){return Rt(this,void 0,void 0,(function*(){return this.accountManager.getAccounts()}))}getAccount(t){return Rt(this,void 0,void 0,(function*(){return this.accountManager.getAccount(t)}))}removeAccount(t){return Rt(this,void 0,void 0,(function*(){return this.accountManager.removeAccount(t)}))}removeAllAccounts(){return Rt(this,void 0,void 0,(function*(){return this.accountManager.removeAllAccounts()}))}addRequestAndCheckIfRateLimited(){return Rt(this,void 0,void 0,(function*(){const t=(new Date).getTime();return this.requestCounter=this.requestCounter.filter((e=>e+1e3*this.rateLimitWindowInSeconds>t)),this.requestCounter.push(t),this.requestCounter.length>this.rateLimit}))}init(t){return Rt(this,void 0,void 0,(function*(){return this._transport.status===_.RESOLVED?(yield this.transport).type:(yield this.setTransport(t),t.type)}))}getOwnAppMetadata(){return Rt(this,void 0,void 0,(function*(){return{senderId:yield xt(yield this.beaconId),name:this.name,icon:this.iconUrl}}))}getPeers(){return Rt(this,void 0,void 0,(function*(){return(yield this.transport).getPeers()}))}addPeer(t){return Rt(this,void 0,void 0,(function*(){return(yield this.transport).addPeer(t)}))}destroy(){const t=Object.create(null,{destroy:{get:()=>super.destroy}});return Rt(this,void 0,void 0,(function*(){this._transport.status===_.RESOLVED&&(yield(yield this.transport).disconnect()),yield t.destroy.call(this)}))}setTransport(t){return Rt(this,void 0,void 0,(function*(){t?this._transport.isSettled()?this._transport=T.resolve(t):this._transport.resolve(t):this._transport.isSettled()&&(this._transport=new T)}))}addListener(t){return Rt(this,void 0,void 0,(function*(){t.addListener(((t,e)=>Rt(this,void 0,void 0,(function*(){if("string"==typeof t){const n=yield(new Vt).deserialize(t);this.handleResponse(n,e)}})))).catch((t=>It.error("addListener",t)))}))}sendDisconnectToPeer(t,e){return Rt(this,void 0,void 0,(function*(){const n={id:yield st(),version:t.version,senderId:yield xt(yield this.beaconId),type:F.Disconnect},r=yield(new Vt).serialize(n),i=null!=e?e:yield this.transport;yield i.send(r,t)}))}}class Ot{constructor(t,e){this.name="BeaconError",this.title="Error",this.message=`[${t}]:${e}`,this.description=e}get fullDescription(){return{description:this.description}}static getError(t,e){switch(t){case Y.BROADCAST_ERROR:return new Nt;case Y.NETWORK_NOT_SUPPORTED:return new Ct;case Y.NO_ADDRESS_ERROR:return new Pt;case Y.NO_PRIVATE_KEY_FOUND_ERROR:return new Lt;case Y.NOT_GRANTED_ERROR:return new Bt;case Y.PARAMETERS_INVALID_ERROR:return new Mt;case Y.TOO_MANY_OPERATIONS:return new Ut;case Y.TRANSACTION_INVALID_ERROR:return new Dt(e);case Y.SIGNATURE_TYPE_NOT_SUPPORTED:return new se;case Y.ABORTED_ERROR:return new Yt;case Y.UNKNOWN_ERROR:return new jt}}}class Nt extends Ot{constructor(){super(Y.BROADCAST_ERROR,"The transaction could not be broadcast to the network. Please try again."),this.name="BroadcastBeaconError",this.title="Broadcast Error"}}class Ct extends Ot{constructor(){super(Y.NETWORK_NOT_SUPPORTED,"The wallet does not support this network. Please select another one."),this.name="NetworkNotSupportedBeaconError",this.title="Network Error"}}class Pt extends Ot{constructor(){super(Y.NO_ADDRESS_ERROR,"The wallet does not have an account set up. Please make sure to set up your wallet and try again."),this.name="NoAddressBeaconError",this.title="No Address"}}class Lt extends Ot{constructor(){super(Y.NO_PRIVATE_KEY_FOUND_ERROR,"The account you are trying to interact with is not available. Please make sure to add the account to your wallet and try again."),this.name="NoPrivateKeyBeaconError",this.title="Account Not Found"}}class Bt extends Ot{constructor(){super(Y.NOT_GRANTED_ERROR,"You do not have the necessary permissions to perform this action. Please initiate another permission request and give the necessary permissions."),this.name="NotGrantedBeaconError",this.title="Permission Not Granted"}}class Mt extends Ot{constructor(){super(Y.PARAMETERS_INVALID_ERROR,"Some of the parameters you provided are invalid and the request could not be completed. Please check your inputs and try again."),this.name="ParametersInvalidBeaconError",this.title="Parameters Invalid"}}class Ut extends Ot{constructor(){super(Y.TOO_MANY_OPERATIONS,"The request contains too many transactions. Please include fewer operations and try again."),this.name="TooManyOperationsBeaconError",this.title="Too Many Operations"}}class Dt extends Ot{constructor(t){super(Y.TRANSACTION_INVALID_ERROR,"The transaction is invalid and the node did not accept it."),this.data=t,this.name="TransactionInvalidBeaconError",this.title="Transaction Invalid",this.data=t}get fullDescription(){return{description:this.description,data:JSON.stringify(this.data,void 0,2)}}}class jt extends Ot{constructor(){super(Y.UNKNOWN_ERROR,"An unknown error occured. Please try again or report it to a developer."),this.name="UnknownBeaconError",this.title="Error"}}var Kt=function(t,e,n,r){return new(n||(n=Promise))((function(i,o){function s(t){try{l(r.next(t))}catch(t){o(t)}}function a(t){try{l(r.throw(t))}catch(t){o(t)}}function l(t){var e;t.done?i(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(s,a)}l((r=r.apply(t,e||[])).next())}))};const Ht=new St("Transport");class Wt{constructor(t,e,n){this.type=Z.POST_MESSAGE,this._isConnected=J.NOT_CONNECTED,this.listeners=[],this.name=t,this.client=e,this.peerManager=n}get connectionStatus(){return this._isConnected}static isAvailable(){return Kt(this,void 0,void 0,(function*(){return Promise.resolve(!1)}))}connect(){return Kt(this,void 0,void 0,(function*(){Ht.log("connect"),this._isConnected=J.CONNECTED}))}disconnect(){return Kt(this,void 0,void 0,(function*(){Ht.log("disconnect"),this._isConnected=J.NOT_CONNECTED}))}send(t,e){return Kt(this,void 0,void 0,(function*(){if(e)return this.client.sendMessage(t,e);{const e=(yield this.getPeers()).map((e=>this.client.sendMessage(t,e)));return(yield Promise.all(e))[0]}}))}addListener(t){return Kt(this,void 0,void 0,(function*(){Ht.debug("addListener"),this.listeners.push(t)}))}removeListener(t){return Kt(this,void 0,void 0,(function*(){Ht.log("removeListener"),this.listeners=this.listeners.filter((e=>e!==t))}))}getPeers(){return Kt(this,void 0,void 0,(function*(){return this.peerManager.getPeers()}))}addPeer(t,e=!0){return Kt(this,void 0,void 0,(function*(){Ht.log("addPeer","adding peer",t),yield this.peerManager.addPeer(t),yield this.listen(t.publicKey)}))}removePeer(t){return Kt(this,void 0,void 0,(function*(){Ht.log("removePeer","removing peer",t),yield this.peerManager.removePeer(t.publicKey),this.client&&(yield this.client.unsubscribeFromEncryptedMessage(t.publicKey))}))}removeAllPeers(){return Kt(this,void 0,void 0,(function*(){Ht.log("removeAllPeers"),yield this.peerManager.removeAllPeers(),this.client&&(yield this.client.unsubscribeFromEncryptedMessages())}))}notifyListeners(t,e){return Kt(this,void 0,void 0,(function*(){0===this.listeners.length?Ht.warn("notifyListeners","0 listeners notified!",this):Ht.log("notifyListeners",`Notifying ${this.listeners.length} listeners`,this),this.listeners.forEach((n=>{n(t,e)}))}))}}var qt=function(t,e,n,r){return new(n||(n=Promise))((function(i,o){function s(t){try{l(r.next(t))}catch(t){o(t)}}function a(t){try{l(r.throw(t))}catch(t){o(t)}}function l(t){var e;t.done?i(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(s,a)}l((r=r.apply(t,e||[])).next())}))};class Ft{constructor(t){this.prefix=t}static isSupported(){return qt(this,void 0,void 0,(function*(){return Promise.resolve(Boolean("undefined"!=typeof window)&&Boolean(window.localStorage))}))}get(t){return qt(this,void 0,void 0,(function*(){const e=localStorage.getItem(this.getPrefixedKey(t));if(!e)return"object"==typeof at[t]?JSON.parse(JSON.stringify(at[t])):at[t];try{return JSON.parse(e)}catch(t){return e}}))}set(t,e){return qt(this,void 0,void 0,(function*(){return"string"==typeof e?localStorage.setItem(this.getPrefixedKey(t),e):localStorage.setItem(this.getPrefixedKey(t),JSON.stringify(e))}))}delete(t){return qt(this,void 0,void 0,(function*(){return Promise.resolve(localStorage.removeItem(this.getPrefixedKey(t)))}))}getPrefixedKey(t){return this.prefix?`${this.prefix}-${t}`:t}}new St("STORAGE");var Gt=n(8764).Buffer,zt=function(t,e,n,r){return new(n||(n=Promise))((function(i,o){function s(t){try{l(r.next(t))}catch(t){o(t)}}function a(t){try{l(r.throw(t))}catch(t){o(t)}}function l(t){var e;t.done?i(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(s,a)}l((r=r.apply(t,e||[])).next())}))};class Vt{serialize(t){return zt(this,void 0,void 0,(function*(){const e=JSON.stringify(t);return R.encode(Gt.from(e))}))}deserialize(t){return zt(this,void 0,void 0,(function*(){if("string"!=typeof t)throw new Error("Encoded payload needs to be a string");return JSON.parse(R.decode(t).toString())}))}}var Qt=function(t,e,n,r){return new(n||(n=Promise))((function(i,o){function s(t){try{l(r.next(t))}catch(t){o(t)}}function a(t){try{l(r.throw(t))}catch(t){o(t)}}function l(t){var e;t.done?i(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(s,a)}l((r=r.apply(t,e||[])).next())}))};class Xt{constructor(t){this.storageManager=new yt(t,$.APP_METADATA_LIST)}getAppMetadataList(){return Qt(this,void 0,void 0,(function*(){return this.storageManager.getAll()}))}getAppMetadata(t){return Qt(this,void 0,void 0,(function*(){return this.storageManager.getOne((e=>e.senderId===t))}))}addAppMetadata(t){return Qt(this,void 0,void 0,(function*(){return this.storageManager.addOne(t,(e=>e.senderId===t.senderId))}))}removeAppMetadata(t){return Qt(this,void 0,void 0,(function*(){return this.storageManager.remove((e=>e.senderId===t))}))}removeAppMetadatas(t){return Qt(this,void 0,void 0,(function*(){return this.storageManager.remove((e=>t.includes(e.senderId)))}))}removeAllAppMetadata(){return Qt(this,void 0,void 0,(function*(){return this.storageManager.removeAll()}))}}class Yt extends Ot{constructor(){super(Y.ABORTED_ERROR,"The action was aborted by the user."),this.name="UnknownBeaconError",this.title="Aborted"}}var Jt=function(t,e,n,r){return new(n||(n=Promise))((function(i,o){function s(t){try{l(r.next(t))}catch(t){o(t)}}function a(t){try{l(r.throw(t))}catch(t){o(t)}}function l(t){var e;t.done?i(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(s,a)}l((r=r.apply(t,e||[])).next())}))};class Zt{constructor(t,e){this.storageManager=new yt(t,e)}hasPeer(t){return Jt(this,void 0,void 0,(function*(){return!!(yield this.getPeer(t))}))}getPeers(){return Jt(this,void 0,void 0,(function*(){return this.storageManager.getAll()}))}getPeer(t){return Jt(this,void 0,void 0,(function*(){return this.storageManager.getOne((e=>e.publicKey===t))}))}addPeer(t){return Jt(this,void 0,void 0,(function*(){return this.storageManager.addOne(t,(e=>e.publicKey===t.publicKey))}))}removePeer(t){return Jt(this,void 0,void 0,(function*(){return this.storageManager.remove((e=>e.publicKey===t))}))}removePeers(t){return Jt(this,void 0,void 0,(function*(){return this.storageManager.remove((e=>t.includes(e.publicKey)))}))}removeAllPeers(){return Jt(this,void 0,void 0,(function*(){return this.storageManager.removeAll()}))}}var $t=n(4826),te=n(8764).Buffer,ee=function(t,e,n,r){return new(n||(n=Promise))((function(i,o){function s(t){try{l(r.next(t))}catch(t){o(t)}}function a(t){try{l(r.throw(t))}catch(t){o(t)}}function l(t){var e;t.done?i(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(s,a)}l((r=r.apply(t,e||[])).next())}))};class ne{constructor(t){this.keyPair=t}getPublicKey(){return ee(this,void 0,void 0,(function*(){return U(this.keyPair.publicKey)}))}getPublicKeyHash(){return ee(this,void 0,void 0,(function*(){return D(this.keyPair.publicKey)}))}createCryptoBoxServer(t,e){return ee(this,void 0,void 0,(function*(){return(0,$t.serverSessionKeys)({publicKey:(0,C.SH)(e.publicKey),secretKey:(0,C.zh)(e.secretKey)},(0,C.SH)(te.from(t,"hex")))}))}createCryptoBoxClient(t,e){return ee(this,void 0,void 0,(function*(){return(0,$t.clientSessionKeys)({publicKey:(0,C.SH)(e.publicKey),secretKey:(0,C.zh)(e.secretKey)},(0,C.SH)(te.from(t,"hex")))}))}encryptMessageAsymmetric(t,e){return ee(this,void 0,void 0,(function*(){return function(t,e){return B(this,void 0,void 0,(function*(){const n=(0,C.SH)(L.from(e)),r=(0,I.generateKeyPair)(),i=new N.BLAKE2b(24).update(r.publicKey,32).update(n,32).digest(),o="string"==typeof t?(0,O.cv)(t):t,s=(0,I.box)(n,r.secretKey,i,o);return U((0,P.z)(r.publicKey,s))}))}(e,te.from(t,"hex"))}))}}var re=n(8764).Buffer,ie=function(t,e,n,r){return new(n||(n=Promise))((function(i,o){function s(t){try{l(r.next(t))}catch(t){o(t)}}function a(t){try{l(r.throw(t))}catch(t){o(t)}}function l(t){var e;t.done?i(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(s,a)}l((r=r.apply(t,e||[])).next())}))};class oe extends ne{constructor(t,e){super(e),this.name=t,this.init().catch(console.error)}start(){return ie(this,void 0,void 0,(function*(){yield Promise.resolve()}))}getPairingRequestInfo(){return ie(this,void 0,void 0,(function*(){return{id:yield st(),type:"postmessage-pairing-request",name:this.name,version:"3",publicKey:yield this.getPublicKey()}}))}getPairingResponseInfo(t){return ie(this,void 0,void 0,(function*(){return{id:t.id,type:"postmessage-pairing-response",name:this.name,version:t.version,publicKey:yield this.getPublicKey()}}))}unsubscribeFromEncryptedMessage(t){return ie(this,void 0,void 0,(function*(){this.activeListeners.get(t)&&this.activeListeners.delete(t)}))}unsubscribeFromEncryptedMessages(){return ie(this,void 0,void 0,(function*(){this.activeListeners.clear()}))}decryptMessage(t,e){return ie(this,void 0,void 0,(function*(){const n=yield this.createCryptoBoxServer(t,this.keyPair),r=re.from(e,"hex");if(r.length>=40)try{return yield H(r,n.receive)}catch(t){}throw new Error("Could not decrypt message")}))}encryptMessage(t,e){return ie(this,void 0,void 0,(function*(){const n=yield this.createCryptoBoxClient(t,this.keyPair);return K(e,n.send)}))}}class se extends Ot{constructor(){super(Y.SIGNATURE_TYPE_NOT_SUPPORTED,"The wallet is not able to sign payloads of this type."),this.name="SignatureTypeNotSupportedBeaconError",this.title="Signature Type Not Supported"}}var ae,le=n(9669),ce=n.n(le);!function(t){t.TEXT="m.text"}(ae||(ae={}));class ue{constructor(t,e,n,r){this.type=t,this.sender=e,this.content=n,this.timestamp=r}static from(t){if(fe(t))return new ue(t.content.msgtype,t.sender,t.content.body,t.origin_server_ts)}}const he=t=>"m.room.message"===t.type,fe=t=>he(t)&&t.content instanceof Object&&"msgtype"in t.content&&t.content.msgtype===ae.TEXT;var de;!function(t){t[t.UNKNOWN=0]="UNKNOWN",t[t.JOINED=1]="JOINED",t[t.INVITED=2]="INVITED",t[t.LEFT=3]="LEFT"}(de||(de={}));class pe{constructor(t,e=de.UNKNOWN,n=[],r=[]){this.id=t,this.status=e,this.members=n,this.messages=r}static fromSync(t){var e,n,r;if(!t)return[];function i(t,e){return Object.entries(t).map((([t,n])=>e(t,n)))}return[...i(null!==(e=t.join)&&void 0!==e?e:{},pe.fromJoined),...i(null!==(n=t.invite)&&void 0!==n?n:{},pe.fromInvited),...i(null!==(r=t.leave)&&void 0!==r?r:{},pe.fromLeft)]}static from(t,e){return"string"==typeof t?new pe(t,e||de.UNKNOWN):void 0!==e?new pe(t.id,e,t.members,t.messages):t}static merge(t,e){return e&&e.id===t.id?new pe(t.id,t.status,[...e.members,...t.members].filter(((t,e,n)=>n.indexOf(t)===e)),[...e.messages,...t.messages]):pe.from(t)}static fromJoined(t,e){const n=[...e.state.events,...e.timeline.events],r=pe.getMembersFromEvents(n),i=pe.getMessagesFromEvents(n);return new pe(t,de.JOINED,r,i)}static fromInvited(t,e){const n=pe.getMembersFromEvents(e.invite_state.events);return new pe(t,de.INVITED,n)}static fromLeft(t,e){const n=[...e.state.events,...e.timeline.events],r=pe.getMembersFromEvents(n),i=pe.getMessagesFromEvents(n);return new pe(t,de.LEFT,r,i)}static getMembersFromEvents(t){return pe.getUniqueEvents(t.filter((t=>(t=>"m.room.create"===t.type&&t.content instanceof Object&&"creator"in t.content)(t)||(t=>"m.room.member"===t.type&&t.content instanceof Object&&"membership"in t.content&&"join"===t.content.membership)(t)))).map((t=>t.sender)).filter(((t,e,n)=>n.indexOf(t)===e))}static getMessagesFromEvents(t){return pe.getUniqueEvents(t.filter(he)).map((t=>ue.from(t))).filter(Boolean)}static getUniqueEvents(t){const e={},n=[];return t.forEach(((t,r)=>{const i=t.event_id;void 0!==i&&i in e||(void 0!==i&&(e[i]=r),n.push(t))})),n}}var ge=function(t,e,n,r){return new(n||(n=Promise))((function(i,o){function s(t){try{l(r.next(t))}catch(t){o(t)}}function a(t){try{l(r.throw(t))}catch(t){o(t)}}function l(t){var e;t.done?i(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(s,a)}l((r=r.apply(t,e||[])).next())}))};const ye=["syncToken","rooms"];class ve{constructor(t){this.storage=t,this.state={isRunning:!1,userId:void 0,deviceId:void 0,txnNo:0,accessToken:void 0,syncToken:void 0,pollingTimeout:void 0,pollingRetries:0,rooms:{}},this.onStateChangedListeners=new Map,this.waitReadyPromise=new Promise(((t,e)=>ge(this,void 0,void 0,(function*(){try{yield this.initFromStorage(),t()}catch(t){e(t)}}))))}get(t){return this.state[t]}getRoom(t){const e=pe.from(t,de.UNKNOWN);return this.state.rooms[e.id]||e}update(t){return ge(this,void 0,void 0,(function*(){yield this.waitReady();const e=Object.assign({},this.state);this.setState(t),this.updateStorage(t),this.notifyListeners(e,this.state,t)}))}onStateChanged(t,...e){e.length>0?e.forEach((e=>{this.onStateChangedListeners.set(e,t)})):this.onStateChangedListeners.set("all",t)}waitReady(){return ge(this,void 0,void 0,(function*(){return this.waitReadyPromise}))}initFromStorage(){return ge(this,void 0,void 0,(function*(){const t=yield this.storage.get($.MATRIX_PRESERVED_STATE);this.setState(t)}))}prepareData(t){const e=["rooms"].some((e=>void 0!==t[e]))?JSON.parse(JSON.stringify(t)):t;return Object.values(e.rooms||{}).forEach((t=>{t.messages=[]})),e}updateStorage(t){if(Object.entries(t).filter((([t,e])=>ye.includes(t)&&Boolean(e))).length>0){const t={};ye.forEach((e=>{t[e]=this.state[e]})),this.storage.set($.MATRIX_PRESERVED_STATE,this.prepareData(t))}}setState(t){this.state={isRunning:t.isRunning||this.state.isRunning,userId:t.userId||this.state.userId,deviceId:t.deviceId||this.state.deviceId,txnNo:t.txnNo||this.state.txnNo,accessToken:t.accessToken||this.state.accessToken,syncToken:t.syncToken||this.state.syncToken,pollingTimeout:t.pollingTimeout||this.state.pollingTimeout,pollingRetries:t.pollingRetries||this.state.pollingRetries,rooms:this.mergeRooms(this.state.rooms,t.rooms)}}mergeRooms(t,e){if(!e)return t;const n=Array.isArray(e)?e:Object.values(e),r=Object.assign({},t);return n.forEach((e=>{r[e.id]=pe.merge(e,t[e.id])})),r}notifyListeners(t,e,n){const r=this.onStateChangedListeners.get("all");r&&r(t,e,n),A(n).filter((t=>void 0!==n[t])).forEach((r=>{const i=this.onStateChangedListeners.get(r);i&&i(t,e,n)}))}}var me=function(t,e,n,r){return new(n||(n=Promise))((function(i,o){function s(t){try{l(r.next(t))}catch(t){o(t)}}function a(t){try{l(r.throw(t))}catch(t){o(t)}}function l(t){var e;t.done?i(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(s,a)}l((r=r.apply(t,e||[])).next())}))};const we=new St("MatrixHttpClient");class be{constructor(t){this.baseUrl=t,this.cancelTokenSource=ce().CancelToken.source()}get(t,e,n){return me(this,void 0,void 0,(function*(){return this.send("GET",t,n,e)}))}post(t,e,n,r){return me(this,void 0,void 0,(function*(){return this.send("POST",t,n,r,e)}))}put(t,e,n,r){return me(this,void 0,void 0,(function*(){return this.send("PUT",t,n,r,e)}))}cancelAllRequests(){return me(this,void 0,void 0,(function*(){return this.cancelTokenSource.cancel("Manually cancelled")}))}send(t,e,n,r,i){return me(this,void 0,void 0,(function*(){const o=n?this.getHeaders(n):void 0,s=r?this.getParams(r):void 0;let a;try{a=yield ce().request({method:t,url:e,baseURL:this.apiUrl("/_matrix/client/r0"),headers:o,data:i,params:s,cancelToken:this.cancelTokenSource.token})}catch(t){const e=t;throw we.error("send",e.code,e.message,e.response.data),t.response.data}return a.data}))}getHeaders(t){const e={},n=[];if(t.accessToken&&n.push(["Authorization",`Bearer ${t.accessToken}`]),0!==n.length){for(const[t,r]of n)e[t]=r;return e}}getParams(t){if(!t)return;const e=Object.assign(t,{});return A(e).forEach((t=>void 0===e[t]&&delete e[t])),e}apiUrl(...t){return[this.baseUrl.endsWith("/")?this.baseUrl.substr(0,this.baseUrl.length-1):this.baseUrl,...t.map((t=>t.startsWith("/")?t.substr(1):t))].join("/")}}var Ee=function(t,e,n,r){return new(n||(n=Promise))((function(i,o){function s(t){try{l(r.next(t))}catch(t){o(t)}}function a(t){try{l(r.throw(t))}catch(t){o(t)}}function l(t){var e;t.done?i(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(s,a)}l((r=r.apply(t,e||[])).next())}))};class _e{constructor(t){this.httpClient=t}createRoom(t,e={}){return Ee(this,void 0,void 0,(function*(){return this.httpClient.post("/createRoom",e,{accessToken:t})}))}inviteToRoom(t,e,n){return Ee(this,void 0,void 0,(function*(){return n.status!==de.JOINED&&n.status!==de.UNKNOWN?Promise.reject(`User is not a member of room ${n.id}.`):this.httpClient.post(`/rooms/${encodeURIComponent(n.id)}/invite`,{user_id:e},{accessToken:t})}))}joinRoom(t,e){return Ee(this,void 0,void 0,(function*(){return e.status===de.JOINED?Promise.resolve({room_id:e.id}):this.httpClient.post(`/rooms/${encodeURIComponent(e.id)}/join`,{},{accessToken:t})}))}getJoinedRooms(t){return Ee(this,void 0,void 0,(function*(){return this.httpClient.get("/joined_rooms",void 0,{accessToken:t})}))}}class xe{constructor(t){this.httpClient=t}login(t,e,n){return r=this,i=void 0,s=function*(){return this.httpClient.post("/login",{type:"m.login.password",identifier:{type:"m.id.user",user:t},password:e,device_id:n})},new((o=void 0)||(o=Promise))((function(t,e){function n(t){try{l(s.next(t))}catch(t){e(t)}}function a(t){try{l(s.throw(t))}catch(t){e(t)}}function l(e){var r;e.done?t(e.value):(r=e.value,r instanceof o?r:new o((function(t){t(r)}))).then(n,a)}l((s=s.apply(r,i||[])).next())}));var r,i,o,s}}var Ae,Se=function(t,e,n,r){return new(n||(n=Promise))((function(i,o){function s(t){try{l(r.next(t))}catch(t){o(t)}}function a(t){try{l(r.throw(t))}catch(t){o(t)}}function l(t){var e;t.done?i(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(s,a)}l((r=r.apply(t,e||[])).next())}))};class Te{constructor(t){this.httpClient=t,this.cachedPromises=new Map}sync(t,e){return Se(this,void 0,void 0,(function*(){return this.withCache("sync",(()=>this.httpClient.get("/sync",{timeout:e?e.pollingTimeout:void 0,since:e?e.syncToken:void 0},{accessToken:t})))}))}sendMessage(t,e,n,r){return Se(this,void 0,void 0,(function*(){return new Promise(((i,o)=>this.scheduleEvent({accessToken:t,roomId:e,type:"m.room.message",content:n,txnId:r,onSuccess:i,onError:o})))}))}scheduleEvent(t){this.sendEvent(t)}sendEvent(t){return Se(this,void 0,void 0,(function*(){const{roomId:e,type:n,txnId:r,content:i,accessToken:o}=t;try{const s=yield this.httpClient.put(`/rooms/${encodeURIComponent(e)}/send/${n}/${encodeURIComponent(r)}`,i,{accessToken:o});t.onSuccess(s)}catch(e){t.onError(e)}}))}withCache(t,e){let n=this.cachedPromises.get(t);return n||(n=e().finally((()=>{this.cachedPromises.delete(t)})),this.cachedPromises.set(t,n)),n}}class Re{constructor(){this.events={}}on(t,e){return"object"!=typeof this.events[t]&&(this.events[t]=[]),this.events[t].push(e),()=>this.removeListener(t,e)}removeListener(t,e){if("object"!=typeof this.events[t])return;if(!e)return void(this.events[t]=[]);const n=this.events[t].indexOf(e);n>-1&&this.events[t].splice(n,1)}removeAllListeners(){Object.keys(this.events).forEach((t=>this.events[t].splice(0,this.events[t].length)))}emit(t,...e){"object"==typeof this.events[t]&&[...this.events[t]].forEach((t=>t.apply(this,e)))}once(t,e){const n=this.on(t,((...t)=>{n(),e.apply(this,t)}));return n}}!function(t){t.INVITE="invite",t.MESSAGE="message"}(Ae||(Ae={}));class Ie extends Re{constructor(){super(...arguments),this.eventEmitProviders=new Map([[Ae.INVITE,()=>[this.isInvite,this.emitInvite.bind(this)]],[Ae.MESSAGE,()=>[this.isMessage,this.emitMessage.bind(this)]]])}onStateChanged(t,e,n){for(const t of A(Ae))this.emitIfEvent(Ae[t],n)}emitIfEvent(t,e){const n=this.eventEmitProviders.get(t);if(n){const[r,i]=n();r(e)&&i(t,e)}}emitClientEvent(t,e,n){this.emit(t,{type:t,content:e,timestamp:n})}isInvite(t){return!!t.rooms&&t.rooms.some((t=>t.status===de.INVITED))}emitInvite(t,e){e.rooms.filter((t=>t.status===de.INVITED)).map((t=>[t.id,t.members])).forEach((([e,n])=>{this.emitClientEvent(t,{roomId:e,members:n})}))}isMessage(t){return!!t.rooms&&t.rooms.some((t=>t.messages.length>0))}emitMessage(t,e){e.rooms.filter((t=>t.messages.length>0)).map((t=>t.messages.map((e=>[t.id,e,e.timestamp])))).reduce(((t,e)=>t.concat(e)),[]).forEach((([e,n,r])=>{this.emitClientEvent(t,{roomId:e,message:n},r)}))}}var ke=function(t,e,n,r){return new(n||(n=Promise))((function(i,o){function s(t){try{l(r.next(t))}catch(t){o(t)}}function a(t){try{l(r.throw(t))}catch(t){o(t)}}function l(t){var e;t.done?i(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(s,a)}l((r=r.apply(t,e||[])).next())}))};const Oe=new St("MatrixClient");class Ne{constructor(t,e,n,r,i,o){this.store=t,this.eventEmitter=e,this.userService=n,this.roomService=r,this.eventService=i,this.httpClient=o,this.isActive=!0,this._isReady=new T,this.store.onStateChanged(((t,e,n)=>{this.eventEmitter.onStateChanged(t,e,n)}),"rooms")}static create(t){const e=new ve(t.storage),n=new Ie,r=new be(t.baseUrl),i=new xe(r),o=new _e(r),s=new Te(r);return new Ne(e,n,i,o,s,r)}get joinedRooms(){return new Promise((t=>ke(this,void 0,void 0,(function*(){yield this.isConnected(),t(Object.values(this.store.get("rooms")).filter((t=>t.status===de.JOINED)))}))))}get invitedRooms(){return new Promise((t=>ke(this,void 0,void 0,(function*(){yield this.isConnected(),t(Object.values(this.store.get("rooms")).filter((t=>t.status===de.INVITED)))}))))}get leftRooms(){return new Promise((t=>ke(this,void 0,void 0,(function*(){yield this.isConnected(),t(Object.values(this.store.get("rooms")).filter((t=>t.status===de.LEFT)))}))))}start(t){return ke(this,void 0,void 0,(function*(){const e=yield this.userService.login(t.id,t.password,t.deviceId);yield this.store.update({accessToken:e.access_token});const n=new Promise(((t,e)=>ke(this,void 0,void 0,(function*(){yield this.poll(0,(e=>ke(this,void 0,void 0,(function*(){this.store.get("isRunning")||t(),yield this.store.update({isRunning:!0,syncToken:e.next_batch,pollingTimeout:3e4,pollingRetries:0,rooms:pe.fromSync(e.rooms)})}))),(t=>ke(this,void 0,void 0,(function*(){this.store.get("isRunning")||e(t),yield this.store.update({isRunning:!1,pollingRetries:this.store.get("pollingRetries")+1})}))))}))));return n.then((()=>{this._isReady.resolve()})).catch(console.error),n}))}isConnected(){return ke(this,void 0,void 0,(function*(){return this._isReady.promise}))}stop(){return ke(this,void 0,void 0,(function*(){return Oe.log("MATRIX CLIENT STOPPED"),this.isActive=!1,this._isReady=new T,this.httpClient.cancelAllRequests()}))}subscribe(t,e){this.eventEmitter.on(t,e)}unsubscribe(t,e){e&&this.eventEmitter.removeListener(t,e)}unsubscribeAll(t){this.eventEmitter.removeListener(t)}getRoomById(t){return ke(this,void 0,void 0,(function*(){return yield this.isConnected(),this.store.getRoom(t)}))}createTrustedPrivateRoom(...t){return ke(this,void 0,void 0,(function*(){return yield this.isConnected(),this.requiresAuthorization("createRoom",(e=>ke(this,void 0,void 0,(function*(){return(yield this.roomService.createRoom(e,{room_version:"5",invite:t,preset:"public_chat",is_direct:!0})).room_id}))))}))}inviteToRooms(t,...e){return ke(this,void 0,void 0,(function*(){yield this.isConnected(),yield this.requiresAuthorization("invite",(n=>Promise.all(e.map((e=>{const r=this.store.getRoom(e);this.roomService.inviteToRoom(n,t,r).catch((t=>Oe.warn("inviteToRooms",t)))})))))}))}joinRooms(...t){return ke(this,void 0,void 0,(function*(){yield this.isConnected(),yield this.requiresAuthorization("join",(e=>Promise.all(t.map((t=>{const n=this.store.getRoom(t);return this.roomService.joinRoom(e,n)})))))}))}sendTextMessage(t,e){return ke(this,void 0,void 0,(function*(){yield this.isConnected(),yield this.requiresAuthorization("send",(n=>ke(this,void 0,void 0,(function*(){const r=yield this.createTxnId();return this.eventService.sendMessage(n,t,{msgtype:"m.text",body:e},r)}))))}))}poll(t,e,n){return ke(this,void 0,void 0,(function*(){const r=this.store,i=this.sync.bind(this),o=(s,a)=>ke(this,void 0,void 0,(function*(){let l=0;try{const t=yield i();e(t)}catch(t){n(t),l=r.get("pollingRetries"),this.isActive&&Oe.log(`Retry syncing... ${l} retries so far`)}finally{this.isActive?setTimeout((()=>ke(this,void 0,void 0,(function*(){yield o(s,a)}))),l>3?5e3+t:t):a(new Error("Syncing stopped manually."))}}));return new Promise(o)}))}sync(){return ke(this,void 0,void 0,(function*(){return this.requiresAuthorization("sync",(t=>ke(this,void 0,void 0,(function*(){return this.eventService.sync(t,{pollingTimeout:this.store.get("pollingTimeout"),syncToken:this.store.get("syncToken")})}))))}))}requiresAuthorization(t,e){return ke(this,void 0,void 0,(function*(){const n=this.store.get("accessToken");return n?e(n):Promise.reject(`${t} requires authorization but no access token has been provided.`)}))}createTxnId(){return ke(this,void 0,void 0,(function*(){const t=(new Date).getTime(),e=this.store.get("txnNo");return yield this.store.update({txnNo:e+1}),`m${t}.${e}`}))}}var Ce=n(8764).Buffer,Pe=function(t,e,n,r){return new(n||(n=Promise))((function(i,o){function s(t){try{l(r.next(t))}catch(t){o(t)}}function a(t){try{l(r.throw(t))}catch(t){o(t)}}function l(t){var e;t.done?i(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(s,a)}l((r=r.apply(t,e||[])).next())}))};const Le=new St("P2PCommunicationClient"),Be={[ut.EUROPE_WEST]:["beacon-node-1.diamond.papers.tech","beacon-node-1.sky.papers.tech","beacon-node-2.sky.papers.tech","beacon-node-1.hope.papers.tech","beacon-node-1.hope-2.papers.tech","beacon-node-1.hope-3.papers.tech","beacon-node-1.hope-4.papers.tech","beacon-node-1.hope-5.papers.tech"]};class Me extends ne{constructor(t,e,n,r,i,o,s){super(e),this.name=t,this.replicationCount=n,this.storage=r,this.iconUrl=o,this.appUrl=s,this.client=new T,this.activeListeners=new Map,this.ignoredRooms=[],this.loginCounter=0,Le.log("constructor","P2PCommunicationClient created"),this.ENABLED_RELAY_SERVERS=Be,i&&(this.ENABLED_RELAY_SERVERS=Object.assign(Object.assign({},Be),i))}getPairingRequestInfo(){return Pe(this,void 0,void 0,(function*(){const t={id:yield st(),type:"p2p-pairing-request",name:this.name,version:"3",publicKey:yield this.getPublicKey(),relayServer:(yield this.getRelayServer()).server};return this.iconUrl&&(t.icon=this.iconUrl),this.appUrl&&(t.appUrl=this.appUrl),t}))}getPairingResponseInfo(t){return Pe(this,void 0,void 0,(function*(){const e={id:t.id,type:"p2p-pairing-response",name:this.name,version:t.version,publicKey:yield this.getPublicKey(),relayServer:(yield this.getRelayServer()).server};return this.iconUrl&&(e.icon=this.iconUrl),this.appUrl&&(e.appUrl=this.appUrl),e}))}findBestRegion(){return Pe(this,void 0,void 0,(function*(){if(this.selectedRegion)return this.selectedRegion;const t=Object.keys(this.ENABLED_RELAY_SERVERS),e=[];t.forEach((t=>{var n;const r=null!==(n=this.ENABLED_RELAY_SERVERS[t])&&void 0!==n?n:[],i=Math.floor(Math.random()*r.length);e.push(this.getBeaconInfo(r[i]).then((e=>({region:t,server:r[i],response:e}))).catch((t=>new Promise(((e,n)=>{setTimeout((()=>n(t)),2e3)})))))}));const n=yield Promise.race(e);return this.selectedRegion=n.region,n.region}))}getRelayServer(){return Pe(this,void 0,void 0,(function*(){if(this.relayServer){const t=yield this.relayServer.promise;if(Date.now()-t.localTimestamp<6e4)return{server:t.server,timestamp:t.timestamp};const e=yield this.getBeaconInfo(t.server);return this.relayServer.resolve({server:t.server,timestamp:e.timestamp,localTimestamp:(new Date).getTime()}),{server:t.server,timestamp:e.timestamp}}this.relayServer=new T;const t=yield this.storage.get($.MATRIX_SELECTED_NODE);if(t&&t.length>0){const e=yield this.getBeaconInfo(t);return this.relayServer.resolve({server:t,timestamp:e.timestamp,localTimestamp:(new Date).getTime()}),{server:t,timestamp:e.timestamp}}const e=yield this.findBestRegion(),n=this.ENABLED_RELAY_SERVERS[e];if(!n)throw new Error(`No servers found for region ${e}`);const r=[...n];for(;r.length>0;){const t=Math.floor(Math.random()*r.length),e=r[t];try{const t=yield this.getBeaconInfo(e);return this.storage.set($.MATRIX_SELECTED_NODE,e).catch((t=>Le.log(t))),this.relayServer.resolve({server:e,timestamp:t.timestamp,localTimestamp:(new Date).getTime()}),{server:e,timestamp:t.timestamp}}catch(n){Le.log(`Ignoring server "${e}", trying another one...`),r.splice(t,1)}}throw this.relayServer.reject("No matrix server reachable!"),new Error("No matrix server reachable!")}))}getBeaconInfo(t){return Pe(this,void 0,void 0,(function*(){return ce().get(`https://${t}/_synapse/client/beacon/info`).then((t=>({region:t.data.region,known_servers:t.data.known_servers,timestamp:Math.floor(t.data.timestamp)})))}))}tryJoinRooms(t,e=1){return Pe(this,void 0,void 0,(function*(){try{yield(yield this.client.promise).joinRooms(t)}catch(n){e<=10&&"M_FORBIDDEN"===n.errcode?(Le.log("Retrying to join...",n),setTimeout((()=>Pe(this,void 0,void 0,(function*(){yield this.tryJoinRooms(t,e+1)}))),200)):Le.log(`Failed to join after ${e} tries.`,n)}}))}start(){var t,e;return Pe(this,void 0,void 0,(function*(){Le.log("start","starting client"),Le.log("start","connecting to server");const n=yield this.getRelayServer(),r=Ne.create({baseUrl:`https://${n.server}`,storage:this.storage});if(this.initialListener=t=>Pe(this,void 0,void 0,(function*(){this.initialEvent&&this.initialEvent.timestamp&&t&&t.timestamp?this.initialEvent.timestamp<t.timestamp&&(this.initialEvent=t):this.initialEvent=t})),r.subscribe(Ae.MESSAGE,this.initialListener),r.subscribe(Ae.INVITE,(t=>Pe(this,void 0,void 0,(function*(){let e;1===t.content.members.length&&(e=t.content.members[0]),yield this.tryJoinRooms(t.content.roomId),e&&(yield this.updateRelayServer(e),yield this.updatePeerRoom(e,t.content.roomId))})))),!n.timestamp)throw new Error("No timestamp received from relay server");const i=Math.floor(n.timestamp),o=`login:${Math.floor(i/300)}`;Le.log("start",`login ${o}, ${yield this.getPublicKeyHash()} on ${n.server}`);const s=(0,N.hash)((0,O.cv)(o),32),a=null!==(t=this.keyPair.secretKey)&&void 0!==t?t:this.keyPair.privateKey,l=(0,C.Xx)(a,s);try{yield r.start({id:yield this.getPublicKeyHash(),password:`ed:${U(l)}:${yield this.getPublicKey()}`,deviceId:U(this.keyPair.publicKey)})}catch(t){if(Le.error("start","Could not log in, retrying"),yield this.reset(),!this.selectedRegion)throw new Error("No region selected.");if(this.loginCounter<=(null!==(e=this.ENABLED_RELAY_SERVERS[this.selectedRegion])&&void 0!==e?e:[]).length)return this.loginCounter++,void this.start();throw Le.error("start","Tried to log in to every known beacon node, but no login was successful."),new Error("Could not connect to any beacon nodes. Try again later.")}Le.log("start","login successful, client is ready"),this.client.resolve(r)}))}stop(){return Pe(this,void 0,void 0,(function*(){Le.log("stop","stopping client"),this.client.isResolved()&&(yield(yield this.client.promise).stop().catch((t=>Le.error(t)))),yield this.reset()}))}reset(){return Pe(this,void 0,void 0,(function*(){Le.log("reset","resetting connection"),yield this.storage.delete($.MATRIX_PEER_ROOM_IDS).catch((t=>Le.log(t))),yield this.storage.delete($.MATRIX_PRESERVED_STATE).catch((t=>Le.log(t))),yield this.storage.delete($.MATRIX_SELECTED_NODE).catch((t=>Le.log(t))),this.relayServer=void 0,this.client=new T,this.initialEvent=void 0,this.initialListener=void 0}))}listenForEncryptedMessage(t,e){return Pe(this,void 0,void 0,(function*(){if(this.activeListeners.has(t))return;Le.log("listenForEncryptedMessage",`start listening for encrypted messages from publicKey ${t}`);const n=yield this.createCryptoBoxServer(t,this.keyPair),r=r=>Pe(this,void 0,void 0,(function*(){if(this.isTextMessage(r.content)&&(yield this.isSender(r,t))){let i;yield this.updateRelayServer(r.content.message.sender),yield this.updatePeerRoom(r.content.message.sender,r.content.roomId);try{i=Ce.from(r.content.message.content,"hex")}catch(t){}if(i&&i.length>=40)try{const r=yield H(i,n.receive);Le.log("listenForEncryptedMessage",`received a message from ${t}`,r),e(r)}catch(t){}}}));this.activeListeners.set(t,r),(yield this.client.promise).subscribe(Ae.MESSAGE,r);const i=this.initialEvent;i&&i.timestamp&&(new Date).getTime()-i.timestamp<3e5?(Le.log("listenForEncryptedMessage","Handling previous event"),yield r(i)):Le.log("listenForEncryptedMessage","No previous event found");const o=this.initialListener;o&&(yield this.client.promise).unsubscribe(Ae.MESSAGE,o),this.initialListener=void 0,this.initialEvent=void 0}))}unsubscribeFromEncryptedMessage(t){return Pe(this,void 0,void 0,(function*(){const e=this.activeListeners.get(t);e&&((yield this.client.promise).unsubscribe(Ae.MESSAGE,e),this.activeListeners.delete(t))}))}unsubscribeFromEncryptedMessages(){return Pe(this,void 0,void 0,(function*(){(yield this.client.promise).unsubscribeAll(Ae.MESSAGE),this.activeListeners.clear()}))}sendMessage(t,e){return Pe(this,void 0,void 0,(function*(){const n=yield this.createCryptoBoxClient(e.publicKey,this.keyPair),r=q(yield D(Ce.from(e.publicKey,"hex")),e.relayServer),i=yield this.getRelevantRoom(r);yield this.waitForJoin(i);const o=yield K(t,n.send);Le.log("sendMessage","sending encrypted message",e.publicKey,i,t),(yield this.client.promise).sendTextMessage(i,o).catch((t=>Pe(this,void 0,void 0,(function*(){if("M_FORBIDDEN"===t.errcode){Le.log("sendMessage","M_FORBIDDEN",i,t),yield this.deleteRoomIdFromRooms(i);const e=yield this.getRelevantRoom(r);Le.log("sendMessage","Old room deleted, new room created",e),(yield this.client.promise).sendTextMessage(e,o).catch((t=>Pe(this,void 0,void 0,(function*(){Le.log("sendMessage","inner error",e,t)}))))}else Le.log("sendMessage","unexpected error",t)}))))}))}updatePeerRoom(t,e){return Pe(this,void 0,void 0,(function*(){Le.log("updatePeerRoom",t,e);const n=t.split(":");if(n.length<2||!n[0].startsWith("@"))throw new Error("Invalid sender");const r=yield this.storage.get($.MATRIX_PEER_ROOM_IDS),i=r[t];i===e&&Le.debug("updatePeerRoom","rooms are the same, not updating"),Le.debug("updatePeerRoom","current room",i,"new room",e),i&&i[1]&&(Le.log("updatePeerRoom",`adding room "${i[1]}" to ignored array`),this.ignoredRooms.push(i[1])),r[t]=e,yield this.storage.set($.MATRIX_PEER_ROOM_IDS,r)}))}deleteRoomIdFromRooms(t){return Pe(this,void 0,void 0,(function*(){const e=yield this.storage.get($.MATRIX_PEER_ROOM_IDS),n=Object.entries(e).filter((e=>e[1]!==t)).reduce(((t,e)=>Object.assign(Object.assign({},t),{[e[0]]:e[1]})),{});yield this.storage.set($.MATRIX_PEER_ROOM_IDS,n),this.ignoredRooms.push(t)}))}listenForChannelOpening(t){return Pe(this,void 0,void 0,(function*(){Le.debug("listenForChannelOpening"),(yield this.client.promise).subscribe(Ae.MESSAGE,(e=>Pe(this,void 0,void 0,(function*(){if(this.isTextMessage(e.content)&&(yield this.isChannelOpenMessage(e.content))){Le.log("listenForChannelOpening","channel opening received, trying to decrypt",JSON.stringify(e)),yield this.updateRelayServer(e.content.message.sender),yield this.updatePeerRoom(e.content.message.sender,e.content.roomId);const n=e.content.message.content.split(":"),r=Ce.from(n[n.length-1],"hex");if(r.length>=40)try{const e=JSON.parse(yield W(r,this.keyPair.publicKey,this.keyPair.secretKey));Le.log("listenForChannelOpening","channel opening received and decrypted",JSON.stringify(e)),t(Object.assign(Object.assign({},e),{senderId:yield xt(e.publicKey)}))}catch(t){}}}))))}))}waitForJoin(t,e=0){return Pe(this,void 0,void 0,(function*(){const n=yield(yield this.client.promise).getRoomById(t);if(Le.log("waitForJoin",`Currently ${n.members.length} members, we need at least 2`),!(n.members.length>=2||0===n.members.length)){if(e<=200)return Le.log(`Waiting for join... Try: ${e}`),new Promise((n=>{setTimeout((()=>Pe(this,void 0,void 0,(function*(){n(this.waitForJoin(t,e+1))}))),100*(e>50?10:1))}));throw new Error(`No one joined after ${e} tries.`)}}))}sendPairingResponse(t){return Pe(this,void 0,void 0,(function*(){Le.log("sendPairingResponse");const e=q(yield D(Ce.from(t.publicKey,"hex")),t.relayServer),n=yield(yield this.client.promise).createTrustedPrivateRoom(e);Le.debug("sendPairingResponse",`Connecting to room "${n}"`),yield this.updatePeerRoom(e,n),yield this.waitForJoin(n),Le.debug("sendPairingResponse","Successfully joined room.");const r=void 0===t.version?yield this.getPublicKey():JSON.stringify(yield this.getPairingResponseInfo(t));Le.debug("sendPairingResponse","Sending pairing response",r);const i=yield this.encryptMessageAsymmetric(t.publicKey,r),o=["@channel-open",e,i].join(":");(yield this.client.promise).sendTextMessage(n,o).catch((t=>Pe(this,void 0,void 0,(function*(){if("M_FORBIDDEN"===t.errcode){Le.log("sendPairingResponse","M_FORBIDDEN",n,t),yield this.deleteRoomIdFromRooms(n);const r=yield this.getRelevantRoom(e);Le.log("sendPairingResponse","Old room deleted, new room created",r),(yield this.client.promise).sendTextMessage(r,o).catch((t=>Pe(this,void 0,void 0,(function*(){Le.log("sendPairingResponse","inner error",r,t)}))))}else Le.log("sendPairingResponse","unexpected error",t)}))))}))}isTextMessage(t){return t.message.type===ae.TEXT}updateRelayServer(t){return Pe(this,void 0,void 0,(function*(){Le.log("updateRelayServer",t);const e=t.split(":");if(e.length<2||!e[0].startsWith("@"))throw new Error("Invalid sender");const n=e.shift(),r=e.join(":"),i=localStorage.getItem("beacon:communication-peers-dapp")?new Zt(this.storage,$.TRANSPORT_P2P_PEERS_DAPP):new Zt(this.storage,$.TRANSPORT_P2P_PEERS_WALLET),o=(yield i.getPeers()).map((t=>Pe(this,void 0,void 0,(function*(){`@${yield D(Ce.from(t.publicKey,"hex"))}`===n&&t.relayServer!==r&&(t.relayServer=r,yield i.addPeer(t))}))));yield Promise.all(o)}))}isChannelOpenMessage(t){return Pe(this,void 0,void 0,(function*(){return t.message.content.startsWith(`@channel-open:@${yield D(Ce.from(yield this.getPublicKey(),"hex"))}`)}))}isSender(t,e){return Pe(this,void 0,void 0,(function*(){return t.content.message.sender.startsWith(`@${yield D(Ce.from(e,"hex"))}`)}))}getRelevantRoom(t){return Pe(this,void 0,void 0,(function*(){const e=yield this.storage.get($.MATRIX_PEER_ROOM_IDS);let n=e[t];if(!n){Le.log("getRelevantRoom",`No room found for peer ${t}, checking joined ones.`);const r=yield this.getRelevantJoinedRoom(t);n=r.id,e[t]=r.id,yield this.storage.set($.MATRIX_PEER_ROOM_IDS,e)}return Le.log("getRelevantRoom",`Using room ${n}`),n}))}getRelevantJoinedRoom(t){return Pe(this,void 0,void 0,(function*(){const e=yield(yield this.client.promise).joinedRooms;Le.log("checking joined rooms",e,t);const n=e.filter((t=>!this.ignoredRooms.some((e=>t.id===e)))).filter((e=>e.members.some((e=>e===t))));let r;if(0===n.length||this.ignoredRooms.length>0){Le.log("getRelevantJoinedRoom","no relevant rooms found, creating new one");const e=yield(yield this.client.promise).createTrustedPrivateRoom(t);r=yield(yield this.client.promise).getRoomById(e),Le.log("getRelevantJoinedRoom",`waiting for other party to join room: ${r.id}`),yield this.waitForJoin(e),Le.log("getRelevantJoinedRoom",`new room created and peer invited: ${r.id}`)}else r=n[0],Le.log("getRelevantJoinedRoom",`channel already open, reusing room ${r.id}`);return r}))}}var Ue=function(t,e,n,r){return new(n||(n=Promise))((function(i,o){function s(t){try{l(r.next(t))}catch(t){o(t)}}function a(t){try{l(r.throw(t))}catch(t){o(t)}}function l(t){var e;t.done?i(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(s,a)}l((r=r.apply(t,e||[])).next())}))};const De=new St("P2PTransport");class je extends Wt{constructor(t,e,n,r,i,o,s){super(t,new Me(t,e,1,n,r,o,s),new Zt(n,i)),this.type=Z.P2P}static isAvailable(){return Ue(this,void 0,void 0,(function*(){return Promise.resolve(!0)}))}connect(){const t=Object.create(null,{connect:{get:()=>super.connect}});return Ue(this,void 0,void 0,(function*(){if(this._isConnected!==J.NOT_CONNECTED)return;De.log("connect"),this._isConnected=J.CONNECTING,yield this.client.start();const e=yield this.getPeers();if(e.length>0){De.log("connect",`connecting to ${e.length} peers`);const t=e.map((t=>Ue(this,void 0,void 0,(function*(){return this.listen(t.publicKey)}))));Promise.all(t).catch((t=>De.error("connect",t)))}return yield this.startOpenChannelListener(),t.connect.call(this)}))}disconnect(){const t=Object.create(null,{disconnect:{get:()=>super.disconnect}});return Ue(this,void 0,void 0,(function*(){return yield this.client.stop(),t.disconnect.call(this)}))}startOpenChannelListener(){return Ue(this,void 0,void 0,(function*(){}))}getPairingRequestInfo(){return Ue(this,void 0,void 0,(function*(){return this.client.getPairingRequestInfo()}))}listen(t){return Ue(this,void 0,void 0,(function*(){yield this.client.listenForEncryptedMessage(t,(e=>{const n={origin:Q.P2P,id:t};this.notifyListeners(e,n).catch((t=>{throw t}))})).catch((t=>{throw t}))}))}}var Ke=n(8764).Buffer,He=function(t,e,n,r){return new(n||(n=Promise))((function(i,o){function s(t){try{l(r.next(t))}catch(t){o(t)}}function a(t){try{l(r.throw(t))}catch(t){o(t)}}function l(t){var e;t.done?i(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(s,a)}l((r=r.apply(t,e||[])).next())}))};class We extends oe{constructor(){super(...arguments),this.activeListeners=new Map}init(){return He(this,void 0,void 0,(function*(){this.subscribeToMessages().catch(console.error)}))}listenForEncryptedMessage(t,e){return He(this,void 0,void 0,(function*(){this.activeListeners.has(t)||this.activeListeners.set(t,((n,r)=>He(this,void 0,void 0,(function*(){try{const i=yield this.decryptMessage(t,n.encryptedPayload);e(i,r)}catch(t){}}))))}))}sendMessage(t,e){return He(this,void 0,void 0,(function*(){const n=yield this.encryptMessage(e.publicKey,t),r=null==e?void 0:e.extensionId,i={target:X.EXTENSION,encryptedPayload:n,targetId:r};ft.postMessage(i,ft.location.origin)}))}listenForChannelOpening(t){return He(this,void 0,void 0,(function*(){ft.addEventListener("message",(e=>He(this,void 0,void 0,(function*(){var n,r;if(e.source!==ft||e.origin!==ft.location.origin)return;const i=null===(n=null==e?void 0:e.data)||void 0===n?void 0:n.message;if(i&&i.target===X.PAGE&&(yield this.isChannelOpenMessage(i))){const n=Ke.from(i.payload,"hex");if(n.length>=40)try{const i=JSON.parse(yield W(n,this.keyPair.publicKey,this.keyPair.secretKey));t(Object.assign(Object.assign({},i),{senderId:yield xt(i.publicKey),extensionId:null===(r=null==e?void 0:e.data)||void 0===r?void 0:r.sender.id}))}catch(t){}}}))))}))}sendPairingRequest(t){return He(this,void 0,void 0,(function*(){const e={target:X.EXTENSION,payload:yield(new Vt).serialize(yield this.getPairingRequestInfo()),targetId:t};ft.postMessage(e,ft.location.origin)}))}isChannelOpenMessage(t){return He(this,void 0,void 0,(function*(){return"object"==typeof t&&t.hasOwnProperty("payload")}))}subscribeToMessages(){return He(this,void 0,void 0,(function*(){ft.addEventListener("message",(t=>{if(t.source===ft&&t.origin===ft.location.origin&&"object"==typeof t&&t){const e=t.data;e.message&&e.message.target===X.PAGE&&this.activeListeners.forEach((t=>{t(e.message,{origin:Q.EXTENSION,id:e.sender.id||""})}))}}))}))}}var qe=function(t,e,n,r){return new(n||(n=Promise))((function(i,o){function s(t){try{l(r.next(t))}catch(t){o(t)}}function a(t){try{l(r.throw(t))}catch(t){o(t)}}function l(t){var e;t.done?i(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(s,a)}l((r=r.apply(t,e||[])).next())}))};const Fe=new St("PostMessageTransport");let Ge,ze,Ve=!1;class Qe extends Wt{constructor(t,e,n,r){super(t,new We(t,e),new Zt(n,r)),this.type=Z.POST_MESSAGE}static isAvailable(){return qe(this,void 0,void 0,(function*(){return new Promise((t=>{const e=n=>{const r=n.data;r&&"pong"===r.payload&&(t(!0),ft.removeEventListener("message",e))};ft.addEventListener("message",e);const n={target:X.EXTENSION,payload:"ping"};ft.postMessage(n,ft.location.origin)}))}))}static getAvailableExtensions(){return qe(this,void 0,void 0,(function*(){return Ge||ze||(ze=[],Ge=new Promise((t=>{Qe.listenForExtensions(),setTimeout((()=>{t(null!=ze?ze:[])}),1e3)})).finally((()=>{Ge=void 0})),Ge)}))}static listenForExtensions(){if(Ve)return;ft.addEventListener("message",(t=>{if(t.source!==ft||t.origin!==ft.location.origin)return;const e=t.data,n=e.sender;var r;e&&"pong"===e.payload&&n&&(Fe.log("getAvailableExtensions",`extension "${n.name}" is available`,n),r=n,ze||(ze=[]),ze.some((t=>t.id===r.id))||(ze.push(r),ft.postMessage("extensionsUpdated",ft.location.origin)))}));const t={target:X.EXTENSION,payload:"ping"};ft.postMessage(t,ft.location.origin),Ve=!0}connect(){const t=Object.create(null,{connect:{get:()=>super.connect}});return qe(this,void 0,void 0,(function*(){if(Fe.log("connect"),this._isConnected!==J.NOT_CONNECTED)return;this._isConnected=J.CONNECTING;const e=yield this.getPeers();if(e.length>0){Fe.log("connect",`connecting to ${e.length} peers`);const t=e.map((t=>qe(this,void 0,void 0,(function*(){return this.listen(t.publicKey)}))));Promise.all(t).catch((t=>Fe.error("connect",t)))}yield this.startOpenChannelListener(),yield t.connect.call(this)}))}startOpenChannelListener(){return qe(this,void 0,void 0,(function*(){}))}getPairingRequestInfo(){return qe(this,void 0,void 0,(function*(){return this.client.getPairingRequestInfo()}))}listen(t){return qe(this,void 0,void 0,(function*(){Fe.log("listen",t),yield this.client.listenForEncryptedMessage(t,((t,e)=>{const n={origin:Q.EXTENSION,id:e.id};this.notifyListeners(t,n).catch((t=>{throw t}))})).catch((t=>{throw t}))}))}}const Xe=":host {\n  --animation-duration: 300ms;\n  all: initial;\n}\n\n@keyframes fadeIn {\n  from {\n    opacity: 0;\n  }\n  to {\n    opacity: 1;\n  }\n}\n\n@keyframes fadeOut {\n  from {\n    opacity: 1;\n  }\n  to {\n    opacity: 0;\n  }\n}\n\n.animated {\n  animation-duration: var(--animation-duration);\n  animation-fill-mode: both;\n}\n\n.fadeIn {\n  animation-name: fadeIn;\n}\n\n.fadeOut {\n  animation-name: fadeOut;\n}\n\n.beacon-modal__wrapper {\n  position: relative;\n  top: 0;\n  display: inline-block;\n  z-index: 2147483000;\n  max-width: 500px;\n  width: 80%;\n  padding: 24px;\n}\n\n.theme__light .beacon-modal__base,\n.theme__light .beacon-modal__close__wrapper {\n  background: #fff;\n}\n\n.theme__dark .beacon-modal__base,\n.theme__dark .beacon-modal__close__wrapper {\n  background: #27334c;\n}\n\n.beacon-modal__base,\n.beacon-modal__close__wrapper {\n  box-shadow: 0 12px 24px 0 rgba(0, 0, 0, 0.1);\n}\n\n.beacon-modal__base {\n  margin: 0 auto;\n  border-radius: 32px;\n  overflow: hidden;\n}\n\n.beacon-modal__header {\n  padding: 16px 0;\n  width: 100%;\n  display: flex;\n  flex-direction: row;\n  justify-content: space-between;\n  align-items: center;\n}\n\n.beacon-modal__headerLogo {\n  width: 100%;\n  max-width: 320px;\n  margin: 20px auto;\n  height: 100%;\n}\n\na,\nbutton {\n  cursor: pointer;\n}\n\n.beacon-modal__close__wrapper {\n  position: absolute;\n  top: 44px;\n  right: 24px;\n  z-index: 10000;\n  cursor: pointer;\n  border-radius: 100%;\n}\n\n.beacon-modal__close__icon {\n  width: 16px;\n  height: 16px;\n  position: relative;\n  top: 0;\n  right: 0;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  transform: rotate(45deg);\n  margin: 8px;\n}\n\n.beacon-modal__close__line1 {\n  position: absolute;\n  width: 90%;\n}\n\n.beacon-modal__close__line2 {\n  position: absolute;\n  width: 90%;\n  transform: rotate(90deg);\n}\n\n.theme__light .beacon-modal__close__line2,\n.theme__light .beacon-modal__close__line1 {\n  border: 1px solid #000;\n}\n\n.theme__dark .beacon-modal__close__line2,\n.theme__dark .beacon-modal__close__line1 {\n  border: 1px solid #fff;\n}\n\n.beacon-alert__base {\n  position: fixed;\n  overflow-y: scroll;\n  top: 0;\n  left: 0;\n  width: 100%;\n  height: 100%;\n  z-index: 2147482999;\n  background-color: rgb(17 17 17 / 0.84);\n  text-align: center;\n  -ms-overflow-style: none;\n  scrollbar-width: none;\n  font-family: Roboto, Helvetica, sans-serif;\n}\n\n.beacon-alert__base::-webkit-scrollbar {\n  display: none;\n}\n\n.beacon-alert__title {\n  text-align: center;\n}\n\n.beacon-alert__text,\n.beacon-alert__title {\n  margin: 0 auto;\n  padding: 0 0 24px;\n}\n\n.margin__bottom {\n  margin-bottom: 16px;\n}\n\n.beacon-alert__title {\n  font-size: 18px;\n}\n\n.theme__light .beacon-alert__title {\n  color: #3b3d40;\n}\n\n.theme__dark .beacon-alert__title,\n.theme__dark .beacon-alert__text {\n  color: #7c99d6;\n}\n\n.beacon-alert__text {\n  color: #000;\n  font-size: 14px;\n}\n\n.beacon-modal__button,\n.beacon-modal__button--outline {\n  height: 36px;\n  font-size: 14px;\n  letter-spacing: 0.84px;\n  margin-bottom: 4px;\n  margin-inline-end: 2px;\n  margin-inline-start: 2px;\n  margin-left: 2px;\n  margin-right: 2px;\n  margin-top: 4px;\n  padding-inline-end: 15.4px;\n  padding-inline-start: 15.4px;\n  padding-left: 15.4px;\n  padding-right: 15.4px;\n  overflow-wrap: break-word;\n  pointer-events: auto;\n  text-align: center;\n  border-radius: 4px;\n  border: 2px solid #3880ff;\n}\n\n.beacon-modal__button {\n  background: #3880ff;\n  color: #fff;\n}\n\n.beacon-modal__button--outline {\n  background: #fff;\n  color: #444444;\n  border: 1px solid #444444;\n}\n\n.beacon-alert__image {\n  width: 200px;\n  height: 200px;\n  box-sizing: border-box;\n  box-shadow: 0 10px 20px 0 rgba(17, 17, 17, 0.12);\n  border: 1px solid rgba(17, 17, 17, 0.04);\n  border-radius: 16px;\n}\n.connect__btn {\n  margin: 24px 0;\n  width: 100%;\n}\n\n#beacon-modal__content {\n  padding: 24px;\n}\n\n#beacon-switch {\n  margin-top: 24px;\n}\n\n#beacon-title {\n  margin: 0 0 24px;\n}\n\na {\n  text-decoration: none;\n}\n\npre {\n  white-space: pre-wrap; /* css-3 */\n  white-space: -moz-pre-wrap; /* Mozilla, since 1999 */\n  white-space: -pre-wrap; /* Opera 4-6 */\n  white-space: -o-pre-wrap; /* Opera 7 */\n  word-wrap: break-word; /* Internet Explorer 5.5+ */\n  padding: 16px;\n  background: #ececec;\n  line-height: 1.25rem;\n}\n",Ye="#beacon-main-text {\n  display: initial;\n}\n.beacon-selection__container {\n  padding: 16px 16px 0;\n}\n.beacon-selection__list {\n  display: flex;\n  flex-direction: row;\n  justify-content: space-between;\n  text-decoration: none;\n  padding-bottom: 12px;\n  align-items: center;\n}\n.beacon-list__title {\n  text-align: left;\n  font-size: 12px;\n}\n.beacon-list__wrapper:nth-child(-n + 3) {\n  padding: 0 0 1rem;\n}\n.theme__light .beacon-list__title {\n  color: #7c828b;\n}\n.theme__dark .beacon-list__title,\n.theme__dark #beacon--disclaimer {\n  color: #7c99d6;\n}\n\n.beacon-selection__name {\n  font-size: 1rem;\n  font-weight: 600;\n  text-align: left;\n}\n.theme__light .beacon-selection__name,\n.theme__light .beacon--selection__name__lg {\n  color: #3b3d40;\n}\n.theme__dark .beacon-selection__name,\n.theme__dark .beacon--selection__name__lg {\n  color: #6183ff;\n}\n.beacon-selection__img {\n  width: 48px;\n  height: 48px;\n  box-shadow: 0 4px 12px 0 rgba(17, 17, 17, 0.24);\n  border-radius: 16px;\n  background-color: #fff;\n}\n.beacon--selection__name__lg {\n  font-size: 1.5rem;\n  font-weight: 600;\n  text-align: center;\n  padding: 1rem 0;\n}\n.beacon--selected__container {\n  padding: 2rem 0 0;\n}\n#beacon--qr__copy__container {\n  height: 0;\n}\n#beacon--qr__copy {\n  display: none;\n  position: relative;\n  margin-top: auto;\n  margin-left: auto;\n  margin-right: auto;\n}\n#beacon--qr__container {\n  margin-left: auto;\n  margin-right: auto;\n}\n#beacon--qr__container:hover #beacon--qr__copy {\n  display: block;\n}\n\n.disabled p {\n  text-align: left;\n  margin: 0;\n  font-size: 10px;\n  font-weight: 300;\n  opacity: 0.48;\n}\n\n#beacon--disclaimer {\n  text-align: left;\n  padding-top: 24px;\n  font-size: 0.875rem;\n}\n.progress-line,\n.progress-line:before {\n  height: 3px;\n  width: -webkit-fill-available;\n  margin-left: -24px;\n  margin-right: -24px;\n}\n.progress-line {\n  background-color: #a7c4f7;\n  display: -webkit-flex;\n  display: flex;\n}\n.progress-line:before {\n  background-color: #3880ff;\n  content: '';\n  -webkit-animation: running-progress 2s cubic-bezier(0.4, 0, 0.2, 1) infinite;\n  animation: running-progress 2s cubic-bezier(0.4, 0, 0.2, 1) infinite;\n}\n@-webkit-keyframes running-progress {\n  0% {\n    margin-left: 0px;\n    margin-right: 100%;\n  }\n  50% {\n    margin-left: 25%;\n    margin-right: 0%;\n  }\n  100% {\n    margin-left: 100%;\n    margin-right: 0;\n  }\n}\n@keyframes running-progress {\n  0% {\n    margin-left: 0px;\n    margin-right: 100%;\n  }\n  50% {\n    margin-left: 25%;\n    margin-right: 0%;\n  }\n  100% {\n    margin-left: 100%;\n    margin-right: 0;\n  }\n}\n",Je=(t,e)=>e.test(t.navigator.userAgent),Ze=t=>((t,e)=>t.matchMedia("(any-pointer:coarse)").matches)(t),$e=t=>Je(t,/iPhone|iPod/i)||(t=>!!Je(t,/iPad/i)||!(!Je(t,/Macintosh/i)||!Ze(t)))(t),tn=t=>Je(t,/android|sink/i);var en=n(6192);const nn=new St("QR"),rn=(t,e)=>`${t}?type=tzip10&data=${e}`;var on=function(t,e,n,r){return new(n||(n=Promise))((function(i,o){function s(t){try{l(r.next(t))}catch(t){o(t)}}function a(t){try{l(r.throw(t))}catch(t){o(t)}}function l(t){var e;t.done?i(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(s,a)}l((r=r.apply(t,e||[])).next())}))};let sn=[{key:"infinity_wallet",name:"Infinity Wallet",shortName:"Infinity Wallet",color:"rgb(52, 147, 218)",logo:"data:image/png;base64,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",deepLink:"infinity://"},{key:"galleon_desktop",name:"Galleon",shortName:"Galleon",color:"",logo:"data:image/png;base64,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",deepLink:"galleon://"},{key:"umami_desktop",name:"Umami",shortName:"Umami",color:"",logo:"data:image/png;base64,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",deepLink:"umami://"},{key:"atomex_desktop",name:"Atomex Wallet",shortName:"Atomex",color:"",logo:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEAAAABACAYAAACqaXHeAAAE6UlEQVR4AeXBe0xVdQDA8e/53XNFQFJ5e0NAAUXeMQHJByo+cM6Z+WrO0h66uelEatl0U9egnDa1rczN1eq/Mg39I8WQphYOo4z54K0Cgl6eQy6IXO49J/2DZk3k4r0c2c7nI6mPoGMCnRPonEDnBDon0DmBzgl0TqBzAp0T6JxA5wQ6J9A5gc7JvCD1ZgslpWasNoXJE7yJjvDjRZDRWGt7NzsPnCfv4k1UlX/FTPJj//Z0osJ90ZJAQ5YuK6u35nLmwk1Ulf+4XtnMii0nuFHVgpYEGjr4zWWqatroT9eDXj7cV4CqohmBRux2lR/zyhnI9cpmSqub0YpAI+aWTjo6e3BE5e02tCLQiFEWOMpoNKAVgUb8fTwJCvRiIJIkkTAlAK0INPTeqgQGsmhWGEGBXmhFoKF1y+JYPCec/kSEepOTlYaWZDQkhMQXuxaSHGvi6LES6s0dPDbay40VGVPY9nYyXp4j0JKMhn46W46/jyfrl8exbnkcza0PsNnsBPiOwmCQeBEEGjl/uZb39xZQeKWexyTA38cDU4AXBoPEr0U1HPr2D7Qm0ECD2UJmdj7R4b5krk/iacpvtvL5d8XUmzvQkmCIWXvtbNqdh6KqfPXxItxGyDzN6wsikSSJY2fK0JJgiOUcLuRqRRMHd85n/LiX6E+gnydpycEcP1OOoqhoReBCPVY795o66bHa6GNXVLZvnEZ6aigDWb04ioZGC7/9eQetyLhA3d37fHLkEgWXarD22jHKgtkpIezYNJ3sbWk4Kj01FN+xHuT+UkFacjBakHFSxa1WVm3Npb3jIX16bQr5hbcpKmng+0PLiJnkhyOMsmDf9rnIBoFWBE5QVcj69BztHQ95GkuXlczsfBRFxVHpqaGkJQfTR1FUhpKME65VNHG9splnqapto/jaPVLiTTjC2mvnh59Lyc2vpLSqmZ5eOwE+nsxMGs+7KxOInOiDK8k4oaq2DUdU17aREm9iIHV377Nh52nKb7XypHvNnRw7XcaJsxVkvZPM5rVTcRUZJ3i4G3GEx0gjF4vrOHWukplTg5mVNB7vMe48qbW9mzcyT9LQaKE/drvC/qNFGIRg05pEXEHGCUmxJoyyoNem0B+DkEhJMHG1vImLxXc4nleOEBLxkf7MTglhydwIwoLHknO4kIZGC4747OsiFsyYQFjwWJxl2PMIz8nD3UhHl5UrN8z0Z+3SWJbOm0R4iDcbViUwf8ZETH6jqLvbwclzVZRVtzBnWggf7C1AUVUcoSgqSBJzpoXgLBknfbQxlbb2bk6cLef/lsyNYNfmGfSRJImYCD9iIvzY/OZU7lt6UBSVS3/XY7MrDEbhX/W4goyTZFlwYMc8Vi+O4vSFaszNXfj7eJAxK4zpiUE8y2gvNx5rbOlisBpbOnEFGRdJiTeREm/ieXi4GxksT3cjriAYBmIn+zNYsZP9cQXBMBAV7suUMF8GY3lGJK4gGAYkYPeWmQgh4YhXE4PImDkRVxAME6mvvExO1mwMBolniY7w48s9C5EkCVeQGUbWLIkmIsSb7MO/U1LWyJM8PYy89VosW9cl4z5SxlVkhpmkuHGcOrKSmvp2blS10N1jY5z/KBKjA3F3k3E1mWEqNGgMoUFjGGoCnRPonEDnBDon0DmBzgl0TqBzAp0T6JxA5wQ6J9A5gc79A200jdqC2KUJAAAAAElFTkSuQmCC",deepLink:"atomex://"}],an=[{key:"spire_chrome",id:"gpfndedineagiepkpinficbcbbgjoenn",name:"Spire",shortName:"Spire",color:"",logo:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEAAAABACAYAAACqaXHeAAAIIElEQVR4Ae3Ba5BeZWEA4Oc9u9kkJGHZkIQkLhQziQmVBpJwOTDg7saKEIQwnYq2/WWnUjuxHTOOgbYq77ZqSVGrtZliae2P/gE74zQIodoZEmwrR6pQlTYJ0DWNuWAChBBIyN7exsGZL2e/3Xy3Xf3RPI+zzvr/LfgFyGMKCMPHX/JT7eec75RUxJD8nAVTKI/JKe1YjquxEsuwCHOPH/phm9ER5yy8fAQv4yCeww/wHezGcBGDqRJMgTymaejD+3AjFhvHC09+SRodtijfaAIH8CgexI4ihiGTLJhEeUzn4Q58CG9Vw7MP/po0OmL5b2xVhx/hPny5iOGoSRJMgjymmfgwNmGeOowOnfD0F5eQRq36yIBs2ix1OoR7saWI4YQWBS3IYwrowxasMLGEo3gK/4UfDXz9d+ce+t79HydZsPp3PrPk1vtfxBK8HatxLoKJ7cQGbC9i0KygSXlM0/EpbESbagl78QAewneLGAZVbMTnvWkT7vUzeUwduBK34b24CEG1YXwOdxcxnNSEoAl5TAvwAPpUS3gS9+CRIoYh43sYN3vTNtxsHHlMHViHu3AVgmqP4f1FDIc1KGhQHtMSPIIVqu3GXXioiGHUxGZhAAu86UUswTETyGPKsB6bsUy1nXhPEcOABgQNyGNagn/BEmXD+BI+WcTwmtquxJPKrsUTashjmo0/we+jXdkA3lXEMKBOQZ3ymBbgcaxQdgQfKGLYqn6bsFnZH+HP1CmP6TZ8BV3KdqKniOGwOrSpQx7TdGzFFcr24sYihsc15hNYqmwU/6BO+3b07+rujd/EOnSqmI813b3xwX07+kfUkKkhjyngU+hVthfvLmL4vsbMwRrVrkCnBhQxPI0b8GNla9Gfx6SWTG192KjsCG4tYtilcZdinmpdWKlBRQy7sB5HlH0UfWrInEEe00xsQZuKYXygiOH7mvOrJtarCUUMT+O3MayiHVvymGY6g8yZfRgrlP1lEcNWzesxsT5NKmL4J2xRdgk2OIPMBPKYunCnst24W/POxWoTW43zNO8TeF7Zx/KYOk0gM7EP4nwVCXcVMbymeavQZWKdWKVJRQzHsAlJxQLcYQKZceQxTcPvKfs2HtKatWrr1ZqteFLZh/KY2o0jM761uFhFwr1FDKNa06O2Pi0oYhjFPUgqlqDXODJj5DE55XZl/4ttWtOFy9V2OeZqzTbsVXa7cWSqteNGZQ8UMQxpzRXoVNscrNGCIoZB/KOydXlMbcbIVFuOxSoSvq51PerXo3VbkVS8BcuNkal2jbKj+K7WBPSq31oErfkPvKrsamNkql2q7HtFDINaMxeXqd9KnK8FRQwn8bSylcbIVFum7L+17irMVr9ZuFLrnlG21BiZ0+QxBSxWNqB1PRrXq3V7lC3OYwpOkykL6FJ2WGsCejVuLYLWHFI2F8FpMtVmKntda+Zjpca9HfO1ZlBZZozM1LsaMzVuJq42xTLVTiibpTU9mterNR3KRo2RKUs4omy+5mVYq3l9yDRvgbKXkZwmc5oihoQDypZo3gW4RPMuwQWad7GyA0UMyWky1Z5T9sual2OG5s1ArnmXKnveGJlqzyhbk8fUoTl9WterCXlM07FK2Q+Mkan2hLJOXKFxbejVuj60adyVOFfZd4yRqbYbB1QE3KJxC7Fc65ZjocatR1CxH7uNkak2jH9W9v48pmkacy06tK4D12pAHlMH3qtsWxHDiDEyYxQxOOWryn4J6zTmnSZPn8bcjIuUfdU4MuN7DHtUBHwsjylTnzZcb/L0oE0d8pgy3ImgYgA7jCMzjiKGIfy1smtxq/osxttMnrdhsfqsx1XK7itiGDaOzMTux0sqAu7JY5qttneg3eRpx3VqyGOagz9HUHEIf2MCmQkUMRzBZmXL0a+2PpNvrdr+FEuV3VvEcNQEMmf2V9il7A/ymNabWDuuM/muR7sJ5DHdhg3KdmKLM8icQRHDCWzAiIp2/H0e02XGdyGWmnxL0W0ceUyr8BW0qxjGhiKGE84gU9t2/IWyLjyUx7RCtR60mXxtuM4YeUwrsBVdyj6H7WrI1FDEkPBxbFd2Eb6Rx3SZsl5T551Ok8e0Ct/Ehcoew91FDGppU4d9O/pHunvjo7gF81R04n3dvXH3vh39uzANmzHX1JiN+zCax3QbvoYLlO3Ee4oYXlWHNnXat6P/9e7e+ChuQZeKmfj17t7YdeTZh38ydOzgnQimxnmzFq/52pqPHrgTn8UsZQO4qYhhvzq1acC+Hf1Hunvjw3g35qnIcI00+puvPPvIDFMnXNjX/1uzFq3pQaZsJ24qYhjQgEyDihgG0IPtxji299/mmGKv7nl8jmqPoaeIYUCDMk0oYjiEm/BZjDgljQw6tvffTbVjP/62NDLoZ4axGeuKGA5rQqZJRQwnsQk3YNcbL/+Pk6/sMdVOvrLHyVf2OGUnbsBdRQwnNSmYBHlMM/d/69Mb9//rZzaNDh3vNIWy9hlHu3s+uXnx9X/4hSKGE1oUTKKLb/ri/ENP/d2GwVf33zF84qVFJlH7jK4XOjq7vyylLccPPXPYJAmmwII1H+x44+Xn140Onbj9jRd33zj8xpEuTWibcd6R6Z0XfaN9ZteDM+Yu23boqb8dNMmCKfSWd/yx0eGT04ZeO3j56wefytPwyV8ZOv7israO2RekkcFFieCUQAptHQdHBl/7ybRz5j0X2qf/cNai1cW02Qv/M2ufMbT/W582VYJfgEXXfCQMHXshS2nET4XQZtqchaMHn/hCctZZZ/08/R8wPGmSSU1PIgAAAABJRU5ErkJggg==",link:"https://spirewallet.com/"},{key:"temple_chrome",id:"ookjlbkiijinhpmnjffcofjonbfbgaoc",name:"Temple Wallet",shortName:"Temple",color:"",logo:"data:image/png;base64,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",link:"https://templewallet.com/"}],ln=[{key:"kukai_web",name:"Kukai Wallet",shortName:"Kukai",color:"",logo:"data:image/png;base64,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",links:{mainnet:"https://wallet.kukai.app",ghostnet:"https://ghostnet.kukai.app",mondaynet:"https://dailynet.kukai.app",delphinet:"https://testnet.kukai.app",edonet:"https://edonet.kukai.app",florencenet:"https://florencenet.kukai.app",granadanet:"https://granadanet.kukai.app",hangzhounet:"https://hangzhounet.kukai.app",ithacanet:"https://ithacanet.kukai.app",jakartanet:"https://jakartanet.kukai.app",kathmandunet:"https://kathmandunet.kukai.app",limanet:"https://limanet.kukai.app",mumbainet:"https://mumbainet.kukai.app"}}],cn=[{key:"airgap_ios",name:"AirGap Wallet",shortName:"AirGap",color:"rgb(4, 235, 204)",logo:"data:image/png;base64,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",universalLink:"https://wallet.airgap.it",deepLink:"airgap-wallet://"},{key:"naan_ios",name:"naan - your portal to web3 ",shortName:"naan",color:"",logo:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEAAAABACAYAAACqaXHeAAACDklEQVR4Ae3BMWgTcRTA4d97/aNBI2SpOKmbgjrUBNvBQbsJOggd2sG14NCILg52sEPr3ExZnVwLTgUJggq2TUAwiJNkkapEdAjUoeR5NuAtSe3JUXt5fp9YsWSkZ0Ea9YdErFjaAnIMdlsa9erixOeCmH7j37ilOKc4pzinOKc4pzinOBfY3QdgnZ7rQJ4ho+yuJo36jDTqM8AnhpDinOKc4pzinOJcIHs6XewmAyhcA7nHHgWyZ3t+7fgzBlga/3KaBALZM/Jool0i0sU2H7we/Uhkabx9UQQ1654igUD2HDOzDXbYIjDPDntlRg6EJBTnFOcC6TpnxdI0PSNkQCBdU8AUGaI4pzinOKc4pzinOKc4F4A5BnvHb7YAUiA9L/nF2ALm+BsidWJ3gUAissF/zolRfgycZP+tCJVlIlbLV4EzpGNdJjv3iVjtaAXkAoOtBuAScJb91yRWBEqk4wexMeAyg7UU5xTnFOcU5xTnFOcCB9820KanAORIUeDga8pkZ4yI1fJPgGlSpDinOKc4pzinOBdITKpgX+lLRsFmyZBAcstC5T19GHfOA7NkiOJcIDFrGOUu8Fyo3CBilJ8CV8CUjAkkd4SeHLEckCeDFOcCw+ew1fIn6DnEHwSGz1Vgkz1SnFOcU5xTnFOcU5xTnAvAKtAkubfEXgDfSUTeEKsBLfprEVsDAump/wQutXPS0gaA0QAAAABJRU5ErkJggg==",universalLink:"https://www.naan.app/",deepLink:"naan://"},{key:"altme_wallet",name:"Altme Wallet",shortName:"Altme",color:"",logo:"data:image/png;base64,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",universalLink:"https://app.altme.io/app/download"},{key:"autonomy-app",name:"Autonomy: Digital Art Wallet",shortName:"Autonomy",color:"",logo:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEAAAABACAYAAACqaXHeAAADS0lEQVR4AeXBXWiVZQAA4Gcvh+lYP4xGBBsc7Wal2UyWQ9gWSAYzhSgcgtBUSCwKMfulS2+iG7vJlUGJSzHBqwSLZhAYKgmZNac3tQNbizpTapPJYTun6zGDL/e+dPE9T53aYE2OBTkX5FyQc0HOBTkX5FyQc0HOBTlXkMLpy5TKoireR2+72ApSODjEqR9EtekxetvFFuRckHNBzgU5F6QwUxHdTEUKQWyzc1wqie5Sidk5sQWxHTvH5LToJqc5fl5sQUzXJth3TDJ7j3JtQkxBDLNzfPYdXfspT0mmPEXXfo6cZXZODAVZnf6Rg2csMFPhUonJabfV3caWtRSbCUEm1SqlMie/59ur5ilP0f8Rrx5ldZGGegu89CS9j8qiIKvSJKd+kFlDPYd30dfpjr3yFCcusP0QMxXzTE5zZthtPb1aVkEqh3fR12nR+jo5vEsqQQpPPERfp2j6Ouluk0KQwnOPi27LWikEKRSbRVdslkKQwo2bortxUwpBCmeGRTc0LIUghc8vcHVCNCO/ceKCFIIUKrM8c4Cx6xZt7DrPvk9lVgoFqVyboP0d3tzElrUUmwl1MqnWGP2Tkxd59wuuT0ulTm2wZjFmKlz8lQ+GOHGemvT6Onl5Ax3Laai3GAWL1VBPdxvdbfS2s/MQ1ZokQh2fvEB/t1iCmPq72LdRMq9tpL9bTEFsb29mSUF0Swq8tVlsQWxNjaxZJro1y2hqFFuQQlOj6JoapRCkMFoW3WhZCkFsV8YZGRfdyDjDY2ILYqpW2TNITXw17D1KtSqmIJapW2wbYGhYMl//zLYPmb4lloKsSmV+GrPATIWLv3DkLL//ZYE6PNzCsmZCkEm1ymiZkXFq5jt+jm+G2d5Dx3Ia6i2wqpVisywKsjp9mRc/9Z9seIQD21jZ6o5cGWfPIEPD5vnjb9475V8N7GD3elkEqWxdx5evs7LVHVvRwldvsHWdVIIU7r+Hj3cSgkULgUM7eeBeKQQpbO/hrqWiuXspz3dJIUihY7noOh6UQpBCQ73oGuqlEORckHNBzgU5V5BVTxsDO2SyqlV0q1oZ2CGTnjZZFWS1ooUVLf43xWZ2rxdbkHNBzgU5F+RckHNBzgU5F+RckHP/AKis3ntPQOcLAAAAAElFTkSuQmCC",universalLink:"https://autonomy.io/apps/tezos",deepLink:"autonomy-tezos://"},{key:"temple_ios",name:"Temple Wallet",shortName:"Temple",color:"",logo:"data:image/png;base64,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",universalLink:"https://templewallet.com",deepLink:"temple://"},{key:"atomex_ios",name:"Atomex Wallet",shortName:"Atomex",color:"",logo:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEAAAABACAYAAACqaXHeAAAFIUlEQVR4AeXBfWyMdwDA8e/ze55r6dbW6Ol71cvKVekQZmyGMVtWzMu6YoRI9oeXTWJsppMzr40lnXbxNjYEwZiXKVWtlqMlq5eWVus1nWp7Srz2mHP3LP1DIovq1Z1Hk+fzkQwBJhUdE+icQOcEOifQOYHOCXROoHMCnRPonEDnBDon0DmBzgl0TuEVaRUeSo9unfEyGCgquUDBmXOoaE9BY8YWzUldModhcQORJIknThUW8+XXiRScLUFLsuxjNKMRfz9fstM20KdXdyRJ4mnBgUZGjYxjf5YF6/UbaEWgoTkzJ2OKaktdfF9/jVVL5yNJEloRaESWZcYmDKM+XTpHExvTAa0INBIaHEgzf19cEd2hHVoRaOSR3Y6rHj2yoxWBRqqs1ZRdvUZ9VFXl75OFaEWgoaXL11GfHXsOUHa1Aq0INLRszSa27UqnLufOX2LKjLloSZZ9jGY0oqoqO/Yc4Oat25ii2tDM349at+/cZdW6LYyf9C23bt9FS5IhwKSikTHxQ6iyVpN1KA9JkghsGYDBoFBReR2Hw8GrINDIoA/eY03qQvr36UktVVWpslZztbwSh8PBxwPfJ3HGJLQm0EBEeAhrlyVRcKaEeUuW8SydoqNI/GYSkRGhaEnwknl7e7F5TTJCSCRMnMbDh//yLBu37sapqowbNQwtCV6yxeYZdI2NYcLkWVwpK6cu1yqtZBw8wriEYQgh0IrAg7y9vQgLCaJJE2+eUGSZHxYkszcjh/qs3bidiLBgBrzfC60oeECbyHAWzplO3KB+eHkZsNsfk551mFlzf2LqzB9xVVrGIazVNxkdP5iM7CNoQZZ9jGbc0NH0Jof3bqJrbEdkWaaWLAvat2vNmPghZObkUmWtxhVOp5PSC1coOFvCpSv/oAWBGyRJ4rdfFtH8DX+exd/Pl7XLk5CFwFV7M3LIOHiEJ4QQvEwKbuga25EunaN5HlNUW3q93RVLXj6u8PIyMGHMSEZ/FkdsjIkm3l5UVF0nMyeXlJXrOVt8Hk9ScIMpqi2uMEW1xZKXT33aRIazbX0qMaYonhYWEsT40cP5In4oc5NSSfp5FZ6i4IYamw1X3LfZGNi3NwkjPiHzUC4Hso9y4+YtnmYMaE7Gjt+JCAuhLooiM2/2NJxOJ0tSVuMJCm44euwkdrsdg8FAXRwOB5bcfLp1iWFAv96MTfgUh8PJidNn2Z9lYevOfZReuEySeQYRYSG4wvzdV+zem0XpxSu4S5Z9jGZeUI3tAf5+vrzTvQt1+XXdVjb/mUbJ+cukrFjHX+nZlFdU0ToynISRccTGdCA98zCrUxcghMAVsiyolZ5lwV0Kbkqcn0xAi+aM/Xwo//fHzn1MT1zME06nyqnCYk4VFrM4eSXN/P2QZZm+7/ZAURQaon+fnniCgpvs9sdMnDKLtRu3M3zwh4QGB1JprWZnWibZlmM8z+07d6kVEtSShgoOaoknKHiIJS8fS14+L+J+jY2Gqqmx4QmCRuBkQRENdaKgCE8QNAKFRaUUFpXSEBu27MITBI2AqqpMn70Ih8OJK7Itx9mZloknyLKP0UwjUHb1Gtbr1Xw0oA9CCOpy+sw5RoydjM32AE+QZR+jmUbiZEExOZbjRLdvR2hIIE+7d7+GlBXrmTj1e+7cvYenSIYAk0oj1K5NK97qZKJp0yaUX6vieP5pbA8e4mkKjdTFy2VcvFzGyybQOYHOCXROoHMCnRPonEDnBDon0DmBzgl0TqBzAp0T6Nx/Vg+o6CnFmfYAAAAASUVORK5CYII=",universalLink:"https://atomex.me",deepLink:"atomex://"},{key:"umami_ios",name:"Umami Mobile",shortName:"Umami Mobile",color:"",logo:"data:image/png;base64,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",deepLink:"umami://",universalLink:"https://umamiwallet.com/"}];const un=()=>sn,hn=()=>an,fn=()=>ln,dn=()=>cn,pn=new Vt,gn=["ookjlbkiijinhpmnjffcofjonbfbgaoc","gpfndedineagiepkpinficbcbbgjoenn"];var yn,vn;!function(t){t[t.DESKTOP=0]="DESKTOP",t[t.IOS=1]="IOS",t[t.ANDROID=2]="ANDROID"}(yn||(yn={})),function(t){t.IOS="ios",t.ANDROID="android",t.EXTENSION="extension",t.DESKTOP="desktop",t.WEB="web"}(vn||(vn={}));class mn{static getPlatfrom(){return on(this,void 0,void 0,(function*(){return tn(window)?yn.ANDROID:$e(window)?yn.IOS:yn.DESKTOP}))}static getPairingInfo(t,e,n,r){return on(this,void 0,void 0,(function*(){const i=null!=r?r:yield mn.getPlatfrom(),o=t.p2pSyncCode,s=t.postmessageSyncCode,a=t.preferredNetwork;switch(i){case yn.DESKTOP:return mn.getDesktopPairingAlert(o,e,s,n,a);case yn.IOS:return mn.getIOSPairingAlert(o,e,a);case yn.ANDROID:return mn.getAndroidPairingAlert(o,e,a);default:throw new Error("platform unknown")}}))}static getDesktopPairingAlert(t,e,n,r,i){return on(this,void 0,void 0,(function*(){const o=yield Qe.getAvailableExtensions();o.forEach((t=>{const e=gn.indexOf(t.id);e>=0&&gn.splice(e,1)}));const s=[];return hn().length>0&&s.push({title:"Browser Extensions",type:vn.EXTENSION,wallets:[...o.map((t=>{var r,i,o,s,a;const l=hn().find((e=>e.id===t.id));return{key:null!==(r=null==l?void 0:l.key)&&void 0!==r?r:t.id,name:null!==(i=t.name)&&void 0!==i?i:null==l?void 0:l.name,logo:null!==(o=t.iconUrl)&&void 0!==o?o:null==l?void 0:l.logo,shortName:null!==(s=t.shortName)&&void 0!==s?s:null==l?void 0:l.shortName,color:null!==(a=t.color)&&void 0!==a?a:null==l?void 0:l.color,enabled:!0,clicked:!1,clickHandler(){return on(this,void 0,void 0,(function*(){if(!this.clicked){if(this.clicked=!0,n){const e=yield pn.serialize(yield n()),r={target:X.EXTENSION,payload:e,targetId:t.id};ft.postMessage(r,ft.location.origin)}e(vn.EXTENSION,this)}}))}}})),...hn().filter((t=>gn.some((e=>e===t.id)))).map((t=>({key:t.key,name:t.name,shortName:t.shortName,color:t.color,logo:t.logo,enabled:!1,clickHandler:()=>{window.open(t.link,"_blank")}})))].sort(((t,e)=>t.key.localeCompare(e.key)))}),un().length>0&&s.push({title:"Desktop & Web Wallets",type:vn.DESKTOP,wallets:[...un().map((n=>({key:n.key,name:n.name,shortName:n.shortName,color:n.color,logo:n.logo,enabled:!0,clicked:!1,clickHandler(){return on(this,void 0,void 0,(function*(){if(this.clicked)return;this.clicked=!0;const r=yield pn.serialize(yield t()),i=rn(n.deepLink,r);window.open(i,"_blank"),e(vn.DESKTOP,this,!0)}))}}))),...yield mn.getWebList(t,e,i)].sort(((t,e)=>t.key.localeCompare(e.key)))}),dn().length>0&&s.push({title:"Mobile Wallets",type:vn.IOS,wallets:[...dn().map((n=>({key:n.key,name:n.name,shortName:n.shortName,color:n.color,logo:n.logo,enabled:!0,clicked:!1,clickHandler(){return on(this,void 0,void 0,(function*(){if(this.clicked)return;this.clicked=!0;const n=yield pn.serialize(yield t());r(n),e(vn.IOS,this,!0)}))}})))].sort(((t,e)=>t.key.localeCompare(e.key)))}),{walletLists:s,buttons:[]}}))}static getIOSPairingAlert(t,e,n){return on(this,void 0,void 0,(function*(){return{walletLists:[{title:"Mobile Wallets",type:vn.IOS,wallets:dn().map((n=>({key:n.key,name:n.name,shortName:n.shortName,color:n.color,logo:n.logo,enabled:!0,clicked:!1,clickHandler(){var r;return on(this,void 0,void 0,(function*(){if(this.clicked)return;this.clicked=!0;const i=yield pn.serialize(yield t()),o=rn(null!==(r=n.deepLink)&&void 0!==r?r:n.universalLink,i),s=document.createElement("a");s.setAttribute("href",o),s.dispatchEvent(new MouseEvent("click",{view:window,bubbles:!0,cancelable:!0})),e(vn.IOS,this,!0)}))}}))).sort(((t,e)=>t.key.localeCompare(e.key)))},{title:"Web Wallets",type:vn.WEB,wallets:[...yield mn.getWebList(t,e,n)].sort(((t,e)=>t.key.localeCompare(e.key)))}],buttons:[]}}))}static getAndroidPairingAlert(t,e,n){return on(this,void 0,void 0,(function*(){return{walletLists:[{title:"Web Wallets",type:vn.WEB,wallets:[...yield mn.getWebList(t,e,n)].sort(((t,e)=>t.key.localeCompare(e.key)))}],buttons:[{title:"Mobile Wallets",text:"Connect Wallet",clickHandler:()=>on(this,void 0,void 0,(function*(){const n=yield pn.serialize(yield t()),r=rn("tezos://",n);window.open(r,"_blank"),e(vn.ANDROID)}))}]}}))}static getWebList(t,e,n){return on(this,void 0,void 0,(function*(){return fn().map((r=>({key:r.key,name:r.name,shortName:r.shortName,color:r.color,logo:r.logo,enabled:!0,clicked:!1,clickHandler(){if(this.clicked)return;this.clicked=!0;const i=window.open("","_blank");t().then((t=>pn.serialize(t))).then((t=>{var o;const s=rn(null!==(o=r.links[n])&&void 0!==o?o:r.links[z.MAINNET],t);i?i.location.href=s:window.open(s,"_blank"),e(vn.WEB,this,!0)})).catch((t=>{console.error(t)}))}}))).sort(((t,e)=>t.key.localeCompare(e.key)))}))}}const wn=(t,e,n,r)=>{const i=document.createElement(t);return e.length>0&&i.classList.add(...e.filter((t=>!!t)).map((t=>xn(t)))),n.forEach((t=>{i.setAttribute(xn(t[0]),xn(t[1]))})),"object"==typeof r&&Array.isArray(r)?r.filter((t=>!!t)).forEach((t=>{i.appendChild(t)})):"string"==typeof r&&(i.innerText=r),i},bn=(t,e,n)=>{const r=document.createElementNS("http://www.w3.org/2000/svg","svg");return t.length>0&&r.classList.add(...t.filter((t=>!!t))),e.forEach((t=>{r.setAttribute(xn(t[0]),xn(t[1]))})),"object"==typeof n&&Array.isArray(n)&&n.filter((t=>!!t)).forEach((t=>{r.appendChild(t)})),r},En=t=>{const e=document.createElementNS("http://www.w3.org/2000/svg","path");return t.forEach((t=>{e.setAttribute(xn(t[0]),xn(t[1]))})),e},_n=t=>{const e=document.createElementNS("http://www.w3.org/2000/svg","g");return t.filter((t=>!!t)).forEach((t=>{e.appendChild(t)})),e},xn=t=>{const e=document.createElement("div");return e.innerText=t,e.innerHTML},An=t=>{t.innerHTML=""};var Sn=function(t,e,n,r){return new(n||(n=Promise))((function(i,o){function s(t){try{l(r.next(t))}catch(t){o(t)}}function a(t){try{l(r.throw(t))}catch(t){o(t)}}function l(t){var e;t.done?i(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(s,a)}l((r=r.apply(t,e||[])).next())}))};const Tn=new St("Alert"),Rn=new Vt,In=(t,e,n)=>Sn(void 0,void 0,void 0,(function*(){const r=()=>Sn(void 0,void 0,void 0,(function*(){return mn.getPairingInfo(n,((t,e,n)=>Sn(void 0,void 0,void 0,(function*(){n||(yield Dn())}))),(()=>Sn(void 0,void 0,void 0,(function*(){E()}))))})),i=yield r(),o=e.getElementById("pairing-container");if(!o)throw new Error("container not found");const s=document.createElement("span");o.appendChild(s),i.buttons.forEach((t=>Sn(void 0,void 0,void 0,(function*(){const n=yield st(),r=wn("div",["beacon-list__title"],[],t.title),i=wn("button",["beacon-modal__button","connect__btn"],[],t.text),o=document.createElement("a");o.id=`button_${n}`,o.appendChild(r),o.appendChild(i),s.appendChild(o);const a=e.getElementById(o.id);a&&a.addEventListener("click",(()=>Sn(void 0,void 0,void 0,(function*(){t.clickHandler()}))))}))));const a=document.createElement("span");o.appendChild(a);const l=t=>{An(a),t.forEach((t=>{const n=document.createElement("div");n.classList.add("beacon-list__wrapper"),a.appendChild(n),n.appendChild(wn("div",["beacon-list__title"],[],t.title));const r=document.createElement("span");n.appendChild(r),t.wallets.forEach((n=>Sn(void 0,void 0,void 0,(function*(){((t,n,r)=>{const i=`Open in ${r.name}`,o=r.key,s=r.logo?wn("div",[],[],[wn("img",["beacon-selection__img"],[["src",r.logo]],"")]):bn(["beacon-selection__img","svg-inline--fa","fa-wallet","fa-w-16"],[["aria-hidden","true"],["focusable","false"],["data-prefix","fas"],["data-icon","wallet"],["role","img"],["xmlns","http://www.w3.org/2000/svg"],["viewBox","0 0 512 512"],["style","enable-background:new 0 0 512 512;"],["xml:space","preserve"]],[En([["d","M376.2,181H152.9c-5.2,0-9.4-4.2-9.4-9.4s4.2-9.4,9.4-9.4h225c5.2,0,9.4-4.2,9.4-9.4c0-15.5-12.6-28.1-28.1-28.1H143.5c-20.7,0-37.5,16.8-37.5,37.5v187.5c0,20.7,16.8,37.5,37.5,37.5h232.7c16.4,0,29.8-12.6,29.8-28.1v-150C406,193.6,392.7,181,376.2,181z M349.8,302.9c-10.4,0-18.8-8.4-18.8-18.8s8.4-18.8,18.8-18.8s18.8,8.4,18.8,18.8S360.1,302.9,349.8,302.9z"]])]),a=wn("div",["beacon-selection__name"],[],[wn("span",[],[],r.name),r.enabled?void 0:wn("p",[],[],"Not installed")]),l=wn("a",["beacon-selection__list",r.enabled?"":"disabled"],[["tabindex","0"],["id",`wallet_${o}`],["alt",i],["target","_blank"]],[a,s]),c=document.createElement("span");c.appendChild(l),t.appendChild(c);const u=e.getElementById(`wallet_${o}`),h=t=>Sn(void 0,void 0,void 0,(function*(){if(t&&"Enter"!==t.key)return;r.clickHandler();const i=e.getElementById("beacon-modal__content");i&&n!==vn.EXTENSION&&n!==vn.IOS&&(An(i),i.appendChild(wn("p",["beacon-alert__title"],[],"Establishing Connection..")),i.appendChild(wn("div",["progress-line"],[["id","beacon-toast-loader"]],"")),i.appendChild(wn("div",["beacon--selected__container"],[],[...r.logo?[wn("img",["beacon-selection__img"],[["src",r.logo]],""),wn("img",["beacon--selection__name__lg"],[],r.name)]:[]])))}));u&&(u.addEventListener("click",(()=>h())),u.addEventListener("keydown",h))})(r,t.type,n)}))))}))};l(i.walletLists);const c=t=>Sn(void 0,void 0,void 0,(function*(){if("extensionsUpdated"===t.data){const t=yield r();l(t.walletLists)}}));let u;u=e=>{e.data===`closeAlert-${t}`&&(ft.removeEventListener("message",c),ft.removeEventListener("message",u))},ft.addEventListener("message",c),ft.addEventListener("message",u);const h=e.getElementById("beacon--qr__container"),f=e.getElementById("beacon--qr__copy"),d=e.getElementById("beacon-title"),p=tn(window)?"android":$e(window)?"ios":"desktop",g=e.getElementById("beacon-main-text"),y=e.getElementById("pairing-container"),v=e.getElementById("beacon--switch__container"),m=()=>Sn(void 0,void 0,void 0,(function*(){const t=n?yield Rn.serialize(yield n.p2pSyncCode()):"";navigator.clipboard.writeText(t).then((()=>{f&&(f.innerText="Copied"),Tn.log("Copying to clipboard was successful!")}),(t=>{Tn.error("Could not copy text to clipboard: ",t)}))}));let w=!1;let b=!1;const E=()=>{(t=>{Sn(void 0,void 0,void 0,(function*(){const r=e.getElementById("beacon-switch");if(r&&(r.innerText="none"===t?"Pair wallet on same device":"Pair wallet on another device"),g&&y&&v&&f&&h&&d)switch(g.style.display="none",d.style.textAlign="center",y.style.display="none",v.style.display="initial",t){case"ios":case"android":y.style.display="initial";break;case"desktop":y.style.display="initial",d.style.textAlign="left",g.style.display="none",v.style.display="initial";break;default:if(!w){w=!0;const t=yield Rn.serialize(yield n.p2pSyncCode()),e=((t,e)=>{const n=en(0,"L");t.length>500&&nn.warn("getQrData",'The size of the payload in the QR code is quite long and some devices might not be able to scan it anymore. To reduce the QR size, try using a shorter "name", "appUrl" and "iconUrl"');try{return n.addData(t),n.make(),n.createSvgTag()}catch(t){throw console.error("error",t),t}})(rn("tezos://",t)),r=e.replace("<svg",'<svg class="beacon-alert__image"');h.insertAdjacentHTML("afterbegin",r),f&&f.addEventListener("click",m),h&&h.addEventListener("click",m)}g.style.display="initial"}}))})(b?"none":p),b=!b};E();{const t=e.getElementById("beacon-switch");t&&t.addEventListener("click",E)}}));let kn=ct.LIGHT;const On=t=>{kn=t},Nn=()=>kn,Cn=(t,e,n,r)=>wn("div",["beacon-alert__base","animated","fadeIn"],[["id",`beacon-alert-modal-${t}`]],[wn("div",["beacon-modal__wrapper"],[],[wn("div",["beacon-modal__header"],[],[bn([],[["xmlns","http://www.w3.org/2000/svg"],["id","Guides"],["x","0"],["y","0"],["version","1.1"],["viewBox","0 0 179.2 43"],["xml:space","preserve"],["width","140"],["height","40"]],[wn("style",[],[],".st0 {\n                    fill: #3880ff;\n                  }\n                  .st1 {\n                    fill: #fff;\n                  }"),En([["d","M45 19v.9c0 .3-.2 7.5-3.4 13.2-3.3 5.6-9.4 9.3-9.7 9.5l-.8.4-1.3-.8-7.6-4.4c-.5-.3-.9-.6-1.4-.9-.4-.3-.7-.5-1.1-.8-.8-.7-1.5-1.4-2.1-2.2-.9-1.1-1.6-2.4-2.1-3.7-.9-2.3-1.3-4.8-1.2-7.5.8-.4 1.6-.6 2.4-.6h.6c-.2 2.4.1 4.6.8 6.6 1 2.8 2.9 5.1 5.5 6.6l7.4 4.3c.2-.1.4-.2.6-.4 1.9-1.3 5.3-4.1 7.3-7.6 2.2-3.9 2.8-8.9 3-10.8L38.8 19c.3-1 .4-2.1.5-3.2L45 19z"],["class","st0"]]),En([["d","M36.3 4.1v10.3c0 .5 0 1.1-.1 1.6s-.1.9-.2 1.3c-.2 1-.5 2-.9 3-.5 1.3-1.3 2.6-2.2 3.7-1.5 1.9-3.5 3.6-5.9 4.8-.9-.6-1.6-1.3-2-2.4 2.1-1 3.9-2.3 5.2-4 1.9-2.3 3-5.1 3-8.1V5.9l-.6-.3c-2-1-6.1-2.6-10.1-2.6-4.5 0-9.1 2-10.9 2.9v3.6c-1 .3-2 .7-3 1.1V4.1l.8-.4C9.7 3.5 16 0 22.5 0s12.8 3.5 13.1 3.6l.7.5z"],["class","st0"]]),En([["d","M10.5 16.5l-7.4 4.3v.7c.2 2.1.9 6.5 2.9 10 2.2 3.9 6.2 6.9 7.9 8l3.1-1.8c.8.7 1.6 1.4 2.5 2L13.8 43l-.8-.5c-.3-.2-6.4-3.9-9.7-9.5C.1 27.4 0 20.2 0 19.9V19l1.3-.8L9 13.9c.5-.3.9-.5 1.4-.7.4-.2.8-.4 1.3-.5 1-.4 2-.6 3-.7 1.4-.2 2.9-.2 4.3 0 2.4.3 4.8 1.2 7.1 2.7 0 1-.4 2-1 2.9-1.9-1.3-4-2.2-6-2.5-3.1-.6-6-.1-8.6 1.4z"],["class","st0"]]),_n([En([["d","M73.9 23c.9 1 1.3 2.3 1.3 3.7 0 1.9-.6 3.4-1.9 4.5-1.3 1.1-3.1 1.7-5.5 1.7h-8.6v-23h8.4c2.3 0 4.1.5 5.3 1.5 1.2 1 1.8 2.4 1.8 4.2 0 1.5-.4 2.7-1.2 3.6-.8.9-1.8 1.5-3.1 1.8 1.5.3 2.6 1 3.5 2zm-11.7-3h5c1.5 0 2.6-.3 3.4-1 .8-.7 1.2-1.6 1.2-2.8 0-1.2-.4-2.1-1.1-2.8-.8-.7-1.9-1-3.5-1h-4.8V20zm8.7 9.4c.9-.7 1.3-1.7 1.3-3s-.4-2.3-1.3-3c-.9-.7-2.1-1.1-3.7-1.1h-5v8.2h5c1.6-.1 2.8-.4 3.7-1.1zM95.3 24.6H81c.1 2.1.6 3.6 1.7 4.6s2.4 1.5 4 1.5c1.4 0 2.6-.4 3.6-1.1 1-.7 1.6-1.7 1.8-2.9h3.2c-.2 1.2-.7 2.4-1.5 3.3-.8 1-1.7 1.7-2.9 2.3-1.2.5-2.6.8-4.1.8-1.7 0-3.2-.4-4.6-1.1-1.3-.7-2.4-1.8-3.1-3.2-.8-1.4-1.1-3-1.1-4.9 0-1.9.4-3.5 1.1-4.9.8-1.4 1.8-2.5 3.1-3.2 1.3-.7 2.9-1.1 4.6-1.1 1.7 0 3.3.4 4.6 1.1 1.3.7 2.3 1.7 3 3 .7 1.2 1 2.6 1 4.1.1.7 0 1.2-.1 1.7zm-3.5-4.8c-.5-.9-1.2-1.6-2.1-2-.9-.4-1.8-.7-2.8-.7-1.6 0-3 .5-4.1 1.5-1.1 1-1.7 2.5-1.8 4.5h11.5c0-1.3-.2-2.4-.7-3.3zM111.2 16c1.2.9 2.1 2 2.5 3.5V15h3v18h-3v-4.6c-.5 1.5-1.3 2.6-2.5 3.5-1.2.9-2.7 1.3-4.4 1.3-1.6 0-3-.4-4.3-1.1-1.2-.7-2.2-1.8-2.9-3.2-.7-1.4-1.1-3-1.1-4.9 0-1.9.4-3.5 1.1-4.9.7-1.4 1.7-2.5 2.9-3.2 1.2-.7 2.7-1.1 4.3-1.1 1.7-.1 3.1.4 4.4 1.2zm-8 3.1c-1.1 1.2-1.7 2.8-1.7 4.8 0 2.1.5 3.7 1.7 4.8 1.1 1.2 2.6 1.8 4.4 1.8 1.2 0 2.2-.3 3.2-.8.9-.5 1.7-1.3 2.2-2.3.5-1 .8-2.1.8-3.5 0-1.3-.3-2.5-.8-3.5s-1.2-1.8-2.2-2.3c-.9-.5-2-.8-3.2-.8-1.9.1-3.3.7-4.4 1.8zM135 16.6c1.5 1.2 2.4 2.9 2.8 4.9h-3.1c-.2-1.3-.8-2.3-1.8-3-1-.7-2.2-1.1-3.6-1.1-1 0-2 .2-2.9.7-.9.5-1.6 1.2-2.1 2.2-.5 1-.8 2.2-.8 3.7s.3 2.7.8 3.7 1.2 1.7 2.1 2.2c.9.5 1.8.7 2.9.7 1.4 0 2.6-.4 3.6-1.1 1-.7 1.6-1.8 1.8-3h3.1c-.3 2.1-1.3 3.7-2.8 4.9-1.5 1.2-3.4 1.8-5.7 1.8-1.7 0-3.2-.4-4.6-1.1-1.3-.7-2.4-1.8-3.1-3.2-.8-1.4-1.1-3-1.1-4.9 0-1.9.4-3.5 1.1-4.9.8-1.4 1.8-2.5 3.1-3.2 1.3-.7 2.9-1.1 4.6-1.1 2.3-.1 4.2.6 5.7 1.8zM154.5 15.9c1.4.7 2.4 1.8 3.2 3.2.8 1.4 1.2 3 1.2 4.9 0 1.9-.4 3.5-1.2 4.9-.8 1.4-1.8 2.4-3.2 3.2-1.4.7-2.9 1.1-4.6 1.1-1.7 0-3.3-.4-4.6-1.1-1.4-.7-2.4-1.8-3.2-3.2-.8-1.4-1.2-3-1.2-4.9 0-1.9.4-3.5 1.2-4.9.8-1.4 1.9-2.5 3.2-3.2 1.4-.7 2.9-1.1 4.6-1.1 1.7-.1 3.2.3 4.6 1.1zm-7.6 2.2c-.9.5-1.6 1.2-2.2 2.2-.6 1-.8 2.2-.8 3.7 0 1.4.3 2.7.8 3.6.6 1 1.3 1.7 2.2 2.2.9.5 1.9.7 3 .7s2.1-.2 3-.7c.9-.5 1.6-1.2 2.2-2.2.6-1 .8-2.2.8-3.6 0-1.5-.3-2.7-.8-3.7-.6-1-1.3-1.7-2.2-2.2-.9-.5-1.9-.7-3-.7s-2.1.2-3 .7zM177.3 16.7c1.3 1.3 1.9 3.3 1.9 5.8v10.4h-3V22.8c0-1.8-.5-3.2-1.4-4.1-.9-1-2.2-1.4-3.7-1.4-1.6 0-2.9.5-3.9 1.6s-1.5 2.6-1.5 4.6V33h-3V15h3v4.3c.5-1.5 1.3-2.6 2.4-3.4 1.2-.8 2.5-1.2 4-1.2 2.2 0 3.9.6 5.2 2z"],["class","st1"]])])]),wn("div",["beacon-modal__close__wrapper"],[["id",`beacon-alert-${t}-close`]],[wn("div",["beacon-modal__close__icon"],[],[wn("div",["beacon-modal__close__line1"],[],[]),wn("div",["beacon-modal__close__line2"],[],[])])])]),wn("div",["beacon-modal__base"],[],[wn("div",[],[["id","beacon-modal__content"]],[wn("div",[],[],[wn("p",["beacon-alert__title"],[],e),...r,wn("div",["beacon-action__container"],[],n)])])])])]);var Pn=function(t,e,n,r){return new(n||(n=Promise))((function(i,o){function s(t){try{l(r.next(t))}catch(t){o(t)}}function a(t){try{l(r.throw(t))}catch(t){o(t)}}function l(t){var e;t.done?i(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(s,a)}l((r=r.apply(t,e||[])).next())}))};let Ln,Bn;"undefined"!=typeof window&&void 0!==window.document&&(Bn=window.document);const Mn={},Un=t=>(ft.postMessage(`closeAlert-${t}`),new Promise((e=>{var n;const r=Bn.getElementById(`beacon-alert-wrapper-${t}`);if(!r)return e();const i=null===(n=r.shadowRoot)||void 0===n?void 0:n.getElementById(`beacon-alert-modal-${t}`);if(i){const n=300,o=Mn[t];o&&(clearTimeout(o),Mn[t]=void 0),i.className=i.className.replace("fadeIn","fadeOut"),window.setTimeout((()=>{const t=r.parentNode;t&&t.removeChild(r),Ln&&Ln.focus(),e()}),n)}else e()}))),Dn=()=>Pn(void 0,void 0,void 0,(function*(){return new Promise((t=>Pn(void 0,void 0,void 0,(function*(){const e=Bn.querySelectorAll('[id^="beacon-alert-wrapper-"]');if(e.length>0){const n=[];e.forEach((t=>Pn(void 0,void 0,void 0,(function*(){n.push(t.id.split("-")[3])})))),yield Promise.all(n.map(Un)),t()}else t()}))))})),jn=t=>Pn(void 0,void 0,void 0,(function*(){var e,n;const r=t.body,i=t.data,o=t.title,s=t.timer,a=t.pairingPayload,l=t.disclaimerText,c=t.closeButtonCallback;yield Dn();const u=(yield st()).split("-").join(""),h=Bn.createElement("div");h.setAttribute("id",`beacon-alert-wrapper-${u}`);const f=h.attachShadow({mode:"open"}),d=Bn.createElement("div");d.setAttribute("tabindex","0"),f.appendChild(d);const p=[...null!==(n=null===(e=t.buttons)||void 0===e?void 0:e.map((t=>{var e,n;return{text:t.text,actionCallback:null!==(e=t.actionCallback)&&void 0!==e?e:()=>Promise.resolve(),style:null!==(n=t.style)&&void 0!==n?n:"outline"}})))&&void 0!==n?n:[]];let g=a?"string"==typeof r?wn("div",[],[["id","beacon--qr__container"]],[wn("div",[],[["id","beacon--qr__copy__container"]],[wn("button",["beacon-modal__button--outline"],[["id","beacon--qr__copy"]],"Copy")])]):wn("span",[],[],""):wn("span",[],[],null!=r?r:"");i&&(g=wn("span",[],[],[g,wn("pre",[],[["style","text-align: left"]],i)]));const{style:y,html:v}=((t,e,n,r,i)=>{const o=n,s=r.map(((e,n)=>wn("button",["beacon-modal__button"+("outline"===e.style?"--outline":"")],[["id",`beacon-alert-${t}-${n}`]],e.text)));let a=Xe;i&&(a+=Ye);const l=wn("span",[],[],o),c=i?((t,e,n,r)=>Cn(t,e,n,[wn("span",[],[["id","pairing-container"]],""),wn("div",["beacon-alert__text"],[["id","beacon-main-text"]],[wn("p",["beacon-list__title"],[["id","beacon-title"]],[document.createTextNode("Scan QR code with a Beacon-compatible wallet."),wn("a",[],[["href","https://docs.walletbeacon.io/supported-wallets"],["target","_blank"]],"Learn more"),...r])]),wn("div",[],[["id","beacon--switch__container"]],[wn("button",["beacon-modal__button--outline"],[["id","beacon-switch"]],"")]),wn("div",[],[["id","beacon--disclaimer"]],"")]))(t,[l],s,[e]):((t,e,n,r)=>Cn(t,e,n,[wn("div",["beacon-alert__text"],[["id","beacon-main-text"]],r)]))(t,[l],s,[e]);return{style:a,html:c}})(u,g,o,p,!!(null==a?void 0:a.p2pSyncCode));d.appendChild(v);const m=Bn.createElement("style");m.textContent=y,f.appendChild(m),s&&(Mn[u]=window.setTimeout((()=>Pn(void 0,void 0,void 0,(function*(){yield Un(u)}))),s)),Bn.body.prepend(h);const w=f.getElementById(`beacon-alert-${u}-close`),b=()=>Pn(void 0,void 0,void 0,(function*(){c&&c(),yield Un(u)}));if(l){const t=f.getElementById("beacon--disclaimer");t&&(t.innerText=l)}const E=Nn(),_=f.getElementById(`beacon-alert-modal-${u}`);_&&(_.classList.add(`theme__${E}`),_.addEventListener("click",b));const x=f.querySelectorAll(".beacon-modal__wrapper");return x.length>0&&x[0].addEventListener("click",(t=>{t.stopPropagation()})),Ln=Bn.activeElement,d.focus(),p.forEach(((t,e)=>{const n=f.getElementById(`beacon-alert-${u}-${e}`);n&&n.addEventListener("click",(()=>Pn(void 0,void 0,void 0,(function*(){yield Un(u),t.actionCallback&&(yield t.actionCallback())}))))})),w&&w.addEventListener("click",(()=>Pn(void 0,void 0,void 0,(function*(){yield b()})))),window.addEventListener("keydown",(t=>Pn(void 0,void 0,void 0,(function*(){"Escape"===t.key&&(yield b())})))),a&&(yield In(u,f,a)),u})),Kn=":host {\n  --animation-duration: 300ms;\n  all: initial;\n}\n\n@keyframes fadeIn {\n  from {\n    opacity: 0;\n  }\n  to {\n    opacity: 1;\n  }\n}\n\n@keyframes fadeOut {\n  from {\n    opacity: 1;\n  }\n  to {\n    opacity: 0;\n  }\n}\n\n.animated {\n  animation-duration: var(--animation-duration);\n  animation-fill-mode: both;\n}\n\n.fadeIn {\n  animation-name: fadeIn;\n}\n\n.fadeOut {\n  animation-name: fadeOut;\n}\n\n.beacon-toast__base {\n  position: fixed;\n  top: 16px;\n  right: 16px;\n  z-index: 2147483000;\n  margin: 0 auto;\n  border-radius: 8px;\n  overflow: hidden;\n  box-shadow: 0 12px 24px 0 rgba(0, 0, 0, 0.1);\n  flex-direction: column;\n}\n@media (max-width: 576px) {\n  .beacon-toast__base {\n    top: 8px;\n    right: 8px;\n    left: 8px;\n  }\n  .beacon-toast__wallet__outer {\n    flex-wrap: wrap;\n  }\n  .beacon-toast__wallet__link {\n    display: flex;\n    margin-left: 12px !important;\n  }\n}\n\n.theme__light.beacon-toast__base {\n  background: #fff;\n}\n\n.theme__dark.beacon-toast__base {\n  background: #27334c;\n}\n\n.theme__dark p {\n  color: #6183ff;\n}\n\na {\n  text-decoration: none;\n  color: #3880ff;\n}\n\na svg {\n  width: 12px;\n  margin-left: 2px;\n}\n\na:visited {\n  color: #3880ff;\n}\n\nhr {\n  height: 1px;\n  color: rgba(0, 0, 0, 0.12);\n  background-color: rgba(0, 0, 0, 0.12);\n  border: none;\n  width: 100%;\n  margin: 0;\n  display: none;\n}\n\n.show {\n  display: block !important;\n}\n\n.hide {\n  display: none !important;\n}\n\n#beacon-toast-list {\n  display: none;\n}\n\n.beacon-toast__upside_down {\n  transform: rotate(180deg);\n}\n\n.beacon-toast__content {\n  justify-content: space-between;\n  min-height: 56px;\n  height: 0;\n}\n\n.beacon-toast__action__item,\n.beacon-toast__powered a,\n.beacon-toast__wallet__container,\n#beacon-text,\n.beacon-toast__action__item p,\n.beacon-toast__wallet__outer {\n  align-items: center;\n}\n\n.beacon-toast__content,\n.beacon-toast__base,\n.beacon-toast__action__item,\n.beacon-toast__powered a,\n#beacon-text,\n.beacon-toast__wallet__container,\n.beacon-toast__wallet__outer {\n  display: flex;\n}\n\n.beacon-toast__content,\n.beacon-toast__action__item,\n.beacon-toast__powered a {\n  padding: 0 16px;\n  font-family: Roboto, Helvetica, sans-serif;\n}\n\n#beacon-text strong {\n  display: contents;\n}\n.beacon-toast__wallet__link {\n  margin-left: 8px;\n}\n.beacon-toast__wallet__link svg {\n  margin-left: 4px;\n}\n.beacon-toast__powered a {\n  margin: 4px 0 12px;\n  font-size: 12px;\n  opacity: 0.64;\n}\n\n.beacon-toast__powered svg {\n  width: 20px;\n  height: 20px;\n  margin: 0 2px 0 4px;\n}\n\n.beacon-toast__action__item {\n  font-size: 14px;\n  max-width: 40ch;\n}\n\n.beacon-toast__action__item p {\n  margin-right: 8px;\n}\n\n.beacon-toast__action__item__subtitle,\n.beacon-toast__powered a {\n  min-width: 88px;\n  color: rgba(0, 0, 0, 0.54);\n}\n\n.theme__dark .beacon-toast__powered a {\n  color: #7c99d6;\n}\n\n.beacon-toast__content__img {\n  width: 24px;\n  height: 24px;\n  margin-right: 4px;\n  image-rendering: -moz-crisp-edges; /* Firefox */\n  image-rendering: -o-crisp-edges; /* Opera */\n  image-rendering: -webkit-optimize-contrast; /* Webkit (non-standard naming) */\n  image-rendering: crisp-edges;\n  -ms-interpolation-mode: nearest-neighbor; /* IE (non-standard property) */\n}\n\n.beacon-toast__more {\n  width: 14px;\n  transition: transform 0.5s;\n}\n\na,\n.beacon-toast__more {\n  cursor: pointer;\n}\n\na:hover {\n  opacity: 0.64;\n}\n\n.theme__dark .beacon-toast__more {\n  color: #7c99d6;\n}\n\n.beacon-toast__more--action {\n  margin: 8px 0;\n}\n\n#beacon-text {\n  padding-right: 24px;\n}\n\n#beacon-text-content {\n  display: flex;\n  align-items: center;\n}\n\n.progress-line,\n.progress-line:before {\n  height: 3px;\n  width: 100%;\n  margin: 0;\n}\n.progress-line {\n  background-color: #a7c4f7;\n  display: -webkit-flex;\n  display: flex;\n}\n.progress-line:before {\n  background-color: #3880ff;\n  content: '';\n  -webkit-animation: running-progress 2s cubic-bezier(0.4, 0, 0.2, 1) infinite;\n  animation: running-progress 2s cubic-bezier(0.4, 0, 0.2, 1) infinite;\n}\n@-webkit-keyframes running-progress {\n  0% {\n    margin-left: 0px;\n    margin-right: 100%;\n  }\n  50% {\n    margin-left: 25%;\n    margin-right: 0%;\n  }\n  100% {\n    margin-left: 100%;\n    margin-right: 0;\n  }\n}\n@keyframes running-progress {\n  0% {\n    margin-left: 0px;\n    margin-right: 100%;\n  }\n  50% {\n    margin-left: 25%;\n    margin-right: 0%;\n  }\n  100% {\n    margin-left: 100%;\n    margin-right: 0;\n  }\n}\n";var Hn=function(t,e,n,r){return new(n||(n=Promise))((function(i,o){function s(t){try{l(r.next(t))}catch(t){o(t)}}function a(t){try{l(r.throw(t))}catch(t){o(t)}}function l(t){var e;t.done?i(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(s,a)}l((r=r.apply(t,e||[])).next())}))};let Wn,qn,Fn,Gn;"undefined"!=typeof window&&void 0!==window.document&&(Wn=window.document);const zn=t=>{for(;t.firstChild;)t.removeChild(t.firstChild)},Vn=t=>{var e,n;const r=null===(e=null==Gn?void 0:Gn.walletInfo)||void 0===e?void 0:e.icon,i=null===(n=null==Gn?void 0:Gn.walletInfo)||void 0===n?void 0:n.name;let o;const s=wn("strong",[],[],null!=i?i:"Wallet");o=r?wn("span",["beacon-toast__wallet__container"],[],[wn("img",["beacon-toast__content__img"],[["src",r]],""),s]):s;const a=t.split("{{wallet}}");if(1===a.length)return[wn("span",[],[],t)];{const t=[];for(let e=0;e<a.length;e++)t.push(wn("span",[],[],a[e])),e<a.length-1&&t.push(o);return t}},Qn=()=>new Promise((t=>{var e;Gn=void 0;const n=Wn.getElementById("beacon-toast-wrapper");if(!n)return t();const r=null===(e=n.shadowRoot)||void 0===e?void 0:e.getElementById("beacon-toast");if(r){const e=300;qn&&(clearTimeout(qn),qn=void 0),r.className=r.className.replace("fadeIn","fadeOut"),window.setTimeout((()=>{const e=n.parentNode;e&&e.removeChild(n),t()}),e)}else t()})),Xn=(t,e,n)=>{const r=t.getElementById(e);return r&&r.addEventListener("click",(()=>Hn(void 0,void 0,void 0,(function*(){yield n(r)})))),r},Yn=(t,e)=>{const n=t.getElementById(e);n&&(n.classList.remove("hide"),n.classList.add("show"))},Jn=(t,e)=>{const n=t.getElementById(e);n&&(n.classList.add("hide"),n.classList.remove("show"))},Zn=t=>{Yn(t,"beacon-toast-button-close"),Jn(t,"beacon-toast-button-expand")},$n=t=>{const e=t.getElementById("beacon-toast-button-expand"),n=t.getElementById("beacon-toast-list");e&&n&&(e.classList.remove("beacon-toast__upside_down"),n.classList.add("hide"),n.classList.remove("show"))},tr=t=>{const e=t.getElementById("beacon-toast-button-expand"),n=t.getElementById("beacon-toast-list");e&&n&&(e.classList.add("beacon-toast__upside_down"),n.classList.remove("hide"),n.classList.add("show"))},er=t=>{const e=t.getElementById("beacon-toast-button-expand"),n=t.getElementById("beacon-toast-list");e&&n&&(e.classList.contains("beacon-toast__upside_down")?$n(t):tr(t))},nr=(t,e,n)=>Hn(void 0,void 0,void 0,(function*(){const r=e.actions;if(r&&r.length>0){const e=r.map((t=>Hn(void 0,void 0,void 0,(function*(){return e=t,Hn(void 0,void 0,void 0,(function*(){const{text:t,isBold:n,actionText:r,actionLogo:i,actionCallback:o}=e,s=yield st(),a=Wn.createElement("div");a.classList.add("beacon-toast__action__item"),zn(a);const l=t=>wn("strong",[],[],t);if(o){t.length>0&&a.appendChild(wn("p",[],[],t));const e=wn("span",[],[],[wn("span",[],[],r),i&&"external"===i?bn(["svg-inline--fa","fa-external-link-alt","fa-w-16"],[["aria-hidden","true"],["focusable","false"],["data-prefix","fas"],["data-icon","external-link-alt"],["role","img"],["xmlns","http://www.w3.org/2000/svg"],["viewBox","0 0 512 512"]],[En([["fill","currentColor"],["d","M432,320H400a16,16,0,0,0-16,16V448H64V128H208a16,16,0,0,0,16-16V80a16,16,0,0,0-16-16H48A48,48,0,0,0,0,112V464a48,48,0,0,0,48,48H400a48,48,0,0,0,48-48V336A16,16,0,0,0,432,320ZM488,0h-128c-21.37,0-32.05,25.91-17,41l35.73,35.73L135,320.37a24,24,0,0,0,0,34L157.67,377a24,24,0,0,0,34,0L435.28,133.32,471,169c15,15,41,4.5,41-17V24A24,24,0,0,0,488,0Z"]])]):void 0]);a.appendChild(wn("p",[],[],[wn("a",[],[["id",s]],[n?l([e]):e])]))}else if(r){t.length>0&&a.appendChild(wn("p",["beacon-toast__action__item__subtitle"],[],t));const e=wn("span",[],[],r);a.appendChild(wn("p",[],[],[n?l([e]):e]))}else{const e=wn("p",[],[],t);a.appendChild(n?l([e]):e)}return o&&a.addEventListener("click",o),a}));var e}))));(yield Promise.all(e)).forEach((t=>n.appendChild(t)));const i=Wn.createElement("small");i.classList.add("beacon-toast__powered"),i.appendChild(wn("a",[],[["href","https://walletbeacon.io"],["target","_blank"]],[document.createTextNode("powered by"),bn([],[["id","f63e95a9-fd19-4487-bc1a-09eb2f066704"],["data-name","Guides"],["xmlns","http://www.w3.org/2000/svg"],["width","65"],["height","65"],["viewBox","0 0 65 65"]],[wn("title",[],[],"beacon_logo"),En([["fill","currentColor"],["d","M59.66,29.52v1.06c0,.37-.18,9.07-4.11,15.88S44.16,57.75,43.84,57.93l-.91.54-1.61-.93-9.19-5.3a14.68,14.68,0,0,1-1.63-1.06h0a14.09,14.09,0,0,1-1.29-1,17.63,17.63,0,0,1-2.56-2.7,18.58,18.58,0,0,1-2.56-4.51,21.53,21.53,0,0,1-1.5-9,6.21,6.21,0,0,1,2.93-.73c.25,0,.49,0,.74,0a18.29,18.29,0,0,0,1,7.93,15.06,15.06,0,0,0,6.67,8l8.93,5.16c.2-.13.43-.3.68-.48,2.26-1.6,6.42-4.92,8.86-9.13C55.12,39.94,55.8,34,56,31.57l-3.79-2.19a23,23,0,0,0,.6-3.83Z"]]),En([["fill","currentColor"],["d","M49.22,11.43V23.89c0,.65,0,1.3-.1,1.94v0c-.06.55-.13,1.1-.24,1.63A18,18,0,0,1,47.82,31a19.11,19.11,0,0,1-2.62,4.49,21.37,21.37,0,0,1-7.07,5.8,6.08,6.08,0,0,1-2.42-2.84A18.1,18.1,0,0,0,42,33.7h0a15.12,15.12,0,0,0,3.58-9.81V13.6c-.21-.11-.47-.21-.74-.35-2.52-1.16-7.47-3.1-12.36-3.1-5.42,0-11,2.4-13.08,3.45V18a22.54,22.54,0,0,0-3.63,1.38V11.43l.92-.52c.33-.18,8-4.38,15.79-4.38s15.48,4.2,15.8,4.38Z"]]),En([["fill","currentColor"],["d","M18,26.4,9,31.55q0,.35.06.78a31.63,31.63,0,0,0,3.49,12.28c2.71,4.71,7.55,8.3,9.53,9.64l3.79-2.19a23.33,23.33,0,0,0,3,2.44l-6.88,4-.92-.54c-.31-.18-7.75-4.69-11.68-11.5S5.36,30.92,5.35,30.56V29.49L7,28.55l9.17-5.29c.57-.32,1.14-.61,1.72-.87a13.46,13.46,0,0,1,1.55-.61A17.52,17.52,0,0,1,23,20.91a19.2,19.2,0,0,1,5.19,0,21.49,21.49,0,0,1,8.55,3.24,6.29,6.29,0,0,1-1.25,3.51,17.9,17.9,0,0,0-7.3-3.06A15.14,15.14,0,0,0,18,26.4Z"]])]),document.createTextNode("Beacon")])),n.appendChild(i),(t=>{Yn(t,"beacon-toast-button-expand"),Jn(t,"beacon-toast-button-close")})(t)}else Zn(t),$n(t)})),rr=t=>Hn(void 0,void 0,void 0,(function*(){Gn=t;const e=t.timer,n=Wn.createElement("div");n.setAttribute("id","beacon-toast-wrapper");const r=n.attachShadow({mode:"open"}),i=Wn.createElement("div"),{style:o,html:s}=(t=>{const e=t.body,n=Vn(e),r=(t=>wn("div",["beacon-toast__base","animated","fadeIn"],[["id","beacon-toast"]],[wn("div",["beacon-toast__content"],[],[wn("span",[],[["id","beacon-text"]],[wn("p",[],[["id","beacon-text-content"]],t),wn("a",["beacon-toast__wallet__link"],[["id","beacon-open-wallet"]],[wn("span",[],[],"Open"),bn(["svg-inline--fa","fa-external-link-alt","fa-w-16"],[["aria-hidden","true"],["focusable","false"],["data-prefix","fas"],["data-icon","external-link-alt"],["role","img"],["xmlns","http://www.w3.org/2000/svg"],["viewBox","0 0 512 512"]],[En([["fill","currentColor"],["d","M432,320H400a16,16,0,0,0-16,16V448H64V128H208a16,16,0,0,0,16-16V80a16,16,0,0,0-16-16H48A48,48,0,0,0,0,112V464a48,48,0,0,0,48,48H400a48,48,0,0,0,48-48V336A16,16,0,0,0,432,320ZM488,0h-128c-21.37,0-32.05,25.91-17,41l35.73,35.73L135,320.37a24,24,0,0,0,0,34L157.67,377a24,24,0,0,0,34,0L435.28,133.32,471,169c15,15,41,4.5,41-17V24A24,24,0,0,0,488,0Z"]])])])]),bn(["beacon-toast__more","svg-inline--fa","fa-angle-down","fa-w-10"],[["id","beacon-toast-button-expand"],["aria-hidden","true"],["focusable","false"],["data-prefix","fas"],["data-icon","angle-down"],["role","img"],["xmlns","http://www.w3.org/2000/svg"],["viewBox","0 0 320 512"]],[En([["fill","currentColor"],["d","M143 352.3L7 216.3c-9.4-9.4-9.4-24.6 0-33.9l22.6-22.6c9.4-9.4 24.6-9.4 33.9 0l96.4 96.4 96.4-96.4c9.4-9.4 24.6-9.4 33.9 0l22.6 22.6c9.4 9.4 9.4 24.6 0 33.9l-136 136c-9.2 9.4-24.4 9.4-33.8 0z"]])]),bn(["beacon-toast__more","svg-inline--fa","fa-times","fa-w-10"],[["id","beacon-toast-button-close"],["aria-hidden","true"],["focusable","false"],["data-prefix","fal"],["data-icon","times"],["role","img"],["xmlns","http://www.w3.org/2000/svg"],["viewBox","0 0 320 512"]],[En([["fill","currentColor"],["d","M193.94 256L296.5 153.44l21.15-21.15c3.12-3.12 3.12-8.19 0-11.31l-22.63-22.63c-3.12-3.12-8.19-3.12-11.31 0L160 222.06 36.29 98.34c-3.12-3.12-8.19-3.12-11.31 0L2.34 120.97c-3.12 3.12-3.12 8.19 0 11.31L126.06 256 2.34 379.71c-3.12 3.12-3.12 8.19 0 11.31l22.63 22.63c3.12 3.12 8.19 3.12 11.31 0L160 289.94 262.56 392.5l21.15 21.15c3.12 3.12 8.19 3.12 11.31 0l22.63-22.63c3.12-3.12 3.12-8.19 0-11.31L193.94 256z"]])])]),wn("div",["progress-line"],[["id","beacon-toast-loader"]],""),wn("hr",["hide"],[["id","beacon-toast-loader-placeholder"]],""),wn("div",["beacon-toast__more--action"],[["id","beacon-toast-list"]],"")]))([wn("span",["beacon-toast__wallet__outer"],[],n)]);return{style:Kn,html:r}})(t);i.appendChild(s);const a=Wn.createElement("style");a.textContent=o,r.appendChild(i),r.appendChild(a),e&&(qn=window.setTimeout((()=>Hn(void 0,void 0,void 0,(function*(){yield Qn()}))),e)),Wn.body.prepend(n);const l=Nn(),c=r.getElementById("beacon-toast");c&&c.classList.add(`theme__${l}`);const u=r.getElementById("beacon-toast-list");u&&(yield nr(r,t,u));const h=r.getElementById("beacon-open-wallet");h&&(t.openWalletAction?h.addEventListener("click",(()=>{t.openWalletAction&&t.openWalletAction()})):h.classList.add("hide")),"loading"===Gn.state&&(Fn=window.setTimeout((()=>Hn(void 0,void 0,void 0,(function*(){const t=r.getElementById("beacon-toast-button-expand");t&&!t.classList.contains("beacon-toast__upside_down")&&er(r)}))),5e3)),Xn(r,"beacon-toast-button-done",(()=>Hn(void 0,void 0,void 0,(function*(){yield Qn()}))));const f=Xn(r,"beacon-toast-button-close",(()=>Hn(void 0,void 0,void 0,(function*(){yield Qn()}))));f&&"loading"===Gn.state&&f.classList.add("hide"),Xn(r,"beacon-toast-button-expand",(()=>Hn(void 0,void 0,void 0,(function*(){er(r)}))))})),ir=t=>Hn(void 0,void 0,void 0,(function*(){var e;if(Fn&&clearTimeout(Fn),Wn.getElementById("beacon-toast-wrapper")?t.forceNew?(yield Qn(),yield rr(t)):yield(t=>Hn(void 0,void 0,void 0,(function*(){Gn=Object.assign(Object.assign({},Gn),t);const e=t.timer,n=Wn.getElementById("beacon-toast-wrapper");if(!n)return;const r=n.shadowRoot;if(!r)return;const i=r.getElementById("beacon-toast-list");i&&(zn(i),yield nr(r,t,i)),"loading"===Gn.state&&(Fn=window.setTimeout((()=>Hn(void 0,void 0,void 0,(function*(){const t=r.getElementById("beacon-toast-button-expand");t&&!t.classList.contains("beacon-toast__upside_down")&&er(r)}))),5e3));const o=r.getElementById("beacon-text-content");o&&(zn(o),o.appendChild(wn("span",["beacon-toast__wallet__outer"],[],Vn(t.body))));const s=r.getElementById("beacon-open-wallet");s&&(t.openWalletAction?(s.classList.remove("hide"),s.addEventListener("click",(()=>{t.openWalletAction&&t.openWalletAction()}))):s.classList.add("hide")),e&&(qn=window.setTimeout((()=>Hn(void 0,void 0,void 0,(function*(){yield Qn()}))),e));const a=r.getElementById("beacon-toast-button-done");a&&a.addEventListener("click",(()=>Hn(void 0,void 0,void 0,(function*(){yield Qn()}))))})))(t):yield rr(t),Gn&&"finished"===Gn.state){const t=null===(e=Wn.getElementById("beacon-toast-wrapper"))||void 0===e?void 0:e.shadowRoot;t&&((t=>{Jn(t,"beacon-toast-loader"),Yn(t,"beacon-toast-loader-placeholder")})(t),Zn(t),tr(t))}})),or=t=>t.length>=12?`${t.substr(0,5)}...${t.substr(-5)}`:t;var sr=function(t,e,n,r){return new(n||(n=Promise))((function(i,o){function s(t){try{l(r.next(t))}catch(t){o(t)}}function a(t){try{l(r.throw(t))}catch(t){o(t)}}function l(t){var e;t.done?i(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(s,a)}l((r=r.apply(t,e||[])).next())}))};const ar=new St("BeaconEvents"),lr=5e3;var cr;!function(t){t.PERMISSION_REQUEST_SENT="PERMISSION_REQUEST_SENT",t.PERMISSION_REQUEST_SUCCESS="PERMISSION_REQUEST_SUCCESS",t.PERMISSION_REQUEST_ERROR="PERMISSION_REQUEST_ERROR",t.OPERATION_REQUEST_SENT="OPERATION_REQUEST_SENT",t.OPERATION_REQUEST_SUCCESS="OPERATION_REQUEST_SUCCESS",t.OPERATION_REQUEST_ERROR="OPERATION_REQUEST_ERROR",t.SIGN_REQUEST_SENT="SIGN_REQUEST_SENT",t.SIGN_REQUEST_SUCCESS="SIGN_REQUEST_SUCCESS",t.SIGN_REQUEST_ERROR="SIGN_REQUEST_ERROR",t.BROADCAST_REQUEST_SENT="BROADCAST_REQUEST_SENT",t.BROADCAST_REQUEST_SUCCESS="BROADCAST_REQUEST_SUCCESS",t.BROADCAST_REQUEST_ERROR="BROADCAST_REQUEST_ERROR",t.ACKNOWLEDGE_RECEIVED="ACKNOWLEDGE_RECEIVED",t.LOCAL_RATE_LIMIT_REACHED="LOCAL_RATE_LIMIT_REACHED",t.NO_PERMISSIONS="NO_PERMISSIONS",t.ACTIVE_ACCOUNT_SET="ACTIVE_ACCOUNT_SET",t.ACTIVE_TRANSPORT_SET="ACTIVE_TRANSPORT_SET",t.SHOW_PREPARE="SHOW_PREPARE",t.HIDE_UI="HIDE_UI",t.PAIR_INIT="PAIR_INIT",t.PAIR_SUCCESS="PAIR_SUCCESS",t.CHANNEL_CLOSED="CHANNEL_CLOSED",t.INTERNAL_ERROR="INTERNAL_ERROR",t.UNKNOWN="UNKNOWN"}(cr||(cr={}));const ur=t=>sr(void 0,void 0,void 0,(function*(){let e;const n=[];if(t.walletInfo.deeplink&&("web"===t.walletInfo.type||"mobile"===t.walletInfo.type&&Ze(window)||"desktop"===t.walletInfo.type&&!Ze(window))){const n=t.walletInfo.deeplink;e=()=>sr(void 0,void 0,void 0,(function*(){const t=document.createElement("a");t.setAttribute("href",n),t.setAttribute("target","_blank"),t.dispatchEvent(new MouseEvent("click",{view:window,bubbles:!0,cancelable:!0}))}))}n.push({text:"No answer from your wallet received yet. Please make sure the wallet is open.",isBold:!0}),n.push({text:"Did you make a mistake?",actionText:"Cancel Request",actionCallback:()=>sr(void 0,void 0,void 0,(function*(){yield Qn()}))}),n.push({text:"Wallet not receiving request?",actionText:"Reset Connection",actionCallback:()=>sr(void 0,void 0,void 0,(function*(){yield Qn();const e=t.extraInfo.resetCallback;e&&(ar.log("showSentToast","resetCallback invoked"),yield e())}))}),ir({body:"Request sent to {{wallet}}",walletInfo:t.walletInfo,state:"loading",actions:n,openWalletAction:e}).catch((t=>console.error(t)))})),hr=(t,e)=>sr(void 0,void 0,void 0,(function*(){var n,r,i,o,s,a;const l=t.errorResponse.errorType?Ot.getError(t.errorResponse.errorType,t.errorResponse.errorData):new jt,c=[{text:l.title,isBold:!0}];if(t.errorResponse.errorType===Y.TRANSACTION_INVALID_ERROR&&t.errorResponse.errorData){const u=t.errorResponse.errorData,h=t.errorMessages;let f=!1;if((null===(n=u[0])||void 0===n?void 0:n.contract_handle)&&h&&(null==h?void 0:h[u[0].contract_handle])){const t=null!==(o=null===(i=null===(r=u[1])||void 0===r?void 0:r.with)||void 0===i?void 0:i.int)&&void 0!==o?o:null===(a=null===(s=u[1])||void 0===s?void 0:s.with)||void 0===a?void 0:a.string,e=null==h?void 0:h[u[0].contract_handle];t&&(null==e?void 0:e[t])&&(c.push({text:null==e?void 0:e[t],isBold:!0}),f=!0)}f||c.push({text:l.description}),c.push({text:"",actionText:"Show Details",actionCallback:()=>sr(void 0,void 0,void 0,(function*(){yield Qn(),yield jn({title:l.title,body:l.fullDescription.description,data:l.fullDescription.data,buttons:e})}))})}yield ir({body:"{{wallet}} has returned an error",timer:t.errorResponse.errorType===Y.ABORTED_ERROR?lr:void 0,state:"finished",walletInfo:t.walletInfo,actions:c})})),fr=()=>()=>sr(void 0,void 0,void 0,(function*(){})),dr={[cr.PERMISSION_REQUEST_SENT]:ur,[cr.PERMISSION_REQUEST_SUCCESS]:t=>sr(void 0,void 0,void 0,(function*(){const{output:e}=t;yield ir({body:"{{wallet}} has granted permission",timer:lr,walletInfo:t.walletInfo,state:"finished",actions:[{text:"Address",actionText:or(e.address),isBold:!0},{text:"Network",actionText:`${e.network.type}`},{text:"Permissions",actionText:e.scopes.join(", ")}]})})),[cr.PERMISSION_REQUEST_ERROR]:hr,[cr.OPERATION_REQUEST_SENT]:ur,[cr.OPERATION_REQUEST_SUCCESS]:t=>sr(void 0,void 0,void 0,(function*(){const{account:e,output:n,blockExplorer:r}=t;yield ir({body:"{{wallet}} successfully submitted operation",timer:lr,state:"finished",walletInfo:t.walletInfo,actions:[{text:or(n.transactionHash),isBold:!0,actionText:"Open Blockexplorer",actionLogo:"external",actionCallback:()=>sr(void 0,void 0,void 0,(function*(){const t=yield r.getTransactionLink(n.transactionHash,e.network);window.open(t,"_blank"),yield Qn()}))}]})})),[cr.OPERATION_REQUEST_ERROR]:hr,[cr.SIGN_REQUEST_SENT]:ur,[cr.SIGN_REQUEST_SUCCESS]:t=>sr(void 0,void 0,void 0,(function*(){const e=t.output;yield ir({body:"{{wallet}} successfully signed payload",timer:lr,state:"finished",walletInfo:t.walletInfo,actions:[{text:`Signature: ${or(e.signature)}`,actionText:"Copy to clipboard",actionCallback:()=>sr(void 0,void 0,void 0,(function*(){navigator.clipboard.writeText(e.signature).then((()=>{ar.log("showSignSuccessAlert","Copying to clipboard was successful!")}),(t=>{ar.error("showSignSuccessAlert","Could not copy text to clipboard: ",t)})),yield Qn()}))}]})})),[cr.SIGN_REQUEST_ERROR]:hr,[cr.BROADCAST_REQUEST_SENT]:ur,[cr.BROADCAST_REQUEST_SUCCESS]:t=>sr(void 0,void 0,void 0,(function*(){const{network:e,output:n,blockExplorer:r}=t;yield ir({body:"{{wallet}} successfully injected operation",timer:lr,state:"finished",walletInfo:t.walletInfo,actions:[{text:or(n.transactionHash),isBold:!0,actionText:"Open Blockexplorer",actionLogo:"external",actionCallback:()=>sr(void 0,void 0,void 0,(function*(){const t=yield r.getTransactionLink(n.transactionHash,e);window.open(t,"_blank"),yield Qn()}))}]})})),[cr.BROADCAST_REQUEST_ERROR]:hr,[cr.ACKNOWLEDGE_RECEIVED]:t=>sr(void 0,void 0,void 0,(function*(){ir({body:"Awaiting confirmation in {{wallet}}",state:"acknowledge",walletInfo:t.walletInfo}).catch((t=>console.error(t)))})),[cr.LOCAL_RATE_LIMIT_REACHED]:()=>sr(void 0,void 0,void 0,(function*(){jn({title:"Error",body:"Rate limit reached. Please slow down",buttons:[{text:"Done",style:"outline"}],timer:3e3}).catch((t=>console.error(t)))})),[cr.NO_PERMISSIONS]:()=>sr(void 0,void 0,void 0,(function*(){yield jn({title:"No Permission",body:"Please allow the wallet to handle this type of request."})})),[cr.ACTIVE_ACCOUNT_SET]:fr(),[cr.ACTIVE_TRANSPORT_SET]:fr(),[cr.SHOW_PREPARE]:t=>sr(void 0,void 0,void 0,(function*(){const e=t.walletInfo?"Preparing Request for {{wallet}}...":"Preparing Request...";ir({body:e,state:"prepare",walletInfo:t.walletInfo}).catch((t=>console.error(t)))})),[cr.HIDE_UI]:t=>sr(void 0,void 0,void 0,(function*(){t?(t.includes("alert")&&Dn(),t.includes("toast")&&Qn()):Qn()})),[cr.PAIR_INIT]:t=>sr(void 0,void 0,void 0,(function*(){const e={title:"Choose your preferred wallet",body:"<p></p>",pairingPayload:{p2pSyncCode:t.p2pPeerInfo,postmessageSyncCode:t.postmessagePeerInfo,preferredNetwork:t.preferredNetwork},closeButtonCallback:t.abortedHandler,disclaimerText:t.disclaimerText};yield jn(e)})),[cr.PAIR_SUCCESS]:()=>sr(void 0,void 0,void 0,(function*(){yield Dn()})),[cr.CHANNEL_CLOSED]:()=>sr(void 0,void 0,void 0,(function*(){yield jn({title:"Channel closed",body:"Your peer has closed the connection.",buttons:[{text:"Done",style:"outline"}],timer:1500})})),[cr.INTERNAL_ERROR]:t=>sr(void 0,void 0,void 0,(function*(){var e;const n=[...null!==(e=t.buttons)&&void 0!==e?e:[]];n.push({text:"Done",style:"outline"});const r={title:"Internal Error",body:t.text,buttons:n};yield jn(r)})),[cr.UNKNOWN]:fr()};class pr{constructor(t={},e){this.callbackMap={[cr.PERMISSION_REQUEST_SENT]:[dr.PERMISSION_REQUEST_SENT],[cr.PERMISSION_REQUEST_SUCCESS]:[dr.PERMISSION_REQUEST_SUCCESS],[cr.PERMISSION_REQUEST_ERROR]:[dr.PERMISSION_REQUEST_ERROR],[cr.OPERATION_REQUEST_SENT]:[dr.OPERATION_REQUEST_SENT],[cr.OPERATION_REQUEST_SUCCESS]:[dr.OPERATION_REQUEST_SUCCESS],[cr.OPERATION_REQUEST_ERROR]:[dr.OPERATION_REQUEST_ERROR],[cr.SIGN_REQUEST_SENT]:[dr.SIGN_REQUEST_SENT],[cr.SIGN_REQUEST_SUCCESS]:[dr.SIGN_REQUEST_SUCCESS],[cr.SIGN_REQUEST_ERROR]:[dr.SIGN_REQUEST_ERROR],[cr.BROADCAST_REQUEST_SENT]:[dr.BROADCAST_REQUEST_SENT],[cr.BROADCAST_REQUEST_SUCCESS]:[dr.BROADCAST_REQUEST_SUCCESS],[cr.BROADCAST_REQUEST_ERROR]:[dr.BROADCAST_REQUEST_ERROR],[cr.ACKNOWLEDGE_RECEIVED]:[dr.ACKNOWLEDGE_RECEIVED],[cr.LOCAL_RATE_LIMIT_REACHED]:[dr.LOCAL_RATE_LIMIT_REACHED],[cr.NO_PERMISSIONS]:[dr.NO_PERMISSIONS],[cr.ACTIVE_ACCOUNT_SET]:[dr.ACTIVE_ACCOUNT_SET],[cr.ACTIVE_TRANSPORT_SET]:[dr.ACTIVE_TRANSPORT_SET],[cr.SHOW_PREPARE]:[dr.SHOW_PREPARE],[cr.HIDE_UI]:[dr.HIDE_UI],[cr.PAIR_INIT]:[dr.PAIR_INIT],[cr.PAIR_SUCCESS]:[dr.PAIR_SUCCESS],[cr.CHANNEL_CLOSED]:[dr.CHANNEL_CLOSED],[cr.INTERNAL_ERROR]:[dr.INTERNAL_ERROR],[cr.UNKNOWN]:[dr.UNKNOWN]},e&&this.setAllHandlers(),this.overrideDefaults(t)}on(t,e){return sr(this,void 0,void 0,(function*(){const n=this.callbackMap[t]||[];n.push(e),this.callbackMap[t]=n}))}emit(t,e,n){return sr(this,void 0,void 0,(function*(){const r=this.callbackMap[t];r&&r.length>0&&r.forEach((r=>sr(this,void 0,void 0,(function*(){try{yield r(e,n)}catch(e){ar.error(`error handling event ${t}`,e)}}))))}))}overrideDefaults(t){Object.keys(t).forEach((e=>{const n=e,r=t[n];r&&(this.callbackMap[n]=[r.handler])}))}setAllHandlers(t){Object.keys(this.callbackMap).forEach((e=>{const n=e;this.callbackMap[n]=[],t?this.callbackMap[n].push(t):this.callbackMap[n].push(((...t)=>{ar.log(e,...t)}))}))}}const gr={[F.BlockchainRequest]:{sent:cr.UNKNOWN,success:cr.UNKNOWN,error:cr.UNKNOWN},[F.BlockchainResponse]:{sent:cr.UNKNOWN,success:cr.UNKNOWN,error:cr.UNKNOWN},[F.PermissionRequest]:{sent:cr.PERMISSION_REQUEST_SENT,success:cr.PERMISSION_REQUEST_SUCCESS,error:cr.PERMISSION_REQUEST_ERROR},[F.PermissionResponse]:{sent:cr.UNKNOWN,success:cr.UNKNOWN,error:cr.UNKNOWN},[F.OperationRequest]:{sent:cr.OPERATION_REQUEST_SENT,success:cr.OPERATION_REQUEST_SUCCESS,error:cr.OPERATION_REQUEST_ERROR},[F.OperationResponse]:{sent:cr.UNKNOWN,success:cr.UNKNOWN,error:cr.UNKNOWN},[F.SignPayloadRequest]:{sent:cr.SIGN_REQUEST_SENT,success:cr.SIGN_REQUEST_SUCCESS,error:cr.SIGN_REQUEST_ERROR},[F.SignPayloadResponse]:{sent:cr.UNKNOWN,success:cr.UNKNOWN,error:cr.UNKNOWN},[F.BroadcastRequest]:{sent:cr.BROADCAST_REQUEST_SENT,success:cr.BROADCAST_REQUEST_SUCCESS,error:cr.BROADCAST_REQUEST_ERROR},[F.BroadcastResponse]:{sent:cr.UNKNOWN,success:cr.UNKNOWN,error:cr.UNKNOWN},[F.Acknowledge]:{sent:cr.UNKNOWN,success:cr.UNKNOWN,error:cr.UNKNOWN},[F.Disconnect]:{sent:cr.UNKNOWN,success:cr.UNKNOWN,error:cr.UNKNOWN},[F.Error]:{sent:cr.UNKNOWN,success:cr.UNKNOWN,error:cr.UNKNOWN}};class yr{constructor(t){this.rpcUrls=t}getLinkForNetwork(t){return e=this,n=void 0,i=function*(){return this.rpcUrls[t.type]},new((r=void 0)||(r=Promise))((function(t,o){function s(t){try{l(i.next(t))}catch(t){o(t)}}function a(t){try{l(i.throw(t))}catch(t){o(t)}}function l(e){var n;e.done?t(e.value):(n=e.value,n instanceof r?n:new r((function(t){t(n)}))).then(s,a)}l((i=i.apply(e,n||[])).next())}));var e,n,r,i}}var vr=function(t,e,n,r){return new(n||(n=Promise))((function(i,o){function s(t){try{l(r.next(t))}catch(t){o(t)}}function a(t){try{l(r.throw(t))}catch(t){o(t)}}function l(t){var e;t.done?i(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(s,a)}l((r=r.apply(t,e||[])).next())}))};class mr extends yr{constructor(t={[z.MAINNET]:"https://tzkt.io",[z.GHOSTNET]:"https://ghostnet.tzkt.io",[z.MONDAYNET]:"https://mondaynet.tzkt.io",[z.DAILYNET]:"https://dailynet.tzkt.io",[z.DELPHINET]:"https://delphinet.tzkt.io",[z.EDONET]:"https://edonet.tzkt.io",[z.FLORENCENET]:"https://florencenet.tzkt.io",[z.GRANADANET]:"https://granadanet.tzkt.io",[z.HANGZHOUNET]:"https://hangzhounet.tzkt.io",[z.ITHACANET]:"https://ithacanet.tzkt.io",[z.JAKARTANET]:"https://jakartanet.tzkt.io",[z.KATHMANDUNET]:"https://kathmandunet.tzkt.io",[z.LIMANET]:"https://limanet.tzkt.io",[z.MUMBAINET]:"https://mumbainet.tzkt.io",[z.CUSTOM]:"https://mumbainet.tzkt.io"}){super(t),this.rpcUrls=t}getAddressLink(t,e){return vr(this,void 0,void 0,(function*(){return`${yield this.getLinkForNetwork(e)}/${t}`}))}getTransactionLink(t,e){return vr(this,void 0,void 0,(function*(){return`${yield this.getLinkForNetwork(e)}/${t}`}))}}var wr=function(t,e,n,r){return new(n||(n=Promise))((function(i,o){function s(t){try{l(r.next(t))}catch(t){o(t)}}function a(t){try{l(r.throw(t))}catch(t){o(t)}}function l(t){var e;t.done?i(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(s,a)}l((r=r.apply(t,e||[])).next())}))};const br=new St("DappPostMessageTransport");class Er extends Qe{constructor(t,e,n){super(t,e,n,$.TRANSPORT_POSTMESSAGE_PEERS_DAPP)}startOpenChannelListener(){return wr(this,void 0,void 0,(function*(){return this.client.listenForChannelOpening((t=>wr(this,void 0,void 0,(function*(){br.log("connect","received PostMessagePairingResponse",t),yield this.addPeer(t),this._isConnected=J.CONNECTED,this.newPeerListener&&(this.newPeerListener(t),this.newPeerListener=void 0)}))))}))}listenForNewPeer(t){return wr(this,void 0,void 0,(function*(){br.log("listenForNewPeer"),this.newPeerListener=t}))}stopListeningForNewPeers(){return wr(this,void 0,void 0,(function*(){br.log("stopListeningForNewPeers"),this.newPeerListener=void 0}))}}var _r=function(t,e,n,r){return new(n||(n=Promise))((function(i,o){function s(t){try{l(r.next(t))}catch(t){o(t)}}function a(t){try{l(r.throw(t))}catch(t){o(t)}}function l(t){var e;t.done?i(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(s,a)}l((r=r.apply(t,e||[])).next())}))};const xr=new St("DappP2PTransport");class Ar extends je{constructor(t,e,n,r,i,o){super(t,e,n,r,$.TRANSPORT_P2P_PEERS_DAPP,i,o)}startOpenChannelListener(){return _r(this,void 0,void 0,(function*(){return this.client.listenForChannelOpening((t=>_r(this,void 0,void 0,(function*(){xr.log("listenForNewPeer","new publicKey",t.publicKey),yield this.addPeer(t),this._isConnected=J.CONNECTED,this.newPeerListener&&(this.newPeerListener(t),this.newPeerListener=void 0)}))))}))}listenForNewPeer(t){return _r(this,void 0,void 0,(function*(){xr.log("listenForNewPeer"),this.newPeerListener=t}))}stopListeningForNewPeers(){return _r(this,void 0,void 0,(function*(){xr.log("stopListeningForNewPeers"),this.newPeerListener=void 0}))}}var Sr=n(8764).Buffer,Tr=function(t,e,n,r){return new(n||(n=Promise))((function(i,o){function s(t){try{l(r.next(t))}catch(t){o(t)}}function a(t){try{l(r.throw(t))}catch(t){o(t)}}function l(t){var e;t.done?i(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(s,a)}l((r=r.apply(t,e||[])).next())}))};const Rr=new St("DAppClient");new St("IncomingRequestInterceptor"),new St("OutgoingResponseInterceptor"),new St("WalletClient");var Ir=n(8687);const kr=new class extends kt{constructor(t){var e,n,r,i,o;super(Object.assign({storage:t&&t.storage?t.storage:new Ft},t)),this.events=new pr,this.openRequests=new Map,this._activeAccount=new T,this._activePeer=new T,this.blockchains=new Map,this.events=new pr(t.eventHandlers,null!==(e=t.disableDefaultEvents)&&void 0!==e&&e),this.blockExplorer=null!==(n=t.blockExplorer)&&void 0!==n?n:new mr,this.preferredNetwork=null!==(r=t.preferredNetwork)&&void 0!==r?r:z.MAINNET,On(null!==(i=t.colorMode)&&void 0!==i?i:ct.LIGHT),this.disclaimerText=t.disclaimerText,this.errorMessages=null!==(o=t.errorMessages)&&void 0!==o?o:{},this.appMetadataManager=new Xt(this.storage),this.activeAccountLoaded=this.storage.get($.ACTIVE_ACCOUNT).then((t=>Tr(this,void 0,void 0,(function*(){t?yield this.setActiveAccount(yield this.accountManager.getAccount(t)):yield this.setActiveAccount(void 0)})))).catch((t=>Tr(this,void 0,void 0,(function*(){yield this.setActiveAccount(void 0),console.error(t)})))),this.handleResponse=(t,e)=>Tr(this,void 0,void 0,(function*(){var n,r;const i=this.openRequests.get(t.id);if(Rr.log("handleResponse","Received message",t,e),"3"===t.version){const r=t;if(i&&r.message.type===F.Acknowledge)Rr.log(`acknowledge message received for ${t.id}`),console.timeLog(t.id,"acknowledge"),this.events.emit(cr.ACKNOWLEDGE_RECEIVED,{message:r.message,extraInfo:{},walletInfo:yield this.getWalletInfo()}).catch(console.error);else if(i){const n=r.message.blockchainData.appMetadata;r.message.type===F.PermissionResponse&&n&&(yield this.appMetadataManager.addAppMetadata(n)),console.timeLog(r.id,"response"),console.timeEnd(r.id),r.message.type===F.Error?i.reject(r.message):i.resolve({message:t,connectionInfo:e}),this.openRequests.delete(r.id)}else if(r.message.type===F.Disconnect){const r=e.origin===Q.P2P?this.p2pTransport:null!==(n=this.postMessageTransport)&&void 0!==n?n:yield this.transport;if(r){const e=(yield r.getPeers()).find((e=>e.senderId===t.senderId));e?(yield r.removePeer(e),yield this.removeAccountsForPeers([e]),yield this.events.emit(cr.CHANNEL_CLOSED)):Rr.error("handleDisconnect","cannot find peer for sender ID",t.senderId)}}else Rr.error("handleResponse","no request found for id ",t.id,t)}else{const n=t;if(i&&n.type===F.Acknowledge)Rr.log(`acknowledge message received for ${t.id}`),console.timeLog(t.id,"acknowledge"),this.events.emit(cr.ACKNOWLEDGE_RECEIVED,{message:n,extraInfo:{},walletInfo:yield this.getWalletInfo()}).catch(console.error);else if(i)n.type===F.PermissionResponse&&n.appMetadata&&(yield this.appMetadataManager.addAppMetadata(n.appMetadata)),console.timeLog(n.id,"response"),console.timeEnd(n.id),n.type===F.Error||t.errorType?i.reject(n):i.resolve({message:t,connectionInfo:e}),this.openRequests.delete(n.id);else if(n.type===F.Disconnect||t.typedMessage.type===F.Disconnect){const n=e.origin===Q.P2P?this.p2pTransport:null!==(r=this.postMessageTransport)&&void 0!==r?r:yield this.transport;if(n){const e=(yield n.getPeers()).find((e=>e.senderId===t.senderId));e?(yield n.removePeer(e),yield this.removeAccountsForPeers([e]),yield this.events.emit(cr.CHANNEL_CLOSED)):Rr.error("handleDisconnect","cannot find peer for sender ID",t.senderId)}}else Rr.error("handleResponse","no request found for id ",t.id,t)}}))}initInternalTransports(){return Tr(this,void 0,void 0,(function*(){const t=yield this.keyPair;this.postMessageTransport||this.p2pTransport||(this.postMessageTransport=new Er(this.name,t,this.storage),yield this.addListener(this.postMessageTransport),this.p2pTransport=new Ar(this.name,t,this.storage,this.matrixNodes,this.iconUrl,this.appUrl),yield this.addListener(this.p2pTransport))}))}init(t){const e=Object.create(null,{init:{get:()=>super.init}});return Tr(this,void 0,void 0,(function*(){if(this._initPromise)return this._initPromise;try{yield this.activeAccountLoaded}catch(t){}return this._initPromise=new Promise((n=>Tr(this,void 0,void 0,(function*(){if(t)yield this.addListener(t),n(yield e.init.call(this,t));else if(this._transport.isSettled())yield(yield this.transport).connect(),n(yield e.init.call(this,yield this.transport));else{const t=yield this.getActiveAccount(),r=()=>{this.postMessageTransport&&this.postMessageTransport.stopListeningForNewPeers().catch(console.error),this.p2pTransport&&this.p2pTransport.stopListeningForNewPeers().catch(console.error)};if(yield this.initInternalTransports(),!this.postMessageTransport||!this.p2pTransport)return;if(this.postMessageTransport.connect().then().catch(console.error),t&&t.origin){const r=t.origin.type;r===Q.EXTENSION?n(yield e.init.call(this,this.postMessageTransport)):r===Q.P2P&&n(yield e.init.call(this,this.p2pTransport))}else{const t=this.p2pTransport,e=this.postMessageTransport;e.listenForNewPeer((t=>{Rr.log("init","postmessage transport peer connected",t),this.events.emit(cr.PAIR_SUCCESS,t).catch((t=>console.warn(t))),this.setActivePeer(t).catch(console.error),this.setTransport(this.postMessageTransport).catch(console.error),r(),n(Z.POST_MESSAGE)})).catch(console.error),t.listenForNewPeer((t=>{Rr.log("init","p2p transport peer connected",t),this.events.emit(cr.PAIR_SUCCESS,t).catch((t=>console.warn(t))),this.setActivePeer(t).catch(console.error),this.setTransport(this.p2pTransport).catch(console.error),r(),n(Z.P2P)})).catch(console.error),Qe.getAvailableExtensions().then((()=>Tr(this,void 0,void 0,(function*(){this.events.emit(cr.PAIR_INIT,{p2pPeerInfo:()=>(t.connect().then().catch(console.error),t.getPairingRequestInfo()),postmessagePeerInfo:()=>e.getPairingRequestInfo(),preferredNetwork:this.preferredNetwork,abortedHandler:()=>{console.log("ABORTED"),this._initPromise=void 0},disclaimerText:this.disclaimerText}).catch((t=>console.warn(t)))})))).catch((t=>{this._initPromise=void 0,console.error(t)}))}}})))),this._initPromise}))}getActiveAccount(){return Tr(this,void 0,void 0,(function*(){return this._activeAccount.promise}))}setActiveAccount(t){return Tr(this,void 0,void 0,(function*(){if(this._activeAccount.isSettled()?this._activeAccount=T.resolve(t):this._activeAccount.resolve(t),t){const e=t.origin.type;yield this.initInternalTransports(),e===Q.EXTENSION?yield this.setTransport(this.postMessageTransport):e===Q.P2P&&(yield this.setTransport(this.p2pTransport));const n=yield this.getPeer(t);yield this.setActivePeer(n)}else yield this.setActivePeer(void 0),yield this.setTransport(void 0);yield this.storage.set($.ACTIVE_ACCOUNT,t?t.accountIdentifier:void 0),yield this.events.emit(cr.ACTIVE_ACCOUNT_SET,t)}))}clearActiveAccount(){return this.setActiveAccount()}setColorMode(t){return Tr(this,void 0,void 0,(function*(){return On(t)}))}getColorMode(){return Tr(this,void 0,void 0,(function*(){return Nn()}))}getAppMetadata(){return Tr(this,void 0,void 0,(function*(){return this.getOwnAppMetadata()}))}showPrepare(){return Tr(this,void 0,void 0,(function*(){const t=yield(()=>Tr(this,void 0,void 0,(function*(){try{return yield this.getWalletInfo()}catch(t){return}})))();yield this.events.emit(cr.SHOW_PREPARE,{walletInfo:t})}))}hideUI(t){return Tr(this,void 0,void 0,(function*(){yield this.events.emit(cr.HIDE_UI,t)}))}removeAccount(t){const e=Object.create(null,{removeAccount:{get:()=>super.removeAccount}});return Tr(this,void 0,void 0,(function*(){const n=e.removeAccount.call(this,t),r=yield this.getActiveAccount();return r&&r.accountIdentifier===t&&(yield this.setActiveAccount(void 0)),n}))}removeAllAccounts(){const t=Object.create(null,{removeAllAccounts:{get:()=>super.removeAllAccounts}});return Tr(this,void 0,void 0,(function*(){yield t.removeAllAccounts.call(this),yield this.setActiveAccount(void 0)}))}removePeer(t,e=!1){return Tr(this,void 0,void 0,(function*(){const n=yield this.transport,r=n.removePeer(t);return yield this.removeAccountsForPeers([t]),e&&(yield this.sendDisconnectToPeer(t,n)),r}))}removeAllPeers(t=!1){return Tr(this,void 0,void 0,(function*(){const e=yield this.transport,n=yield e.getPeers(),r=e.removeAllPeers();if(yield this.removeAccountsForPeers(n),t){const t=n.map((t=>this.sendDisconnectToPeer(t,e)));yield Promise.all(t)}return r}))}subscribeToEvent(t,e){return Tr(this,void 0,void 0,(function*(){yield this.events.on(t,e)}))}checkPermissions(t){return Tr(this,void 0,void 0,(function*(){if(t===F.PermissionRequest)return!0;const e=yield this.getActiveAccount();if(!e)throw yield this.sendInternalError("No active account set!");const n=e.scopes;switch(t){case F.OperationRequest:return n.includes(G.OPERATION_REQUEST);case F.SignPayloadRequest:return n.includes(G.SIGN);case F.BroadcastRequest:return!0;default:return!1}}))}sendNotification(t,e,n,r){var i,o,s;return Tr(this,void 0,void 0,(function*(){const a=yield this.getActiveAccount();if(!a||a&&!a.scopes.includes(G.NOTIFICATION)&&!a.notification)throw new Error("notification permissions not given");if(!(null===(i=a.notification)||void 0===i?void 0:i.token))throw new Error("No AccessToken");const l=null===(o=a.notification)||void 0===o?void 0:o.apiUrl;if(!l)throw new Error("No Push URL set");return this.sendNotificationWithAccessToken({url:l,recipient:a.address,title:t,body:e,payload:n,protocolIdentifier:r,accessToken:null===(s=a.notification)||void 0===s?void 0:s.token})}))}addBlockchain(t){this.blockchains.set(t.identifier,t),t.getWalletLists().then((t=>{var e,n,r,i;i=t.desktopList,sn=i,r=t.extensionList,an=r,n=t.webList,ln=n,e=t.iOSList,cn=e}))}removeBlockchain(t){this.blockchains.delete(t)}permissionRequest(t){return Tr(this,void 0,void 0,(function*(){console.log("PERMISSION REQUEST");const e=this.blockchains.get(t.blockchainIdentifier);if(!e)throw new Error(`Blockchain "${t.blockchainIdentifier}" not supported by dAppClient`);const n=Object.assign(Object.assign({},t),{type:F.PermissionRequest,blockchainData:Object.assign(Object.assign({},t.blockchainData),{appMetadata:yield this.getOwnAppMetadata()})});console.log("REQUESTION PERMIMISSION V3","xxx",n);const{message:r,connectionInfo:i}=yield this.makeRequestV3(n).catch((t=>Tr(this,void 0,void 0,(function*(){throw new Error("TODO")}))));console.log("RESPONSE V3",r,i);const o=yield e.getAccountInfosFromPermissionResponse(r.message),s={accountIdentifier:o[0].accountId,senderId:r.senderId,origin:{type:i.origin,id:i.id},address:o[0].address,publicKey:o[0].publicKey,scopes:r.message.blockchainData.scopes,connectedAt:(new Date).getTime(),chainData:r.message.blockchainData};return yield this.accountManager.addAccount(s),yield this.setActiveAccount(s),yield e.handleResponse({request:n,account:s,output:r,blockExplorer:this.blockExplorer,connectionContext:i,walletInfo:yield this.getWalletInfo()}),yield this.notifySuccess(n,{account:s,output:{address:o[0].address,network:{type:z.MAINNET},scopes:[G.OPERATION_REQUEST]},blockExplorer:this.blockExplorer,connectionContext:i,walletInfo:yield this.getWalletInfo()}),r.message}))}request(t){return Tr(this,void 0,void 0,(function*(){console.log("REQUEST",t);const e=this.blockchains.get(t.blockchainIdentifier);if(!e)throw new Error(`Blockchain "${e}" not supported by dAppClient`);yield e.validateRequest(t);const n=yield this.getActiveAccount();if(!n)throw yield this.sendInternalError("No active account!");const r=Object.assign(Object.assign({},t),{type:F.BlockchainRequest,accountId:n.accountIdentifier}),{message:i,connectionInfo:o}=yield this.makeRequestV3(r).catch((t=>Tr(this,void 0,void 0,(function*(){throw console.error(t),new Error("TODO")}))));return yield e.handleResponse({request:r,account:n,output:i,blockExplorer:this.blockExplorer,connectionContext:o,walletInfo:yield this.getWalletInfo()}),i.message}))}requestPermissions(t){return Tr(this,void 0,void 0,(function*(){const e={appMetadata:yield this.getOwnAppMetadata(),type:F.PermissionRequest,network:t&&t.network?t.network:{type:z.MAINNET},scopes:t&&t.scopes?t.scopes:[G.OPERATION_REQUEST,G.SIGN]},{message:n,connectionInfo:r}=yield this.makeRequest(e).catch((t=>Tr(this,void 0,void 0,(function*(){throw yield this.handleRequestError(e,t)})))),i=n.publicKey||n.pubkey||n.pubKey,o=yield function(t){return B(this,void 0,void 0,(function*(){const e={edpk:{length:54,prefix:L.from(new Uint8Array([6,161,159]))},sppk:{length:55,prefix:L.from(new Uint8Array([6,161,161]))},p2pk:{length:55,prefix:L.from(new Uint8Array([6,161,164]))}};let n,r;if(64===t.length)n=e.edpk.prefix,r=t;else{const i=Object.entries(e);for(let e=0;e<i.length;e++){const[o,s]=i[e];if(t.startsWith(o)&&t.length===s.length){n=s.prefix;const e=R.decode(t);r=e.slice(o.length,e.length).toString("hex");break}}}if(!n||!r)throw new Error(`invalid publicKey: ${t}`);const i=(0,N.hash)(L.from(r,"hex"),20);return R.encode(L.concat([n,L.from(i)]))}))}(i),s={accountIdentifier:yield mt(o,n.network),senderId:n.senderId,origin:{type:r.origin,id:r.id},address:o,publicKey:i,network:n.network,scopes:n.scopes,threshold:n.threshold,notification:n.notification,connectedAt:(new Date).getTime()};yield this.accountManager.addAccount(s),yield this.setActiveAccount(s);const a=Object.assign(Object.assign({},n),{address:o,accountInfo:s});return yield this.notifySuccess(e,{account:s,output:a,blockExplorer:this.blockExplorer,connectionContext:r,walletInfo:yield this.getWalletInfo()}),a}))}requestSignPayload(t){return Tr(this,void 0,void 0,(function*(){if(!t.payload)throw yield this.sendInternalError("Payload must be provided");const e=yield this.getActiveAccount();if(!e)throw yield this.sendInternalError("No active account!");const n=t.payload;if("string"!=typeof n)throw new Error("Payload must be a string");const r=(()=>{switch(t.signingType){case lt.OPERATION:if(!n.startsWith("03"))throw new Error('When using signing type "OPERATION", the payload must start with prefix "03"');return lt.OPERATION;case lt.MICHELINE:if(!n.startsWith("05"))throw new Error('When using signing type "MICHELINE", the payload must start with prefix "05"');return lt.MICHELINE;case lt.RAW:default:return lt.RAW}})(),i={type:F.SignPayloadRequest,signingType:r,payload:n,sourceAddress:t.sourceAddress||e.address},{message:o,connectionInfo:s}=yield this.makeRequest(i).catch((t=>Tr(this,void 0,void 0,(function*(){throw yield this.handleRequestError(i,t)}))));return yield this.notifySuccess(i,{account:e,output:o,connectionContext:s,walletInfo:yield this.getWalletInfo()}),o}))}requestOperation(t){return Tr(this,void 0,void 0,(function*(){if(!t.operationDetails)throw yield this.sendInternalError("Operation details must be provided");const e=yield this.getActiveAccount();if(!e)throw yield this.sendInternalError("No active account!");const n={type:F.OperationRequest,network:e.network||{type:z.MAINNET},operationDetails:t.operationDetails,sourceAddress:e.address||""},{message:r,connectionInfo:i}=yield this.makeRequest(n).catch((t=>Tr(this,void 0,void 0,(function*(){throw yield this.handleRequestError(n,t)}))));return yield this.notifySuccess(n,{account:e,output:r,blockExplorer:this.blockExplorer,connectionContext:i,walletInfo:yield this.getWalletInfo()}),r}))}requestBroadcast(t){return Tr(this,void 0,void 0,(function*(){if(!t.signedTransaction)throw yield this.sendInternalError("Signed transaction must be provided");const e=t.network||{type:z.MAINNET},n={type:F.BroadcastRequest,network:e,signedTransaction:t.signedTransaction},{message:r,connectionInfo:i}=yield this.makeRequest(n).catch((t=>Tr(this,void 0,void 0,(function*(){throw yield this.handleRequestError(n,t)}))));return yield this.notifySuccess(n,{network:e,output:r,blockExplorer:this.blockExplorer,connectionContext:i,walletInfo:yield this.getWalletInfo()}),r}))}setActivePeer(t){return Tr(this,void 0,void 0,(function*(){this._activePeer.isSettled()?this._activePeer=T.resolve(t):this._activePeer.resolve(t),t&&(yield this.initInternalTransports(),"postmessage-pairing-response"===t.type?yield this.setTransport(this.postMessageTransport):"p2p-pairing-response"===t.type&&(yield this.setTransport(this.p2pTransport)))}))}setTransport(t){const e=Object.create(null,{setTransport:{get:()=>super.setTransport}});return Tr(this,void 0,void 0,(function*(){t||(this._initPromise=void 0);const n=e.setTransport.call(this,t);return yield this.events.emit(cr.ACTIVE_TRANSPORT_SET,t),n}))}sendInternalError(t){return Tr(this,void 0,void 0,(function*(){throw yield this.events.emit(cr.INTERNAL_ERROR,{text:t}),new Error(t)}))}removeAccountsForPeers(t){return Tr(this,void 0,void 0,(function*(){const e=yield this.accountManager.getAccounts(),n=t.map((t=>t.senderId)),r=e.filter((t=>n.includes(t.senderId))).map((t=>t.accountIdentifier));yield this.accountManager.removeAccounts(r);const i=yield this.getActiveAccount();i&&r.includes(i.accountIdentifier)&&(yield this.setActiveAccount(void 0))}))}handleRequestError(t,e){return Tr(this,void 0,void 0,(function*(){if(Rr.error("handleRequestError","error response",e),e.errorType){const n=[];if(e.errorType===Y.NO_PRIVATE_KEY_FOUND_ERROR){const e=()=>Tr(this,void 0,void 0,(function*(){const e=t;let n;if(e.sourceAddress&&e.network){const t=yield mt(e.sourceAddress,e.network);n=yield this.getAccount(t),n&&(yield this.removeAccount(n.accountIdentifier))}}));n.push({text:"Remove account",actionCallback:e})}const r=yield this.getPeer(),i=yield this.getActiveAccount();throw t.type===F.PermissionRequest&&void 0===(yield this.getActiveAccount())&&(this._initPromise=void 0,this.postMessageTransport=void 0,this.p2pTransport=void 0,yield this.setTransport(),yield this.setActivePeer()),this.events.emit(gr[t.type].error,{errorResponse:e,walletInfo:yield this.getWalletInfo(r,i),errorMessages:this.errorMessages},n).catch((t=>Rr.error("handleRequestError",t))),Ot.getError(e.errorType,e.errorData)}throw e}))}notifySuccess(t,e){return Tr(this,void 0,void 0,(function*(){this.events.emit(gr[t.type].success,e).catch((t=>console.warn(t)))}))}getWalletInfo(t,e){var n,r;return Tr(this,void 0,void 0,(function*(){const i=e||(yield this.getActiveAccount()),o=t||(yield this.getPeer(i));let s;i&&(s=yield this.appMetadataManager.getAppMetadata(i.senderId));const a=o;s||(s={name:a.name,icon:a.icon});const l=(t,e)=>!(!t||!e)&&t.toLowerCase()===e.toLowerCase();let c,u;if(dn().find((t=>l(t.name,null==s?void 0:s.name)))?(c=dn().find((t=>l(t.name,null==s?void 0:s.name))),u="mobile"):fn().find((t=>l(t.name,null==s?void 0:s.name)))?(c=fn().find((t=>l(t.name,null==s?void 0:s.name))),u="web"):un().find((t=>l(t.name,null==s?void 0:s.name)))?(c=un().find((t=>l(t.name,null==s?void 0:s.name))),u="desktop"):hn().find((t=>l(t.name,null==s?void 0:s.name)))&&(c=hn().find((t=>l(t.name,null==s?void 0:s.name))),u="extension"),c){let t;return c.hasOwnProperty("links")?t=c.links[null!==(n=null==i?void 0:i.network.type)&&void 0!==n?n:this.preferredNetwork]:c.hasOwnProperty("deepLink")&&(t=c.deepLink),{name:s.name,icon:null!==(r=s.icon)&&void 0!==r?r:c.logo,deeplink:t,type:u}}return s}))}getPeer(t){var e,n,r,i;return Tr(this,void 0,void 0,(function*(){let o;if(t){Rr.log("getPeer","We have an account",t);const s=[...null!==(n=yield null===(e=this.postMessageTransport)||void 0===e?void 0:e.getPeers())&&void 0!==n?n:[],...null!==(i=yield null===(r=this.p2pTransport)||void 0===r?void 0:r.getPeers())&&void 0!==i?i:[]];Rr.log("getPeer","Found peers",s,t),o=s.find((e=>e.senderId===t.senderId)),o||(o=s.find((e=>e.extensionId===t.origin.id)))}else o=yield this._activePeer.promise,Rr.log("getPeer","Active peer",o);if(!o)throw new Error("No matching peer found.");return o}))}makeRequest(t){var e;return Tr(this,void 0,void 0,(function*(){const n=yield st();if(console.time(n),Rr.log("makeRequest","starting"),yield this.init(),console.timeLog(n,"init done"),Rr.log("makeRequest","after init"),yield this.addRequestAndCheckIfRateLimited())throw this.events.emit(cr.LOCAL_RATE_LIMIT_REACHED).catch((t=>console.warn(t))),new Error("rate limit reached");if(!(yield this.checkPermissions(t.type)))throw this.events.emit(cr.NO_PERMISSIONS).catch((t=>console.warn(t))),new Error("No permissions to send this request to wallet!");if(!this.beaconId)throw yield this.sendInternalError("BeaconID not defined");const r=Object.assign({id:n,version:"2",senderId:yield xt(yield this.beaconId)},t),i=new T;this.addOpenRequest(r.id,i);const o=yield(new Vt).serialize(r),s=yield this.getActiveAccount(),a=yield this.getPeer(s),l=yield this.getWalletInfo(a,s);Rr.log("makeRequest","sending message",r),console.timeLog(n,"sending");try{yield(yield this.transport).send(o,a)}catch(t){throw this.events.emit(cr.INTERNAL_ERROR,{text:"Unable to send message. If this problem persists, please reset the connection and pair your wallet again.",buttons:[{text:"Reset Connection",actionCallback:()=>Tr(this,void 0,void 0,(function*(){yield Qn(),this.disconnect()}))}]}),console.timeLog(n,"send error"),t}return console.timeLog(n,"sent"),this.events.emit(gr[t.type].sent,{walletInfo:Object.assign(Object.assign({},l),{name:null!==(e=l.name)&&void 0!==e?e:"Wallet"}),extraInfo:{resetCallback:()=>Tr(this,void 0,void 0,(function*(){this.disconnect()}))}}).catch((t=>console.warn(t))),i.promise}))}makeRequestV3(t){var e;return Tr(this,void 0,void 0,(function*(){const n=yield st();if(console.time(n),Rr.log("makeRequest","starting"),yield this.init(),console.timeLog(n,"init done"),Rr.log("makeRequest","after init"),yield this.addRequestAndCheckIfRateLimited())throw this.events.emit(cr.LOCAL_RATE_LIMIT_REACHED).catch((t=>console.warn(t))),new Error("rate limit reached");if(!this.beaconId)throw yield this.sendInternalError("BeaconID not defined");const r={id:n,version:"3",senderId:yield xt(yield this.beaconId),message:t},i=new T;this.addOpenRequest(r.id,i);const o=yield(new Vt).serialize(r),s=yield this.getActiveAccount(),a=yield this.getPeer(s),l=yield this.getWalletInfo(a,s);Rr.log("makeRequest","sending message",r),console.timeLog(n,"sending");try{yield(yield this.transport).send(o,a)}catch(t){throw this.events.emit(cr.INTERNAL_ERROR,{text:"Unable to send message. If this problem persists, please reset the connection and pair your wallet again.",buttons:[{text:"Reset Connection",actionCallback:()=>Tr(this,void 0,void 0,(function*(){yield Qn(),this.disconnect()}))}]}),console.timeLog(n,"send error"),t}console.timeLog(n,"sent");const c=t.type;return this.events.emit(gr[c].sent,{walletInfo:Object.assign(Object.assign({},l),{name:null!==(e=l.name)&&void 0!==e?e:"Wallet"}),extraInfo:{resetCallback:()=>Tr(this,void 0,void 0,(function*(){this.disconnect()}))}}).catch((t=>console.warn(t))),i.promise}))}disconnect(){return Tr(this,void 0,void 0,(function*(){this.postMessageTransport=void 0,this.p2pTransport=void 0,yield Promise.all([this.clearActiveAccount(),(yield this.transport).disconnect()])}))}addOpenRequest(t,e){Rr.log("addOpenRequest",this.name,`adding request ${t} and waiting for answer`),this.openRequests.set(t,e)}sendNotificationWithAccessToken(t){return Tr(this,void 0,void 0,(function*(){const{url:e,recipient:n,title:r,body:i,payload:o,protocolIdentifier:s,accessToken:a}=t,l=(new Date).toISOString(),c=yield this.keyPair,u=c.publicKey,h=Sr.from(new Uint8Array([13,15,37,217])),f=R.encode(Sr.concat([h,Sr.from(u)])),d=U(["Tezos Signed Message: ",n,r,i,l,o].join(" ")),p="0501"+d.length.toString(16).padStart(8,"0")+d,g=yield((t,e)=>B(void 0,void 0,void 0,(function*(){const n=yield(t=>B(void 0,void 0,void 0,(function*(){if(t.length%2!=0)return(0,O.cv)(t);let e=t;t.startsWith("0x")&&(e=t.slice(2));const n=L.from(e,"hex");return n.length===e.length/2?n:(0,O.cv)(t)})))(t),r=new Uint8Array([9,245,205,134,18]),i=yield((t,e=32)=>B(void 0,void 0,void 0,(function*(){return(0,N.hash)(t,e)})))(n),o=(0,C.Xx)(e.secretKey,i);return R.encode(L.concat([L.from(r),L.from(o)]))})))(p,{secretKey:Sr.from(c.secretKey)});return(yield ce().post(`${e}/send`,{recipient:n,title:r,body:i,timestamp:l,payload:o,accessToken:a,protocolIdentifier:s,sender:{name:this.name,publicKey:f,signature:g}})).data}))}}({name:"INTERFACE.NET"});var Or,Nr="";const Cr=t=>(0,Ir.request)("https://data.objkt.com/v3/graphql",`query getUser {\n    holder(where: {address: {_eq: "${t}"}}) {\n      alias\n      description\n      discord\n      dns\n      email\n      ethereum\n      facebook\n      flag\n      github\n      gitlab\n      inserted_at\n      instagram\n      last_metadata_update\n      logo\n      medium\n      reddit\n      slack\n      support\n      telegram\n      twitter\n      tzdomain\n      website\n    }\n  }`).then((t=>(t=>{Or=t;const e=document.getElementById("playOpt").firstChild,n=new Image(30,30);n.className="starticon",n.id="profile",n.src=t.logo,n.addEventListener("click",(()=>{window.confirm("Unsynchronize your wallet?")&&(kr.clearActiveAccount(),document.getElementById("walletsyncbutton").style.display="block",n.remove())})),e.append(n)})(t.holder[0]))).catch((t=>console.log("Could not load data from OBJKT.COM"))),Pr=()=>kr.requestPermissions().then((t=>{Nr=t.address,Cr(Nr),Vl(Nr)})).catch((t=>console.log(t)));function Lr(t,e){if("function"!=typeof t[Symbol.iterator])throw new TypeError("values is not iterable");if("function"!=typeof e)throw new TypeError("mapper is not a function");return Array.from(t,((n,r)=>e(n,r,t)))}function Br(t,e){return null==t||null==e?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function Mr(t,e){return(null==t||!(t>=t))-(null==e||!(e>=e))||(t<e?-1:t>e?1:0)}function Ur(){}function Dr(t){return null==t?Ur:function(){return this.querySelector(t)}}function jr(){return[]}function Kr(t){return null==t?jr:function(){return this.querySelectorAll(t)}}function Hr(t){return function(){return this.matches(t)}}function Wr(t){return function(e){return e.matches(t)}}kr.getActiveAccount().then((t=>{t&&(Nr=t.address,Cr(Nr),Vl(Nr))}));var qr=Array.prototype.find;function Fr(){return this.firstElementChild}var Gr=Array.prototype.filter;function zr(){return Array.from(this.children)}function Vr(t){return new Array(t.length)}function Qr(t,e){this.ownerDocument=t.ownerDocument,this.namespaceURI=t.namespaceURI,this._next=null,this._parent=t,this.__data__=e}function Xr(t,e,n,r,i,o){for(var s,a=0,l=e.length,c=o.length;a<c;++a)(s=e[a])?(s.__data__=o[a],r[a]=s):n[a]=new Qr(t,o[a]);for(;a<l;++a)(s=e[a])&&(i[a]=s)}function Yr(t,e,n,r,i,o,s){var a,l,c,u=new Map,h=e.length,f=o.length,d=new Array(h);for(a=0;a<h;++a)(l=e[a])&&(d[a]=c=s.call(l,l.__data__,a,e)+"",u.has(c)?i[a]=l:u.set(c,l));for(a=0;a<f;++a)c=s.call(t,o[a],a,o)+"",(l=u.get(c))?(r[a]=l,l.__data__=o[a],u.delete(c)):n[a]=new Qr(t,o[a]);for(a=0;a<h;++a)(l=e[a])&&u.get(d[a])===l&&(i[a]=l)}function Jr(t){return t.__data__}function Zr(t){return"object"==typeof t&&"length"in t?t:Array.from(t)}function $r(t,e){return t<e?-1:t>e?1:t>=e?0:NaN}Qr.prototype={constructor:Qr,appendChild:function(t){return this._parent.insertBefore(t,this._next)},insertBefore:function(t,e){return this._parent.insertBefore(t,e)},querySelector:function(t){return this._parent.querySelector(t)},querySelectorAll:function(t){return this._parent.querySelectorAll(t)}};var ti="http://www.w3.org/1999/xhtml";const ei={svg:"http://www.w3.org/2000/svg",xhtml:ti,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function ni(t){var e=t+="",n=e.indexOf(":");return n>=0&&"xmlns"!==(e=t.slice(0,n))&&(t=t.slice(n+1)),ei.hasOwnProperty(e)?{space:ei[e],local:t}:t}function ri(t){return function(){this.removeAttribute(t)}}function ii(t){return function(){this.removeAttributeNS(t.space,t.local)}}function oi(t,e){return function(){this.setAttribute(t,e)}}function si(t,e){return function(){this.setAttributeNS(t.space,t.local,e)}}function ai(t,e){return function(){var n=e.apply(this,arguments);null==n?this.removeAttribute(t):this.setAttribute(t,n)}}function li(t,e){return function(){var n=e.apply(this,arguments);null==n?this.removeAttributeNS(t.space,t.local):this.setAttributeNS(t.space,t.local,n)}}function ci(t){return t.ownerDocument&&t.ownerDocument.defaultView||t.document&&t||t.defaultView}function ui(t){return function(){this.style.removeProperty(t)}}function hi(t,e,n){return function(){this.style.setProperty(t,e,n)}}function fi(t,e,n){return function(){var r=e.apply(this,arguments);null==r?this.style.removeProperty(t):this.style.setProperty(t,r,n)}}function di(t,e){return t.style.getPropertyValue(e)||ci(t).getComputedStyle(t,null).getPropertyValue(e)}function pi(t){return function(){delete this[t]}}function gi(t,e){return function(){this[t]=e}}function yi(t,e){return function(){var n=e.apply(this,arguments);null==n?delete this[t]:this[t]=n}}function vi(t){return t.trim().split(/^|\s+/)}function mi(t){return t.classList||new wi(t)}function wi(t){this._node=t,this._names=vi(t.getAttribute("class")||"")}function bi(t,e){for(var n=mi(t),r=-1,i=e.length;++r<i;)n.add(e[r])}function Ei(t,e){for(var n=mi(t),r=-1,i=e.length;++r<i;)n.remove(e[r])}function _i(t){return function(){bi(this,t)}}function xi(t){return function(){Ei(this,t)}}function Ai(t,e){return function(){(e.apply(this,arguments)?bi:Ei)(this,t)}}function Si(){this.textContent=""}function Ti(t){return function(){this.textContent=t}}function Ri(t){return function(){var e=t.apply(this,arguments);this.textContent=null==e?"":e}}function Ii(){this.innerHTML=""}function ki(t){return function(){this.innerHTML=t}}function Oi(t){return function(){var e=t.apply(this,arguments);this.innerHTML=null==e?"":e}}function Ni(){this.nextSibling&&this.parentNode.appendChild(this)}function Ci(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function Pi(t){return function(){var e=this.ownerDocument,n=this.namespaceURI;return n===ti&&e.documentElement.namespaceURI===ti?e.createElement(t):e.createElementNS(n,t)}}function Li(t){return function(){return this.ownerDocument.createElementNS(t.space,t.local)}}function Bi(t){var e=ni(t);return(e.local?Li:Pi)(e)}function Mi(){return null}function Ui(){var t=this.parentNode;t&&t.removeChild(this)}function Di(){var t=this.cloneNode(!1),e=this.parentNode;return e?e.insertBefore(t,this.nextSibling):t}function ji(){var t=this.cloneNode(!0),e=this.parentNode;return e?e.insertBefore(t,this.nextSibling):t}function Ki(t){return function(){var e=this.__on;if(e){for(var n,r=0,i=-1,o=e.length;r<o;++r)n=e[r],t.type&&n.type!==t.type||n.name!==t.name?e[++i]=n:this.removeEventListener(n.type,n.listener,n.options);++i?e.length=i:delete this.__on}}}function Hi(t,e,n){return function(){var r,i=this.__on,o=function(t){return function(e){t.call(this,e,this.__data__)}}(e);if(i)for(var s=0,a=i.length;s<a;++s)if((r=i[s]).type===t.type&&r.name===t.name)return this.removeEventListener(r.type,r.listener,r.options),this.addEventListener(r.type,r.listener=o,r.options=n),void(r.value=e);this.addEventListener(t.type,o,n),r={type:t.type,name:t.name,value:e,listener:o,options:n},i?i.push(r):this.__on=[r]}}function Wi(t,e,n){var r=ci(t),i=r.CustomEvent;"function"==typeof i?i=new i(e,n):(i=r.document.createEvent("Event"),n?(i.initEvent(e,n.bubbles,n.cancelable),i.detail=n.detail):i.initEvent(e,!1,!1)),t.dispatchEvent(i)}function qi(t,e){return function(){return Wi(this,t,e)}}function Fi(t,e){return function(){return Wi(this,t,e.apply(this,arguments))}}wi.prototype={add:function(t){this._names.indexOf(t)<0&&(this._names.push(t),this._node.setAttribute("class",this._names.join(" ")))},remove:function(t){var e=this._names.indexOf(t);e>=0&&(this._names.splice(e,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(t){return this._names.indexOf(t)>=0}};var Gi=[null];function zi(t,e){this._groups=t,this._parents=e}function Vi(){return new zi([[document.documentElement]],Gi)}zi.prototype=Vi.prototype={constructor:zi,select:function(t){"function"!=typeof t&&(t=Dr(t));for(var e=this._groups,n=e.length,r=new Array(n),i=0;i<n;++i)for(var o,s,a=e[i],l=a.length,c=r[i]=new Array(l),u=0;u<l;++u)(o=a[u])&&(s=t.call(o,o.__data__,u,a))&&("__data__"in o&&(s.__data__=o.__data__),c[u]=s);return new zi(r,this._parents)},selectAll:function(t){t="function"==typeof t?function(t){return function(){return null==(e=t.apply(this,arguments))?[]:Array.isArray(e)?e:Array.from(e);var e}}(t):Kr(t);for(var e=this._groups,n=e.length,r=[],i=[],o=0;o<n;++o)for(var s,a=e[o],l=a.length,c=0;c<l;++c)(s=a[c])&&(r.push(t.call(s,s.__data__,c,a)),i.push(s));return new zi(r,i)},selectChild:function(t){return this.select(null==t?Fr:function(t){return function(){return qr.call(this.children,t)}}("function"==typeof t?t:Wr(t)))},selectChildren:function(t){return this.selectAll(null==t?zr:function(t){return function(){return Gr.call(this.children,t)}}("function"==typeof t?t:Wr(t)))},filter:function(t){"function"!=typeof t&&(t=Hr(t));for(var e=this._groups,n=e.length,r=new Array(n),i=0;i<n;++i)for(var o,s=e[i],a=s.length,l=r[i]=[],c=0;c<a;++c)(o=s[c])&&t.call(o,o.__data__,c,s)&&l.push(o);return new zi(r,this._parents)},data:function(t,e){if(!arguments.length)return Array.from(this,Jr);var n,r=e?Yr:Xr,i=this._parents,o=this._groups;"function"!=typeof t&&(n=t,t=function(){return n});for(var s=o.length,a=new Array(s),l=new Array(s),c=new Array(s),u=0;u<s;++u){var h=i[u],f=o[u],d=f.length,p=Zr(t.call(h,h&&h.__data__,u,i)),g=p.length,y=l[u]=new Array(g),v=a[u]=new Array(g);r(h,f,y,v,c[u]=new Array(d),p,e);for(var m,w,b=0,E=0;b<g;++b)if(m=y[b]){for(b>=E&&(E=b+1);!(w=v[E])&&++E<g;);m._next=w||null}}return(a=new zi(a,i))._enter=l,a._exit=c,a},enter:function(){return new zi(this._enter||this._groups.map(Vr),this._parents)},exit:function(){return new zi(this._exit||this._groups.map(Vr),this._parents)},join:function(t,e,n){var r=this.enter(),i=this,o=this.exit();return"function"==typeof t?(r=t(r))&&(r=r.selection()):r=r.append(t+""),null!=e&&(i=e(i))&&(i=i.selection()),null==n?o.remove():n(o),r&&i?r.merge(i).order():i},merge:function(t){for(var e=t.selection?t.selection():t,n=this._groups,r=e._groups,i=n.length,o=r.length,s=Math.min(i,o),a=new Array(i),l=0;l<s;++l)for(var c,u=n[l],h=r[l],f=u.length,d=a[l]=new Array(f),p=0;p<f;++p)(c=u[p]||h[p])&&(d[p]=c);for(;l<i;++l)a[l]=n[l];return new zi(a,this._parents)},selection:function(){return this},order:function(){for(var t=this._groups,e=-1,n=t.length;++e<n;)for(var r,i=t[e],o=i.length-1,s=i[o];--o>=0;)(r=i[o])&&(s&&4^r.compareDocumentPosition(s)&&s.parentNode.insertBefore(r,s),s=r);return this},sort:function(t){function e(e,n){return e&&n?t(e.__data__,n.__data__):!e-!n}t||(t=$r);for(var n=this._groups,r=n.length,i=new Array(r),o=0;o<r;++o){for(var s,a=n[o],l=a.length,c=i[o]=new Array(l),u=0;u<l;++u)(s=a[u])&&(c[u]=s);c.sort(e)}return new zi(i,this._parents).order()},call:function(){var t=arguments[0];return arguments[0]=this,t.apply(null,arguments),this},nodes:function(){return Array.from(this)},node:function(){for(var t=this._groups,e=0,n=t.length;e<n;++e)for(var r=t[e],i=0,o=r.length;i<o;++i){var s=r[i];if(s)return s}return null},size:function(){let t=0;for(const e of this)++t;return t},empty:function(){return!this.node()},each:function(t){for(var e=this._groups,n=0,r=e.length;n<r;++n)for(var i,o=e[n],s=0,a=o.length;s<a;++s)(i=o[s])&&t.call(i,i.__data__,s,o);return this},attr:function(t,e){var n=ni(t);if(arguments.length<2){var r=this.node();return n.local?r.getAttributeNS(n.space,n.local):r.getAttribute(n)}return this.each((null==e?n.local?ii:ri:"function"==typeof e?n.local?li:ai:n.local?si:oi)(n,e))},style:function(t,e,n){return arguments.length>1?this.each((null==e?ui:"function"==typeof e?fi:hi)(t,e,null==n?"":n)):di(this.node(),t)},property:function(t,e){return arguments.length>1?this.each((null==e?pi:"function"==typeof e?yi:gi)(t,e)):this.node()[t]},classed:function(t,e){var n=vi(t+"");if(arguments.length<2){for(var r=mi(this.node()),i=-1,o=n.length;++i<o;)if(!r.contains(n[i]))return!1;return!0}return this.each(("function"==typeof e?Ai:e?_i:xi)(n,e))},text:function(t){return arguments.length?this.each(null==t?Si:("function"==typeof t?Ri:Ti)(t)):this.node().textContent},html:function(t){return arguments.length?this.each(null==t?Ii:("function"==typeof t?Oi:ki)(t)):this.node().innerHTML},raise:function(){return this.each(Ni)},lower:function(){return this.each(Ci)},append:function(t){var e="function"==typeof t?t:Bi(t);return this.select((function(){return this.appendChild(e.apply(this,arguments))}))},insert:function(t,e){var n="function"==typeof t?t:Bi(t),r=null==e?Mi:"function"==typeof e?e:Dr(e);return this.select((function(){return this.insertBefore(n.apply(this,arguments),r.apply(this,arguments)||null)}))},remove:function(){return this.each(Ui)},clone:function(t){return this.select(t?ji:Di)},datum:function(t){return arguments.length?this.property("__data__",t):this.node().__data__},on:function(t,e,n){var r,i,o=function(t){return t.trim().split(/^|\s+/).map((function(t){var e="",n=t.indexOf(".");return n>=0&&(e=t.slice(n+1),t=t.slice(0,n)),{type:t,name:e}}))}(t+""),s=o.length;if(!(arguments.length<2)){for(a=e?Hi:Ki,r=0;r<s;++r)this.each(a(o[r],e,n));return this}var a=this.node().__on;if(a)for(var l,c=0,u=a.length;c<u;++c)for(r=0,l=a[c];r<s;++r)if((i=o[r]).type===l.type&&i.name===l.name)return l.value},dispatch:function(t,e){return this.each(("function"==typeof e?Fi:qi)(t,e))},[Symbol.iterator]:function*(){for(var t=this._groups,e=0,n=t.length;e<n;++e)for(var r,i=t[e],o=0,s=i.length;o<s;++o)(r=i[o])&&(yield r)}};const Qi=Vi;var Xi={value:()=>{}};function Yi(){for(var t,e=0,n=arguments.length,r={};e<n;++e){if(!(t=arguments[e]+"")||t in r||/[\s.]/.test(t))throw new Error("illegal type: "+t);r[t]=[]}return new Ji(r)}function Ji(t){this._=t}function Zi(t,e){for(var n,r=0,i=t.length;r<i;++r)if((n=t[r]).name===e)return n.value}function $i(t,e,n){for(var r=0,i=t.length;r<i;++r)if(t[r].name===e){t[r]=Xi,t=t.slice(0,r).concat(t.slice(r+1));break}return null!=n&&t.push({name:e,value:n}),t}Ji.prototype=Yi.prototype={constructor:Ji,on:function(t,e){var n,r,i=this._,o=(r=i,(t+"").trim().split(/^|\s+/).map((function(t){var e="",n=t.indexOf(".");if(n>=0&&(e=t.slice(n+1),t=t.slice(0,n)),t&&!r.hasOwnProperty(t))throw new Error("unknown type: "+t);return{type:t,name:e}}))),s=-1,a=o.length;if(!(arguments.length<2)){if(null!=e&&"function"!=typeof e)throw new Error("invalid callback: "+e);for(;++s<a;)if(n=(t=o[s]).type)i[n]=$i(i[n],t.name,e);else if(null==e)for(n in i)i[n]=$i(i[n],t.name,null);return this}for(;++s<a;)if((n=(t=o[s]).type)&&(n=Zi(i[n],t.name)))return n},copy:function(){var t={},e=this._;for(var n in e)t[n]=e[n].slice();return new Ji(t)},call:function(t,e){if((n=arguments.length-2)>0)for(var n,r,i=new Array(n),o=0;o<n;++o)i[o]=arguments[o+2];if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(o=0,n=(r=this._[t]).length;o<n;++o)r[o].value.apply(e,i)},apply:function(t,e,n){if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(var r=this._[t],i=0,o=r.length;i<o;++i)r[i].value.apply(e,n)}};const to=Yi;var eo,no,ro=0,io=0,oo=0,so=1e3,ao=0,lo=0,co=0,uo="object"==typeof performance&&performance.now?performance:Date,ho="object"==typeof window&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(t){setTimeout(t,17)};function fo(){return lo||(ho(po),lo=uo.now()+co)}function po(){lo=0}function go(){this._call=this._time=this._next=null}function yo(t,e,n){var r=new go;return r.restart(t,e,n),r}function vo(){lo=(ao=uo.now())+co,ro=io=0;try{!function(){fo(),++ro;for(var t,e=eo;e;)(t=lo-e._time)>=0&&e._call.call(void 0,t),e=e._next;--ro}()}finally{ro=0,function(){for(var t,e,n=eo,r=1/0;n;)n._call?(r>n._time&&(r=n._time),t=n,n=n._next):(e=n._next,n._next=null,n=t?t._next=e:eo=e);no=t,wo(r)}(),lo=0}}function mo(){var t=uo.now(),e=t-ao;e>so&&(co-=e,ao=t)}function wo(t){ro||(io&&(io=clearTimeout(io)),t-lo>24?(t<1/0&&(io=setTimeout(vo,t-uo.now()-co)),oo&&(oo=clearInterval(oo))):(oo||(ao=uo.now(),oo=setInterval(mo,so)),ro=1,ho(vo)))}function bo(t,e,n){var r=new go;return e=null==e?0:+e,r.restart((n=>{r.stop(),t(n+e)}),e,n),r}go.prototype=yo.prototype={constructor:go,restart:function(t,e,n){if("function"!=typeof t)throw new TypeError("callback is not a function");n=(null==n?fo():+n)+(null==e?0:+e),this._next||no===this||(no?no._next=this:eo=this,no=this),this._call=t,this._time=n,wo()},stop:function(){this._call&&(this._call=null,this._time=1/0,wo())}};var Eo=to("start","end","cancel","interrupt"),_o=[],xo=0,Ao=1,So=2,To=3,Ro=4,Io=5,ko=6;function Oo(t,e,n,r,i,o){var s=t.__transition;if(s){if(n in s)return}else t.__transition={};!function(t,e,n){var r,i=t.__transition;function o(l){var c,u,h,f;if(n.state!==Ao)return a();for(c in i)if((f=i[c]).name===n.name){if(f.state===To)return bo(o);f.state===Ro?(f.state=ko,f.timer.stop(),f.on.call("interrupt",t,t.__data__,f.index,f.group),delete i[c]):+c<e&&(f.state=ko,f.timer.stop(),f.on.call("cancel",t,t.__data__,f.index,f.group),delete i[c])}if(bo((function(){n.state===To&&(n.state=Ro,n.timer.restart(s,n.delay,n.time),s(l))})),n.state=So,n.on.call("start",t,t.__data__,n.index,n.group),n.state===So){for(n.state=To,r=new Array(h=n.tween.length),c=0,u=-1;c<h;++c)(f=n.tween[c].value.call(t,t.__data__,n.index,n.group))&&(r[++u]=f);r.length=u+1}}function s(e){for(var i=e<n.duration?n.ease.call(null,e/n.duration):(n.timer.restart(a),n.state=Io,1),o=-1,s=r.length;++o<s;)r[o].call(t,i);n.state===Io&&(n.on.call("end",t,t.__data__,n.index,n.group),a())}function a(){for(var r in n.state=ko,n.timer.stop(),delete i[e],i)return;delete t.__transition}i[e]=n,n.timer=yo((function(t){n.state=Ao,n.timer.restart(o,n.delay,n.time),n.delay<=t&&o(t-n.delay)}),0,n.time)}(t,n,{name:e,index:r,group:i,on:Eo,tween:_o,time:o.time,delay:o.delay,duration:o.duration,ease:o.ease,timer:null,state:xo})}function No(t,e){var n=Po(t,e);if(n.state>xo)throw new Error("too late; already scheduled");return n}function Co(t,e){var n=Po(t,e);if(n.state>To)throw new Error("too late; already running");return n}function Po(t,e){var n=t.__transition;if(!n||!(n=n[e]))throw new Error("transition not found");return n}function Lo(t,e){var n,r,i,o=t.__transition,s=!0;if(o){for(i in e=null==e?null:e+"",o)(n=o[i]).name===e?(r=n.state>So&&n.state<Io,n.state=ko,n.timer.stop(),n.on.call(r?"interrupt":"cancel",t,t.__data__,n.index,n.group),delete o[i]):s=!1;s&&delete t.__transition}}function Bo(t,e){return t=+t,e=+e,function(n){return t*(1-n)+e*n}}var Mo,Uo=180/Math.PI,Do={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1};function jo(t,e,n,r,i,o){var s,a,l;return(s=Math.sqrt(t*t+e*e))&&(t/=s,e/=s),(l=t*n+e*r)&&(n-=t*l,r-=e*l),(a=Math.sqrt(n*n+r*r))&&(n/=a,r/=a,l/=a),t*r<e*n&&(t=-t,e=-e,l=-l,s=-s),{translateX:i,translateY:o,rotate:Math.atan2(e,t)*Uo,skewX:Math.atan(l)*Uo,scaleX:s,scaleY:a}}function Ko(t,e,n,r){function i(t){return t.length?t.pop()+" ":""}return function(o,s){var a=[],l=[];return o=t(o),s=t(s),function(t,r,i,o,s,a){if(t!==i||r!==o){var l=s.push("translate(",null,e,null,n);a.push({i:l-4,x:Bo(t,i)},{i:l-2,x:Bo(r,o)})}else(i||o)&&s.push("translate("+i+e+o+n)}(o.translateX,o.translateY,s.translateX,s.translateY,a,l),function(t,e,n,o){t!==e?(t-e>180?e+=360:e-t>180&&(t+=360),o.push({i:n.push(i(n)+"rotate(",null,r)-2,x:Bo(t,e)})):e&&n.push(i(n)+"rotate("+e+r)}(o.rotate,s.rotate,a,l),function(t,e,n,o){t!==e?o.push({i:n.push(i(n)+"skewX(",null,r)-2,x:Bo(t,e)}):e&&n.push(i(n)+"skewX("+e+r)}(o.skewX,s.skewX,a,l),function(t,e,n,r,o,s){if(t!==n||e!==r){var a=o.push(i(o)+"scale(",null,",",null,")");s.push({i:a-4,x:Bo(t,n)},{i:a-2,x:Bo(e,r)})}else 1===n&&1===r||o.push(i(o)+"scale("+n+","+r+")")}(o.scaleX,o.scaleY,s.scaleX,s.scaleY,a,l),o=s=null,function(t){for(var e,n=-1,r=l.length;++n<r;)a[(e=l[n]).i]=e.x(t);return a.join("")}}}var Ho=Ko((function(t){const e=new("function"==typeof DOMMatrix?DOMMatrix:WebKitCSSMatrix)(t+"");return e.isIdentity?Do:jo(e.a,e.b,e.c,e.d,e.e,e.f)}),"px, ","px)","deg)"),Wo=Ko((function(t){return null==t?Do:(Mo||(Mo=document.createElementNS("http://www.w3.org/2000/svg","g")),Mo.setAttribute("transform",t),(t=Mo.transform.baseVal.consolidate())?jo((t=t.matrix).a,t.b,t.c,t.d,t.e,t.f):Do)}),", ",")",")");function qo(t,e){var n,r;return function(){var i=Co(this,t),o=i.tween;if(o!==n)for(var s=0,a=(r=n=o).length;s<a;++s)if(r[s].name===e){(r=r.slice()).splice(s,1);break}i.tween=r}}function Fo(t,e,n){var r,i;if("function"!=typeof n)throw new Error;return function(){var o=Co(this,t),s=o.tween;if(s!==r){i=(r=s).slice();for(var a={name:e,value:n},l=0,c=i.length;l<c;++l)if(i[l].name===e){i[l]=a;break}l===c&&i.push(a)}o.tween=i}}function Go(t,e,n){var r=t._id;return t.each((function(){var t=Co(this,r);(t.value||(t.value={}))[e]=n.apply(this,arguments)})),function(t){return Po(t,r).value[e]}}function zo(t,e,n){t.prototype=e.prototype=n,n.constructor=t}function Vo(t,e){var n=Object.create(t.prototype);for(var r in e)n[r]=e[r];return n}function Qo(){}var Xo=.7,Yo=1/Xo,Jo="\\s*([+-]?\\d+)\\s*",Zo="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",$o="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",ts=/^#([0-9a-f]{3,8})$/,es=new RegExp(`^rgb\\(${Jo},${Jo},${Jo}\\)$`),ns=new RegExp(`^rgb\\(${$o},${$o},${$o}\\)$`),rs=new RegExp(`^rgba\\(${Jo},${Jo},${Jo},${Zo}\\)$`),is=new RegExp(`^rgba\\(${$o},${$o},${$o},${Zo}\\)$`),os=new RegExp(`^hsl\\(${Zo},${$o},${$o}\\)$`),ss=new RegExp(`^hsla\\(${Zo},${$o},${$o},${Zo}\\)$`),as={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};function ls(){return this.rgb().formatHex()}function cs(){return this.rgb().formatRgb()}function us(t){var e,n;return t=(t+"").trim().toLowerCase(),(e=ts.exec(t))?(n=e[1].length,e=parseInt(e[1],16),6===n?hs(e):3===n?new ps(e>>8&15|e>>4&240,e>>4&15|240&e,(15&e)<<4|15&e,1):8===n?fs(e>>24&255,e>>16&255,e>>8&255,(255&e)/255):4===n?fs(e>>12&15|e>>8&240,e>>8&15|e>>4&240,e>>4&15|240&e,((15&e)<<4|15&e)/255):null):(e=es.exec(t))?new ps(e[1],e[2],e[3],1):(e=ns.exec(t))?new ps(255*e[1]/100,255*e[2]/100,255*e[3]/100,1):(e=rs.exec(t))?fs(e[1],e[2],e[3],e[4]):(e=is.exec(t))?fs(255*e[1]/100,255*e[2]/100,255*e[3]/100,e[4]):(e=os.exec(t))?bs(e[1],e[2]/100,e[3]/100,1):(e=ss.exec(t))?bs(e[1],e[2]/100,e[3]/100,e[4]):as.hasOwnProperty(t)?hs(as[t]):"transparent"===t?new ps(NaN,NaN,NaN,0):null}function hs(t){return new ps(t>>16&255,t>>8&255,255&t,1)}function fs(t,e,n,r){return r<=0&&(t=e=n=NaN),new ps(t,e,n,r)}function ds(t,e,n,r){return 1===arguments.length?((i=t)instanceof Qo||(i=us(i)),i?new ps((i=i.rgb()).r,i.g,i.b,i.opacity):new ps):new ps(t,e,n,null==r?1:r);var i}function ps(t,e,n,r){this.r=+t,this.g=+e,this.b=+n,this.opacity=+r}function gs(){return`#${ws(this.r)}${ws(this.g)}${ws(this.b)}`}function ys(){const t=vs(this.opacity);return`${1===t?"rgb(":"rgba("}${ms(this.r)}, ${ms(this.g)}, ${ms(this.b)}${1===t?")":`, ${t})`}`}function vs(t){return isNaN(t)?1:Math.max(0,Math.min(1,t))}function ms(t){return Math.max(0,Math.min(255,Math.round(t)||0))}function ws(t){return((t=ms(t))<16?"0":"")+t.toString(16)}function bs(t,e,n,r){return r<=0?t=e=n=NaN:n<=0||n>=1?t=e=NaN:e<=0&&(t=NaN),new _s(t,e,n,r)}function Es(t){if(t instanceof _s)return new _s(t.h,t.s,t.l,t.opacity);if(t instanceof Qo||(t=us(t)),!t)return new _s;if(t instanceof _s)return t;var e=(t=t.rgb()).r/255,n=t.g/255,r=t.b/255,i=Math.min(e,n,r),o=Math.max(e,n,r),s=NaN,a=o-i,l=(o+i)/2;return a?(s=e===o?(n-r)/a+6*(n<r):n===o?(r-e)/a+2:(e-n)/a+4,a/=l<.5?o+i:2-o-i,s*=60):a=l>0&&l<1?0:s,new _s(s,a,l,t.opacity)}function _s(t,e,n,r){this.h=+t,this.s=+e,this.l=+n,this.opacity=+r}function xs(t){return(t=(t||0)%360)<0?t+360:t}function As(t){return Math.max(0,Math.min(1,t||0))}function Ss(t,e,n){return 255*(t<60?e+(n-e)*t/60:t<180?n:t<240?e+(n-e)*(240-t)/60:e)}function Ts(t,e,n,r,i){var o=t*t,s=o*t;return((1-3*t+3*o-s)*e+(4-6*o+3*s)*n+(1+3*t+3*o-3*s)*r+s*i)/6}zo(Qo,us,{copy(t){return Object.assign(new this.constructor,this,t)},displayable(){return this.rgb().displayable()},hex:ls,formatHex:ls,formatHex8:function(){return this.rgb().formatHex8()},formatHsl:function(){return Es(this).formatHsl()},formatRgb:cs,toString:cs}),zo(ps,ds,Vo(Qo,{brighter(t){return t=null==t?Yo:Math.pow(Yo,t),new ps(this.r*t,this.g*t,this.b*t,this.opacity)},darker(t){return t=null==t?Xo:Math.pow(Xo,t),new ps(this.r*t,this.g*t,this.b*t,this.opacity)},rgb(){return this},clamp(){return new ps(ms(this.r),ms(this.g),ms(this.b),vs(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:gs,formatHex:gs,formatHex8:function(){return`#${ws(this.r)}${ws(this.g)}${ws(this.b)}${ws(255*(isNaN(this.opacity)?1:this.opacity))}`},formatRgb:ys,toString:ys})),zo(_s,(function(t,e,n,r){return 1===arguments.length?Es(t):new _s(t,e,n,null==r?1:r)}),Vo(Qo,{brighter(t){return t=null==t?Yo:Math.pow(Yo,t),new _s(this.h,this.s,this.l*t,this.opacity)},darker(t){return t=null==t?Xo:Math.pow(Xo,t),new _s(this.h,this.s,this.l*t,this.opacity)},rgb(){var t=this.h%360+360*(this.h<0),e=isNaN(t)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*e,i=2*n-r;return new ps(Ss(t>=240?t-240:t+120,i,r),Ss(t,i,r),Ss(t<120?t+240:t-120,i,r),this.opacity)},clamp(){return new _s(xs(this.h),As(this.s),As(this.l),vs(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const t=vs(this.opacity);return`${1===t?"hsl(":"hsla("}${xs(this.h)}, ${100*As(this.s)}%, ${100*As(this.l)}%${1===t?")":`, ${t})`}`}}));const Rs=t=>()=>t;function Is(t,e){var n=e-t;return n?function(t,e){return function(n){return t+n*e}}(t,n):Rs(isNaN(t)?e:t)}const ks=function t(e){var n=function(t){return 1==(t=+t)?Is:function(e,n){return n-e?function(t,e,n){return t=Math.pow(t,n),e=Math.pow(e,n)-t,n=1/n,function(r){return Math.pow(t+r*e,n)}}(e,n,t):Rs(isNaN(e)?n:e)}}(e);function r(t,e){var r=n((t=ds(t)).r,(e=ds(e)).r),i=n(t.g,e.g),o=n(t.b,e.b),s=Is(t.opacity,e.opacity);return function(e){return t.r=r(e),t.g=i(e),t.b=o(e),t.opacity=s(e),t+""}}return r.gamma=t,r}(1);function Os(t){return function(e){var n,r,i=e.length,o=new Array(i),s=new Array(i),a=new Array(i);for(n=0;n<i;++n)r=ds(e[n]),o[n]=r.r||0,s[n]=r.g||0,a[n]=r.b||0;return o=t(o),s=t(s),a=t(a),r.opacity=1,function(t){return r.r=o(t),r.g=s(t),r.b=a(t),r+""}}}Os((function(t){var e=t.length-1;return function(n){var r=n<=0?n=0:n>=1?(n=1,e-1):Math.floor(n*e),i=t[r],o=t[r+1],s=r>0?t[r-1]:2*i-o,a=r<e-1?t[r+2]:2*o-i;return Ts((n-r/e)*e,s,i,o,a)}})),Os((function(t){var e=t.length;return function(n){var r=Math.floor(((n%=1)<0?++n:n)*e),i=t[(r+e-1)%e],o=t[r%e],s=t[(r+1)%e],a=t[(r+2)%e];return Ts((n-r/e)*e,i,o,s,a)}}));var Ns=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,Cs=new RegExp(Ns.source,"g");function Ps(t,e){var n,r,i,o=Ns.lastIndex=Cs.lastIndex=0,s=-1,a=[],l=[];for(t+="",e+="";(n=Ns.exec(t))&&(r=Cs.exec(e));)(i=r.index)>o&&(i=e.slice(o,i),a[s]?a[s]+=i:a[++s]=i),(n=n[0])===(r=r[0])?a[s]?a[s]+=r:a[++s]=r:(a[++s]=null,l.push({i:s,x:Bo(n,r)})),o=Cs.lastIndex;return o<e.length&&(i=e.slice(o),a[s]?a[s]+=i:a[++s]=i),a.length<2?l[0]?function(t){return function(e){return t(e)+""}}(l[0].x):function(t){return function(){return t}}(e):(e=l.length,function(t){for(var n,r=0;r<e;++r)a[(n=l[r]).i]=n.x(t);return a.join("")})}function Ls(t,e){var n;return("number"==typeof e?Bo:e instanceof us?ks:(n=us(e))?(e=n,ks):Ps)(t,e)}function Bs(t){return function(){this.removeAttribute(t)}}function Ms(t){return function(){this.removeAttributeNS(t.space,t.local)}}function Us(t,e,n){var r,i,o=n+"";return function(){var s=this.getAttribute(t);return s===o?null:s===r?i:i=e(r=s,n)}}function Ds(t,e,n){var r,i,o=n+"";return function(){var s=this.getAttributeNS(t.space,t.local);return s===o?null:s===r?i:i=e(r=s,n)}}function js(t,e,n){var r,i,o;return function(){var s,a,l=n(this);if(null!=l)return(s=this.getAttribute(t))===(a=l+"")?null:s===r&&a===i?o:(i=a,o=e(r=s,l));this.removeAttribute(t)}}function Ks(t,e,n){var r,i,o;return function(){var s,a,l=n(this);if(null!=l)return(s=this.getAttributeNS(t.space,t.local))===(a=l+"")?null:s===r&&a===i?o:(i=a,o=e(r=s,l));this.removeAttributeNS(t.space,t.local)}}function Hs(t,e){var n,r;function i(){var i=e.apply(this,arguments);return i!==r&&(n=(r=i)&&function(t,e){return function(n){this.setAttributeNS(t.space,t.local,e.call(this,n))}}(t,i)),n}return i._value=e,i}function Ws(t,e){var n,r;function i(){var i=e.apply(this,arguments);return i!==r&&(n=(r=i)&&function(t,e){return function(n){this.setAttribute(t,e.call(this,n))}}(t,i)),n}return i._value=e,i}function qs(t,e){return function(){No(this,t).delay=+e.apply(this,arguments)}}function Fs(t,e){return e=+e,function(){No(this,t).delay=e}}function Gs(t,e){return function(){Co(this,t).duration=+e.apply(this,arguments)}}function zs(t,e){return e=+e,function(){Co(this,t).duration=e}}var Vs=Qi.prototype.constructor;function Qs(t){return function(){this.style.removeProperty(t)}}var Xs=0;function Ys(t,e,n,r){this._groups=t,this._parents=e,this._name=n,this._id=r}function Js(){return++Xs}var Zs=Qi.prototype;Ys.prototype=function(t){return Qi().transition(t)}.prototype={constructor:Ys,select:function(t){var e=this._name,n=this._id;"function"!=typeof t&&(t=Dr(t));for(var r=this._groups,i=r.length,o=new Array(i),s=0;s<i;++s)for(var a,l,c=r[s],u=c.length,h=o[s]=new Array(u),f=0;f<u;++f)(a=c[f])&&(l=t.call(a,a.__data__,f,c))&&("__data__"in a&&(l.__data__=a.__data__),h[f]=l,Oo(h[f],e,n,f,h,Po(a,n)));return new Ys(o,this._parents,e,n)},selectAll:function(t){var e=this._name,n=this._id;"function"!=typeof t&&(t=Kr(t));for(var r=this._groups,i=r.length,o=[],s=[],a=0;a<i;++a)for(var l,c=r[a],u=c.length,h=0;h<u;++h)if(l=c[h]){for(var f,d=t.call(l,l.__data__,h,c),p=Po(l,n),g=0,y=d.length;g<y;++g)(f=d[g])&&Oo(f,e,n,g,d,p);o.push(d),s.push(l)}return new Ys(o,s,e,n)},selectChild:Zs.selectChild,selectChildren:Zs.selectChildren,filter:function(t){"function"!=typeof t&&(t=Hr(t));for(var e=this._groups,n=e.length,r=new Array(n),i=0;i<n;++i)for(var o,s=e[i],a=s.length,l=r[i]=[],c=0;c<a;++c)(o=s[c])&&t.call(o,o.__data__,c,s)&&l.push(o);return new Ys(r,this._parents,this._name,this._id)},merge:function(t){if(t._id!==this._id)throw new Error;for(var e=this._groups,n=t._groups,r=e.length,i=n.length,o=Math.min(r,i),s=new Array(r),a=0;a<o;++a)for(var l,c=e[a],u=n[a],h=c.length,f=s[a]=new Array(h),d=0;d<h;++d)(l=c[d]||u[d])&&(f[d]=l);for(;a<r;++a)s[a]=e[a];return new Ys(s,this._parents,this._name,this._id)},selection:function(){return new Vs(this._groups,this._parents)},transition:function(){for(var t=this._name,e=this._id,n=Js(),r=this._groups,i=r.length,o=0;o<i;++o)for(var s,a=r[o],l=a.length,c=0;c<l;++c)if(s=a[c]){var u=Po(s,e);Oo(s,t,n,c,a,{time:u.time+u.delay+u.duration,delay:0,duration:u.duration,ease:u.ease})}return new Ys(r,this._parents,t,n)},call:Zs.call,nodes:Zs.nodes,node:Zs.node,size:Zs.size,empty:Zs.empty,each:Zs.each,on:function(t,e){var n=this._id;return arguments.length<2?Po(this.node(),n).on.on(t):this.each(function(t,e,n){var r,i,o=function(t){return(t+"").trim().split(/^|\s+/).every((function(t){var e=t.indexOf(".");return e>=0&&(t=t.slice(0,e)),!t||"start"===t}))}(e)?No:Co;return function(){var s=o(this,t),a=s.on;a!==r&&(i=(r=a).copy()).on(e,n),s.on=i}}(n,t,e))},attr:function(t,e){var n=ni(t),r="transform"===n?Wo:Ls;return this.attrTween(t,"function"==typeof e?(n.local?Ks:js)(n,r,Go(this,"attr."+t,e)):null==e?(n.local?Ms:Bs)(n):(n.local?Ds:Us)(n,r,e))},attrTween:function(t,e){var n="attr."+t;if(arguments.length<2)return(n=this.tween(n))&&n._value;if(null==e)return this.tween(n,null);if("function"!=typeof e)throw new Error;var r=ni(t);return this.tween(n,(r.local?Hs:Ws)(r,e))},style:function(t,e,n){var r="transform"==(t+="")?Ho:Ls;return null==e?this.styleTween(t,function(t,e){var n,r,i;return function(){var o=di(this,t),s=(this.style.removeProperty(t),di(this,t));return o===s?null:o===n&&s===r?i:i=e(n=o,r=s)}}(t,r)).on("end.style."+t,Qs(t)):"function"==typeof e?this.styleTween(t,function(t,e,n){var r,i,o;return function(){var s=di(this,t),a=n(this),l=a+"";return null==a&&(this.style.removeProperty(t),l=a=di(this,t)),s===l?null:s===r&&l===i?o:(i=l,o=e(r=s,a))}}(t,r,Go(this,"style."+t,e))).each(function(t,e){var n,r,i,o,s="style."+e,a="end."+s;return function(){var l=Co(this,t),c=l.on,u=null==l.value[s]?o||(o=Qs(e)):void 0;c===n&&i===u||(r=(n=c).copy()).on(a,i=u),l.on=r}}(this._id,t)):this.styleTween(t,function(t,e,n){var r,i,o=n+"";return function(){var s=di(this,t);return s===o?null:s===r?i:i=e(r=s,n)}}(t,r,e),n).on("end.style."+t,null)},styleTween:function(t,e,n){var r="style."+(t+="");if(arguments.length<2)return(r=this.tween(r))&&r._value;if(null==e)return this.tween(r,null);if("function"!=typeof e)throw new Error;return this.tween(r,function(t,e,n){var r,i;function o(){var o=e.apply(this,arguments);return o!==i&&(r=(i=o)&&function(t,e,n){return function(r){this.style.setProperty(t,e.call(this,r),n)}}(t,o,n)),r}return o._value=e,o}(t,e,null==n?"":n))},text:function(t){return this.tween("text","function"==typeof t?function(t){return function(){var e=t(this);this.textContent=null==e?"":e}}(Go(this,"text",t)):function(t){return function(){this.textContent=t}}(null==t?"":t+""))},textTween:function(t){var e="text";if(arguments.length<1)return(e=this.tween(e))&&e._value;if(null==t)return this.tween(e,null);if("function"!=typeof t)throw new Error;return this.tween(e,function(t){var e,n;function r(){var r=t.apply(this,arguments);return r!==n&&(e=(n=r)&&function(t){return function(e){this.textContent=t.call(this,e)}}(r)),e}return r._value=t,r}(t))},remove:function(){return this.on("end.remove",function(t){return function(){var e=this.parentNode;for(var n in this.__transition)if(+n!==t)return;e&&e.removeChild(this)}}(this._id))},tween:function(t,e){var n=this._id;if(t+="",arguments.length<2){for(var r,i=Po(this.node(),n).tween,o=0,s=i.length;o<s;++o)if((r=i[o]).name===t)return r.value;return null}return this.each((null==e?qo:Fo)(n,t,e))},delay:function(t){var e=this._id;return arguments.length?this.each(("function"==typeof t?qs:Fs)(e,t)):Po(this.node(),e).delay},duration:function(t){var e=this._id;return arguments.length?this.each(("function"==typeof t?Gs:zs)(e,t)):Po(this.node(),e).duration},ease:function(t){var e=this._id;return arguments.length?this.each(function(t,e){if("function"!=typeof e)throw new Error;return function(){Co(this,t).ease=e}}(e,t)):Po(this.node(),e).ease},easeVarying:function(t){if("function"!=typeof t)throw new Error;return this.each(function(t,e){return function(){var n=e.apply(this,arguments);if("function"!=typeof n)throw new Error;Co(this,t).ease=n}}(this._id,t))},end:function(){var t,e,n=this,r=n._id,i=n.size();return new Promise((function(o,s){var a={value:s},l={value:function(){0==--i&&o()}};n.each((function(){var n=Co(this,r),i=n.on;i!==t&&((e=(t=i).copy())._.cancel.push(a),e._.interrupt.push(a),e._.end.push(l)),n.on=e})),0===i&&o()}))},[Symbol.iterator]:Zs[Symbol.iterator]};var $s={time:null,delay:0,duration:250,ease:function(t){return((t*=2)<=1?t*t*t:(t-=2)*t*t+2)/2}};function ta(t,e){for(var n;!(n=t.__transition)||!(n=n[e]);)if(!(t=t.parentNode))throw new Error(`transition ${e} not found`);return n}Qi.prototype.interrupt=function(t){return this.each((function(){Lo(this,t)}))},Qi.prototype.transition=function(t){var e,n;t instanceof Ys?(e=t._id,t=t._name):(e=Js(),(n=$s).time=fo(),t=null==t?null:t+"");for(var r=this._groups,i=r.length,o=0;o<i;++o)for(var s,a=r[o],l=a.length,c=0;c<l;++c)(s=a[c])&&Oo(s,t,e,c,a,n||ta(s,e));return new Ys(r,this._parents,t,e)};const{abs:ea,max:na,min:ra}=Math;function ia(t){return{type:t}}function oa(t){return"string"==typeof t?new zi([[document.querySelector(t)]],[document.documentElement]):new zi([[t]],Gi)}function sa(t,e){if(t=function(t){let e;for(;e=t.sourceEvent;)t=e;return t}(t),void 0===e&&(e=t.currentTarget),e){var n=e.ownerSVGElement||e;if(n.createSVGPoint){var r=n.createSVGPoint();return r.x=t.clientX,r.y=t.clientY,[(r=r.matrixTransform(e.getScreenCTM().inverse())).x,r.y]}if(e.getBoundingClientRect){var i=e.getBoundingClientRect();return[t.clientX-i.left-e.clientLeft,t.clientY-i.top-e.clientTop]}}return[t.pageX,t.pageY]}["w","e"].map(ia),["n","s"].map(ia),["n","w","e","s","nw","ne","sw","se"].map(ia);const aa={passive:!1},la={capture:!0,passive:!1};function ca(t){t.stopImmediatePropagation()}function ua(t){t.preventDefault(),t.stopImmediatePropagation()}function ha(t){var e=t.document.documentElement,n=oa(t).on("dragstart.drag",ua,la);"onselectstart"in e?n.on("selectstart.drag",ua,la):(e.__noselect=e.style.MozUserSelect,e.style.MozUserSelect="none")}function fa(t,e){var n=t.document.documentElement,r=oa(t).on("dragstart.drag",null);e&&(r.on("click.drag",ua,la),setTimeout((function(){r.on("click.drag",null)}),0)),"onselectstart"in n?r.on("selectstart.drag",null):(n.style.MozUserSelect=n.__noselect,delete n.__noselect)}const da=t=>()=>t;function pa(t,{sourceEvent:e,subject:n,target:r,identifier:i,active:o,x:s,y:a,dx:l,dy:c,dispatch:u}){Object.defineProperties(this,{type:{value:t,enumerable:!0,configurable:!0},sourceEvent:{value:e,enumerable:!0,configurable:!0},subject:{value:n,enumerable:!0,configurable:!0},target:{value:r,enumerable:!0,configurable:!0},identifier:{value:i,enumerable:!0,configurable:!0},active:{value:o,enumerable:!0,configurable:!0},x:{value:s,enumerable:!0,configurable:!0},y:{value:a,enumerable:!0,configurable:!0},dx:{value:l,enumerable:!0,configurable:!0},dy:{value:c,enumerable:!0,configurable:!0},_:{value:u}})}function ga(t){return!t.ctrlKey&&!t.button}function ya(){return this.parentNode}function va(t,e){return null==e?{x:t.x,y:t.y}:e}function ma(){return navigator.maxTouchPoints||"ontouchstart"in this}function wa(t){return function(){return t}}function ba(t){return 1e-6*(t()-.5)}function Ea(t){return t.index}function _a(t,e){var n=t.get(e);if(!n)throw new Error("node not found: "+e);return n}function xa(t){var e,n,r,i,o,s,a=Ea,l=function(t){return 1/Math.min(i[t.source.index],i[t.target.index])},c=wa(30),u=1;function h(r){for(var i=0,a=t.length;i<u;++i)for(var l,c,h,f,d,p,g,y=0;y<a;++y)c=(l=t[y]).source,f=(h=l.target).x+h.vx-c.x-c.vx||ba(s),d=h.y+h.vy-c.y-c.vy||ba(s),f*=p=((p=Math.sqrt(f*f+d*d))-n[y])/p*r*e[y],d*=p,h.vx-=f*(g=o[y]),h.vy-=d*g,c.vx+=f*(g=1-g),c.vy+=d*g}function f(){if(r){var s,l,c=r.length,u=t.length,h=new Map(r.map(((t,e)=>[a(t,e,r),t])));for(s=0,i=new Array(c);s<u;++s)(l=t[s]).index=s,"object"!=typeof l.source&&(l.source=_a(h,l.source)),"object"!=typeof l.target&&(l.target=_a(h,l.target)),i[l.source.index]=(i[l.source.index]||0)+1,i[l.target.index]=(i[l.target.index]||0)+1;for(s=0,o=new Array(u);s<u;++s)l=t[s],o[s]=i[l.source.index]/(i[l.source.index]+i[l.target.index]);e=new Array(u),d(),n=new Array(u),p()}}function d(){if(r)for(var n=0,i=t.length;n<i;++n)e[n]=+l(t[n],n,t)}function p(){if(r)for(var e=0,i=t.length;e<i;++e)n[e]=+c(t[e],e,t)}return null==t&&(t=[]),h.initialize=function(t,e){r=t,s=e,f()},h.links=function(e){return arguments.length?(t=e,f(),h):t},h.id=function(t){return arguments.length?(a=t,h):a},h.iterations=function(t){return arguments.length?(u=+t,h):u},h.strength=function(t){return arguments.length?(l="function"==typeof t?t:wa(+t),d(),h):l},h.distance=function(t){return arguments.length?(c="function"==typeof t?t:wa(+t),p(),h):c},h}function Aa(t,e,n,r){if(isNaN(e)||isNaN(n))return t;var i,o,s,a,l,c,u,h,f,d=t._root,p={data:r},g=t._x0,y=t._y0,v=t._x1,m=t._y1;if(!d)return t._root=p,t;for(;d.length;)if((c=e>=(o=(g+v)/2))?g=o:v=o,(u=n>=(s=(y+m)/2))?y=s:m=s,i=d,!(d=d[h=u<<1|c]))return i[h]=p,t;if(a=+t._x.call(null,d.data),l=+t._y.call(null,d.data),e===a&&n===l)return p.next=d,i?i[h]=p:t._root=p,t;do{i=i?i[h]=new Array(4):t._root=new Array(4),(c=e>=(o=(g+v)/2))?g=o:v=o,(u=n>=(s=(y+m)/2))?y=s:m=s}while((h=u<<1|c)==(f=(l>=s)<<1|a>=o));return i[f]=d,i[h]=p,t}function Sa(t,e,n,r,i){this.node=t,this.x0=e,this.y0=n,this.x1=r,this.y1=i}function Ta(t){return t[0]}function Ra(t){return t[1]}function Ia(t,e,n){var r=new ka(null==e?Ta:e,null==n?Ra:n,NaN,NaN,NaN,NaN);return null==t?r:r.addAll(t)}function ka(t,e,n,r,i,o){this._x=t,this._y=e,this._x0=n,this._y0=r,this._x1=i,this._y1=o,this._root=void 0}function Oa(t){for(var e={data:t.data},n=e;t=t.next;)n=n.next={data:t.data};return e}pa.prototype.on=function(){var t=this._.on.apply(this._,arguments);return t===this._?this:t};var Na=Ia.prototype=ka.prototype;Na.copy=function(){var t,e,n=new ka(this._x,this._y,this._x0,this._y0,this._x1,this._y1),r=this._root;if(!r)return n;if(!r.length)return n._root=Oa(r),n;for(t=[{source:r,target:n._root=new Array(4)}];r=t.pop();)for(var i=0;i<4;++i)(e=r.source[i])&&(e.length?t.push({source:e,target:r.target[i]=new Array(4)}):r.target[i]=Oa(e));return n},Na.add=function(t){const e=+this._x.call(null,t),n=+this._y.call(null,t);return Aa(this.cover(e,n),e,n,t)},Na.addAll=function(t){var e,n,r,i,o=t.length,s=new Array(o),a=new Array(o),l=1/0,c=1/0,u=-1/0,h=-1/0;for(n=0;n<o;++n)isNaN(r=+this._x.call(null,e=t[n]))||isNaN(i=+this._y.call(null,e))||(s[n]=r,a[n]=i,r<l&&(l=r),r>u&&(u=r),i<c&&(c=i),i>h&&(h=i));if(l>u||c>h)return this;for(this.cover(l,c).cover(u,h),n=0;n<o;++n)Aa(this,s[n],a[n],t[n]);return this},Na.cover=function(t,e){if(isNaN(t=+t)||isNaN(e=+e))return this;var n=this._x0,r=this._y0,i=this._x1,o=this._y1;if(isNaN(n))i=(n=Math.floor(t))+1,o=(r=Math.floor(e))+1;else{for(var s,a,l=i-n||1,c=this._root;n>t||t>=i||r>e||e>=o;)switch(a=(e<r)<<1|t<n,(s=new Array(4))[a]=c,c=s,l*=2,a){case 0:i=n+l,o=r+l;break;case 1:n=i-l,o=r+l;break;case 2:i=n+l,r=o-l;break;case 3:n=i-l,r=o-l}this._root&&this._root.length&&(this._root=c)}return this._x0=n,this._y0=r,this._x1=i,this._y1=o,this},Na.data=function(){var t=[];return this.visit((function(e){if(!e.length)do{t.push(e.data)}while(e=e.next)})),t},Na.extent=function(t){return arguments.length?this.cover(+t[0][0],+t[0][1]).cover(+t[1][0],+t[1][1]):isNaN(this._x0)?void 0:[[this._x0,this._y0],[this._x1,this._y1]]},Na.find=function(t,e,n){var r,i,o,s,a,l,c,u=this._x0,h=this._y0,f=this._x1,d=this._y1,p=[],g=this._root;for(g&&p.push(new Sa(g,u,h,f,d)),null==n?n=1/0:(u=t-n,h=e-n,f=t+n,d=e+n,n*=n);l=p.pop();)if(!(!(g=l.node)||(i=l.x0)>f||(o=l.y0)>d||(s=l.x1)<u||(a=l.y1)<h))if(g.length){var y=(i+s)/2,v=(o+a)/2;p.push(new Sa(g[3],y,v,s,a),new Sa(g[2],i,v,y,a),new Sa(g[1],y,o,s,v),new Sa(g[0],i,o,y,v)),(c=(e>=v)<<1|t>=y)&&(l=p[p.length-1],p[p.length-1]=p[p.length-1-c],p[p.length-1-c]=l)}else{var m=t-+this._x.call(null,g.data),w=e-+this._y.call(null,g.data),b=m*m+w*w;if(b<n){var E=Math.sqrt(n=b);u=t-E,h=e-E,f=t+E,d=e+E,r=g.data}}return r},Na.remove=function(t){if(isNaN(o=+this._x.call(null,t))||isNaN(s=+this._y.call(null,t)))return this;var e,n,r,i,o,s,a,l,c,u,h,f,d=this._root,p=this._x0,g=this._y0,y=this._x1,v=this._y1;if(!d)return this;if(d.length)for(;;){if((c=o>=(a=(p+y)/2))?p=a:y=a,(u=s>=(l=(g+v)/2))?g=l:v=l,e=d,!(d=d[h=u<<1|c]))return this;if(!d.length)break;(e[h+1&3]||e[h+2&3]||e[h+3&3])&&(n=e,f=h)}for(;d.data!==t;)if(r=d,!(d=d.next))return this;return(i=d.next)&&delete d.next,r?(i?r.next=i:delete r.next,this):e?(i?e[h]=i:delete e[h],(d=e[0]||e[1]||e[2]||e[3])&&d===(e[3]||e[2]||e[1]||e[0])&&!d.length&&(n?n[f]=d:this._root=d),this):(this._root=i,this)},Na.removeAll=function(t){for(var e=0,n=t.length;e<n;++e)this.remove(t[e]);return this},Na.root=function(){return this._root},Na.size=function(){var t=0;return this.visit((function(e){if(!e.length)do{++t}while(e=e.next)})),t},Na.visit=function(t){var e,n,r,i,o,s,a=[],l=this._root;for(l&&a.push(new Sa(l,this._x0,this._y0,this._x1,this._y1));e=a.pop();)if(!t(l=e.node,r=e.x0,i=e.y0,o=e.x1,s=e.y1)&&l.length){var c=(r+o)/2,u=(i+s)/2;(n=l[3])&&a.push(new Sa(n,c,u,o,s)),(n=l[2])&&a.push(new Sa(n,r,u,c,s)),(n=l[1])&&a.push(new Sa(n,c,i,o,u)),(n=l[0])&&a.push(new Sa(n,r,i,c,u))}return this},Na.visitAfter=function(t){var e,n=[],r=[];for(this._root&&n.push(new Sa(this._root,this._x0,this._y0,this._x1,this._y1));e=n.pop();){var i=e.node;if(i.length){var o,s=e.x0,a=e.y0,l=e.x1,c=e.y1,u=(s+l)/2,h=(a+c)/2;(o=i[0])&&n.push(new Sa(o,s,a,u,h)),(o=i[1])&&n.push(new Sa(o,u,a,l,h)),(o=i[2])&&n.push(new Sa(o,s,h,u,c)),(o=i[3])&&n.push(new Sa(o,u,h,l,c))}r.push(e)}for(;e=r.pop();)t(e.node,e.x0,e.y0,e.x1,e.y1);return this},Na.x=function(t){return arguments.length?(this._x=t,this):this._x},Na.y=function(t){return arguments.length?(this._y=t,this):this._y};const Ca=1664525,Pa=1013904223,La=4294967296;function Ba(t){return t.x}function Ma(t){return t.y}var Ua=10,Da=Math.PI*(3-Math.sqrt(5));class ja extends Map{constructor(t,e=Fa){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:e}}),null!=t)for(const[e,n]of t)this.set(e,n)}get(t){return super.get(Ha(this,t))}has(t){return super.has(Ha(this,t))}set(t,e){return super.set(Wa(this,t),e)}delete(t){return super.delete(qa(this,t))}}class Ka extends Set{constructor(t,e=Fa){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:e}}),null!=t)for(const e of t)this.add(e)}has(t){return super.has(Ha(this,t))}add(t){return super.add(Wa(this,t))}delete(t){return super.delete(qa(this,t))}}function Ha({_intern:t,_key:e},n){const r=e(n);return t.has(r)?t.get(r):n}function Wa({_intern:t,_key:e},n){const r=e(n);return t.has(r)?t.get(r):(t.set(r,n),n)}function qa({_intern:t,_key:e},n){const r=e(n);return t.has(r)&&(n=t.get(r),t.delete(r)),n}function Fa(t){return null!==t&&"object"==typeof t?t.valueOf():t}function Ga(t,e){switch(arguments.length){case 0:break;case 1:this.range(t);break;default:this.range(e).domain(t)}return this}const za=Symbol("implicit");function Va(){var t=new ja,e=[],n=[],r=za;function i(i){let o=t.get(i);if(void 0===o){if(r!==za)return r;t.set(i,o=e.push(i)-1)}return n[o%n.length]}return i.domain=function(n){if(!arguments.length)return e.slice();e=[],t=new ja;for(const r of n)t.has(r)||t.set(r,e.push(r)-1);return i},i.range=function(t){return arguments.length?(n=Array.from(t),i):n.slice()},i.unknown=function(t){return arguments.length?(r=t,i):r},i.copy=function(){return Va(e,n).unknown(r)},Ga.apply(i,arguments),i}function Qa(t){return oa(Bi(t).call(document.documentElement))}function Xa(t){return((t=Math.exp(t))+1/t)/2}const Ya=function t(e,n,r){function i(t,i){var o,s,a=t[0],l=t[1],c=t[2],u=i[0],h=i[1],f=i[2],d=u-a,p=h-l,g=d*d+p*p;if(g<1e-12)s=Math.log(f/c)/e,o=function(t){return[a+t*d,l+t*p,c*Math.exp(e*t*s)]};else{var y=Math.sqrt(g),v=(f*f-c*c+r*g)/(2*c*n*y),m=(f*f-c*c-r*g)/(2*f*n*y),w=Math.log(Math.sqrt(v*v+1)-v),b=Math.log(Math.sqrt(m*m+1)-m);s=(b-w)/e,o=function(t){var r,i=t*s,o=Xa(w),u=c/(n*y)*(o*(r=e*i+w,((r=Math.exp(2*r))-1)/(r+1))-function(t){return((t=Math.exp(t))-1/t)/2}(w));return[a+u*d,l+u*p,c*o/Xa(e*i+w)]}}return o.duration=1e3*s*e/Math.SQRT2,o}return i.rho=function(e){var n=Math.max(.001,+e),r=n*n;return t(n,r,r*r)},i}(Math.SQRT2,2,4),Ja=t=>()=>t;function Za(t,{sourceEvent:e,target:n,transform:r,dispatch:i}){Object.defineProperties(this,{type:{value:t,enumerable:!0,configurable:!0},sourceEvent:{value:e,enumerable:!0,configurable:!0},target:{value:n,enumerable:!0,configurable:!0},transform:{value:r,enumerable:!0,configurable:!0},_:{value:i}})}function $a(t,e,n){this.k=t,this.x=e,this.y=n}$a.prototype={constructor:$a,scale:function(t){return 1===t?this:new $a(this.k*t,this.x,this.y)},translate:function(t,e){return 0===t&0===e?this:new $a(this.k,this.x+this.k*t,this.y+this.k*e)},apply:function(t){return[t[0]*this.k+this.x,t[1]*this.k+this.y]},applyX:function(t){return t*this.k+this.x},applyY:function(t){return t*this.k+this.y},invert:function(t){return[(t[0]-this.x)/this.k,(t[1]-this.y)/this.k]},invertX:function(t){return(t-this.x)/this.k},invertY:function(t){return(t-this.y)/this.k},rescaleX:function(t){return t.copy().domain(t.range().map(this.invertX,this).map(t.invert,t))},rescaleY:function(t){return t.copy().domain(t.range().map(this.invertY,this).map(t.invert,t))},toString:function(){return"translate("+this.x+","+this.y+") scale("+this.k+")"}};var tl,el=new $a(1,0,0);function nl(t){for(;!t.__zoom;)if(!(t=t.parentNode))return el;return t.__zoom}function rl(t){t.stopImmediatePropagation()}function il(t){t.preventDefault(),t.stopImmediatePropagation()}function ol(t){return!(t.ctrlKey&&"wheel"!==t.type||t.button)}function sl(){var t=this;return t instanceof SVGElement?(t=t.ownerSVGElement||t).hasAttribute("viewBox")?[[(t=t.viewBox.baseVal).x,t.y],[t.x+t.width,t.y+t.height]]:[[0,0],[t.width.baseVal.value,t.height.baseVal.value]]:[[0,0],[t.clientWidth,t.clientHeight]]}function al(){return this.__zoom||el}function ll(t){return-t.deltaY*(1===t.deltaMode?.05:t.deltaMode?1:.002)*(t.ctrlKey?10:1)}function cl(){return navigator.maxTouchPoints||"ontouchstart"in this}function ul(t,e,n){var r=t.invertX(e[0][0])-n[0][0],i=t.invertX(e[1][0])-n[1][0],o=t.invertY(e[0][1])-n[0][1],s=t.invertY(e[1][1])-n[1][1];return t.translate(i>r?(r+i)/2:Math.min(0,r)||Math.max(0,i),s>o?(o+s)/2:Math.min(0,o)||Math.max(0,s))}nl.prototype=$a.prototype;const hl=document.getElementById("background"),fl=function(){const t=[{bg:"rgb(250,236,210)",ink:"rgb(10,20,115)"},{bg:"rgb(250,236,210)",ink:"rgb(210,40,30)"},{bg:"rgb(250,236,210)",ink:"rgb(30,30,30)"},{bg:"rgb(255,246,220)",ink:"rgb(229, 161, 155)"},{bg:"rgb(0,0,0)",ink:"rgb(255,255,255)"},{bg:"rgb(250,236,210)",ink:"rgb(202, 106, 10)"},{bg:"rgb(250,236,210)",ink:"rgb(44, 79, 153)"},{bg:"rgb(235, 226, 207)",ink:"rgb(20, 20, 20)"},{bg:"rgb(250,236,210)",ink:"rgb(123, 152, 171)"},{bg:"rgb(235, 226, 207)",ink:"rgb(38, 45, 73)"}],e=t[Math.floor(Math.random()*t.length)];var n,r;return Math.random()<.5?(n=e.bg,r=e.ink):(n=e.ink,r=e.bg),{bg:n,ink:r}}(),dl=document.getElementById("menuConteneur");dl.style.backgroundColor=fl.bg,dl.style.color=fl.ink,dl.style.border=`3px dashed ${fl.ink}`,document.body.style.color=fl.ink;const pl=(t,e)=>fetch("./tutoriel.json").then((t=>t.json())).then((n=>function(t,e,n,r){gl=!0,hl.innerHTML="",tl&&clearInterval(tl);const i=()=>Math.random(),o=t=>Math.floor(i()*t),s=t=>t[o(t.length)],a=t=>{var e;for(let i=0;i<5+o(20);++i){var n=10+o(t.length),r=o(3)+1;e=t.substring(0,n-r)+c(r)+t.substring(n,t.length)}return e},l=()=>{for(var e=c(o(110))+s(t);e.length<120;)e+=c(o(10));return e},c=t=>{let e="";for(let n=0;n<t;++n)e+=s("      .+/!%$ ");return e},u=Qa("svg").attr("width",n).attr("height",r).style("pointer-events","none").style("user-select","none"),h=e.bg,f=e.ink;u.append("rect").attr("x","0").attr("y","0").attr("width",n).attr("height",r).attr("fill",h);var d=2+.015*r;const p=[];var g=Math.floor(.11*r);n<r&&n<600&&(g=Math.floor(.05*r)),d<10&&(d=10);for(let t=0;t<g;++t)p.push(l());var y=u.append("g").style("font-family","monospace").style("font-weight","bolder").style("font-size",d),v=u.append("g").attr("transform",`translate(${n/2},${.2*r})`);v.append("text").text("INTERFACE").style("font-family","sans-serif").style("font-weight",900).attr("text-anchor","middle").attr("fill",f).style("text-shadow",`${d/2}px ${d/2}px 0px ${h}`).style("font-size",.1*n+"px");const m=()=>{y.remove(),y=u.append("g").style("font-family","monospace").style("font-size",d);for(let t=0;t<p.length;++t)y.append("text").attr("x",-10).attr("y",t*d).attr("fill",f).text(p[t])};m(),tl=setInterval((()=>{for(let t=0;t<o(p.length/3);++t){const t=o(p.length);i()<.05?p[t]=l():p[t]=a(p[t])}m(),v.raise()}),20),hl.append(u.node())}((t=>{var e=[];return t.content.forEach((t=>{e.push(t.incipit),t.alts.forEach((t=>{e.push(t.text)}))})),e})(n),fl,t,e)));var gl=!0;const yl=()=>{gl=!1,hl.innerHTML="",clearTimeout(tl)};var vl,ml,wl,bl,El;function _l(t){return null!==t&&"object"==typeof t?t.valueOf():t}function xl(t){return function(){var t,e,n,r,i=ga,o=ya,s=va,a=ma,l={},c=to("start","drag","end"),u=0,h=0;function f(t){t.on("mousedown.drag",d).filter(a).on("touchstart.drag",y).on("touchmove.drag",v,aa).on("touchend.drag touchcancel.drag",m).style("touch-action","none").style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}function d(s,a){if(!r&&i.call(this,s,a)){var l=w(this,o.call(this,s,a),s,a,"mouse");l&&(oa(s.view).on("mousemove.drag",p,la).on("mouseup.drag",g,la),ha(s.view),ca(s),n=!1,t=s.clientX,e=s.clientY,l("start",s))}}function p(r){if(ua(r),!n){var i=r.clientX-t,o=r.clientY-e;n=i*i+o*o>h}l.mouse("drag",r)}function g(t){oa(t.view).on("mousemove.drag mouseup.drag",null),fa(t.view,n),ua(t),l.mouse("end",t)}function y(t,e){if(i.call(this,t,e)){var n,r,s=t.changedTouches,a=o.call(this,t,e),l=s.length;for(n=0;n<l;++n)(r=w(this,a,t,e,s[n].identifier,s[n]))&&(ca(t),r("start",t,s[n]))}}function v(t){var e,n,r=t.changedTouches,i=r.length;for(e=0;e<i;++e)(n=l[r[e].identifier])&&(ua(t),n("drag",t,r[e]))}function m(t){var e,n,i=t.changedTouches,o=i.length;for(r&&clearTimeout(r),r=setTimeout((function(){r=null}),500),e=0;e<o;++e)(n=l[i[e].identifier])&&(ca(t),n("end",t,i[e]))}function w(t,e,n,r,i,o){var a,h,d,p=c.copy(),g=sa(o||n,e);if(null!=(d=s.call(t,new pa("beforestart",{sourceEvent:n,target:f,identifier:i,active:u,x:g[0],y:g[1],dx:0,dy:0,dispatch:p}),r)))return a=d.x-g[0]||0,h=d.y-g[1]||0,function n(o,s,c){var y,v=g;switch(o){case"start":l[i]=n,y=u++;break;case"end":delete l[i],--u;case"drag":g=sa(c||s,e),y=u}p.call(o,t,new pa(o,{sourceEvent:s,subject:d,target:f,identifier:i,active:y,x:g[0]+a,y:g[1]+h,dx:g[0]-v[0],dy:g[1]-v[1],dispatch:p}),r)}}return f.filter=function(t){return arguments.length?(i="function"==typeof t?t:da(!!t),f):i},f.container=function(t){return arguments.length?(o="function"==typeof t?t:da(t),f):o},f.subject=function(t){return arguments.length?(s="function"==typeof t?t:da(t),f):s},f.touchable=function(t){return arguments.length?(a="function"==typeof t?t:da(!!t),f):a},f.on=function(){var t=c.on.apply(c,arguments);return t===c?f:t},f.clickDistance=function(t){return arguments.length?(h=(t=+t)*t,f):Math.sqrt(h)},f}().on("start",(function(e){e.active||t.alphaTarget(.3).restart(),e.subject.fx=e.subject.x,e.subject.fy=e.subject.y})).on("drag",(function(t){t.subject.fx=t.x,t.subject.fy=t.y})).on("end",(function(e){e.active||t.alphaTarget(0),e.subject.fx=null,e.subject.fy=null}))}function Al(t){var e=(El=Ll(t.content)).nodes,n=El.links;if(!vl)return El;const r=Lr(e,(t=>t.code)).map(_l),i=Lr(n,(({source:t})=>t)).map(_l),o=Lr(n,(({target:t})=>t)).map(_l);e=Lr(e,((t,e)=>({id:r[e]}))),n=Lr(n,((t,e)=>({source:i[e],target:o[e]}))),vl.nodes(e);const s=xa(n).id((({index:t})=>r[t])).distance(100);vl.force("link",s),vl.alpha(1).restart(),ml=ml.data(e,(t=>t.id)).join((t=>t.append("circle").attr("r",5).on("click",(function(t,e){document.getElementById(e.id).scrollIntoView(!0)})))).call(xl(vl)),bl=bl.data(e,(t=>t.id)).join((t=>t.append("text").text((t=>t.id)).attr("dx",8).attr("dy",3).call(xl(vl)))),wl=wl.data(n,(t=>`${t.source.id}\t${t.target.id}`)).join("line")}function Sl({nodes:t,links:e},{nodeId:n=(t=>t.id),nodeGroup:r,nodeGroups:i,nodeTitle:o,nodeFill:s="currentColor",nodeStroke:a="#fff",nodeStrokeWidth:l=1.5,nodeStrokeOpacity:c=1,nodeRadius:u=5,nodeStrength:h,linkSource:f=(({source:t})=>t),linkTarget:d=(({target:t})=>t),linkStroke:p="#999",linkStrokeOpacity:g=.6,linkStrokeWidth:y=1.5,linkStrokeLinecap:v="round",linkStrength:m,colors:w=["blue"],width:b,height:E}={}){const _=Lr(t,n).map(L),x=Lr(e,f).map(L),A=Lr(e,d).map(L);void 0===o&&(o=(t,e)=>_[e]);const S=null==o?null:Lr(t,o),T=null==r?null:Lr(t,r).map(L),R="function"!=typeof y?null:Lr(e,y),I="function"!=typeof p?null:Lr(e,p);t=Lr(t,((t,e)=>({id:_[e]}))),e=Lr(e,((t,e)=>({source:x[e],target:A[e]}))),T&&void 0===i&&(i=function(t,...e){if("function"!=typeof t[Symbol.iterator])throw new TypeError("values is not iterable");t=Array.from(t);let[n]=e;if(n&&2!==n.length||e.length>1){const r=Uint32Array.from(t,((t,e)=>e));return e.length>1?(e=e.map((e=>t.map(e))),r.sort(((t,n)=>{for(const r of e){const e=Mr(r[t],r[n]);if(e)return e}}))):(n=t.map(n),r.sort(((t,e)=>Mr(n[t],n[e])))),function(t,e){return Array.from(e,(e=>t[e]))}(t,r)}return t.sort(function(t=Br){if(t===Br)return Mr;if("function"!=typeof t)throw new TypeError("compare is not a function");return(e,n)=>{const r=t(e,n);return r||0===r?r:(0===t(n,n))-(0===t(e,e))}}(n))}(T));const k=null==r?null:Va(i,w),O=function(){var t,e,n,r,i,o=wa(-30),s=1,a=1/0,l=.81;function c(n){var i,o=t.length,s=Ia(t,Ba,Ma).visitAfter(h);for(r=n,i=0;i<o;++i)e=t[i],s.visit(f)}function u(){if(t){var e,n,r=t.length;for(i=new Array(r),e=0;e<r;++e)n=t[e],i[n.index]=+o(n,e,t)}}function h(t){var e,n,r,o,s,a=0,l=0;if(t.length){for(r=o=s=0;s<4;++s)(e=t[s])&&(n=Math.abs(e.value))&&(a+=e.value,l+=n,r+=n*e.x,o+=n*e.y);t.x=r/l,t.y=o/l}else{(e=t).x=e.data.x,e.y=e.data.y;do{a+=i[e.data.index]}while(e=e.next)}t.value=a}function f(t,o,c,u){if(!t.value)return!0;var h=t.x-e.x,f=t.y-e.y,d=u-o,p=h*h+f*f;if(d*d/l<p)return p<a&&(0===h&&(p+=(h=ba(n))*h),0===f&&(p+=(f=ba(n))*f),p<s&&(p=Math.sqrt(s*p)),e.vx+=h*t.value*r/p,e.vy+=f*t.value*r/p),!0;if(!(t.length||p>=a)){(t.data!==e||t.next)&&(0===h&&(p+=(h=ba(n))*h),0===f&&(p+=(f=ba(n))*f),p<s&&(p=Math.sqrt(s*p)));do{t.data!==e&&(d=i[t.data.index]*r/p,e.vx+=h*d,e.vy+=f*d)}while(t=t.next)}}return c.initialize=function(e,r){t=e,n=r,u()},c.strength=function(t){return arguments.length?(o="function"==typeof t?t:wa(+t),u(),c):o},c.distanceMin=function(t){return arguments.length?(s=t*t,c):Math.sqrt(s)},c.distanceMax=function(t){return arguments.length?(a=t*t,c):Math.sqrt(a)},c.theta=function(t){return arguments.length?(l=t*t,c):Math.sqrt(l)},c}(),N=xa(e).id((({index:t})=>_[t])).distance(100);void 0!==h&&O.strength(h),void 0!==m&&N.strength(m),vl=function(t){var e,n=1,r=.001,i=1-Math.pow(r,1/300),o=0,s=.6,a=new Map,l=yo(h),c=to("tick","end"),u=function(){let t=1;return()=>(t=(Ca*t+Pa)%La)/La}();function h(){f(),c.call("tick",e),n<r&&(l.stop(),c.call("end",e))}function f(r){var l,c,u=t.length;void 0===r&&(r=1);for(var h=0;h<r;++h)for(n+=(o-n)*i,a.forEach((function(t){t(n)})),l=0;l<u;++l)null==(c=t[l]).fx?c.x+=c.vx*=s:(c.x=c.fx,c.vx=0),null==c.fy?c.y+=c.vy*=s:(c.y=c.fy,c.vy=0);return e}function d(){for(var e,n=0,r=t.length;n<r;++n){if((e=t[n]).index=n,null!=e.fx&&(e.x=e.fx),null!=e.fy&&(e.y=e.fy),isNaN(e.x)||isNaN(e.y)){var i=Ua*Math.sqrt(.5+n),o=n*Da;e.x=i*Math.cos(o),e.y=i*Math.sin(o)}(isNaN(e.vx)||isNaN(e.vy))&&(e.vx=e.vy=0)}}function p(e){return e.initialize&&e.initialize(t,u),e}return null==t&&(t=[]),d(),e={tick:f,restart:function(){return l.restart(h),e},stop:function(){return l.stop(),e},nodes:function(n){return arguments.length?(t=n,d(),a.forEach(p),e):t},alpha:function(t){return arguments.length?(n=+t,e):n},alphaMin:function(t){return arguments.length?(r=+t,e):r},alphaDecay:function(t){return arguments.length?(i=+t,e):+i},alphaTarget:function(t){return arguments.length?(o=+t,e):o},velocityDecay:function(t){return arguments.length?(s=1-t,e):1-s},randomSource:function(t){return arguments.length?(u=t,a.forEach(p),e):u},force:function(t,n){return arguments.length>1?(null==n?a.delete(t):a.set(t,p(n)),e):a.get(t)},find:function(e,n,r){var i,o,s,a,l,c=0,u=t.length;for(null==r?r=1/0:r*=r,c=0;c<u;++c)(s=(i=e-(a=t[c]).x)*i+(o=n-a.y)*o)<r&&(l=a,r=s);return l},on:function(t,n){return arguments.length>1?(c.on(t,n),e):c.on(t)}}}(t).force("link",N).force("charge",O).force("x",function(t){var e,n,r,i=wa(.1);function o(t){for(var i,o=0,s=e.length;o<s;++o)(i=e[o]).vx+=(r[o]-i.x)*n[o]*t}function s(){if(e){var o,s=e.length;for(n=new Array(s),r=new Array(s),o=0;o<s;++o)n[o]=isNaN(r[o]=+t(e[o],o,e))?0:+i(e[o],o,e)}}return"function"!=typeof t&&(t=wa(null==t?0:+t)),o.initialize=function(t){e=t,s()},o.strength=function(t){return arguments.length?(i="function"==typeof t?t:wa(+t),s(),o):i},o.x=function(e){return arguments.length?(t="function"==typeof e?e:wa(+e),s(),o):t},o}().strength(.01)).force("y",function(t){var e,n,r,i=wa(.1);function o(t){for(var i,o=0,s=e.length;o<s;++o)(i=e[o]).vy+=(r[o]-i.y)*n[o]*t}function s(){if(e){var o,s=e.length;for(n=new Array(s),r=new Array(s),o=0;o<s;++o)n[o]=isNaN(r[o]=+t(e[o],o,e))?0:+i(e[o],o,e)}}return"function"!=typeof t&&(t=wa(null==t?0:+t)),o.initialize=function(t){e=t,s()},o.strength=function(t){return arguments.length?(i="function"==typeof t?t:wa(+t),s(),o):i},o.y=function(e){return arguments.length?(t="function"==typeof e?e:wa(+e),s(),o):t},o}((t=>.4*-b+El.nodeMap[t.id].parentNum*b*.12)).strength(.01)).on("tick",(function(){wl.attr("x1",(t=>t.source.x)).attr("y1",(t=>t.source.y)).attr("x2",(t=>t.target.x)).attr("y2",(t=>t.target.y)),bl.attr("transform",(t=>`translate(${t.x},${t.y})`)),ml.attr("cx",(t=>t.x)).attr("cy",(t=>t.y))}));const C=Qa("svg").attr("width",b).attr("height",E).style("cursor","move").attr("viewBox",[-b/2,-E/2,b,E]).attr("style","max-width: 100%; height: auto; height: intrinsic;"),P=C.append("g");P.append("rect").attr("x",-b).attr("y",-b).attr("width",2*b).attr("height",10*b).attr("fill","white").style("cursor","move");for(let t=0;t<200;++t)P.append("line").attr("x1",-b).attr("x2",2*b).attr("y1",40*t-b).attr("y2",40*t-b).attr("stroke-dasharray","2 2").attr("stroke","rgb(200,200,200)");for(let t=0;t<100;++t)P.append("line").attr("y1",-b).attr("y2",20*b).attr("x1",40*t-b).attr("x2",40*t-b).attr("stroke-dasharray","2 2").attr("stroke","rgb(200,200,200)");function L(t){return null!==t&&"object"==typeof t?t.valueOf():t}wl=P.append("g").attr("stroke","function"!=typeof p?p:null).attr("stroke-opacity",.5).attr("stroke-width",1).attr("stroke","black").attr("stroke-linecap",v).selectAll("line").data(e).join("line"),ml=P.append("g").attr("fill",s).attr("stroke",a).attr("stroke-opacity",c).attr("stroke-width",l).style("cursor","pointer").selectAll("circle").data(t).join("circle").call(xl(vl)).on("click",(function(t,e){document.getElementById(e.id).scrollIntoView(!0)})).attr("r",u),bl=P.append("g").attr("fill","black").style("font-family","sans-serif").style("font-size",12).style("cursor","pointer").selectAll("text").data(t).join("text").attr("dx",8).attr("dy",3).call(xl(vl)).text((t=>t.id)),R&&wl.attr("stroke-width",(({index:t})=>R[t])),I&&wl.attr("stroke",(({index:t})=>I[t])),T&&ml.attr("fill",(({index:t})=>k(T[t]))),S&&ml.append("title").text((({index:t})=>S[t]));const B=function(){var t,e,n,r=ol,i=sl,o=ul,s=ll,a=cl,l=[0,1/0],c=[[-1/0,-1/0],[1/0,1/0]],u=250,h=Ya,f=to("start","zoom","end"),d=500,p=150,g=0,y=10;function v(t){t.property("__zoom",al).on("wheel.zoom",A,{passive:!1}).on("mousedown.zoom",S).on("dblclick.zoom",T).filter(a).on("touchstart.zoom",R).on("touchmove.zoom",I).on("touchend.zoom touchcancel.zoom",k).style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}function m(t,e){return(e=Math.max(l[0],Math.min(l[1],e)))===t.k?t:new $a(e,t.x,t.y)}function w(t,e,n){var r=e[0]-n[0]*t.k,i=e[1]-n[1]*t.k;return r===t.x&&i===t.y?t:new $a(t.k,r,i)}function b(t){return[(+t[0][0]+ +t[1][0])/2,(+t[0][1]+ +t[1][1])/2]}function E(t,e,n,r){t.on("start.zoom",(function(){_(this,arguments).event(r).start()})).on("interrupt.zoom end.zoom",(function(){_(this,arguments).event(r).end()})).tween("zoom",(function(){var t=this,o=arguments,s=_(t,o).event(r),a=i.apply(t,o),l=null==n?b(a):"function"==typeof n?n.apply(t,o):n,c=Math.max(a[1][0]-a[0][0],a[1][1]-a[0][1]),u=t.__zoom,f="function"==typeof e?e.apply(t,o):e,d=h(u.invert(l).concat(c/u.k),f.invert(l).concat(c/f.k));return function(t){if(1===t)t=f;else{var e=d(t),n=c/e[2];t=new $a(n,l[0]-e[0]*n,l[1]-e[1]*n)}s.zoom(null,t)}}))}function _(t,e,n){return!n&&t.__zooming||new x(t,e)}function x(t,e){this.that=t,this.args=e,this.active=0,this.sourceEvent=null,this.extent=i.apply(t,e),this.taps=0}function A(t,...e){if(r.apply(this,arguments)){var n=_(this,e).event(t),i=this.__zoom,a=Math.max(l[0],Math.min(l[1],i.k*Math.pow(2,s.apply(this,arguments)))),u=sa(t);if(n.wheel)n.mouse[0][0]===u[0]&&n.mouse[0][1]===u[1]||(n.mouse[1]=i.invert(n.mouse[0]=u)),clearTimeout(n.wheel);else{if(i.k===a)return;n.mouse=[u,i.invert(u)],Lo(this),n.start()}il(t),n.wheel=setTimeout((function(){n.wheel=null,n.end()}),p),n.zoom("mouse",o(w(m(i,a),n.mouse[0],n.mouse[1]),n.extent,c))}}function S(t,...e){if(!n&&r.apply(this,arguments)){var i=t.currentTarget,s=_(this,e,!0).event(t),a=oa(t.view).on("mousemove.zoom",(function(t){if(il(t),!s.moved){var e=t.clientX-u,n=t.clientY-h;s.moved=e*e+n*n>g}s.event(t).zoom("mouse",o(w(s.that.__zoom,s.mouse[0]=sa(t,i),s.mouse[1]),s.extent,c))}),!0).on("mouseup.zoom",(function(t){a.on("mousemove.zoom mouseup.zoom",null),fa(t.view,s.moved),il(t),s.event(t).end()}),!0),l=sa(t,i),u=t.clientX,h=t.clientY;ha(t.view),rl(t),s.mouse=[l,this.__zoom.invert(l)],Lo(this),s.start()}}function T(t,...e){if(r.apply(this,arguments)){var n=this.__zoom,s=sa(t.changedTouches?t.changedTouches[0]:t,this),a=n.invert(s),l=n.k*(t.shiftKey?.5:2),h=o(w(m(n,l),s,a),i.apply(this,e),c);il(t),u>0?oa(this).transition().duration(u).call(E,h,s,t):oa(this).call(v.transform,h,s,t)}}function R(n,...i){if(r.apply(this,arguments)){var o,s,a,l,c=n.touches,u=c.length,h=_(this,i,n.changedTouches.length===u).event(n);for(rl(n),s=0;s<u;++s)l=[l=sa(a=c[s],this),this.__zoom.invert(l),a.identifier],h.touch0?h.touch1||h.touch0[2]===l[2]||(h.touch1=l,h.taps=0):(h.touch0=l,o=!0,h.taps=1+!!t);t&&(t=clearTimeout(t)),o&&(h.taps<2&&(e=l[0],t=setTimeout((function(){t=null}),d)),Lo(this),h.start())}}function I(t,...e){if(this.__zooming){var n,r,i,s,a=_(this,e).event(t),l=t.changedTouches,u=l.length;for(il(t),n=0;n<u;++n)i=sa(r=l[n],this),a.touch0&&a.touch0[2]===r.identifier?a.touch0[0]=i:a.touch1&&a.touch1[2]===r.identifier&&(a.touch1[0]=i);if(r=a.that.__zoom,a.touch1){var h=a.touch0[0],f=a.touch0[1],d=a.touch1[0],p=a.touch1[1],g=(g=d[0]-h[0])*g+(g=d[1]-h[1])*g,y=(y=p[0]-f[0])*y+(y=p[1]-f[1])*y;r=m(r,Math.sqrt(g/y)),i=[(h[0]+d[0])/2,(h[1]+d[1])/2],s=[(f[0]+p[0])/2,(f[1]+p[1])/2]}else{if(!a.touch0)return;i=a.touch0[0],s=a.touch0[1]}a.zoom("touch",o(w(r,i,s),a.extent,c))}}function k(t,...r){if(this.__zooming){var i,o,s=_(this,r).event(t),a=t.changedTouches,l=a.length;for(rl(t),n&&clearTimeout(n),n=setTimeout((function(){n=null}),d),i=0;i<l;++i)o=a[i],s.touch0&&s.touch0[2]===o.identifier?delete s.touch0:s.touch1&&s.touch1[2]===o.identifier&&delete s.touch1;if(s.touch1&&!s.touch0&&(s.touch0=s.touch1,delete s.touch1),s.touch0)s.touch0[1]=this.__zoom.invert(s.touch0[0]);else if(s.end(),2===s.taps&&(o=sa(o,this),Math.hypot(e[0]-o[0],e[1]-o[1])<y)){var c=oa(this).on("dblclick.zoom");c&&c.apply(this,arguments)}}}return v.transform=function(t,e,n,r){var i=t.selection?t.selection():t;i.property("__zoom",al),t!==i?E(t,e,n,r):i.interrupt().each((function(){_(this,arguments).event(r).start().zoom(null,"function"==typeof e?e.apply(this,arguments):e).end()}))},v.scaleBy=function(t,e,n,r){v.scaleTo(t,(function(){return this.__zoom.k*("function"==typeof e?e.apply(this,arguments):e)}),n,r)},v.scaleTo=function(t,e,n,r){v.transform(t,(function(){var t=i.apply(this,arguments),r=this.__zoom,s=null==n?b(t):"function"==typeof n?n.apply(this,arguments):n,a=r.invert(s),l="function"==typeof e?e.apply(this,arguments):e;return o(w(m(r,l),s,a),t,c)}),n,r)},v.translateBy=function(t,e,n,r){v.transform(t,(function(){return o(this.__zoom.translate("function"==typeof e?e.apply(this,arguments):e,"function"==typeof n?n.apply(this,arguments):n),i.apply(this,arguments),c)}),null,r)},v.translateTo=function(t,e,n,r,s){v.transform(t,(function(){var t=i.apply(this,arguments),s=this.__zoom,a=null==r?b(t):"function"==typeof r?r.apply(this,arguments):r;return o(el.translate(a[0],a[1]).scale(s.k).translate("function"==typeof e?-e.apply(this,arguments):-e,"function"==typeof n?-n.apply(this,arguments):-n),t,c)}),r,s)},x.prototype={event:function(t){return t&&(this.sourceEvent=t),this},start:function(){return 1==++this.active&&(this.that.__zooming=this,this.emit("start")),this},zoom:function(t,e){return this.mouse&&"mouse"!==t&&(this.mouse[1]=e.invert(this.mouse[0])),this.touch0&&"touch"!==t&&(this.touch0[1]=e.invert(this.touch0[0])),this.touch1&&"touch"!==t&&(this.touch1[1]=e.invert(this.touch1[0])),this.that.__zoom=e,this.emit("zoom"),this},end:function(){return 0==--this.active&&(delete this.that.__zooming,this.emit("end")),this},emit:function(t){var e=oa(this.that).datum();f.call(t,this.that,new Za(t,{sourceEvent:this.sourceEvent,target:v,type:t,transform:this.that.__zoom,dispatch:f}),e)}},v.wheelDelta=function(t){return arguments.length?(s="function"==typeof t?t:Ja(+t),v):s},v.filter=function(t){return arguments.length?(r="function"==typeof t?t:Ja(!!t),v):r},v.touchable=function(t){return arguments.length?(a="function"==typeof t?t:Ja(!!t),v):a},v.extent=function(t){return arguments.length?(i="function"==typeof t?t:Ja([[+t[0][0],+t[0][1]],[+t[1][0],+t[1][1]]]),v):i},v.scaleExtent=function(t){return arguments.length?(l[0]=+t[0],l[1]=+t[1],v):[l[0],l[1]]},v.translateExtent=function(t){return arguments.length?(c[0][0]=+t[0][0],c[1][0]=+t[1][0],c[0][1]=+t[0][1],c[1][1]=+t[1][1],v):[[c[0][0],c[0][1]],[c[1][0],c[1][1]]]},v.constrain=function(t){return arguments.length?(o=t,v):o},v.duration=function(t){return arguments.length?(u=+t,v):u},v.interpolate=function(t){return arguments.length?(h=t,v):h},v.on=function(){var t=f.on.apply(f,arguments);return t===f?v:t},v.clickDistance=function(t){return arguments.length?(g=(t=+t)*t,v):Math.sqrt(g)},v.tapDistance=function(t){return arguments.length?(y=+t,v):y},v}().extent([[0,0],[b,E]]).scaleExtent([1,8]).on("zoom",(function({transform:t}){P.attr("transform",t)}));return C.call(B),C.append("rect").attr("fill","white").attr("stroke","black").attr("x",-b/2+20).attr("y",-E/2+20).attr("width",120).attr("height",30).attr("cursor","pointer").on("click",(()=>{C.transition().duration(750).call(B.transform,el,nl(C.node()).invert([b/2,E/2]))})),C.append("text").attr("fill","black").style("font-family","sans-serif").style("pointer-events","none").style("user-select","none").attr("x",-b/2+24).attr("y",-E/2+40).text("Reset Camera"),Object.assign(C.node(),{scales:{color:k}})}const Tl=document.getElementById("editor"),Rl=document.getElementById("cardcol"),Il=document.getElementById("svgtree"),kl=Or?Or.alias:"Anon",Ol=window.localStorage;var Nl,Cl={user:"",stories:{}};window.innerWidth,window.innerHeight;const Pl=()=>Ol.setItem(Nr+"-localStories",JSON.stringify(Cl)),Ll=t=>{const e=[...t],n=[],r={},i={};return e.forEach((t=>{r[t.code]=t,t.id=t.code,t.alts.forEach((e=>{const r={source:t.code,target:e.code,text:e.text};i[e.code]=r,n.push(r)}))})),e.forEach((t=>(t=>{for(var e=t.code,n=0;"racine"!=e&&i.hasOwnProperty(e);){if(e=i[e].source,r[e].hasOwnProperty("parentNum")){n+=r[e].parentNum+1;break}n++}t.parentNum=n})(t))),{nodes:e,links:n,nodeMap:r}},Bl=t=>{const e=document.createElement("div");e.id=t.code,e.className="cardDiv";const n=document.createElement("div");n.className="cardMainBody",n.innerText="Card body";const r=document.createElement("input");r.value=t.code,"racine"===t.code&&(r.disabled=!0,e.style.background="aliceblue");const i=document.createElement("textarea");i.value=t.incipit,n.append(r,i);const o=document.createElement("div");for(let e=0;e<t.alts.length;e++){const n=Ml(e,t.alts[e]);o.append(n)}const s=document.createElement("button");s.innerText="+",s.style.width="30px",s.style.marginTop="10px",s.addEventListener("click",(()=>{const e=t.code+"-"+t.alts.length,n={code:e,text:"Text of option "+t.code+"-"+t.alts.length};t.alts.push(n);const r={incipit:"This is a child card of "+t.code,code:e,alts:[],dependencyPath:[],computeOperation:{},selfColor:"#61bfda"};Nl.content.push(r),Bl(r);const i=Ml(t.alts.length-1,n,Nl);o.append(i),Al(Nl),Pl()})),e.append(n,o,s),Rl.append(e)};function Ml(t,e,n){const r=document.createElement("div");r.innerText=`Option ${t+1}`,r.className="alts";const i=document.createElement("textarea");i.value=e.text,i.addEventListener("change",Pl);const o=document.createElement("input");o.addEventListener("change",Pl),o.value=e.code;const s=document.createElement("button");return s.innerText="Remove option",s.style.width="140px",s.addEventListener("click",(()=>{if(window.confirm("If you remove this option, the page bound to it might not be accessible anymore.")){r.remove();const t=[];n.content.forEach((n=>{n.code!=e.code&&t.push(n)})),n.content=t,Al(n),Nl=n,Pl()}})),r.append(o,i,s),r}const Ul=t=>{(t=>{yl();const e=Al(t);window.innerWidth,window.innerHeight,Il.style.width="calc(100% - 600px)";const n=Sl(e,{nodeId:t=>t.code,nodeGroup:t=>t.group,nodeTitle:t=>`${t.id}\n${t.group}`,linkStrokeWidth:t=>Math.sqrt(t.value),width:window.innerWidth-600,height:window.innerHeight});Il.innerHTML="",Il.append(n)})(Nl=t),(t=>{Rl.innerHTML="",(t=>{const e=document.createElement("div");e.innerHTML='<h3>Story metadata panel.</h3><br> \n    Please fill the relevant fields. Every modification you make is automatically saved \n    on your computer.<br><br> If you see your name as "Anon", you need to sync in with a\n    valid wallet. You can create one <a target="_blank" href="https://wallet.kukai.app/">here</a>. \n    Click on the "Test" button to open the story in the designated Pegas theme.',e.className="cardDiv",e.style.height="240px",e.style.border="4px solid red";const n=document.createElement("input");n.value="My great story",n.addEventListener("change",(()=>{Nl.title=n.value,Pl()}));const r=document.createElement("div");r.innerText="Written by: "+t.author.name;const i=document.createElement("div");i.innerText=t.author.wallet;const s=document.createElement("select");s.id="theme-select",s.value=Nl.theme,s.innerHTML='\n  <option value="920">Pegas 920</option>\n  <option value="2120">Pegas 2120</option>\n  ',s.addEventListener("change",(t=>{Nl.theme=s.value,Pl()}));const a=document.createElement("button");a.innerText="Test story",a.addEventListener("click",(()=>{const t={id:Nl.author.wallet+JSON.stringify(Date.now()),startDate:Date.now()};zl(Nl,t),setTimeout((()=>{Ec(),Tl.style.display="none",Hl.drawbg(),Hl.drawAlt(ac,oc,o["Alt"+pc],pc),Hl.drawAlt(sc,ic,o.Alt2,pc+1),c(f.length)}),120)})),e.append(n,r,i,s,a),Rl.append(e)})(t),t.content.forEach((t=>Bl(t)))})(Nl),Tl.style.display="flex"},Dl=()=>{const t=Nr+Date.now(),e={contract:"KT1-interface",id:t,title:"new Story",unpublished:!0,test:!0,theme:"920",author:{name:kl,wallet:Nr},content:[{incipit:"This is your root card.",code:"racine",alts:[{altNum:1,text:"Go to card 2",code:"card2"}],dependencyPath:[],computeOperation:{},selfColor:"#61bfda"},{incipit:"This is the second card.",code:"card2",alts:[],dependencyPath:[],computeOperation:{},selfColor:"#61bfda"}]};Cl.stories[t]=e,Nl=Cl.stories[t],Ul(e)},jl={920:()=>{const t=document.getElementById("crux"),n=document.getElementById("crux-canvas");var r=n.getContext("2d");const o=document.getElementById("timeSlider");var s=o.getContext("2d");const a=document.getElementById("alt1Div"),l=document.getElementById("alt1-canvas"),c=document.getElementById("alt2Div"),u=document.getElementById("alt2-canvas");var h,f=300,d=300,p=Date.now(),g=window.devicePixelRatio||1,v=[],m=[],b=1,E=2,_="monospace";y.altSwitch.style.backgroundImage="url(themes/920/img/sw1.png)",y.altSwitch.style.backgroundSize="50px 50px",y.altSwitch.style.borderRadius="5px 5px 5px 5px",y.bgcvs.style.background="url(themes/920/img/bg920.jpeg)",y.bgcvs.style.backgroundSize="cover",document.getElementById("comptBg").innerText="8888",document.getElementById("comptBg").style.color="rgba(255,45,45,.15)",document.getElementById("comptBg").style.textShadow="0px 0px 15px rgba(255,45,45,.4)",y.crux.style='\n  border-style:solid;\n  border-image :url("themes/920/img/cruxBorder2.png") 30 fill / 10px / 10px stretch;\n  border-radius : 15px 15px 15px 15px;\n  box-shadow : -6px 6px 10px 12px black;\n  ',((t,e)=>{for(const e in t)y.alt1Div.style[e]=t[e],y.alt2Div.style[e]=t[e];for(const t in e)y.alt1Canvas.style[t]=e[t],y.alt2Canvas.style[t]=e[t]})({backgroundColor:"DimGray",boxShadow:"inset 0px 0px 10px 10px black",border:"3px solid gray",borderStyle:"inset",borderRadius:"5px"},{filter:"blur(.5px)"}),y.compteur.style="\n        position: absolute;\n        width : 98px;\n        height : 48px;\n        background-color :#404040;\n        box-shadow : inset 0px 0px 10px 10px black;\n        border : 1px solid gray;\n        border-style : inset;\n        borderRadius :2px;\n        color :rgba(255,45,45,.9);\n        font-size :24px;\n        display :none;\n        textshadow :0px 0px 20px rgba(255,45,45,1);\n        z-index : 6",[...compteur.children].forEach((t=>{t.style.position="absolute",t.style.marginLeft="10%",t.style.width="80%",t.style.textAlign="end",t.style.marginTop="12%",t.style.userSelect="none",t.style.zIndex="5"}));const A=e("themes/commun/img/texture/papertexture.jpeg"),S=e("themes/920/img/blacklight.png");document.fonts.load("24px DSEG7").then((()=>{document.getElementById("compteur").style.fontFamily="DSEG7"}));var T=e("themes/920/img/slider.png"),R="PROPRITINSAISISSABLEDESARCHIVESTLMATIQUESDELAREPUBLIQUE";const I=(t,e)=>{h=parseInt(e.length-t/parseInt(f/16)),document.getElementById("compte").innerText=h},k=t=>{(s=w(o,s)).clearRect(0,0,s.width*g,s.height*g),s.beginPath(),s.strokeStyle="gray",s.lineWidth=1,s.moveTo(26,30),s.lineTo(26,o.offsetHeight-20),s.closePath(),s.stroke(),s.beginPath(),s.strokeStyle="black",s.lineWidth=2,s.moveTo(25,30),s.lineTo(25,o.offsetHeight-20),s.moveTo(15,30),s.lineTo(35,30),s.moveTo(15,o.offsetHeight-20),s.lineTo(35,o.offsetHeight-20);let e=o.offsetHeight-20-30,n=e/10;for(let t=10;t<e;t+=n)s.moveTo(20,20+t),s.lineTo(30,20+t);s.closePath(),s.stroke();let r=o.offsetHeight*(t/100)-32.5;r<5?r=5:r>o.offsetHeight-70&&(r=o.offsetHeight-70),s.drawImage(T,10,r,30,65)},O=(t,e,n,r)=>{e===l?(v=n,b=r):e===u&&(m=n,E=r);let i=["rgba(133, 144, 140,.65)","rgba(50, 52, 49,.65)"],o=(t=w(e,t)).createLinearGradient(0,0,0,200);o.addColorStop(0,i[1]),o.addColorStop(1,i[0]);let s=e.getBoundingClientRect().width,a=e.getBoundingClientRect().height;if(t.clearRect(0,0,s,a),t.save(),(t=>{for(var e=t.canvas.width,n=t.canvas.height,r=t.createImageData(e,n),i=new Uint32Array(r.data.buffer),o=i.length,s=0;s<o;s++)i[s]=(255*Math.random()|0)<<24;for(t.save(),t.putImageData(r,0,0),t.restore(),t.save(),t.beginPath(),s=0;s<n;s+=3)t.strokeStyle="rgba(255,255,255,.1)",t.moveTo(0,0+s),t.lineTo(e,0+s);t.stroke(),t.closePath(),t.restore()})(t),t.beginPath(),t.moveTo(10,10),t.quadraticCurveTo(s/2,-5,s-10,10),t.quadraticCurveTo(s+5,a/2,s-10,a-10),t.quadraticCurveTo(s/2,a+5,10,a-10),t.quadraticCurveTo(-5,a/2,10,10),t.stroke(),t.fillStyle=o,t.fill(),t.fillStyle="black",t.strokeStyle="black",t.shadowBlur=25,t.shadowColor="black",t.lineWidth=6,t.stroke(),t.globalCompositeOperation="destination-in",t.fill(),t.globalCompositeOperation="source-over",t.lineWidth=1,t.stroke(),t.closePath(),t.restore(),t.font="600 "+parseInt(f/30)+"px "+_,t.fillStyle="Azure",n&&n.length>0&&n[0].hasOwnProperty("text")&&n[0].text.length>1){let e=Math.round(Math.random())/1.7;t.fillText(">",20,a/2-parseInt(s/8)*((n.length+1)/2)+parseInt(s/8)+e),t.fillText(r,.9*s,.2*a+e);for(let r=0;r<n.length&&r<5;r++)null!=n[r]&&t.fillText(n[r].text.toUpperCase(),35,a/2-parseInt(s/8)*((n.length+1)/2)+parseInt(s/8)*(r+1)+e)}};return function t(){try{window.requestAnimationFrame(t);var e=Date.now();e-p>1&&(p=e-(e-p)%1,O(ac,l,v,b),O(sc,u,m,E))}catch(t){console.log(t)}}(),{drawbg:()=>{const t=window.innerWidth,e=window.innerHeight,n=y.bgcvs;var r=y.bgctx;n.width=t,n.height=e,r=w(n,r),((t,e)=>{for(const n in e)t.style[n]=e[n]+"px"})(y.crux,{width:.7*t,height:.6*e});const s=y.crux.offsetWidth;y.crux.style.left=t/2-s/2+"px",t<600&&(y.crux.style.left="20px");const l=y.crux.offsetWidth,u=y.crux.offsetLeft;if(y.alt1Div.style.width=.9*t/2-10+"px",y.alt1Div.style.maxWidth=s/2-10+"px",y.alt1Div.style.left=t/2-(a.offsetWidth+10)+"px",y.alt1Div.style.height=.7*(s/2-10)+"px",c.style.left=t/2+10+"px",c.style.width=.9*t/2-10+"px",c.style.maxWidth=s/2-10+"px",c.style.height=.7*(s/2-10)+"px",o.style.width="50px",o.style.height=.6*e-30+"px",o.style.left=u+s+5+"px",o.style.top="2%",y.altSwitch.style.left=o.offsetLeft+"px",y.altSwitch.style.top=o.offsetTop+o.offsetHeight+5+"px",r.save(),r.beginPath(),r.font="italic bold "+s/20+"px Arial",r.textAlign="end",r.textBaseline="middle",r.fillStyle="maroon",r.shadowOffsetX=2,r.shadowOffsetY=-2,r.shadowBlur=0,r.shadowColor="gray",r.fillText("PEGAS 920",c.offsetLeft+c.offsetWidth+200,e-100),r.font="italic bold "+s/35+"px Arial",r.fillText(x.t920.term,c.offsetLeft+c.offsetWidth+200,e-80),r.closePath(),r.restore(),r.save(),r.beginPath(),r.fillStyle="maroon",r.font="bold "+s/25+"px sans-serif",r.strokeStyle="maroon",r.lineWidth=3,r.shadowOffsetX=2,r.shadowOffsetY=-2,r.shadowBlur=0,r.shadowColor="gray",r.font="bold "+s/30+"px sans-serif",r.textAlign="center",r.textBaseline="middle",r.stroke(),r.closePath(),e>700&&t>600&&(r.beginPath(),r.strokeRect(a.offsetLeft-20,a.offsetTop-20,c.offsetLeft+c.offsetWidth-a.offsetLeft+40,a.offsetHeight+40),r.clearRect(a.offsetLeft+a.offsetWidth/2-a.offsetWidth/5,a.offsetTop+a.offsetHeight+10,.4*a.offsetWidth,20),r.clearRect(c.offsetLeft+c.offsetWidth/2-c.offsetWidth/5,c.offsetTop+c.offsetHeight+10,.4*c.offsetWidth,20),r.moveTo(t/2,a.offsetTop+a.offsetHeight+20),r.lineTo(t/2,e+20),r.stroke(),r.closePath()),r.fillText(x.t920.opt1,a.offsetLeft+a.offsetWidth/2,a.offsetTop+a.offsetHeight+20,.4*a.offsetWidth),r.fillText(x.t920.opt2,c.offsetLeft+c.offsetWidth/2,c.offsetTop+c.offsetHeight+20,.4*c.offsetWidth),r.moveTo(t/2,a.offsetTop+a.offsetHeight+20),r.lineTo(t/2,e+20),r.stroke(),t<600&&(r.moveTo(.4*t,a.offsetTop+a.offsetHeight+20),r.lineTo(.6*t,a.offsetTop+a.offsetHeight+20),r.moveTo(0*t,a.offsetTop+a.offsetHeight+20),r.lineTo(.15*t,a.offsetTop+a.offsetHeight+20),r.moveTo(.85*t,a.offsetTop+a.offsetHeight+20),r.lineTo(t,a.offsetTop+a.offsetHeight+20),r.stroke()),t>800){if(r.beginPath(),r.moveTo(a.offsetLeft-20,a.offsetTop+a.offsetHeight/2),r.lineTo(2*a.offsetLeft/3,a.offsetTop+a.offsetHeight/2),r.lineTo(2*a.offsetLeft/3,e/2),r.fillText(x.t920.flux,2*a.offsetLeft/3,e/2-40),r.fillText(x.t920.princ,2*a.offsetLeft/3,e/2-20),r.moveTo(2*a.offsetLeft/3-50,e/2-30),r.lineTo(-20,e/2-30),r.moveTo(2*a.offsetLeft/3,e/2-60),r.lineTo(2*a.offsetLeft/3,e/4),r.lineTo(l,e/4),r.moveTo(2*a.offsetLeft/3,e/4),r.lineTo(2*a.offsetLeft/3,e/6),r.moveTo(y.altSwitch.offsetLeft+y.altSwitch.offsetWidth+10,y.altSwitch.offsetTop+y.altSwitch.offsetHeight/2),r.lineTo(y.altSwitch.offsetLeft+y.altSwitch.offsetWidth+50,y.altSwitch.offsetTop+y.altSwitch.offsetHeight/2),r.textAlign="left",r.fillText(x.t920.switch,y.altSwitch.offsetLeft+y.altSwitch.offsetWidth+60,y.altSwitch.offsetTop+y.altSwitch.offsetHeight/2),r.textAlign="center",r.stroke(),r.save(),r.shadowOffsetX=-.5,r.shadowOffsetY=.5,r.shadowBlur=0,r.shadowColor="gray",r.drawImage(S,2*a.offsetLeft/3-10,e/6-40,20,20),r.restore(),r.closePath(),i){r.save();let t=r.createRadialGradient(2*a.offsetLeft/3,e/6-30,4,2*a.offsetLeft/3,e/6-30,12);t.addColorStop(0,"rgba(241,8,8,.45)"),t.addColorStop(.9,"transparent"),r.fillStyle=t,r.fillRect(2*a.offsetLeft/3-20,e/6-50,40,40),r.restore()}r.beginPath(),r.fillText(x.t920.transm,2*a.offsetLeft/3,e/6-60),r.clearRect(u+s,e/4-10,50,20),r.moveTo(u+s,e/4),r.lineTo(u+s+20,e/4),r.moveTo(u+s+40,e/4),r.lineTo(u+s+100,e/4),r.fillText(x.t920.defil,u+s+160,e/4-10),r.fillText(x.t920.rap,u+s+160,e/4+10),r.moveTo(u+s+160,e/4-30),r.lineTo(u+s+160,-10),r.moveTo(u+s+160,e/4+30),r.lineTo(u+s+160,e/4+130),r.strokeRect(u+s+100,e/4+130,120,70),r.fillText(x.t920.compt,u+s+160,e/4+220),r.fillText(x.t920.ligne,u+s+160,e/4+240),compteur.style.display="block",compteur.style.left=`${u+s+110}px`,compteur.style.top=e/4+140+"px",r.stroke(),r.closePath()}r.restore(),r.save();var h=r.createRadialGradient(t,90,t/4,t,90,t);h.addColorStop(0,"rgba(255,255,255,.4)"),h.addColorStop(.9,"rgba(100,100,100,.3)"),r.fillStyle=h,r.fillRect(0,0,t,e),r.restore()},compteurLigne:I,drawSlider:k,drawCrux:(e,i,o)=>{if((e=parseInt(e))>0&&e<i.length*parseInt(f/16)){(r=w(n,r)).beginPath(),f=n.getBoundingClientRect().width,d=n.getBoundingClientRect().height;let s=i.length*parseInt(f/16);for(let u=-1200;u<s+400;u+=280)r.drawImage(A,0,+e-u),r.drawImage(A,280,+e-u);for(let h=1;h<i.length;h++)if(null!=i[h]){let p;h<10?p=h+"   -":h<100?p=h+"  -":h<1e3?p=h+" -":h<1e4?p=h+"-":console.log("error, line 9999 reached");let g=e+d+parseInt(f/16)*(h+1)-parseInt(f/16)*(i.length+1);switch(r.restore(),i[h].endBlock&&(r.save(),r.beginPath(),r.setLineDash([5,5]),r.strokeStyle="DarkGray",r.moveTo(.78*f,g+5),r.lineTo(f,g+5),r.stroke(),r.restore()),r.font=parseInt(f/60)+"px "+_,r.fillText(p,f/100+2,g),i[h].type){case"past":r.save(),r.font=parseInt(f/30)+"px "+_,r.fillText(i[h].text,f/15+5,g),r.beginPath(),r.strokeStyle="rgba(66,150,237,.5)",r.lineWidth=.5,r.moveTo(0,g+5),r.lineTo(f/100*78,g+5),r.stroke();break;case"alt":r.save(),r.font="bold "+parseInt(f/30)+"px "+_,r.fillText("> "+i[h].text.toUpperCase(),f/15+5,g),r.beginPath(),r.strokeStyle="rgba(66,150,237,.5)",r.lineWidth=.5,r.moveTo(0,g+5),r.lineTo(f/100*78,g+5),r.stroke();break;case"img":r.drawImage(i[h].illustration,.78*f/4,g-.78*f/2,.78*f/2,.78*f/2),r.filter="none"}}let a=R+R+R;for(let y=0;y<i.length;y+=10)a+=R;let l=d+e-parseInt(f/16)*i.length;r.save(),r.transform(1,-1,0,1,0,0),r.fillStyle="rgba(220,210,200,.2)";for(let v=0;v<s+1200;v+=100)r.fillRect(f/100*78,l-400+v,f/100*22,50);function c(t,e,n,r,i,o){o={tl:o,tr:o,br:o,bl:o},t.beginPath(),t.moveTo(e+o.tl,n),t.lineTo(e+r-o.tr,n),t.quadraticCurveTo(e+r,n,e+r,n+o.tr),t.lineTo(e+r,n+i-o.br),t.quadraticCurveTo(e+r,n+i,e+r-o.br,n+i),t.lineTo(e+o.bl,n+i),t.quadraticCurveTo(e,n+i,e,n+i-o.bl),t.lineTo(e,n+o.tl),t.quadraticCurveTo(e,n,e+o.tl,n),t.closePath()}r.restore(),r.save(),r.font="10px sans-serif",r.textAlign="end",r.translate(f-8,l-1200),r.rotate(-90*Math.PI/180),r.fillStyle="rgb(0,7,14,.5)",r.textBaseline="hanging",r.fillText(a,0,-4),r.restore(),r.strokeStyle="DarkGray",r.lineWidth=.5,r.moveTo(.78*f,-10),r.lineTo(.78*f,d+10),r.closePath(),r.stroke(),r.beginPath(),r.lineWidth=4,r.strokeStyle="rgba(193,20,20,.3)",r.moveTo(f-12,-10),r.lineTo(f-12,d+10),r.closePath(),r.stroke(),r.beginPath(),r.lineWidth=4,r.strokeStyle="rgba(13,109,206,.3)",r.moveTo(f-4,-10),r.lineTo(f-4,d+10),r.closePath(),r.stroke(),r.strokeStyle="black",r.shadowBlur=50,r.shadowColor="black",r.lineWidth=12,c(r,-6,-2,f,t.offsetHeight+12,20),r.stroke(),I(e,i),k(o)}},drawAlt:O,updateSwitch:t=>{y.altSwitch.style.backgroundImage=t?"url(themes/920/img/sw2.png)":"url(themes/920/img/sw1.png)"}}},1080:()=>{var t,e,n=document.getElementById("background-canvas"),r=n.getContext("2d"),i=document.getElementById("crux"),o=document.getElementById("crux-canvas"),s=document.getElementById("timeSlider"),a=s.getContext("2d"),l=document.getElementById("alt1Div"),c=document.getElementById("alt1-canvas"),u=document.getElementById("alt2Div"),h=document.getElementById("alt2-canvas"),f=300,d=300,p=o.getContext("2d"),g=window.devicePixelRatio||1;const y=document.getElementById("compteur");let v=!1;const m="sans-serif";i.style.border="3px solid black",i.style.borderRadius="15px 15px 15px 15px",i.style.boxShadow="inset -6px 6px 12px 10px black",l.style.backgroundColor="#202020",l.style.boxShadow="inset 0px 0px 10px 10px black",l.style.border="3px solid black",l.style.borderRadius="15px",u.style.backgroundColor="#202020",u.style.boxShadow="inset 0px 0px 10px 10px black",u.style.border="3px solid black",u.style.borderRadius="15px",y.style.position="absolute",y.style.width="100px",y.style.height="48px",y.style.color="#202020",y.style.fontSize="18px",y.style.fontFamily=m,y.style.zIndex="6",y.style.userSelect="none",y.style.filter="blur(.5px)",o.style.filter="blur(.5px)",s.style.filter="blur(.5px)",c.style.filter="blur(.5px)",h.style.filter="blur(.5px)";var w=new Image;w.src="themes/1080/img/1080-pan.png";var b=new Image;b.src="themes/commun/img/texture/papertexture.jpeg";const E=new Image;var _;E.src="themes/1080/img/orangefabric.png",E.onload=()=>{_=p.createPattern(E,"repeat")};const x=new Image;var A;x.src="themes/commun/img/texture/aluminium.png",x.onload=()=>{A=p.createPattern(x,"repeat")},[...y.children].forEach((t=>{t.style.position="absolute",t.style.marginLeft="10%",t.style.width="80%",t.style.textAlign="end",t.style.marginTop="12%"}));const S=(e,n)=>(g=window.devicePixelRatio||1,t=e.getBoundingClientRect(),e.width=t.width*g,e.height=t.height*g,n.scale(g,g),n.clearRect(0,0,parseInt(t.width*g),parseInt(t.height*g)),n),T=(t,e,n,r,i,o)=>{t.beginPath(),t.moveTo(e+o,n),t.lineTo(e+r-o,n),t.quadraticCurveTo(e+r,n,e+r,n+o),t.lineTo(e+r,n+i-o),t.quadraticCurveTo(e+r,n+i,e+r-o,n+i),t.lineTo(e+o,n+i),t.quadraticCurveTo(e,n+i,e,n+i-o),t.lineTo(e,n+o),t.quadraticCurveTo(e,n,e+o,n),t.closePath()},R=t=>{s.style.width="50px",s.style.height=i.offsetHeight+50+"px",s.style.left=i.offsetLeft+i.offsetWidth+-55+"px",s.style.top=i.offsetTop+20+"px",(a=S(s,a)).beginPath(),a.strokeStyle="#E6FFF0",a.lineWidth=2,a.moveTo(25,30),a.lineTo(25,i.offsetHeight-20),a.moveTo(15,30),a.lineTo(35,30),a.moveTo(15,i.offsetHeight-20),a.lineTo(35,i.offsetHeight-20);let e=parseInt(i.offsetHeight-20-30),n=parseInt(e/10);for(let t=10;t<e;t+=n)a.moveTo(20,20+t),a.lineTo(30,20+t);a.closePath(),a.stroke();let r=i.offsetHeight*(t/100)-32.5;r<5&&(r=5),a.strokeRect(10,r,30,65),a.fillStyle="#E6FFF0",a.fillRect(20,r+10,10,40),a.strokeStyle="#202020",a.strokeRect(20,r+10,10,40),a.clearRect(0,d-20,50,500)};return{drawbg:()=>{let t=window.innerWidth,e=window.innerHeight;n.width=t,n.height=e,(r=S(n,r)).fillStyle="#000",r.fillRect(0,0,parseInt(2*n.width),parseInt(2*n.height)),i.style.width=.9*t+"px",i.style.height=.6*e+"px",i.style.left=t/2-i.offsetWidth/2+"px",l.style.width=.9*t/2-10+"px",l.style.maxWidth=i.offsetWidth/2-10+"px",l.style.left=t/2-(l.offsetWidth+10)+"px",l.style.height=.7*(i.offsetWidth/2-10)+"px",u.style.left=t/2+10+"px",u.style.width=.9*t/2-10+"px",u.style.maxWidth=i.offsetWidth/2-10+"px",u.style.height=.7*(i.offsetWidth/2-10)+"px",altSwitch.style.left=i.offsetLeft+.6*i.offsetWidth+"px",altSwitch.style.top=i.offsetTop+30+"px",altSwitch.style.width=.15*i.offsetWidth+"px",altSwitch.style.height="30px",altSwitch.style.zIndex=3,r.save();let o=0;for(let n=-20;n<t;n+=parseInt(t/8))o+=1,r.fillStyle=o>2&&o<8?"#101010":"#303030",r.fillRect(n,0,parseInt(t/8)-2,e/2.4-2),r.fillRect(n,e/2.4+5,parseInt(t/8)-2,e/2.4-2),r.fillRect(n,2*e/2.4+10,parseInt(t/8)-2,e/2.4-2),r.drawImage(w,n,0,parseInt(t/8),e/2.4),r.drawImage(w,n,e/2.4+5,parseInt(t/8),e/2.4),r.drawImage(w,n,2*e/2.4+10,parseInt(t/8),e/2.4),n+=5;r.save(),r.fillStyle=_,r.fillRect(-28,3,i.offsetLeft,e/16),r.fillRect(i.offsetLeft+i.offsetWidth+28,3,i.offsetLeft+24,e/16),r.fillRect(-28,l.offsetTop,i.offsetLeft,l.offsetHeight),r.fillRect(i.offsetLeft+i.offsetWidth+28,l.offsetTop,l.offsetLeft+4,l.offsetHeight);let s=new Path2D;s.rect(-28,3,i.offsetLeft,e/16),s.rect(i.offsetLeft+i.offsetWidth+28,3,i.offsetLeft+24,e/16),s.rect(-28,l.offsetTop,i.offsetLeft,l.offsetHeight),s.rect(i.offsetLeft+i.offsetWidth+28,l.offsetTop,l.offsetLeft+4,l.offsetHeight),r.clip(s,"evenodd"),r.restore(),r.globalCompositeOperation="multiply";for(let t=0;t<window.innerWidth;t+=280)r.drawImage(b,t,0),r.drawImage(b,t,l.offsetTop);r.restore(),r.save(),r.shadowBlur=25,r.shadowColor="black",r.strokeStyle=A,r.lineWidth=6,r.strokeRect(-28,3,i.offsetLeft,e/16),r.strokeRect(i.offsetLeft+i.offsetWidth+28,3,i.offsetLeft+24,e/16),r.strokeRect(-28,l.offsetTop,i.offsetLeft,l.offsetHeight),r.strokeRect(i.offsetLeft+i.offsetWidth+28,l.offsetTop,l.offsetLeft+4,l.offsetHeight),r.stroke(),r.restore(),r.save(),r.globalCompositeOperation="destination-in",r.fill(),r.globalCompositeOperation="source-over",r.restore(),r.save(),r.fillStyle="#202020",r.lineWidth=15,r.strokeStyle="#ebead0",r.shadowBlur=25,r.shadowColor="black",T(r,i.offsetLeft-15,i.offsetTop-15,i.offsetWidth+30,l.offsetTop+l.offsetHeight+20,10),r.stroke(),r.fill(),r.shadowBlur=0,r.restore(),y.style.display="block",y.style.left=i.offsetLeft+20,y.style.top=i.offsetTop+70,r.save();var a=r.createRadialGradient(.7*t,90,t/5,.7*t,90,t);a.addColorStop(0,"rgba(255,255,255,.2)"),a.addColorStop(.3,"rgba(0,0,0,.3)"),r.fillStyle=a,r.fillRect(0,0,t,e),r.restore()},startCanvas:S,drawSlider:R,drawCrux:(t,n,r)=>{if(t=parseInt(t),e=parseInt(n.length-t/parseInt(f/16)),t>0&&e<=n.length){(p=S(o,p)).beginPath(),f=o.getBoundingClientRect().width,d=o.getBoundingClientRect().height,p.fillStyle="rgb(32,32,32)",p.fillRect(0,0,f,d);for(let e=1;e<n.length;e++)if(null!=n[e]){let r;e<10||e<100||e<1e3||e<1e4?r=e:console.log("error, line 9999 reached");let i=t+d+parseInt(f/16)*(e+1)-parseInt(f/16)*(n.length+1);switch(p.fillStyle="#E6FFF0",p.font=parseInt(f/30)+"px "+m,p.fillText(r,.85*f,i),n[e].type){case"past":p.save(),p.font=parseInt(f/30)+"px "+m,p.fillText(n[e].text.toUpperCase(),f/15+5,i),p.beginPath(),p.strokeStyle="#E6FFF0",p.lineWidth=1.5,p.moveTo(0,i+5),p.lineTo(f,i+5),p.stroke(),p.restore();break;case"alt":p.save(),p.font="bold "+parseInt(f/30)+"px "+m,p.fillStyle="#ff4b0d",p.beginPath(),p.moveTo(.01*f,i),p.lineTo(.035*f,i-f/30),p.lineTo(.06*f,i),p.fill(),p.restore(),p.fillText(n[e].text.toUpperCase(),f/15+5,i);break;case"img":p.save();var s=new Image;s.src=n[e].text,p.fillStyle="#ff4b0d",p.globalCompositeOperation="difference",p.fillRect(.78*f/4-10,i-10-.78*f/2,.78*f/2+20,.78*f/2+20),p.drawImage(s,.78*f/4,i-.78*f/2,.78*f/2,.78*f/2),p.filter="none",p.globalCompositeOperation="source-over",p.restore()}n[e].endBlock&&(p.closePath(),p.beginPath(),p.save(),p.strokeStyle="#E6FFF0",p.lineWidth=2,p.arc(f/25,i-f/50,f/50,0,2*Math.PI),p.stroke(),p.restore())}p.save(),p.beginPath(),p.fillStyle="#E6FFF0",p.fillRect(0,0,f,100),p.fillStyle="rgb(32,32,32)",p.font="bolder "+f/20+" px "+m,p.fillText("PEGAS 1080",10,40),T(p,-6,-6,f+12,d+12,5),p.strokeStyle="black",p.shadowBlur=25,p.shadowColor="black",p.lineWidth=12,p.stroke(),p.globalCompositeOperation="destination-in",p.fill(),p.globalCompositeOperation="source-over",p.closePath(),p.restore(),p.save(),p.fillStyle="#141414",p.fillRect(.6*i.offsetWidth,30,.15*i.offsetWidth,30),p.font="900 "+parseInt(i.offsetWidth/40)+"px "+m,p.textAlign="center",v?(p.fillStyle="#ff4b0d",p.strokeStyle="#ff4b0d"):(p.fillStyle="#E6FFF0",p.strokeStyle="#E6FFF0"),p.strokeRect(.6*i.offsetWidth+5,35,.15*i.offsetWidth-10,20),p.fillText("SWITCH",.6*i.offsetWidth+.075*i.offsetWidth,50),p.restore(),((t,n)=>{e=parseInt(n.length-t/parseInt(i.offsetWidth/16)),y.innerText="LIGNE: "+e})(t,n),R(r)}},drawAlt:(t,e,n,r)=>{t=S(e,t);let o=e.getBoundingClientRect().width,s=e.getBoundingClientRect().height;if(t.save(),t.fillStyle="black",t.strokeStyle="black",t.shadowBlur=15,t.shadowColor="black",t.lineWidth=2,t.stroke(),t.restore(),n&&n.length>0&&n[0].hasOwnProperty("text")&&n[0].text.length>1){switch(Math.floor(Math.random()*Math.floor(2))){case 0:t.save(),t.strokeStyle="#E6FFF0",t.lineWidth=2,t.strokeRect(c.offsetWidth-40,20,20,20),t.stroke(),t.restore();break;case 1:t.save(),t.fillStyle="#ff4b0d",t.arc(c.offsetWidth-20,25,10,0,2*Math.PI),t.fill(),t.restore()}t.fillStyle="#E6FFF0",t.font="200 "+parseInt(i.offsetWidth/50)+"px "+m,t.fillText("00"+r,c.offsetWidth-40,34),t.font="200 "+parseInt(i.offsetWidth/30)+"px "+m;for(let e=0;e<n.length&&e<5;e++)null!=n[e]&&t.fillText(n[e].text.toUpperCase(),35,s/2-parseInt(o/8)*((n.length+1)/2)+parseInt(o/8)*(e+1))}},updateSwitch:t=>v=t}},1260:()=>{var t,e,n=document.getElementById("background-canvas"),r=n.getContext("2d"),i=document.getElementById("crux"),o=document.getElementById("crux-canvas"),s=document.getElementById("timeSlider"),a=s.getContext("2d"),l=document.getElementById("alt1Div"),c=document.getElementById("alt1-canvas"),u=document.getElementById("alt2Div"),h=document.getElementById("alt2-canvas"),f=300,d=300,p=Date.now(),g=1,y=o.getContext("2d"),v=window.devicePixelRatio||1,m=document.getElementById("compteur"),w=!1,b="Monospace";document.body.style.backgroundColor="white",i.style.borderImageSource='url("themes/1260/img/1260border-light.png")',i.style.borderImageWidth="20%",i.style.borderImageSlice="30%",i.style.backgroundColor="transparent",i.style.borderStyle="solid",i.style.borderRadius="15px 15px 15px 15px",i.style.boxShadow=" inset 0px 0px 30px 22px black",document.getElementById("comptBg").style.color="Azure",n.style.backgroundColor="#202020",m.style.position="absolute",m.style.color="Azure",m.style.fontFamily="Arial",m.style.fontWeight="600",m.style.display="block",m.style.filter="blur(.5px)",o.style.filter="blur(.6px)",s.style.filter="blur(.6px)",c.style.filter="blur(.5px)",h.style.filter="blur(.5px)",n.style.background="url(themes/1260/img/bgpano.png)",n.style.backgroundSize="cover",n.style.filter="blur(5px)",n.style.backgroundPositionX="center",n.style.backgroundPositionY="bottom",[...m.children].forEach((t=>{t.style.position="absolute",t.style.marginLeft="10%",t.style.width="80%",t.style.textAlign="end",t.style.marginTop="12%",t.style.userSelect="none",t.style.zIndex="5"})),m.style.zIndex="6";const E=(e,n)=>(v=window.devicePixelRatio||1,t=e.getBoundingClientRect(),e.width=t.width*v,e.height=t.height*v,n.scale(v,v),n.clearRect(0,0,parseInt(t.width*v),parseInt(t.height*v)),n),_=()=>{f=i.offsetWidth,d=i.offsetHeight;let t=["rgba(133, 144, 140,.65)","rgba(50, 50, 50,.65)"],e=r.createLinearGradient(0,0,0,.5*i.offsetHeight);e.addColorStop(0,t[1]),e.addColorStop(1,t[0]),r.save(),(t=>{var e=t.canvas.width,n=t.canvas.height,r=t.createImageData(e,n),i=new Uint32Array(r.data.buffer);i.length;for(let t=0;t<parseInt(2*n);t+=4)for(let r=0;r<parseInt(e);r+=4){let o=(255*Math.random()|0)<<24;i[t*n+r]=o,i[t*n+r+1]=o,i[t*n+r+2]=o,i[t*n+r+3]=o,i[t*n+e+r]=o,i[t*n+e+r+1]=o,i[t*n+e+r+2]=o,i[t*n+e+r+3]=o,i[t*n+2*e+r]=o,i[t*n+2*e+r+1]=o,i[t*n+2*e+r+2]=o,i[t*n+2*e+r+3]=o,i[t*n+3*e+r]=o,i[t*n+3*e+r+1]=o,i[t*n+3*e+r+2]=o,i[t*n+3*e+r+3]=o}t.save(),t.putImageData(r,0,0),t.restore(),t.save(),t.beginPath();for(var o=0;o<n;o+=48)t.strokeStyle="rgba(255,255,255,.3)",t.moveTo(0,0+o),t.lineTo(e,0+o);t.stroke(),t.closePath(),t.restore()})(r),r.beginPath(),r.moveTo(i.offsetLeft+30,i.offsetTop+30),r.quadraticCurveTo(i.offsetLeft+f/2,i.offsetTop+-15,i.offsetLeft+f-30,i.offsetTop+30),r.quadraticCurveTo(i.offsetLeft+f+15,i.offsetTop+d/2,i.offsetLeft+f-30,i.offsetTop+d-30),r.quadraticCurveTo(i.offsetLeft+f/2,i.offsetTop+d+15,i.offsetLeft+30,i.offsetTop+d-30),r.quadraticCurveTo(i.offsetLeft+-15,i.offsetTop+d/2,i.offsetLeft+30,i.offsetTop+30),r.stroke(),r.fillStyle=e,r.fill(),r.fillStyle="black",r.strokeStyle="black",r.shadowBlur=65,r.shadowColor="black",r.lineWidth=6,r.stroke(),r.globalCompositeOperation="destination-in",r.fill(),r.globalCompositeOperation="source-over",r.lineWidth=1,r.stroke(),r.closePath(),r.restore(),altSwitch.style.left=i.offsetLeft+o.offsetLeft+.6*o.offsetWidth+"px",altSwitch.style.top=i.offsetTop+o.offsetTop+.15*o.offsetHeight+"px",altSwitch.style.width=.15*i.offsetWidth+"px",altSwitch.style.height=.05*o.offsetHeight+"px",altSwitch.style.zIndex=7},x=t=>{(a=E(s,a)).beginPath(),a.lineCap="round",a.save(),a.strokeStyle="Azure",a.lineWidth=3,a.moveTo(2,2),a.quadraticCurveTo(80,s.offsetHeight/2-4,2,s.offsetHeight-2),a.stroke();let e=i.offsetHeight*(t/100)-32.5;e<5&&(e=5);let n=(2,2,80,2,{x:(1-(r=e/i.offsetHeight))*(1-r)*2+2*(1-r)*r*80+r*r*2,y:(1-r)*(1-r)*2+2*(1-r)*r*(s.offsetHeight/2-4)+r*r*(s.offsetHeight-2)});var r;a.moveTo(2,parseInt(n.y)),a.lineTo(parseInt(n.x),parseInt(n.y)),a.stroke()};function A(){try{window.requestAnimationFrame(A);var t=Date.now();t-p>g&&(p=t-(t-p)%g,_())}catch(t){console.log(t)}}return A(),{drawbg:()=>{let t=window.innerWidth,e=window.innerHeight;n.width=t,n.height=e,f=i.offsetWidth,d=i.offsetHeight,r=E(n,r),i.style.height=.8*e+"px",i.style.width=parseInt(1.2*i.offsetHeight)+"px",i.style.maxWidth=t+"px",i.style.top=.05*e+"px",i.style.left=parseInt(t/2-i.offsetWidth/2)+"px",i.style.borderImageOutset=i.offsetHeight/7+"px "+i.offsetHeight/6.75+"px "+i.offsetHeight/5.75+"px "+i.offsetHeight/6.5+"px",l.style.width=.35*i.offsetWidth+"px",l.style.maxWidth=i.offsetWidth/2-10+"px",l.style.left=i.offsetLeft+.1*i.offsetWidth+"px",l.style.top=i.offsetTop+.72*i.offsetHeight+"px",l.style.height=.2*i.offsetHeight+"px",u.style.left=t/2-10+"px",u.style.width=.35*i.offsetWidth+"px",u.style.maxWidth=i.offsetWidth/2-10+"px",u.style.top=i.offsetTop+.72*i.offsetHeight+"px",u.style.height=.2*i.offsetHeight+"px",window.innerWidth<600&&(i.style.border="0px",i.style.width=window.innerWidth,i.style.height=window.innerHeight,i.style.top="0px",i.style.bottom="0px",i.style.left="0px",l.style.left="30px",l.style.top=.7*window.innerHeight+"px",u.style.top=.7*window.innerHeight+"px",l.style.width=.5*t+"px",u.style.left=l.offsetLeft+l.offsetWidth+"px"),r.save();var a=r.createRadialGradient(0,90,t/4,0,90,2*t/3);a.addColorStop(0,"rgba(255,255,255,.3)"),a.addColorStop(.9,"rgba(100,100,100,.2)"),r.fillStyle=a,r.fillRect(0,0,t,e),r.restore(),_(),r.stroke(),o.style.top=0,o.style.left=.05*i.offsetWidth+"px",o.width=.8*i.offsetWidth,o.height=.7*i.offsetHeight,o.style.width=.8*i.offsetWidth+"px",o.style.height=.7*i.offsetHeight+"px",r.save(),r.beginPath(),r.strokeStyle="black",r.stroke(),r.closePath(),m.style.left=i.offsetLeft+o.offsetLeft+.6*o.offsetWidth+"px",m.style.top=i.offsetTop+o.offsetTop+.085*o.offsetHeight+"px",m.style.fontSize=.03*o.offsetWidth+"px",m.style.width=.2*o.offsetHeight+"px",m.style.height=.05*o.offsetWidth+"px",s.style.width="50px",s.style.height=.85*i.offsetHeight+"px",s.style.left=i.offsetLeft+.88*i.offsetWidth+"px",s.style.top=i.offsetTop+.07*i.offsetWidth+"px",window.innerWidth<i.offsetWidth&&(s.style.left=window.innerWidth-50+"px")},startCanvas:E,drawSlider:x,drawCrux:(t,n,r)=>{if(t=parseInt(t),e=parseInt(n.length-t/parseInt(f/16)),t>0&&e<=n.length){y=E(o,y),f=o.getBoundingClientRect().width,d=o.getBoundingClientRect().height,y.fillStyle="Azure",y.beginPath();for(let e=1;e<n.length;e++)if(null!=n[e]){let r=t+d+parseInt(f/16)*(e+1)-parseInt(f/16)*(n.length+1);switch(n[e].type){case"past":y.font="600 "+parseInt(f/30)+"px "+b,y.fillText(n[e].text,.05*f,r);break;case"alt":y.font="bold "+parseInt(f/30)+"px "+b,y.fillText(" "+n[e].text.toUpperCase(),.05*f,r);break;case"img":y.save();var i=new Image;i.src=n[e].text,y.fillStyle="Azure",y.strokeStyle="Azure",y.globalCompositeOperation="xor",y.strokeRect(.78*f/4-10,r-10-.78*f/2,.78*f/2+20,.78*f/2+20),y.fillRect(.78*f/4-5,r-5-.78*f/2,.78*f/2+10,.78*f/2+10),y.drawImage(i,.78*f/4,r-.78*f/2,.78*f/2,.78*f/2),y.filter="none",y.globalCompositeOperation="source-over",y.restore()}y.stroke()}y.beginPath(),y.strokeStyle="Azure",y.lineCap="round",y.lineWidth="3",y.moveTo(10,o.offsetHeight-1.5),y.lineTo(o.offsetWidth-20,o.offsetHeight-1.5),y.clearRect(.6*o.offsetWidth,.1*o.offsetHeight,.2*o.offsetHeight,.05*o.offsetHeight),y.strokeRect(.6*o.offsetWidth,.1*o.offsetHeight,.2*o.offsetHeight,.05*o.offsetHeight),w&&(y.clearRect(.6*o.offsetWidth,.15*o.offsetHeight,.2*o.offsetHeight,.05*o.offsetHeight),y.strokeRect(.6*o.offsetWidth,.15*o.offsetHeight,.2*o.offsetHeight,.05*o.offsetHeight),y.fillText(" SWITCH ",.6*o.offsetWidth,.19*o.offsetHeight)),y.stroke(),y.closePath(),y.clearRect(0,0,f,.06*d),document.getElementById("compte").innerText=e,x(r)}},drawAlt:(t,e,n,r)=>{t=E(e,t);let o=e.getBoundingClientRect().width,s=e.getBoundingClientRect().height;if(t.font="600 "+parseInt(i.offsetWidth/40)+"px "+b,t.fillStyle="Azure",n&&r){t.fillText("",10,s/2-parseInt(o/8)*((n.length+1)/2)+2*parseInt(o/10)),t.globalCompositeOperation="xor",t.fillText(r,10,s/2-parseInt(o/8)*((n.length+1)/2)+2*parseInt(o/10)),t.globalCompositeOperation="source-over";for(let e=0;e<n.length&&e<5;e++)null!=n[e].text&&t.fillText(n[e].text.toUpperCase(),35,s/2-parseInt(o/8)*((n.length+1)/2)+parseInt(o/10)*(e+2))}},updateSwitch:t=>w=t,loop:A}},1440:()=>{var t,e,n=document.getElementById("background-canvas"),r=n.getContext("2d"),i=document.getElementById("crux"),o=document.getElementById("crux-canvas"),s=document.getElementById("timeSlider"),a=s.getContext("2d"),l=document.getElementById("alt1Div"),c=document.getElementById("alt1-canvas"),u=document.getElementById("alt2Div"),h=(document.getElementById("alt2-canvas"),300),f=300,d=o.getContext("2d"),p=window.devicePixelRatio||1,g=document.getElementById("compteur");let y=!1;var v="Work Sans";document.body.style.backgroundColor="white",i.style.borderImageSource='url("themes/1440/img/1440border.png")',i.style.borderImageWidth="20%",i.style.borderImageSlice="30%",i.style.backgroundColor="transparent",i.style.borderStyle="solid",i.style.borderRadius="40px",i.style.boxShadow=" inset 0px 0px 10px 12px #202020",i.style.minWidth="400px",document.getElementById("comptBg").style.color="black",n.style.backgroundColor="#202020",n.style.background="url(themes/1440/img/1440bg.png)",n.style.backgroundSize="cover",n.style.backgroundPositionX="center",n.style.backgroundPositionY="bottom",g.style.position="absolute",g.style.color="black",g.style.fontFamily="Arial",g.style.fontWeight="600",g.style.zIndex="6",[...g.children].forEach((t=>{t.style.position="absolute",t.style.marginLeft="10%",t.style.width="80%",t.style.textAlign="end",t.style.marginTop="12%",t.style.userSelect="none",t.style.zIndex="5"}));const m=(t,e,n,r,o,s)=>{t.clearRect(e,n,r,o),t.fillStyle="white",t.fillRect(e,n,r,o),t.strokeStyle="black",t.strokeRect(e,n,r,.03*f),t.lineWidth="1",t.moveTo(e,n+.03*f/3),t.lineTo(e+r,n+.03*f/3),t.moveTo(e,n+.03*f/2),t.lineTo(e+r,n+.03*f/2),t.moveTo(e,n+.03*f*2/3),t.lineTo(e+r,n+.03*f*2/3),t.stroke(),t.fillRect(e+10,n+4,.03*f-4,.03*f-8),t.font="bolder "+parseInt(i.offsetWidth/60)+"px "+v;let a=parseInt(t.measureText(s).width);t.fillRect(e+r/2-a/2-5,n+4,a+20,.03*f-8),t.fillStyle="black",t.fillText(s,e+r/2-a/2+5,n+.03*f-4),t.strokeRect(e+12,n+4,.03*f-8,.03*f-8),t.beginPath(),t.lineWidth="3",t.moveTo(e+r,n),t.lineTo(e+r,n+o),t.lineTo(e,n+o),t.stroke(),t.lineWidth="1",t.lineTo(e,n),t.stroke(),t.fillStyle="white",t.fillRect(e,n+.03*f,r-1.5,o-.03*f-1.5)},w=()=>{let t=window.innerWidth,e=window.innerHeight;h=i.offsetWidth,f=i.offsetHeight,n.width=t,n.height=e,r=b(n,r),i.style.height=.8*e+"px",i.style.width=parseInt(1.2*i.offsetHeight)+"px",i.style.maxWidth=t+"px",i.style.top=.1*e+"px",i.style.left=t/2-i.offsetWidth/2+"px",i.style.borderImageOutset=i.offsetHeight/8+"px "+i.offsetHeight/9+"px "+i.offsetHeight/7+"px "+i.offsetHeight/9.3+"px",l.style.width=.35*i.offsetWidth+"px",l.style.maxWidth=i.offsetWidth/2-10+"px",l.style.left=i.offsetLeft+.1*i.offsetWidth+"px",l.style.top=i.offsetTop+.7*i.offsetHeight+"px",l.style.height=.27*i.offsetHeight+"px",u.style.left=t/2+10+"px",u.style.width=.35*i.offsetWidth+"px",u.style.maxWidth=i.offsetWidth/2-10+"px",u.style.top=i.offsetTop+.7*i.offsetHeight+"px",u.style.height=.27*i.offsetHeight+"px",window.innerWidth<i.offsetWidth&&(i.style.left=.05*-i.offsetWidth+"px",l.style.left=.05*t+"px",l.style.width=.4*t+"px",u.style.width=.4*t+"px",u.style.left=l.offsetLeft+l.offsetWidth+"px"),r.save(),r.beginPath(),r.moveTo(i.offsetLeft+5,i.offsetTop+5),r.quadraticCurveTo(i.offsetLeft+i.offsetWidth/2,i.offsetTop+-5,i.offsetLeft+i.offsetWidth-5,i.offsetTop+5),r.quadraticCurveTo(i.offsetLeft+i.offsetWidth+5,i.offsetTop+f/2,i.offsetLeft+i.offsetWidth-5,i.offsetTop+f-5),r.quadraticCurveTo(i.offsetLeft+i.offsetWidth/2,i.offsetTop+f+5,i.offsetLeft+5,i.offsetTop+f-5),r.quadraticCurveTo(i.offsetLeft+-15,i.offsetTop+f/2,i.offsetLeft+5,i.offsetTop+5),r.save(),r.restore(),r.fillStyle="#909090",r.fillRect(i.offsetLeft,0,i.offsetWidth,window.innerHeight),function(t){let e=i.offsetHeight*p;t.save(),t.fillStyle="rgba(20,20,20,.6)";for(let n=i.offsetLeft;n<i.offsetLeft+i.offsetWidth;n+=8)for(let r=0;r<4*e;r+=8)t.fillRect(n,r,4,4),t.fillRect(n+4,r+4,4,4);t.restore()}(r),r.save(),r.fillStyle="white",r.fillRect(i.offsetLeft,i.offsetTop,i.offsetWidth,.06*i.offsetHeight),r.moveTo(i.offsetLeft,i.offsetTop+.06*i.offsetHeight),r.lineTo(i.offsetLeft+i.offsetWidth,i.offsetTop+.06*i.offsetHeight),r.fillStyle="black",r.font="bolder "+parseInt(i.offsetWidth/50)+"px "+v,r.fillText(x.t1440.topMenu,i.offsetLeft+.05*i.offsetWidth,i.offsetTop+.05*i.offsetHeight),altSwitch.style.left=i.offsetLeft+.325*i.offsetWidth+"px",altSwitch.style.top=i.offsetTop+"px",altSwitch.style.width=.1*i.offsetWidth+"px",altSwitch.style.height=.06*i.offsetHeight+"px",altSwitch.style.zIndex=3,y?(r.save(),r.fillStyle="black",r.fillRect(i.offsetLeft+.27*i.offsetWidth,i.offsetTop,.1*i.offsetWidth,.06*i.offsetHeight),r.fillStyle="white",r.fillText(x.t1440.switch,i.offsetLeft+.13*i.offsetWidth,i.offsetTop+.05*i.offsetHeight),r.restore()):(r.fillStyle="white",r.fillRect(i.offsetLeft+.27*i.offsetWidth,i.offsetTop,.1*i.offsetWidth,.06*i.offsetHeight),r.fillStyle="black",r.fillText(x.t1440.switch,i.offsetLeft+.13*i.offsetWidth,i.offsetTop+.05*i.offsetHeight)),r.restore(),m(r,i.offsetLeft+.07*i.offsetWidth,i.offsetTop+.1*i.offsetHeight,.7*i.offsetWidth,.6*i.offsetHeight-10,x.t1440.mainWin),o.style.top=.12*i.offsetHeight,o.style.left=.07*i.offsetWidth,o.width=.7*i.offsetWidth-20,o.height=.56*i.offsetHeight,o.style.width=.7*i.offsetWidth-20,o.style.height=.56*i.offsetHeight,m(r,l.offsetLeft,l.offsetTop,l.offsetWidth,l.offsetHeight,x.t1440.opt1),m(r,u.offsetLeft,u.offsetTop,u.offsetWidth,u.offsetHeight,x.t1440.opt2),g.style.display="block",g.style.left=i.offsetLeft+.52*i.offsetWidth+"px",g.style.fontSize=parseInt(i.offsetWidth)/40+"px",g.style.top=i.offsetTop+.115*i.offsetHeight+"px",g.style.width=.15*i.offsetWidth,g.style.height=parseInt(i.offsetWidth)/40+5,m(r,i.offsetLeft+.52*i.offsetWidth,i.offsetTop+.08*i.offsetHeight,.16*i.offsetWidth,parseInt(i.offsetWidth)/40+.05*i.offsetHeight,x.t1440.compt),r.stroke(),r.closePath(),r.restore(),r.save();var a=r.createRadialGradient(t/2,90,t/4,t/2,90,t/2);a.addColorStop(0,"rgba(255,255,255,.3)"),a.addColorStop(.9,"rgba(100,100,100,.2)"),r.fillStyle=a,r.fillRect(0,0,t,e),r.restore(),(t=>{t.save(),t.fillStyle="rgba(10,10,10,.3)",t.beginPath(),t.moveTo(i.offsetLeft,0),t.lineTo(i.offsetLeft,i.offsetTop+.3*f),t.quadraticCurveTo(i.offsetLeft+h/2,i.offsetTop+.1*f,i.offsetLeft+h,i.offsetTop+.3*f),t.lineTo(i.offsetLeft+h,0),t.closePath(),t.filter="blur(10px)",t.fill(),t.restore()})(r),s.style.left=i.offsetLeft+o.offsetLeft+o.offsetWidth+"px",s.style.top=i.offsetTop+o.offsetTop+3+"px",s.style.width="20px",s.style.height=o.offsetHeight+"px"},b=(e,n)=>(p=window.devicePixelRatio||1,t=e.getBoundingClientRect(),e.width=t.width*p,e.height=t.height*p,n.scale(p,p),n.clearRect(0,0,parseInt(t.width*p),parseInt(t.height*p)),n),E=t=>{(a=b(s,a)).strokeStyle="black",a.lineWidth="2";let e=s.offsetHeight*(t/100)-32.5;a.strokeRect(0,0,s.offsetWidth,s.offsetHeight),e<5&&(e=5),a.strokeRect(0,e,s.offsetWidth,s.offsetWidth),a.clearRect(0,0,s.offsetWidth,3)};return{drawbg:w,startCanvas:b,drawSlider:E,drawCrux:(t,n,r)=>{if((t=parseInt(t))>0&&t<n.length*parseInt(h/16)){d=b(o,d),h=o.offsetWidth,f=o.offsetHeight,d.fillStyle="black",d.beginPath();for(let e=1;e<n.length;e++)if(null!=n[e]){let r=t+f+parseInt(h/16)*(e+1)-parseInt(h/16)*(n.length+1);switch(n[e].type){case"past":d.font="600 "+parseInt(h/30)+"px "+v,d.fillText(n[e].text,.1*h,r);break;case"alt":d.font="bold "+parseInt(h/30)+"px "+v,d.fillText("- "+n[e].text.toUpperCase(),.1*h,r);break;case"img":d.filter="grayscale()";var s=new Image;s.src=n[e].text,d.drawImage(s,.78*h/4,r-.78*h/2,.78*h/2,.78*h/2),d.fillRect(.78*h/6,r-.78*h/2,20,.78*h/2),d.filter="none"}}d.clearRect(.52*i.offsetWidth-o.offsetLeft-3,0,.16*i.offsetWidth,g.offsetHeight-3),d.clearRect(0,0,h,4),((t,n)=>{e=parseInt(n.length-t/parseInt(i.offsetWidth/16)),g.innerText=e})(t,n),E(r)}},drawAlt:(t,e,n,r)=>{t=b(e,t);let o=e.getBoundingClientRect().width,s=e.getBoundingClientRect().height;if(t.clearRect(0,0,o,s),t.fillStyle="black",n&&r){t.font="200 "+parseInt(i.offsetWidth/50)+"px "+v,t.fillText("["+r+"]",c.offsetWidth-40,.3*c.offsetHeight),t.font="400 "+parseInt(h/30)+"px "+v;for(let e=0;e<n.length&&e<5;e++)null!=n[e].text&&t.fillText(n[e].text,35,s/2-parseInt(o/8)*((n.length+1)/2)+parseInt(o/8)*(e+1))}},updateSwitch:t=>{y=t,w()}}},1970:()=>{var t,e,n=document.getElementById("background-canvas"),r=n.getContext("2d"),o=document.getElementById("crux"),s=document.getElementById("crux-canvas"),a=document.getElementById("timeSlider"),l=a.getContext("2d"),c=document.getElementById("alt1Div"),u=(document.getElementById("alt1-canvas"),document.getElementById("alt2Div")),h=(document.getElementById("alt2-canvas"),300),f=300,d=s.getContext("2d"),p=window.devicePixelRatio||1,g=document.getElementById("compteur");n.style.background="url(themes/1970/img/newbg.png)",n.style.backgroundSize="cover",n.style.filter="blur(3px)",n.style.backgroundPositionX="center",n.style.backgroundPositionY="bottom",document.body.style.backgroundColor="white",o.style.borderImageSource='url("themes/1970/img/1970border.png")',o.style.borderImageWidth="40px",o.style.borderImageSlice="107 117 107 122",o.style.borderImageOutset="10px",o.style.borderImageRepeat="stretch",c.style.border="1px solid lightgray",c.style.backgroundColor="white",c.style.borderRadius="15px",u.style.border="1px solid lightgray",u.style.borderRadius="15px",u.style.backgroundColor="white",document.getElementById("comptBg").style.color="black",n.style.backgroundColor="#fff",o.style.backgroundColor="white",o.style.borderStyle="solid",o.style.borderRadius="35px",o.style.boxShadow=" inset 0px 0px 5px 4px black",g.style.position="absolute",g.style.color="black",g.style.fontFamily="Arial",g.style.width="98px",g.style.height="48px",g.style.fontWeight="600",altSwitch.style.zIndex=3,[...g.children].forEach((t=>{t.style.position="absolute",t.style.marginLeft="10%",t.style.width="80%",t.style.textAlign="end",t.style.marginTop="12%",t.style.userSelect="none",t.style.zIndex="5"})),g.style.zIndex="6";const y=(t,e,n,r,i,o)=>{t.beginPath(),t.moveTo(e+o,n),t.lineTo(e+r-o,n),t.quadraticCurveTo(e+r,n,e+r,n+o),t.lineTo(e+r,n+i-o),t.quadraticCurveTo(e+r,n+i,e+r-o,n+i),t.lineTo(e+o,n+i),t.quadraticCurveTo(e,n+i,e,n+i-o),t.lineTo(e,n+o),t.quadraticCurveTo(e,n,e+o,n),t.closePath()},v=(e,n)=>(p=window.devicePixelRatio||1,t=e.getBoundingClientRect(),e.width=t.width*p,e.height=t.height*p,n.scale(p,p),n.clearRect(0,0,parseInt(t.width*p),parseInt(t.height*p)),n),m=(t,n)=>{e=parseInt(n.length-t/parseInt(h/16)),document.getElementById("compte").innerText=e},w=t=>{a.style.width="50px",a.style.height=.6*o.offsetHeight+"px",a.style.left=o.offsetLeft+o.offsetWidth+-40+"px",a.style.top=o.offsetTop+.1*o.offsetHeight+"px",l=v(a,l);let e=a.offsetHeight*(t/100)-32.5;e<5&&(e=5),l.fillStyle="rgba(100,100,100,.4)",y(l,20,e,10,60,5),l.fill()};return{drawbg:()=>{let t=window.innerWidth,e=window.innerHeight;if(n.width=t,n.height=e,(r=v(n,r)).clearRect(0,0,parseInt(n.width),parseInt(n.height)),o.style.height=.9*e+"px",o.style.width=parseInt(.5*o.offsetHeight)+"px",o.style.maxWidth=t+"px",o.style.top=window.innerHeight-.9*e-20+"px",o.style.left=t/2-o.offsetWidth/2+"px",c.style.width=.425*o.offsetWidth+"px",c.style.left=o.offsetLeft+.05*o.offsetWidth+"px",c.style.top=o.offsetTop+.75*o.offsetHeight+"px",c.style.height=.15*o.offsetHeight+"px",c.style.minHeight=.15*o.offsetHeight+"px",u.style.left=o.offsetLeft+.525*o.offsetWidth+"px",u.style.width=.425*o.offsetWidth+"px",u.style.maxWidth=.4*o.offsetWidth+"px",u.style.top=o.offsetTop+.75*o.offsetHeight+"px",u.style.height=.15*o.offsetHeight+"px",u.style.minHeight=.15*o.offsetHeight+"px",window.innerWidth<600&&(o.style.width=window.innerWidth,o.style.height=window.innerHeight,o.style.left="0",o.style.top="0",o.style.border="0px",o.style.borderRadius="0px",o.style.boxShadow="none"),r.save(),i){r.save();let t=r.createRadialGradient(2*c.offsetLeft/3,e/6-30,4,2*c.offsetLeft/3,e/6-30,12);t.addColorStop(0,"rgba(241,8,8,.45)"),t.addColorStop(.9,"transparent"),r.fillStyle=t,r.fillRect(2*c.offsetLeft/3-20,e/6-50,40,40),r.restore()}g.style.display="block",g.style.left=o.offsetLeft+o.offsetWidth-180+"px",g.style.fontSize=parseInt(o.offsetWidth)/20+"px",g.style.top=o.offsetTop+25+"px",r.stroke(),r.closePath(),r.restore(),altSwitch.style.left=o.offsetLeft+o.offsetWidth-60+"px",altSwitch.style.top=o.offsetTop+20+"px",altSwitch.style.backgroundRepeat="no-repeat",altSwitch.style.backgroundPosition="center"},startCanvas:v,compteurLigne:m,drawSlider:w,drawCrux:(t,e,n)=>{t=parseInt(t),h=s.getBoundingClientRect().width;let r=.7*(f=s.getBoundingClientRect().height)*.049,i=t+.65*f+1*parseInt(r)-parseInt(r)*(e.length+1);var o=[];for(let t=0;t<e.length;t++)e[t].endBlock?(o.push(e[t]),o.push({type:"intercalaire"}),o.push({type:"intercalaire"})):e[t].hasOwnProperty("type")&&"past"===e[t].type?o.push(e[t]):"alt"===e[t].type&&"past"===e[t+1].type?(o.push(e[t]),o.push({type:"intercalaire"})):"alt"===e[t].type&&o.push(e[t]);if(t>0&&t<o.length*parseInt(h/16)){(d=v(s,d)).beginPath();for(let e=0;e<o.length;e++)if(null!=o[e]){let n=0;switch(o[e].type){case"past":if(o[e-1]&&"past"===o[e-1].type);else{for(let t=e;t<o.length&&"past"===o[t].type;t++)n+=1;d.save(),d.fillStyle="#E8E8E8",y(d,.05*h,i+e*(f/38),.6*h+15,h/18*(n+1)-5,10),d.fill(),d.restore()}d.fillStyle="#101010",d.font="200 "+parseInt(h/30)+"px sans-serif",d.fillText(o[e].text,h/15+5,i+(e+1)*(f/38));break;case"alt":if("alt"===o[e-1].type);else{for(let t=e;t<o.length&&"alt"===o[t].type;t++)n+=1;d.save(),d.fillStyle="#046dcf",y(d,3*h/15+15,i+f/38*(e-1),.6*h,h/18*n+(15-n),10),d.fill(),d.closePath(),d.restore()}d.font="400 "+parseInt(h/30)+"px sans-serif",d.fillStyle="#fff",d.fillText(o[e].text,3*h/15+30,i+e*(f/38));break;case"img":d.save();var a=new Image;a.src=o[e].text,d.strokeStyle="DarkGray",d.strokeRect(.1*h-5,t+f+parseInt(h/18)*e-parseInt(h/16)*o.length-.4*f-h/2-5,.7*h,.7*h),d.drawImage(a,.1*h,t+f+parseInt(h/18)*e-parseInt(h/16)*o.length-.4*f-h/2,.7*h,.7*h),d.restore()}}d.clearRect(0,.7*f,h,.35*f),d.clearRect(0,0,h,.1*f),d.beginPath(),d.strokeStyle="rgba(100,100,100,.5)",d.lineWidth="1",d.moveTo(0,.7*f),d.lineTo(h,.7*f),d.moveTo(0,.1*f),d.lineTo(h,.1*f),d.stroke(),d.beginPath(),d.font="200 "+parseInt(h/15)+"px sans-serif",d.textBaseline="hanging",d.fillText("< PEGAS",25,.05*f),d.save(),d.fillStyle="rgba(200,200,200,.2)",d.fillRect(0,.7*f,h,.3*f),d.restore(),window.innerWidth>600&&(d.beginPath(),y(d,-6,-6,h+12,f+12,5),d.strokeStyle="black",d.shadowBlur=25,d.shadowColor="black",d.lineWidth=12,d.stroke(),d.globalCompositeOperation="destination-in",d.fill(),d.globalCompositeOperation="source-over"),d.closePath(),m(t,e),w(n)}},drawAlt:(t,e,n)=>{t=v(e,t);let r=e.getBoundingClientRect().width,i=e.getBoundingClientRect().height;if(t.clearRect(0,0,r,i),t.save(),n){t.font="200 "+parseInt(h/30)+"px sans-serif",t.fillStyle="black";for(let e=0;e<n.length&&e<5;e++)null!=n[e].text&&t.fillText(n[e].text,10,i/2-parseInt(r/8)*((n.length+1)/2)+parseInt(r/8)*(e+1))}},updateSwitch:t=>{altSwitch.style.backgroundImage=t?"url(themes/1970/img/sw1.png)":"url(themes/1970/img/sw2.png)"}}},2120:()=>{var t,e,n=document.getElementById("background-canvas"),r=n.getContext("2d"),i=document.getElementById("crux"),o=document.getElementById("crux-canvas"),s=document.getElementById("timeSlider"),a=s.getContext("2d"),l=document.getElementById("alt1Div"),c=(document.getElementById("alt1-canvas"),document.getElementById("alt2Div")),u=(document.getElementById("alt2-canvas"),300),h=300,f=o.getContext("2d"),d=window.devicePixelRatio||1,p=document.getElementById("compteur"),g="sans-serif",v=new Image;v.src="themes/2120/img/ereader.png",n.style.backgroundImage="themes/2120/img/ereader.png",document.body.style.backgroundColor="white",l.style.border="1px dashed black",l.style.backgroundColor="transparent",c.style.border="1px dashed black",c.style.backgroundColor="transparent",document.getElementById("comptBg").style.color="black",n.style.backgroundColor="#fff",i.style.backgroundColor="white",i.style.border="2px solid black",i.style.boxShadow=" inset -4px -4px 5px 4px rgba(4,4,4,.3)",p.style.position="absolute",p.style.color="black",p.style.fontFamily="Arial",p.style.width="98px",p.style.height="48px",p.style.fontWeight="600",altSwitch.style.zIndex=3,[...p.children].forEach((t=>{t.style.position="absolute",t.style.marginLeft="10%",t.style.width="80%",t.style.textAlign="end",t.style.marginTop="12%",t.style.userSelect="none",t.style.zIndex="5"})),y.altSwitch.style.backgroundImage="url(themes/2120/img/switch.png)",y.altSwitch.style.backgroundSize="28px 10px",p.style.zIndex="6";const m=(e,n)=>(d=window.devicePixelRatio||1,t=e.getBoundingClientRect(),e.width=t.width*d,e.height=t.height*d,n.scale(d,d),n.clearRect(0,0,parseInt(t.width*d),parseInt(t.height*d)),n),w=(t,n)=>{e=parseInt(n.length-t/parseInt(u/16)),document.getElementById("compte").innerText=e},b=t=>{s.style.width="50px",s.style.height=.6*i.offsetHeight+"px",s.style.left=i.offsetLeft+i.offsetWidth+-40+"px",s.style.top=i.offsetTop+.1*i.offsetHeight+"px",a=m(s,a);let e=s.offsetHeight*(t/100)-32.5;e<5&&(e=5),a.lineWidth=.5,a.rect(10,10,4,.6*i.offsetHeight-20),a.stroke(),a.fillRect(10,e,4,15),a.clearRect(0,0,50,9)};return{drawbg:()=>{let t=window.innerWidth,e=window.innerHeight;n.width=t,n.height=e,(r=m(n,r)).clearRect(0,0,parseInt(n.width),parseInt(n.height)),i.style.height=.8*e+"px",i.style.width=parseInt(.65*i.offsetHeight)+"px",i.style.maxWidth=t+"px",i.style.top=window.innerHeight-.9*e-20+"px",i.style.left=t/2-i.offsetWidth/2+"px",l.style.width=.425*i.offsetWidth+"px",l.style.left=i.offsetLeft+.05*i.offsetWidth+"px",l.style.top=i.offsetTop+.8*i.offsetHeight+"px",l.style.height=.18*i.offsetHeight+"px",l.style.minHeight=.15*i.offsetHeight+"px",c.style.left=i.offsetLeft+.525*i.offsetWidth+"px",c.style.width=.425*i.offsetWidth+"px",c.style.maxWidth=.4*i.offsetWidth+"px",c.style.top=i.offsetTop+.8*i.offsetHeight+"px",c.style.height=.18*i.offsetHeight+"px",c.style.minHeight=.15*i.offsetHeight+"px",window.innerWidth<600&&(i.style.width=window.innerWidth,i.style.height=window.innerHeight,i.style.left="0",i.style.top="0",i.style.border="0px",i.style.borderRadius="0px",i.style.boxShadow="none"),r.save(),p.style.display="block",p.style.left=i.offsetLeft+i.offsetWidth-100+"px",p.style.fontSize=parseInt(i.offsetWidth)/30+"px",p.style.top=i.offsetTop-5+"px",r.stroke(),r.closePath(),r.restore();let o=parseFloat(window.innerHeight/1e3),s=(window.innerWidth-1800*o)/2,a=(window.innerHeight-1410*o)/2,u=1800*o,h=1330*o;r.drawImage(v,s,a,u,h),altSwitch.style.left=i.offsetLeft+i.offsetWidth-60+"px",altSwitch.style.top=i.offsetTop+20+"px",altSwitch.style.backgroundRepeat="no-repeat",altSwitch.style.backgroundPosition="center"},startCanvas:m,compteurLigne:w,drawSlider:b,drawCrux:(t,e,n)=>{if((t=parseInt(t))>0&&t<e.length*parseInt(u/16)){f=m(o,f),u=o.offsetWidth,h=o.offsetHeight,f.fillStyle="black",f.beginPath();for(let n=1;n<e.length;n++)if(null!=e[n]){let i=t+.7*h+parseInt(u/16)*(n+1)-parseInt(u/16)*(e.length+1);switch(e[n].type){case"past":f.font="100 "+parseInt(u/30)+"px "+g,f.fillText(e[n].text,.1*u,i);break;case"alt":f.font="300 "+parseInt(u/30)+"px "+g,f.fillText("- "+e[n].text.toUpperCase(),.1*u,i);break;case"img":f.filter="grayscale()";var r=new Image;r.src=e[n].text,f.drawImage(r,.78*u/4,i-.78*u/2,.78*u/2,.78*u/2),f.fillRect(.78*u/6,i-.78*u/2,20,.78*u/2),f.filter="none"}}f.clearRect(0,0,u,.04*h),f.clearRect(0,.75*h,u,.35*h),f.beginPath(),f.strokeStyle="black",f.lineWidth="1",f.moveTo(0,.04*h),f.lineTo(u,.04*h),f.stroke(),f.save(),f.fillStyle="rgba(200,255,255,.15)",f.fillRect(0,0,u,h),f.restore(),f.beginPath(),window.innerWidth>600&&(f.beginPath(),f.strokeStyle="black",f.shadowBlur=25,f.shadowColor="black",f.lineWidth=12,f.stroke(),f.globalCompositeOperation="destination-in",f.fill(),f.globalCompositeOperation="source-over"),f.closePath(),w(t,e),b(n)}},drawAlt:(t,e,n)=>{t=m(e,t);let r=e.getBoundingClientRect().width,i=e.getBoundingClientRect().height;if(t.clearRect(0,0,r,i),t.save(),n){t.font="200 "+parseInt(u/30)+"px sans-serif",t.fillStyle="black";for(let e=0;e<n.length&&e<5;e++)null!=n[e].text&&t.fillText(n[e].text,10,i/2-parseInt(r/8)*((n.length+1)/2)+parseInt(r/8)*(e+1))}},updateSwitch:t=>{}}}},Kl=window.localStorage;var Hl,Wl={user:"",games:{}},ql=0,Fl={numChoices:0,cards:{},id:""};const Gl=new Worker(new URL(n.p+n.u(322),n.b));Gl.onmessage=t=>{t.data.edit?Ul(t.data.pile):Jl(t.data)};const zl=(t,e)=>Gl.postMessage({pile:t,game:e}),Vl=t=>{t.length>0&&(Kl.getItem(t+"-localGames")?Wl=JSON.parse(Kl.getItem(t+"-localGames")):(Wl.user=t,Ql()))},Ql=()=>Kl.setItem(Nr+"-localGames",JSON.stringify(Wl));var Xl;const Yl=(t,e)=>{var n="";return t.content.forEach((t=>{t.alts.forEach((t=>{t.code===e&&(n=t.text)}))})),n},Jl=t=>{Xl={};const e=t.token,n=t.game,r=t.pile;e.content.forEach((t=>Xl[t.code]=t)),Hl=jl[e.theme]();const i=[];if(n.hasOwnProperty("cards")){Fl=n,Wl.games[Fl.id]=Fl;var o=[];for(const t in n.cards)o.push(Xl[n.cards[t].code]);o.sort(((t,e)=>t.order-e.order)),o.forEach((t=>i.push(t)))}else Fl.id=n.id,Wl.games[Fl.id]=Fl,Fl.story=r,Fl.cards[e.content[0].code]={code:e.content[0].code,order:ql},Ql(),i.push(e.content[0]);let s=f.length;for(let t=0;t<i.length;t++){if(i[t].hasOwnProperty("img")&&i[t].img.length>0&&a(i[t].img,1,f,"img"),a(i[t].incipit,1,f,"past"),f[f.length-1].endBlock=!0,i[t].end&&(f[f.length-1].end=!0),t<i.length-1&&i.length>1){let n=Yl(e,i[t+1].code);a(n,1,f,"alt")}i[t].hasOwnProperty("dependencyPath")&&i[t].dependencyPath.length>0&&i[t].dependencyPath.forEach((t=>{0===d.length?d.push(t):d.forEach((e=>{e.key===t.key?(e.value=parseInt(t.value)+e.value,e.value<5&&(e.value=5),e.value>95&&(e.value=95)):d.push(t)}))}))}if(g(i[i.length-1]),h.hasOwnProperty("alts")&&h.alts.length>0)for(let t=0;t<h.alts.length;t++)a(h.alts[t].text,2,t+1,"alt");let l=f.length;l>10&&(s=l-12);crux.offsetWidth},Zl=t=>{h.alts.forEach((e=>{e.altNum===t&&(ql++,(t=>{if(g(t),t.hasOwnProperty("dependencyPath")&&t.dependencyPath.length>0&&t.dependencyPath.forEach((t=>{0===d.length?d.push(t):d.forEach((e=>{t.key===e.key?(e.value=parseInt(e.value)+t.value,e.value<5&&(e.value=5),e.value>95&&(e.value=95)):d.push(t)}))})),t.hasOwnProperty("computeOperation")&&t.computeOperation.hasOwnProperty("key")){let e=parseInt(100*Math.random()),n=d.findIndex((e=>e===t.computeOperation.key)),r=d[n];Zl(e<r?1:2)}else{let e=f.length;if(t.hasOwnProperty("alts")&&t.alts.length>2?(altSwitch.style.cursor="pointer",altSwitch.addEventListener("click",l)):(altSwitch.style.cursor="not-allowed",altSwitch.removeEventListener("click",l)),t.hasOwnProperty("img")&&t.img.length>1&&a(t.img,1,f,"img"),a(t.incipit,1,f,"past"),t.hasOwnProperty("alts")&&t.alts.length>0)for(let e=0;e<t.alts.length;e++)a(t.alts[e].text,2,e+1,"alt");else a("",2,1,"alt");f[f.length-1].endBlock=!0,t.end&&(f[f.length-1].end=!0);let n=(f.length-e+1)*(crux.offsetWidth/16);mc(hc+n),c(f.length)}})(Xl[e.code]),Fl.cards[e.code]={code:e.code,order:ql},Fl.numChoices=Object.keys(Fl.cards).length,Ql())}))},$l={KT10:{author:{name:"INTERFACE",wallet:"NA"},title:"Tutorial",url:"./tutoriel.json",openAccess:!0,contract:"KT1",token_id:0,id:"KT10"}},tc=document.getElementById("menuList"),ec=()=>{tc.innerHTML="";for(const t in $l){const e=document.createElement("div");e.innerHTML=$l[t].title,e.className="menuItem",e.addEventListener("click",(()=>{p();const e={id:$l[t].author.wallet+JSON.stringify(Date.now()),startDate:Date.now()};zl($l[t],e),Wc()})),tc.append(e)}},nc=document.getElementById("chargement"),rc=document.getElementById("crux-canvas"),ic=document.getElementById("alt2-canvas"),oc=document.getElementById("alt1-canvas"),sc=ic.getContext("2d"),ac=oc.getContext("2d");var lc=!0,cc=(document.getElementById("background-canvas").getContext("2d"),document.getElementById("crux")),uc=document.getElementById("timeSlider"),hc=(uc.getContext("2d"),document.getElementById("alt1Div"),document.getElementById("alt2Div"),Date.now(),20),fc=(window.devicePixelRatio,!1),dc=(document.getElementById("compteur"),100),pc=(document.getElementById("altSwitch"),0),gc=!0,yc=document.getElementById("loadDisplay");const vc=t=>dc=t,mc=t=>hc=t,wc=t=>pc=t,bc=document.getElementById("background"),Ec=()=>{const t=document.getElementById("backToMenu");gc&&(nc.style.animation="fadeout .8s",bc.style.animation="fadeout .8s",t.style.animation="fadein .8s",setTimeout((()=>{nc.style.display="none",nc.style.opacity=0,bc.style.opacity=0,bc.style.display="none",t.style.opacity=1,yl(),gc=!gc,document.getElementById("starter")&&document.getElementById("starter").remove()}),800))},_c=()=>{const t=document.getElementById("backToMenu");gc||(pl(window.innerWidth+20,window.innerHeight+20),nc.style.animation="fadein .8s",bc.style.animation="fadein .8s",t.style.animation="fadeout .8s",setTimeout((()=>{gc=!gc,nc.style.display="flex",nc.style.opacity=1,bc.style.opacity=1,bc.style.display="block",t.style.opacity=.3,Hl=!1}),800))},xc=t=>{t.deltaY/5+hc>-300-hc&&t.deltaY/5+hc<parseInt(cc.offsetWidth/16)*f.length&&(hc+=t.deltaY/5,Hl.drawCrux(hc,f,dc)),dc=(cc.offsetWidth/16*f.length-hc)/(cc.offsetWidth/16*f.length)*100};var Ac=0;const Sc=t=>Ac=t.touches[0].pageY,Tc=t=>{t.preventDefault(),t.stopImmediatePropagation(),hc+t.touches[0].pageY-Ac<=parseInt(cc.offsetWidth/16)*f.length-50&&parseInt(cc.offsetWidth/16)*f.length+hc+t.touches[0].pageY-Ac>50&&(hc+=t.touches[0].pageY-Ac,Hl.drawCrux(hc,f,dc),Ac=t.touches[0].pageY,dc=(cc.offsetWidth/16*f.length-hc)/(cc.offsetWidth/16*f.length)*100)},Rc=t=>{fc=!0},Ic=t=>{fc&&t.movementY/5+hc>-300-hc&&t.movementY/5+hc<parseInt(cc.offsetWidth/16)*f.length&&(rc.style.cursor="grabbing",hc+=t.movementY,dc=(cc.offsetWidth/16*f.length-hc)/(cc.offsetWidth/16*f.length)*100,Hl.drawCrux(hc,f,dc))},kc=t=>{rc.style.cursor="grab",fc=!1},Oc=t=>{switch(t.code){case"KeyS":l();break;case"ArrowUp":c(currentLine-10);break;case"ArrowDown":c(currentLine+10);break;case"ArrowLeft":u(1);break;case"ArrowRight":u(2)}};var Nc=!1;const Cc=t=>Nc=!0,Pc=t=>{if(!0===Nc){dc=(uc.offsetHeight-(uc.offsetHeight-t.layerY))/uc.offsetHeight*100;let e=(100-parseInt(dc))/100,n=f.length*parseInt(cc.offsetWidth/16);hc=n*e,Hl.drawCrux(hc,f,dc),Hl.drawSlider(dc)}},Lc=t=>Nc=!1,Bc=t=>t.touches[0].pageY,Mc=t=>{t.preventDefault(),t.stopImmediatePropagation(),dc=(uc.offsetHeight-(uc.offsetHeight-t.touches[0].pageY))/uc.offsetHeight*100;let e=(100-parseInt(dc))/100,n=f.length*parseInt(cc.offsetWidth/16);hc=n*e,Hl.drawCrux(hc,f,dc),t.touches[0].pageY},Uc=()=>{lc=!0,uc.addEventListener("mousedown",Cc),uc.addEventListener("mousemove",Pc),uc.addEventListener("mouseup",Lc),uc.addEventListener("touchstart",Bc,{passive:!1}),uc.addEventListener("touchmove",Mc,{passive:!1}),rc.addEventListener("wheel",xc,{passive:!0}),rc.addEventListener("touchstart",Sc,{passive:!1}),rc.addEventListener("touchmove",Tc,{passive:!1}),rc.addEventListener("mousemove",Ic),rc.addEventListener("mouseup",kc),rc.addEventListener("mousedown",Rc),oc.addEventListener("mousedown",Kc),ic.addEventListener("mousedown",Hc),document.addEventListener("keydown",Oc);let t=document.getElementsByClassName("altDivs");for(let e=0;e<t.length;e++)t[e].style.cursor="pointer"},Dc=()=>{oc.removeEventListener("mousedown",Kc),ic.removeEventListener("mousedown",Hc),document.removeEventListener("keydown",Oc);let t=document.getElementsByClassName("altDivs");for(let e=0;e<t.length;e++)t[e].style.cursor="not-allowed"},jc=()=>{lc=!1,uc.removeEventListener("mousedown",Cc),uc.removeEventListener("mousemove",Pc),uc.removeEventListener("mouseup",Lc),rc.removeEventListener("wheel",xc),rc.removeEventListener("touchstart",Sc),rc.removeEventListener("touchmove",Tc,{passive:!1}),rc.removeEventListener("mousemove",Ic),rc.removeEventListener("mouseup",kc),rc.removeEventListener("mousedown",Rc),Dc()},Kc=()=>u(1),Hc=()=>u(2),Wc=()=>{yc.innerHTML="";const t=document.createElement("div");t.innerHTML="RUN",t.id="starter",t.style.fontSize=parseInt(window.innerWidth/18),t.style.backgroundColor=fl.bg,t.addEventListener("click",(t=>{Hl.drawbg(),Hl.drawAlt(ac,oc,o["Alt"+pc],pc),Hl.drawAlt(sc,ic,o.Alt2,pc+1),c(f.length),Ec()})),yc.append(t)},qc=document.getElementById("menuList");document.getElementById("newPiles").addEventListener("click",ec),document.getElementById("savedGames").addEventListener("click",(()=>{qc.innerHTML="";for(const t in Wl.games){const e=document.createElement("div");e.className="menuItem";const n=document.createElement("span");n.innerText=Wl.games[t].story.title;const r=document.createElement("span");r.innerText=Wl.games[t].numChoices+" choices made";const i=document.createElement("span");i.innerText="delete_forever",i.className="material-icons",e.append(n,r,i),n.addEventListener("click",(()=>{p();const e=Wl.games[t];zl(e.story,e),Wc()})),i.addEventListener("click",(()=>{window.confirm("Delete this game progress?")&&(delete Wl.games[t],e.remove(),Ql())})),qc.append(e)}})),document.getElementById("editorList").addEventListener("click",(()=>{qc.innerHTML="";const t=document.createElement("div");t.innerHTML="Write a new story",t.className="menuItem",t.addEventListener("click",Dl),qc.append(t);const e=(Nr.length>0&&(Ol.getItem(Nr+"-localStories")?Cl=JSON.parse(Ol.getItem(Nr+"-localStories")):(Cl.user=Nr,Pl())),Cl.stories);for(const t in e){const n=document.createElement("div");n.innerHTML=e[t].title,n.className="menuItem";const r=e[t];n.addEventListener("click",(()=>Ul(r))),qc.append(n)}})),console.log("======================================================================\n       \n  \n                  \n                 \n                \n                  \n ======================================================================\n\n");const Fc=document.getElementById("background-canvas"),Gc=document.getElementById("menuConteneur"),zc=()=>{const t=window.innerWidth,e=window.innerHeight;gl&&pl(t+20,e+20),Fc.width=t,Fc.height=e,Fc.style.width=t+"px",Fc.style.height=e+"px",document.getElementById("svgmenu").style.left=t-50+"px",t<e&&t<600?(Gc.style.width="100%",Gc.style.height="80%"):(Gc.style.height="70%",Gc.style.width="50%"),Hl&&(Hl.drawCrux(hc,f,dc),Hl.drawbg())};window.onresize=zc,Vl(""),(()=>{const t=Qa("svg").attr("id","svgmenu").attr("width",50).attr("height",250).style("position","absolute").style("top","-1px").style("z-index",100).style("left",window.innerWidth-50+"px").style("pointer-events","none");var e=t.append("g").attr("transform","translate(0,-160)");e.append("rect").attr("x",0).attr("y",0).attr("width",40).attr("height",220).attr("fill","rgba(20,20,20,0.7)").attr("rx",20),e.append("text").attr("x",20).attr("y",80).attr("class","material-icons starticon").attr("text-anchor","middle").text("fullscreen").attr("fill","white").style("pointer-events","all").on("click",(t=>{document.body.requestFullscreen().catch((t=>{Hl.drawbg(),Hl.drawCrux(hc,f,dc)}))})),e.append("text").attr("x",20).attr("y",40).attr("class","material-icons starticon").attr("text-anchor","middle").text("wallet").attr("fill","white").style("pointer-events","all").on("click",Pr),e.append("text").attr("x",20).attr("y",120).attr("class","material-icons starticon").attr("text-anchor","middle").text("volume_off").attr("fill","white").style("pointer-events","all").on("click",(()=>{console.log("volume")})),e.append("text").attr("x",20).attr("y",160).attr("class","material-icons starticon").attr("text-anchor","middle").attr("id","backToMenu").text("logout").attr("fill","white").style("pointer-events","all").on("click",_c);var n=!1;e.append("text").attr("x",20).attr("y",205).attr("class","material-icons starticon").attr("text-anchor","middle").text("menu").attr("fill","white").style("pointer-events","all").on("click",(()=>{n?e.transition().duration(800).attr("transform","translate(0,-160)"):e.transition().duration(800).attr("transform","translate(0,20)"),n=!n})),document.body.append(t.node())})(),ec(),zc()})()})();