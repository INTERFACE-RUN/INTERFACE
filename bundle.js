/*! For license information please see bundle.js.LICENSE.txt */
(()=>{var e={8099:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(7117);function i(e,t,n){return void 0===t&&(t=new Uint8Array(2)),void 0===n&&(n=0),t[n+0]=e>>>8,t[n+1]=e>>>0,t}function o(e,t,n){return void 0===t&&(t=new Uint8Array(2)),void 0===n&&(n=0),t[n+0]=e>>>0,t[n+1]=e>>>8,t}function s(e,t){return void 0===t&&(t=0),e[t]<<24|e[t+1]<<16|e[t+2]<<8|e[t+3]}function a(e,t){return void 0===t&&(t=0),(e[t]<<24|e[t+1]<<16|e[t+2]<<8|e[t+3])>>>0}function l(e,t){return void 0===t&&(t=0),e[t+3]<<24|e[t+2]<<16|e[t+1]<<8|e[t]}function c(e,t){return void 0===t&&(t=0),(e[t+3]<<24|e[t+2]<<16|e[t+1]<<8|e[t])>>>0}function u(e,t,n){return void 0===t&&(t=new Uint8Array(4)),void 0===n&&(n=0),t[n+0]=e>>>24,t[n+1]=e>>>16,t[n+2]=e>>>8,t[n+3]=e>>>0,t}function h(e,t,n){return void 0===t&&(t=new Uint8Array(4)),void 0===n&&(n=0),t[n+0]=e>>>0,t[n+1]=e>>>8,t[n+2]=e>>>16,t[n+3]=e>>>24,t}function f(e,t,n){return void 0===t&&(t=new Uint8Array(8)),void 0===n&&(n=0),u(e/4294967296>>>0,t,n),u(e>>>0,t,n+4),t}function d(e,t,n){return void 0===t&&(t=new Uint8Array(8)),void 0===n&&(n=0),h(e>>>0,t,n),h(e/4294967296>>>0,t,n+4),t}t.readInt16BE=function(e,t){return void 0===t&&(t=0),(e[t+0]<<8|e[t+1])<<16>>16},t.readUint16BE=function(e,t){return void 0===t&&(t=0),(e[t+0]<<8|e[t+1])>>>0},t.readInt16LE=function(e,t){return void 0===t&&(t=0),(e[t+1]<<8|e[t])<<16>>16},t.readUint16LE=function(e,t){return void 0===t&&(t=0),(e[t+1]<<8|e[t])>>>0},t.writeUint16BE=i,t.writeInt16BE=i,t.writeUint16LE=o,t.writeInt16LE=o,t.readInt32BE=s,t.readUint32BE=a,t.readInt32LE=l,t.readUint32LE=c,t.writeUint32BE=u,t.writeInt32BE=u,t.writeUint32LE=h,t.writeInt32LE=h,t.readInt64BE=function(e,t){void 0===t&&(t=0);var n=s(e,t),r=s(e,t+4);return 4294967296*n+r-4294967296*(r>>31)},t.readUint64BE=function(e,t){return void 0===t&&(t=0),4294967296*a(e,t)+a(e,t+4)},t.readInt64LE=function(e,t){void 0===t&&(t=0);var n=l(e,t);return 4294967296*l(e,t+4)+n-4294967296*(n>>31)},t.readUint64LE=function(e,t){void 0===t&&(t=0);var n=c(e,t);return 4294967296*c(e,t+4)+n},t.writeUint64BE=f,t.writeInt64BE=f,t.writeUint64LE=d,t.writeInt64LE=d,t.readUintBE=function(e,t,n){if(void 0===n&&(n=0),e%8!=0)throw new Error("readUintBE supports only bitLengths divisible by 8");if(e/8>t.length-n)throw new Error("readUintBE: array is too short for the given bitLength");for(var r=0,i=1,o=e/8+n-1;o>=n;o--)r+=t[o]*i,i*=256;return r},t.readUintLE=function(e,t,n){if(void 0===n&&(n=0),e%8!=0)throw new Error("readUintLE supports only bitLengths divisible by 8");if(e/8>t.length-n)throw new Error("readUintLE: array is too short for the given bitLength");for(var r=0,i=1,o=n;o<n+e/8;o++)r+=t[o]*i,i*=256;return r},t.writeUintBE=function(e,t,n,i){if(void 0===n&&(n=new Uint8Array(e/8)),void 0===i&&(i=0),e%8!=0)throw new Error("writeUintBE supports only bitLengths divisible by 8");if(!r.isSafeInteger(t))throw new Error("writeUintBE value must be an integer");for(var o=1,s=e/8+i-1;s>=i;s--)n[s]=t/o&255,o*=256;return n},t.writeUintLE=function(e,t,n,i){if(void 0===n&&(n=new Uint8Array(e/8)),void 0===i&&(i=0),e%8!=0)throw new Error("writeUintLE supports only bitLengths divisible by 8");if(!r.isSafeInteger(t))throw new Error("writeUintLE value must be an integer");for(var o=1,s=i;s<i+e/8;s++)n[s]=t/o&255,o*=256;return n},t.readFloat32BE=function(e,t){return void 0===t&&(t=0),new DataView(e.buffer,e.byteOffset,e.byteLength).getFloat32(t)},t.readFloat32LE=function(e,t){return void 0===t&&(t=0),new DataView(e.buffer,e.byteOffset,e.byteLength).getFloat32(t,!0)},t.readFloat64BE=function(e,t){return void 0===t&&(t=0),new DataView(e.buffer,e.byteOffset,e.byteLength).getFloat64(t)},t.readFloat64LE=function(e,t){return void 0===t&&(t=0),new DataView(e.buffer,e.byteOffset,e.byteLength).getFloat64(t,!0)},t.writeFloat32BE=function(e,t,n){return void 0===t&&(t=new Uint8Array(4)),void 0===n&&(n=0),new DataView(t.buffer,t.byteOffset,t.byteLength).setFloat32(n,e),t},t.writeFloat32LE=function(e,t,n){return void 0===t&&(t=new Uint8Array(4)),void 0===n&&(n=0),new DataView(t.buffer,t.byteOffset,t.byteLength).setFloat32(n,e,!0),t},t.writeFloat64BE=function(e,t,n){return void 0===t&&(t=new Uint8Array(8)),void 0===n&&(n=0),new DataView(t.buffer,t.byteOffset,t.byteLength).setFloat64(n,e),t},t.writeFloat64LE=function(e,t,n){return void 0===t&&(t=new Uint8Array(8)),void 0===n&&(n=0),new DataView(t.buffer,t.byteOffset,t.byteLength).setFloat64(n,e,!0),t}},1322:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(8099),i=n(7309);t.BLOCK_SIZE=128,t.DIGEST_LENGTH=64,t.KEY_LENGTH=64,t.PERSONALIZATION_LENGTH=16,t.SALT_LENGTH=16,t.MAX_LEAF_SIZE=Math.pow(2,32)-1,t.MAX_FANOUT=255,t.MAX_MAX_DEPTH=255;var o=new Uint32Array([4089235720,1779033703,2227873595,3144134277,4271175723,1013904242,1595750129,2773480762,2917565137,1359893119,725511199,2600822924,4215389547,528734635,327033209,1541459225]),s=[[0,2,4,6,8,10,12,14,16,18,20,22,24,26,28,30],[28,20,8,16,18,30,26,12,2,24,0,4,22,14,10,6],[22,16,24,0,10,4,30,26,20,28,6,12,14,2,18,8],[14,18,6,2,26,24,22,28,4,12,10,20,8,0,30,16],[18,0,10,14,4,8,20,30,28,2,22,24,12,16,6,26],[4,24,12,20,0,22,16,6,8,26,14,10,30,28,2,18],[24,10,2,30,28,26,8,20,0,14,12,6,18,4,16,22],[26,22,14,28,24,2,6,18,10,0,30,8,16,12,4,20],[12,30,28,18,22,6,0,16,24,4,26,14,2,8,20,10],[20,4,16,8,14,12,2,10,30,22,18,28,6,24,26,0],[0,2,4,6,8,10,12,14,16,18,20,22,24,26,28,30],[28,20,8,16,18,30,26,12,2,24,0,4,22,14,10,6]],a=function(){function e(e,n){if(void 0===e&&(e=64),this.digestLength=e,this.blockSize=t.BLOCK_SIZE,this._state=new Int32Array(o),this._buffer=new Uint8Array(t.BLOCK_SIZE),this._bufferLength=0,this._ctr=new Uint32Array(4),this._flag=new Uint32Array(4),this._lastNode=!1,this._finished=!1,this._vtmp=new Uint32Array(32),this._mtmp=new Uint32Array(32),e<1||e>t.DIGEST_LENGTH)throw new Error("blake2b: wrong digest length");n&&this.validateConfig(n);var i=0;n&&n.key&&(i=n.key.length);var s=1,a=1;n&&n.tree&&(s=n.tree.fanout,a=n.tree.maxDepth),this._state[0]^=e|i<<8|s<<16|a<<24,n&&n.tree&&(this._state[1]^=n.tree.leafSize,this._state[2]^=n.tree.nodeOffsetLowBits,this._state[3]^=n.tree.nodeOffsetHighBits,this._state[4]^=n.tree.nodeDepth|n.tree.innerDigestLength<<8,this._lastNode=n.tree.lastNode),n&&n.salt&&(this._state[8]^=r.readUint32LE(n.salt,0),this._state[9]^=r.readUint32LE(n.salt,4),this._state[10]^=r.readUint32LE(n.salt,8),this._state[11]^=r.readUint32LE(n.salt,12)),n&&n.personalization&&(this._state[12]^=r.readUint32LE(n.personalization,0),this._state[13]^=r.readUint32LE(n.personalization,4),this._state[14]^=r.readUint32LE(n.personalization,8),this._state[15]^=r.readUint32LE(n.personalization,12)),this._initialState=new Uint32Array(this._state),n&&n.key&&i>0&&(this._paddedKey=new Uint8Array(t.BLOCK_SIZE),this._paddedKey.set(n.key),this._buffer.set(this._paddedKey),this._bufferLength=t.BLOCK_SIZE)}return e.prototype.reset=function(){return this._state.set(this._initialState),this._paddedKey?(this._buffer.set(this._paddedKey),this._bufferLength=t.BLOCK_SIZE):this._bufferLength=0,i.wipe(this._ctr),i.wipe(this._flag),this._finished=!1,this},e.prototype.validateConfig=function(e){if(e.key&&e.key.length>t.KEY_LENGTH)throw new Error("blake2b: wrong key length");if(e.salt&&e.salt.length!==t.SALT_LENGTH)throw new Error("blake2b: wrong salt length");if(e.personalization&&e.personalization.length!==t.PERSONALIZATION_LENGTH)throw new Error("blake2b: wrong personalization length");if(e.tree){if(e.tree.fanout<0||e.tree.fanout>t.MAX_FANOUT)throw new Error("blake2b: wrong tree fanout");if(e.tree.maxDepth<0||e.tree.maxDepth>t.MAX_MAX_DEPTH)throw new Error("blake2b: wrong tree depth");if(e.tree.leafSize<0||e.tree.leafSize>t.MAX_LEAF_SIZE)throw new Error("blake2b: wrong leaf size");if(e.tree.innerDigestLength<0||e.tree.innerDigestLength>t.DIGEST_LENGTH)throw new Error("blake2b: wrong tree inner digest length")}},e.prototype.update=function(e,n){if(void 0===n&&(n=e.length),this._finished)throw new Error("blake2b: can't update because hash was finished.");var r=t.BLOCK_SIZE-this._bufferLength,i=0;if(0===n)return this;if(n>r){for(var o=0;o<r;o++)this._buffer[this._bufferLength+o]=e[i+o];this._processBlock(t.BLOCK_SIZE),i+=r,n-=r,this._bufferLength=0}for(;n>t.BLOCK_SIZE;){for(o=0;o<t.BLOCK_SIZE;o++)this._buffer[o]=e[i+o];this._processBlock(t.BLOCK_SIZE),i+=t.BLOCK_SIZE,n-=t.BLOCK_SIZE,this._bufferLength=0}for(o=0;o<n;o++)this._buffer[this._bufferLength+o]=e[i+o];return this._bufferLength+=n,this},e.prototype.finish=function(e){if(!this._finished){for(var n=this._bufferLength;n<t.BLOCK_SIZE;n++)this._buffer[n]=0;this._flag[0]=4294967295,this._flag[1]=4294967295,this._lastNode&&(this._flag[2]=4294967295,this._flag[3]=4294967295),this._processBlock(this._bufferLength),this._finished=!0}var i=this._buffer.subarray(0,64);for(n=0;n<16;n++)r.writeUint32LE(this._state[n],i,4*n);return e.set(i.subarray(0,e.length)),this},e.prototype.digest=function(){var e=new Uint8Array(this.digestLength);return this.finish(e),e},e.prototype.clean=function(){i.wipe(this._vtmp),i.wipe(this._mtmp),i.wipe(this._state),i.wipe(this._buffer),i.wipe(this._initialState),this._paddedKey&&i.wipe(this._paddedKey),this._bufferLength=0,i.wipe(this._ctr),i.wipe(this._flag),this._lastNode=!1,this._finished=!1},e.prototype.saveState=function(){if(this._finished)throw new Error("blake2b: cannot save finished state");return{state:new Uint32Array(this._state),buffer:new Uint8Array(this._buffer),bufferLength:this._bufferLength,ctr:new Uint32Array(this._ctr),flag:new Uint32Array(this._flag),lastNode:this._lastNode,paddedKey:this._paddedKey?new Uint8Array(this._paddedKey):void 0,initialState:new Uint32Array(this._initialState)}},e.prototype.restoreState=function(e){return this._state.set(e.state),this._buffer.set(e.buffer),this._bufferLength=e.bufferLength,this._ctr.set(e.ctr),this._flag.set(e.flag),this._lastNode=e.lastNode,this._paddedKey&&i.wipe(this._paddedKey),this._paddedKey=e.paddedKey?new Uint8Array(e.paddedKey):void 0,this._initialState.set(e.initialState),this},e.prototype.cleanSavedState=function(e){i.wipe(e.state),i.wipe(e.buffer),i.wipe(e.initialState),e.paddedKey&&i.wipe(e.paddedKey),e.bufferLength=0,i.wipe(e.ctr),i.wipe(e.flag),e.lastNode=!1},e.prototype._G=function(e,t,n,r,i,o,s,a,l,c,u,h,f){var d=e[t],p=e[o],g=e[n],y=e[s],v=e[r],m=e[a],w=e[i],E=e[l],b=65535&d,_=d>>>16,A=65535&p,S=p>>>16;_+=g>>>16,A+=65535&y,S+=y>>>16,A+=(_+=(b+=65535&g)>>>16)>>>16,b=65535&(d=65535&b|_<<16),_=d>>>16,A=65535&(p=65535&A|(S+=A>>>16)<<16),S=p>>>16,_+=c>>>16,A+=65535&u,S+=u>>>16,d=65535&(b+=65535&c)|(_+=b>>>16)<<16,b=E^=p=65535&(A+=_>>>16)|(S+=A>>>16)<<16,E=w^=d,w=b,b=65535&v,_=v>>>16,A=65535&m,S=m>>>16,_+=w>>>16,A+=65535&E,S+=E>>>16,b=(g^=v=65535&(b+=65535&w)|(_+=b>>>16)<<16)<<8|(y^=m=65535&(A+=_>>>16)|(S+=A>>>16)<<16)>>>24,g=y<<8|g>>>24,y=b,b=65535&d,_=d>>>16,A=65535&p,S=p>>>16,_+=g>>>16,A+=65535&y,S+=y>>>16,A+=(_+=(b+=65535&g)>>>16)>>>16,b=65535&(d=65535&b|_<<16),_=d>>>16,A=65535&(p=65535&A|(S+=A>>>16)<<16),S=p>>>16,_+=h>>>16,A+=65535&f,S+=f>>>16,b=(w^=d=65535&(b+=65535&h)|(_+=b>>>16)<<16)<<16|(E^=p=65535&(A+=_>>>16)|(S+=A>>>16)<<16)>>>16,w=E<<16|w>>>16,E=b,b=65535&v,_=v>>>16,A=65535&m,S=m>>>16,_+=w>>>16,A+=65535&E,S+=E>>>16,b=(y^=m=65535&(A+=(_+=(b+=65535&w)>>>16)>>>16)|(S+=A>>>16)<<16)<<1|(g^=v=65535&b|_<<16)>>>31,g=g<<1|y>>>31,y=b,e[t]=d,e[o]=p,e[n]=g,e[s]=y,e[r]=v,e[a]=m,e[i]=w,e[l]=E},e.prototype._incrementCounter=function(e){for(var t=0;t<3;t++){var n=this._ctr[t]+e;if(this._ctr[t]=n>>>0,this._ctr[t]===n)return;e=1}},e.prototype._processBlock=function(e){this._incrementCounter(e);var t=this._vtmp;t.set(this._state),t.set(o,16),t[24]^=this._ctr[0],t[25]^=this._ctr[1],t[26]^=this._ctr[2],t[27]^=this._ctr[3],t[28]^=this._flag[0],t[29]^=this._flag[1],t[30]^=this._flag[2],t[31]^=this._flag[3];for(var n=this._mtmp,i=0;i<32;i++)n[i]=r.readUint32LE(this._buffer,4*i);for(var a=0;a<12;a++)this._G(t,0,8,16,24,1,9,17,25,n[s[a][0]],n[s[a][0]+1],n[s[a][1]],n[s[a][1]+1]),this._G(t,2,10,18,26,3,11,19,27,n[s[a][2]],n[s[a][2]+1],n[s[a][3]],n[s[a][3]+1]),this._G(t,4,12,20,28,5,13,21,29,n[s[a][4]],n[s[a][4]+1],n[s[a][5]],n[s[a][5]+1]),this._G(t,6,14,22,30,7,15,23,31,n[s[a][6]],n[s[a][6]+1],n[s[a][7]],n[s[a][7]+1]),this._G(t,0,10,20,30,1,11,21,31,n[s[a][8]],n[s[a][8]+1],n[s[a][9]],n[s[a][9]+1]),this._G(t,2,12,22,24,3,13,23,25,n[s[a][10]],n[s[a][10]+1],n[s[a][11]],n[s[a][11]+1]),this._G(t,4,14,16,26,5,15,17,27,n[s[a][12]],n[s[a][12]+1],n[s[a][13]],n[s[a][13]+1]),this._G(t,6,8,18,28,7,9,19,29,n[s[a][14]],n[s[a][14]+1],n[s[a][15]],n[s[a][15]+1]);for(i=0;i<16;i++)this._state[i]^=t[i]^t[i+16]},e}();t.BLAKE2b=a,t.hash=function(e,n,r){void 0===n&&(n=t.DIGEST_LENGTH);var i=new a(n,r);i.update(e);var o=i.digest();return i.clean(),o}},3683:(e,t)=>{"use strict";t.z=function(){for(var e=0,t=0;t<arguments.length;t++)e+=arguments[t].length;var n=new Uint8Array(e),r=0;for(t=0;t<arguments.length;t++){var i=arguments[t];n.set(i,r),r+=i.length}return n}},4153:(e,t)=>{"use strict";function n(e,t){if(e.length!==t.length)return 0;for(var n=0,r=0;r<e.length;r++)n|=e[r]^t[r];return 1&n-1>>>8}Object.defineProperty(t,"__esModule",{value:!0}),t.select=function(e,t,n){return~(e-1)&t|e-1&n},t.lessOrEqual=function(e,t){return(0|e)-(0|t)-1>>>31&1},t.compare=n,t.equal=function(e,t){return 0!==e.length&&0!==t.length&&0!==n(e,t)}},1050:(e,t,n)=>{"use strict";t.zh=t.SH=t.Xx=t._w=t.aP=t.KS=t.jQ=void 0;n(1416);const r=n(3350),i=n(7309);function o(e){const t=new Float64Array(16);if(e)for(let n=0;n<e.length;n++)t[n]=e[n];return t}t.jQ=64,t.KS=64,t.aP=32,new Uint8Array(32)[0]=9;const s=o(),a=o([1]),l=o([30883,4953,19914,30187,55467,16705,2637,112,59544,30585,16505,36039,65139,11119,27886,20995]),c=o([61785,9906,39828,60374,45398,33411,5274,224,53552,61171,33010,6542,64743,22239,55772,9222]),u=o([54554,36645,11616,51542,42930,38181,51040,26924,56412,64982,57905,49316,21502,52590,14035,8553]),h=o([26200,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214]),f=o([41136,18958,6951,50414,58488,44335,6150,12099,55207,15867,153,11085,57099,20417,9344,11139]);function d(e,t){for(let n=0;n<16;n++)e[n]=0|t[n]}function p(e){let t=1;for(let n=0;n<16;n++){let r=e[n]+t+65535;t=Math.floor(r/65536),e[n]=r-65536*t}e[0]+=t-1+37*(t-1)}function g(e,t,n){const r=~(n-1);for(let n=0;n<16;n++){const i=r&(e[n]^t[n]);e[n]^=i,t[n]^=i}}function y(e,t){const n=o(),r=o();for(let e=0;e<16;e++)r[e]=t[e];p(r),p(r),p(r);for(let e=0;e<2;e++){n[0]=r[0]-65517;for(let e=1;e<15;e++)n[e]=r[e]-65535-(n[e-1]>>16&1),n[e-1]&=65535;n[15]=r[15]-32767-(n[14]>>16&1);const e=n[15]>>16&1;n[14]&=65535,g(r,n,1-e)}for(let t=0;t<16;t++)e[2*t]=255&r[t],e[2*t+1]=r[t]>>8}function v(e,t){const n=new Uint8Array(32),r=new Uint8Array(32);return y(n,e),y(r,t),function(e,t){let n=0;for(let r=0;r<32;r++)n|=e[r]^t[r];return(1&n-1>>>8)-1}(n,r)}function m(e){const t=new Uint8Array(32);return y(t,e),1&t[0]}function w(e,t,n){for(let r=0;r<16;r++)e[r]=t[r]+n[r]}function E(e,t,n){for(let r=0;r<16;r++)e[r]=t[r]-n[r]}function b(e,t,n){let r,i,o=0,s=0,a=0,l=0,c=0,u=0,h=0,f=0,d=0,p=0,g=0,y=0,v=0,m=0,w=0,E=0,b=0,_=0,A=0,S=0,T=0,R=0,x=0,I=0,O=0,k=0,N=0,C=0,P=0,L=0,M=0,B=n[0],U=n[1],D=n[2],j=n[3],K=n[4],q=n[5],F=n[6],H=n[7],W=n[8],G=n[9],V=n[10],z=n[11],Q=n[12],X=n[13],Y=n[14],J=n[15];r=t[0],o+=r*B,s+=r*U,a+=r*D,l+=r*j,c+=r*K,u+=r*q,h+=r*F,f+=r*H,d+=r*W,p+=r*G,g+=r*V,y+=r*z,v+=r*Q,m+=r*X,w+=r*Y,E+=r*J,r=t[1],s+=r*B,a+=r*U,l+=r*D,c+=r*j,u+=r*K,h+=r*q,f+=r*F,d+=r*H,p+=r*W,g+=r*G,y+=r*V,v+=r*z,m+=r*Q,w+=r*X,E+=r*Y,b+=r*J,r=t[2],a+=r*B,l+=r*U,c+=r*D,u+=r*j,h+=r*K,f+=r*q,d+=r*F,p+=r*H,g+=r*W,y+=r*G,v+=r*V,m+=r*z,w+=r*Q,E+=r*X,b+=r*Y,_+=r*J,r=t[3],l+=r*B,c+=r*U,u+=r*D,h+=r*j,f+=r*K,d+=r*q,p+=r*F,g+=r*H,y+=r*W,v+=r*G,m+=r*V,w+=r*z,E+=r*Q,b+=r*X,_+=r*Y,A+=r*J,r=t[4],c+=r*B,u+=r*U,h+=r*D,f+=r*j,d+=r*K,p+=r*q,g+=r*F,y+=r*H,v+=r*W,m+=r*G,w+=r*V,E+=r*z,b+=r*Q,_+=r*X,A+=r*Y,S+=r*J,r=t[5],u+=r*B,h+=r*U,f+=r*D,d+=r*j,p+=r*K,g+=r*q,y+=r*F,v+=r*H,m+=r*W,w+=r*G,E+=r*V,b+=r*z,_+=r*Q,A+=r*X,S+=r*Y,T+=r*J,r=t[6],h+=r*B,f+=r*U,d+=r*D,p+=r*j,g+=r*K,y+=r*q,v+=r*F,m+=r*H,w+=r*W,E+=r*G,b+=r*V,_+=r*z,A+=r*Q,S+=r*X,T+=r*Y,R+=r*J,r=t[7],f+=r*B,d+=r*U,p+=r*D,g+=r*j,y+=r*K,v+=r*q,m+=r*F,w+=r*H,E+=r*W,b+=r*G,_+=r*V,A+=r*z,S+=r*Q,T+=r*X,R+=r*Y,x+=r*J,r=t[8],d+=r*B,p+=r*U,g+=r*D,y+=r*j,v+=r*K,m+=r*q,w+=r*F,E+=r*H,b+=r*W,_+=r*G,A+=r*V,S+=r*z,T+=r*Q,R+=r*X,x+=r*Y,I+=r*J,r=t[9],p+=r*B,g+=r*U,y+=r*D,v+=r*j,m+=r*K,w+=r*q,E+=r*F,b+=r*H,_+=r*W,A+=r*G,S+=r*V,T+=r*z,R+=r*Q,x+=r*X,I+=r*Y,O+=r*J,r=t[10],g+=r*B,y+=r*U,v+=r*D,m+=r*j,w+=r*K,E+=r*q,b+=r*F,_+=r*H,A+=r*W,S+=r*G,T+=r*V,R+=r*z,x+=r*Q,I+=r*X,O+=r*Y,k+=r*J,r=t[11],y+=r*B,v+=r*U,m+=r*D,w+=r*j,E+=r*K,b+=r*q,_+=r*F,A+=r*H,S+=r*W,T+=r*G,R+=r*V,x+=r*z,I+=r*Q,O+=r*X,k+=r*Y,N+=r*J,r=t[12],v+=r*B,m+=r*U,w+=r*D,E+=r*j,b+=r*K,_+=r*q,A+=r*F,S+=r*H,T+=r*W,R+=r*G,x+=r*V,I+=r*z,O+=r*Q,k+=r*X,N+=r*Y,C+=r*J,r=t[13],m+=r*B,w+=r*U,E+=r*D,b+=r*j,_+=r*K,A+=r*q,S+=r*F,T+=r*H,R+=r*W,x+=r*G,I+=r*V,O+=r*z,k+=r*Q,N+=r*X,C+=r*Y,P+=r*J,r=t[14],w+=r*B,E+=r*U,b+=r*D,_+=r*j,A+=r*K,S+=r*q,T+=r*F,R+=r*H,x+=r*W,I+=r*G,O+=r*V,k+=r*z,N+=r*Q,C+=r*X,P+=r*Y,L+=r*J,r=t[15],E+=r*B,b+=r*U,_+=r*D,A+=r*j,S+=r*K,T+=r*q,R+=r*F,x+=r*H,I+=r*W,O+=r*G,k+=r*V,N+=r*z,C+=r*Q,P+=r*X,L+=r*Y,M+=r*J,o+=38*b,s+=38*_,a+=38*A,l+=38*S,c+=38*T,u+=38*R,h+=38*x,f+=38*I,d+=38*O,p+=38*k,g+=38*N,y+=38*C,v+=38*P,m+=38*L,w+=38*M,i=1,r=o+i+65535,i=Math.floor(r/65536),o=r-65536*i,r=s+i+65535,i=Math.floor(r/65536),s=r-65536*i,r=a+i+65535,i=Math.floor(r/65536),a=r-65536*i,r=l+i+65535,i=Math.floor(r/65536),l=r-65536*i,r=c+i+65535,i=Math.floor(r/65536),c=r-65536*i,r=u+i+65535,i=Math.floor(r/65536),u=r-65536*i,r=h+i+65535,i=Math.floor(r/65536),h=r-65536*i,r=f+i+65535,i=Math.floor(r/65536),f=r-65536*i,r=d+i+65535,i=Math.floor(r/65536),d=r-65536*i,r=p+i+65535,i=Math.floor(r/65536),p=r-65536*i,r=g+i+65535,i=Math.floor(r/65536),g=r-65536*i,r=y+i+65535,i=Math.floor(r/65536),y=r-65536*i,r=v+i+65535,i=Math.floor(r/65536),v=r-65536*i,r=m+i+65535,i=Math.floor(r/65536),m=r-65536*i,r=w+i+65535,i=Math.floor(r/65536),w=r-65536*i,r=E+i+65535,i=Math.floor(r/65536),E=r-65536*i,o+=i-1+37*(i-1),i=1,r=o+i+65535,i=Math.floor(r/65536),o=r-65536*i,r=s+i+65535,i=Math.floor(r/65536),s=r-65536*i,r=a+i+65535,i=Math.floor(r/65536),a=r-65536*i,r=l+i+65535,i=Math.floor(r/65536),l=r-65536*i,r=c+i+65535,i=Math.floor(r/65536),c=r-65536*i,r=u+i+65535,i=Math.floor(r/65536),u=r-65536*i,r=h+i+65535,i=Math.floor(r/65536),h=r-65536*i,r=f+i+65535,i=Math.floor(r/65536),f=r-65536*i,r=d+i+65535,i=Math.floor(r/65536),d=r-65536*i,r=p+i+65535,i=Math.floor(r/65536),p=r-65536*i,r=g+i+65535,i=Math.floor(r/65536),g=r-65536*i,r=y+i+65535,i=Math.floor(r/65536),y=r-65536*i,r=v+i+65535,i=Math.floor(r/65536),v=r-65536*i,r=m+i+65535,i=Math.floor(r/65536),m=r-65536*i,r=w+i+65535,i=Math.floor(r/65536),w=r-65536*i,r=E+i+65535,i=Math.floor(r/65536),E=r-65536*i,o+=i-1+37*(i-1),e[0]=o,e[1]=s,e[2]=a,e[3]=l,e[4]=c,e[5]=u,e[6]=h,e[7]=f,e[8]=d,e[9]=p,e[10]=g,e[11]=y,e[12]=v,e[13]=m,e[14]=w,e[15]=E}function _(e,t){b(e,t,t)}function A(e,t){const n=o();let r;for(r=0;r<16;r++)n[r]=t[r];for(r=253;r>=0;r--)_(n,n),2!==r&&4!==r&&b(n,n,t);for(r=0;r<16;r++)e[r]=n[r]}function S(e,t){const n=o(),r=o(),i=o(),s=o(),a=o(),l=o(),u=o(),h=o(),f=o();E(n,e[1],e[0]),E(f,t[1],t[0]),b(n,n,f),w(r,e[0],e[1]),w(f,t[0],t[1]),b(r,r,f),b(i,e[3],t[3]),b(i,i,c),b(s,e[2],t[2]),w(s,s,s),E(a,r,n),E(l,s,i),w(u,s,i),w(h,r,n),b(e[0],a,l),b(e[1],h,u),b(e[2],u,l),b(e[3],a,h)}function T(e,t,n){for(let r=0;r<4;r++)g(e[r],t[r],n)}function R(e,t){const n=o(),r=o(),i=o();A(i,t[2]),b(n,t[0],i),b(r,t[1],i),y(e,r),e[31]^=m(n)<<7}function x(e,t){const n=[o(),o(),o(),o()];d(n[0],u),d(n[1],h),d(n[2],a),b(n[3],u,h),function(e,t,n){d(e[0],s),d(e[1],a),d(e[2],a),d(e[3],s);for(let r=255;r>=0;--r){const i=n[r/8|0]>>(7&r)&1;T(e,t,i),S(t,e),S(e,e),T(e,t,i)}}(e,n,t)}t._w=function(e){if(e.length!==t.aP)throw new Error(`ed25519: seed must be ${t.aP} bytes`);const n=(0,r.hash)(e);n[0]&=248,n[31]&=127,n[31]|=64;const i=new Uint8Array(32),s=[o(),o(),o(),o()];x(s,n),R(i,s);const a=new Uint8Array(64);return a.set(e),a.set(i,32),{publicKey:i,secretKey:a}};const I=new Float64Array([237,211,245,92,26,99,18,88,214,156,247,162,222,249,222,20,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,16]);function O(e,t){let n,r,i,o;for(r=63;r>=32;--r){for(n=0,i=r-32,o=r-12;i<o;++i)t[i]+=n-16*t[r]*I[i-(r-32)],n=Math.floor((t[i]+128)/256),t[i]-=256*n;t[i]+=n,t[r]=0}for(n=0,i=0;i<32;i++)t[i]+=n-(t[31]>>4)*I[i],n=t[i]>>8,t[i]&=255;for(i=0;i<32;i++)t[i]-=n*I[i];for(r=0;r<32;r++)t[r+1]+=t[r]>>8,e[r]=255&t[r]}function k(e){const t=new Float64Array(64);for(let n=0;n<64;n++)t[n]=e[n];for(let t=0;t<64;t++)e[t]=0;O(e,t)}t.Xx=function(e,t){const n=new Float64Array(64),i=[o(),o(),o(),o()],s=(0,r.hash)(e.subarray(0,32));s[0]&=248,s[31]&=127,s[31]|=64;const a=new Uint8Array(64);a.set(s.subarray(32),32);const l=new r.SHA512;l.update(a.subarray(32)),l.update(t);const c=l.digest();l.clean(),k(c),x(i,c),R(a,i),l.reset(),l.update(a.subarray(0,32)),l.update(e.subarray(32)),l.update(t);const u=l.digest();k(u);for(let e=0;e<32;e++)n[e]=c[e];for(let e=0;e<32;e++)for(let t=0;t<32;t++)n[e+t]+=u[e]*s[t];return O(a.subarray(32),n),a},t.SH=function(e){let t=[o(),o(),o(),o()];if(function(e,t){const n=o(),r=o(),i=o(),c=o(),u=o(),h=o(),p=o();return d(e[2],a),function(e,t){for(let n=0;n<16;n++)e[n]=t[2*n]+(t[2*n+1]<<8);e[15]&=32767}(e[1],t),_(i,e[1]),b(c,i,l),E(i,i,e[2]),w(c,e[2],c),_(u,c),_(h,u),b(p,h,u),b(n,p,i),b(n,n,c),function(e,t){const n=o();let r;for(r=0;r<16;r++)n[r]=t[r];for(r=250;r>=0;r--)_(n,n),1!==r&&b(n,n,t);for(r=0;r<16;r++)e[r]=n[r]}(n,n),b(n,n,i),b(n,n,c),b(n,n,c),b(e[0],n,c),_(r,e[0]),b(r,r,c),v(r,i)&&b(e[0],e[0],f),_(r,e[0]),b(r,r,c),v(r,i)?-1:(m(e[0])===t[31]>>7&&E(e[0],s,e[0]),b(e[3],e[0],e[1]),0)}(t,e))throw new Error("Ed25519: invalid public key");let n=o(),r=o(),i=t[1];w(n,a,i),E(r,a,i),A(r,r),b(n,n,r);let c=new Uint8Array(32);return y(c,n),c},t.zh=function(e){const t=(0,r.hash)(e.subarray(0,32));t[0]&=248,t[31]&=127,t[31]|=64;const n=new Uint8Array(t.subarray(0,32));return(0,i.wipe)(t),n}},7117:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.mul=Math.imul||function(e,t){var n=65535&e,r=65535&t;return n*r+((e>>>16&65535)*r+n*(t>>>16&65535)<<16>>>0)|0},t.add=function(e,t){return e+t|0},t.sub=function(e,t){return e-t|0},t.rotl=function(e,t){return e<<t|e>>>32-t},t.rotr=function(e,t){return e<<32-t|e>>>t},t.isInteger=Number.isInteger||function(e){return"number"==typeof e&&isFinite(e)&&Math.floor(e)===e},t.MAX_SAFE_INTEGER=9007199254740991,t.isSafeInteger=function(e){return t.isInteger(e)&&e>=-t.MAX_SAFE_INTEGER&&e<=t.MAX_SAFE_INTEGER}},19:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.openBox=t.box=t.precomputeSharedKey=t.generateKeyPair=void 0;const r=n(7664),i=n(7025),o=n(7801),s=n(7309);var a=n(7664);Object.defineProperty(t,"generateKeyPair",{enumerable:!0,get:function(){return a.generateKeyPair}});const l=new Uint8Array(16);function c(e,t){const n=(0,r.scalarMult)(t,e);return(0,i.hsalsa)(n,l,n),n}t.precomputeSharedKey=c,t.box=function(e,t,n,r){const i=c(e,t),a=(0,o.secretBox)(i,n,r);return(0,s.wipe)(i),a},t.openBox=function(e,t,n,r){const i=c(e,t),a=(0,o.openSecretBox)(i,n,r);return(0,s.wipe)(i),a}},450:function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var i=Object.getOwnPropertyDescriptor(t,n);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,i)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),i=this&&this.__exportStar||function(e,t){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(t,n)||r(t,e,n)};Object.defineProperty(t,"__esModule",{value:!0}),i(n(19),t),i(n(7801),t)},7801:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.generateKey=t.openSecretBox=t.secretBox=void 0;const r=n(7025),i=n(3027),o=n(7309),s=n(1416);t.secretBox=function(e,t,n){if(24!==t.length)throw new Error("secretBox nonce must be 24 bytes");const s=new Uint8Array(64),a=new Uint8Array(32);a.set(t),(0,r.stream)(e,a,s,8);const l=new Uint8Array(16+n.length);for(let e=0;e<32&&e<n.length;e++)l[16+e]=n[e]^s[32+e];n.length>32&&(0,r.streamXOR)(e,a,n.subarray(32),l.subarray(48),8);const c=(0,i.oneTimeAuth)(s.subarray(0,32),l.subarray(16));for(let e=0;e<c.length;e++)l[e]=c[e];return(0,o.wipe)(c),(0,o.wipe)(s),(0,o.wipe)(a),l},t.openSecretBox=function(e,t,n){if(24!==t.length)throw new Error("secretBox nonce must be 24 bytes");if(n.length<16)throw new Error("secretBox data must be at least 16 bytes");const s=new Uint8Array(64),a=new Uint8Array(32);a.set(t),(0,r.stream)(e,a,s,8);const l=(0,i.oneTimeAuth)(s.subarray(0,32),n.subarray(16));if(!(0,i.equal)(l,n.subarray(0,16)))return null;const c=n.subarray(16),u=new Uint8Array(c.length);for(let e=0;e<32&&e<c.length;e++)u[e]=c[e]^s[32+e];return c.length>32&&(0,r.streamXOR)(e,a,c.subarray(32),u.subarray(32),8),(0,o.wipe)(l),(0,o.wipe)(s),(0,o.wipe)(a),u},t.generateKey=function(e){return(0,s.randomBytes)(32,e)}},3027:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(4153),i=n(7309);t.DIGEST_LENGTH=16;var o=function(){function e(e){this.digestLength=t.DIGEST_LENGTH,this._buffer=new Uint8Array(16),this._r=new Uint16Array(10),this._h=new Uint16Array(10),this._pad=new Uint16Array(8),this._leftover=0,this._fin=0,this._finished=!1;var n=e[0]|e[1]<<8;this._r[0]=8191&n;var r=e[2]|e[3]<<8;this._r[1]=8191&(n>>>13|r<<3);var i=e[4]|e[5]<<8;this._r[2]=7939&(r>>>10|i<<6);var o=e[6]|e[7]<<8;this._r[3]=8191&(i>>>7|o<<9);var s=e[8]|e[9]<<8;this._r[4]=255&(o>>>4|s<<12),this._r[5]=s>>>1&8190;var a=e[10]|e[11]<<8;this._r[6]=8191&(s>>>14|a<<2);var l=e[12]|e[13]<<8;this._r[7]=8065&(a>>>11|l<<5);var c=e[14]|e[15]<<8;this._r[8]=8191&(l>>>8|c<<8),this._r[9]=c>>>5&127,this._pad[0]=e[16]|e[17]<<8,this._pad[1]=e[18]|e[19]<<8,this._pad[2]=e[20]|e[21]<<8,this._pad[3]=e[22]|e[23]<<8,this._pad[4]=e[24]|e[25]<<8,this._pad[5]=e[26]|e[27]<<8,this._pad[6]=e[28]|e[29]<<8,this._pad[7]=e[30]|e[31]<<8}return e.prototype._blocks=function(e,t,n){for(var r=this._fin?0:2048,i=this._h[0],o=this._h[1],s=this._h[2],a=this._h[3],l=this._h[4],c=this._h[5],u=this._h[6],h=this._h[7],f=this._h[8],d=this._h[9],p=this._r[0],g=this._r[1],y=this._r[2],v=this._r[3],m=this._r[4],w=this._r[5],E=this._r[6],b=this._r[7],_=this._r[8],A=this._r[9];n>=16;){var S=e[t+0]|e[t+1]<<8;i+=8191&S;var T=e[t+2]|e[t+3]<<8;o+=8191&(S>>>13|T<<3);var R=e[t+4]|e[t+5]<<8;s+=8191&(T>>>10|R<<6);var x=e[t+6]|e[t+7]<<8;a+=8191&(R>>>7|x<<9);var I=e[t+8]|e[t+9]<<8;l+=8191&(x>>>4|I<<12),c+=I>>>1&8191;var O=e[t+10]|e[t+11]<<8;u+=8191&(I>>>14|O<<2);var k=e[t+12]|e[t+13]<<8;h+=8191&(O>>>11|k<<5);var N=e[t+14]|e[t+15]<<8,C=0,P=C;P+=i*p,P+=o*(5*A),P+=s*(5*_),P+=a*(5*b),C=(P+=l*(5*E))>>>13,P&=8191,P+=c*(5*w),P+=u*(5*m),P+=h*(5*v),P+=(f+=8191&(k>>>8|N<<8))*(5*y);var L=C+=(P+=(d+=N>>>5|r)*(5*g))>>>13;L+=i*g,L+=o*p,L+=s*(5*A),L+=a*(5*_),C=(L+=l*(5*b))>>>13,L&=8191,L+=c*(5*E),L+=u*(5*w),L+=h*(5*m),L+=f*(5*v),C+=(L+=d*(5*y))>>>13,L&=8191;var M=C;M+=i*y,M+=o*g,M+=s*p,M+=a*(5*A),C=(M+=l*(5*_))>>>13,M&=8191,M+=c*(5*b),M+=u*(5*E),M+=h*(5*w),M+=f*(5*m);var B=C+=(M+=d*(5*v))>>>13;B+=i*v,B+=o*y,B+=s*g,B+=a*p,C=(B+=l*(5*A))>>>13,B&=8191,B+=c*(5*_),B+=u*(5*b),B+=h*(5*E),B+=f*(5*w);var U=C+=(B+=d*(5*m))>>>13;U+=i*m,U+=o*v,U+=s*y,U+=a*g,C=(U+=l*p)>>>13,U&=8191,U+=c*(5*A),U+=u*(5*_),U+=h*(5*b),U+=f*(5*E);var D=C+=(U+=d*(5*w))>>>13;D+=i*w,D+=o*m,D+=s*v,D+=a*y,C=(D+=l*g)>>>13,D&=8191,D+=c*p,D+=u*(5*A),D+=h*(5*_),D+=f*(5*b);var j=C+=(D+=d*(5*E))>>>13;j+=i*E,j+=o*w,j+=s*m,j+=a*v,C=(j+=l*y)>>>13,j&=8191,j+=c*g,j+=u*p,j+=h*(5*A),j+=f*(5*_);var K=C+=(j+=d*(5*b))>>>13;K+=i*b,K+=o*E,K+=s*w,K+=a*m,C=(K+=l*v)>>>13,K&=8191,K+=c*y,K+=u*g,K+=h*p,K+=f*(5*A);var q=C+=(K+=d*(5*_))>>>13;q+=i*_,q+=o*b,q+=s*E,q+=a*w,C=(q+=l*m)>>>13,q&=8191,q+=c*v,q+=u*y,q+=h*g,q+=f*p;var F=C+=(q+=d*(5*A))>>>13;F+=i*A,F+=o*_,F+=s*b,F+=a*E,C=(F+=l*w)>>>13,F&=8191,F+=c*m,F+=u*v,F+=h*y,F+=f*g,i=P=8191&(C=(C=((C+=(F+=d*p)>>>13)<<2)+C|0)+(P&=8191)|0),o=L+=C>>>=13,s=M&=8191,a=B&=8191,l=U&=8191,c=D&=8191,u=j&=8191,h=K&=8191,f=q&=8191,d=F&=8191,t+=16,n-=16}this._h[0]=i,this._h[1]=o,this._h[2]=s,this._h[3]=a,this._h[4]=l,this._h[5]=c,this._h[6]=u,this._h[7]=h,this._h[8]=f,this._h[9]=d},e.prototype.finish=function(e,t){void 0===t&&(t=0);var n,r,i,o,s=new Uint16Array(10);if(this._leftover){for(o=this._leftover,this._buffer[o++]=1;o<16;o++)this._buffer[o]=0;this._fin=1,this._blocks(this._buffer,0,16)}for(n=this._h[1]>>>13,this._h[1]&=8191,o=2;o<10;o++)this._h[o]+=n,n=this._h[o]>>>13,this._h[o]&=8191;for(this._h[0]+=5*n,n=this._h[0]>>>13,this._h[0]&=8191,this._h[1]+=n,n=this._h[1]>>>13,this._h[1]&=8191,this._h[2]+=n,s[0]=this._h[0]+5,n=s[0]>>>13,s[0]&=8191,o=1;o<10;o++)s[o]=this._h[o]+n,n=s[o]>>>13,s[o]&=8191;for(s[9]-=8192,r=(1^n)-1,o=0;o<10;o++)s[o]&=r;for(r=~r,o=0;o<10;o++)this._h[o]=this._h[o]&r|s[o];for(this._h[0]=65535&(this._h[0]|this._h[1]<<13),this._h[1]=65535&(this._h[1]>>>3|this._h[2]<<10),this._h[2]=65535&(this._h[2]>>>6|this._h[3]<<7),this._h[3]=65535&(this._h[3]>>>9|this._h[4]<<4),this._h[4]=65535&(this._h[4]>>>12|this._h[5]<<1|this._h[6]<<14),this._h[5]=65535&(this._h[6]>>>2|this._h[7]<<11),this._h[6]=65535&(this._h[7]>>>5|this._h[8]<<8),this._h[7]=65535&(this._h[8]>>>8|this._h[9]<<5),i=this._h[0]+this._pad[0],this._h[0]=65535&i,o=1;o<8;o++)i=(this._h[o]+this._pad[o]|0)+(i>>>16)|0,this._h[o]=65535&i;return e[t+0]=this._h[0]>>>0,e[t+1]=this._h[0]>>>8,e[t+2]=this._h[1]>>>0,e[t+3]=this._h[1]>>>8,e[t+4]=this._h[2]>>>0,e[t+5]=this._h[2]>>>8,e[t+6]=this._h[3]>>>0,e[t+7]=this._h[3]>>>8,e[t+8]=this._h[4]>>>0,e[t+9]=this._h[4]>>>8,e[t+10]=this._h[5]>>>0,e[t+11]=this._h[5]>>>8,e[t+12]=this._h[6]>>>0,e[t+13]=this._h[6]>>>8,e[t+14]=this._h[7]>>>0,e[t+15]=this._h[7]>>>8,this._finished=!0,this},e.prototype.update=function(e){var t,n=0,r=e.length;if(this._leftover){(t=16-this._leftover)>r&&(t=r);for(var i=0;i<t;i++)this._buffer[this._leftover+i]=e[n+i];if(r-=t,n+=t,this._leftover+=t,this._leftover<16)return this;this._blocks(this._buffer,0,16),this._leftover=0}if(r>=16&&(t=r-r%16,this._blocks(e,n,t),n+=t,r-=t),r){for(i=0;i<r;i++)this._buffer[this._leftover+i]=e[n+i];this._leftover+=r}return this},e.prototype.digest=function(){if(this._finished)throw new Error("Poly1305 was finished");var e=new Uint8Array(16);return this.finish(e),e},e.prototype.clean=function(){return i.wipe(this._buffer),i.wipe(this._r),i.wipe(this._h),i.wipe(this._pad),this._leftover=0,this._fin=0,this._finished=!0,this},e}();t.Poly1305=o,t.oneTimeAuth=function(e,t){var n=new o(e);n.update(t);var r=n.digest();return n.clean(),r},t.equal=function(e,n){return e.length===t.DIGEST_LENGTH&&n.length===t.DIGEST_LENGTH&&r.equal(e,n)}},1416:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.randomStringForEntropy=t.randomString=t.randomUint32=t.randomBytes=t.defaultRandomSource=void 0;const r=n(6008),i=n(8099),o=n(7309);function s(e,n=t.defaultRandomSource){return n.randomBytes(e)}t.defaultRandomSource=new r.SystemRandomSource,t.randomBytes=s,t.randomUint32=function(e=t.defaultRandomSource){const n=s(4,e),r=(0,i.readUint32LE)(n);return(0,o.wipe)(n),r};const a="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz";function l(e,n=a,r=t.defaultRandomSource){if(n.length<2)throw new Error("randomString charset is too short");if(n.length>256)throw new Error("randomString charset is too long");let i="";const l=n.length,c=256-256%l;for(;e>0;){const t=s(Math.ceil(256*e/c),r);for(let r=0;r<t.length&&e>0;r++){const o=t[r];o<c&&(i+=n.charAt(o%l),e--)}(0,o.wipe)(t)}return i}t.randomString=l,t.randomStringForEntropy=function(e,n=a,r=t.defaultRandomSource){return l(Math.ceil(e/(Math.log(n.length)/Math.LN2)),n,r)}},5455:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.BrowserRandomSource=void 0,t.BrowserRandomSource=class{constructor(){this.isAvailable=!1,this.isInstantiated=!1;const e="undefined"!=typeof self?self.crypto||self.msCrypto:null;e&&void 0!==e.getRandomValues&&(this._crypto=e,this.isAvailable=!0,this.isInstantiated=!0)}randomBytes(e){if(!this.isAvailable||!this._crypto)throw new Error("Browser random byte generator is not available.");const t=new Uint8Array(e);for(let e=0;e<t.length;e+=65536)this._crypto.getRandomValues(t.subarray(e,e+Math.min(t.length-e,65536)));return t}}},8871:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.NodeRandomSource=void 0;const r=n(7309);t.NodeRandomSource=class{constructor(){this.isAvailable=!1,this.isInstantiated=!1;{const e=n(5883);e&&e.randomBytes&&(this._crypto=e,this.isAvailable=!0,this.isInstantiated=!0)}}randomBytes(e){if(!this.isAvailable||!this._crypto)throw new Error("Node.js random byte generator is not available.");let t=this._crypto.randomBytes(e);if(t.length!==e)throw new Error("NodeRandomSource: got fewer bytes than requested");const n=new Uint8Array(e);for(let e=0;e<n.length;e++)n[e]=t[e];return(0,r.wipe)(t),n}}},6008:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.SystemRandomSource=void 0;const r=n(5455),i=n(8871);t.SystemRandomSource=class{constructor(){return this.isAvailable=!1,this.name="",this._source=new r.BrowserRandomSource,this._source.isAvailable?(this.isAvailable=!0,void(this.name="Browser")):(this._source=new i.NodeRandomSource,this._source.isAvailable?(this.isAvailable=!0,void(this.name="Node")):void 0)}randomBytes(e){if(!this.isAvailable)throw new Error("System random byte generator is not available.");return this._source.randomBytes(e)}}},7318:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(8099),i=n(7309),o=20;function s(e,t,n){for(var i,s=1634760805,a=n[3]<<24|n[2]<<16|n[1]<<8|n[0],l=n[7]<<24|n[6]<<16|n[5]<<8|n[4],c=n[11]<<24|n[10]<<16|n[9]<<8|n[8],u=n[15]<<24|n[14]<<16|n[13]<<8|n[12],h=857760878,f=t[3]<<24|t[2]<<16|t[1]<<8|t[0],d=t[7]<<24|t[6]<<16|t[5]<<8|t[4],p=t[11]<<24|t[10]<<16|t[9]<<8|t[8],g=t[15]<<24|t[14]<<16|t[13]<<8|t[12],y=2036477234,v=n[19]<<24|n[18]<<16|n[17]<<8|n[16],m=n[23]<<24|n[22]<<16|n[21]<<8|n[20],w=n[27]<<24|n[26]<<16|n[25]<<8|n[24],E=n[31]<<24|n[30]<<16|n[29]<<8|n[28],b=1797285236,_=s,A=a,S=l,T=c,R=u,x=h,I=f,O=d,k=p,N=g,C=y,P=v,L=m,M=w,B=E,U=b,D=0;D<o;D+=2)_^=(i=(L^=(i=(k^=(i=(R^=(i=_+L|0)<<7|i>>>25)+_|0)<<9|i>>>23)+R|0)<<13|i>>>19)+k|0)<<18|i>>>14,x^=(i=(A^=(i=(M^=(i=(N^=(i=x+A|0)<<7|i>>>25)+x|0)<<9|i>>>23)+N|0)<<13|i>>>19)+M|0)<<18|i>>>14,C^=(i=(I^=(i=(S^=(i=(B^=(i=C+I|0)<<7|i>>>25)+C|0)<<9|i>>>23)+B|0)<<13|i>>>19)+S|0)<<18|i>>>14,U^=(i=(P^=(i=(O^=(i=(T^=(i=U+P|0)<<7|i>>>25)+U|0)<<9|i>>>23)+T|0)<<13|i>>>19)+O|0)<<18|i>>>14,_^=(i=(T^=(i=(S^=(i=(A^=(i=_+T|0)<<7|i>>>25)+_|0)<<9|i>>>23)+A|0)<<13|i>>>19)+S|0)<<18|i>>>14,x^=(i=(R^=(i=(O^=(i=(I^=(i=x+R|0)<<7|i>>>25)+x|0)<<9|i>>>23)+I|0)<<13|i>>>19)+O|0)<<18|i>>>14,C^=(i=(N^=(i=(k^=(i=(P^=(i=C+N|0)<<7|i>>>25)+C|0)<<9|i>>>23)+P|0)<<13|i>>>19)+k|0)<<18|i>>>14,U^=(i=(B^=(i=(M^=(i=(L^=(i=U+B|0)<<7|i>>>25)+U|0)<<9|i>>>23)+L|0)<<13|i>>>19)+M|0)<<18|i>>>14;r.writeUint32LE(_+s|0,e,0),r.writeUint32LE(A+a|0,e,4),r.writeUint32LE(S+l|0,e,8),r.writeUint32LE(T+c|0,e,12),r.writeUint32LE(R+u|0,e,16),r.writeUint32LE(x+h|0,e,20),r.writeUint32LE(I+f|0,e,24),r.writeUint32LE(O+d|0,e,28),r.writeUint32LE(k+p|0,e,32),r.writeUint32LE(N+g|0,e,36),r.writeUint32LE(C+y|0,e,40),r.writeUint32LE(P+v|0,e,44),r.writeUint32LE(L+m|0,e,48),r.writeUint32LE(M+w|0,e,52),r.writeUint32LE(B+E|0,e,56),r.writeUint32LE(U+b|0,e,60)}function a(e,t,n,r,o){if(void 0===o&&(o=0),32!==e.length)throw new Error("Salsa20: key size must be 32 bytes");if(r.length<n.length)throw new Error("Salsa20: destination is shorter than source");var a,c;if(0===o){if(8!==t.length)throw new Error("Salsa20 nonce must be 8 bytes");(a=new Uint8Array(16)).set(t),c=t.length}else{if(16!==t.length)throw new Error("Salsa20 nonce with counter must be 16 bytes");a=t,c=16-o}for(var u=new Uint8Array(64),h=0;h<n.length;h+=64){s(u,a,e);for(var f=h;f<h+64&&f<n.length;f++)r[f]=n[f]^u[f-h];l(a,c,a.length-c)}return i.wipe(u),0===o&&i.wipe(a),r}function l(e,t,n){for(var r=1;n--;)r=r+(255&e[t])|0,e[t]=255&r,r>>>=8,t++;if(r>0)throw new Error("Salsa20: counter overflow")}t.streamXOR=a,t.stream=function(e,t,n,r){return void 0===r&&(r=0),i.wipe(n),a(e,t,n,n,r)}},3350:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(8099),i=n(7309);t.DIGEST_LENGTH=64,t.BLOCK_SIZE=128;var o=function(){function e(){this.digestLength=t.DIGEST_LENGTH,this.blockSize=t.BLOCK_SIZE,this._stateHi=new Int32Array(8),this._stateLo=new Int32Array(8),this._tempHi=new Int32Array(16),this._tempLo=new Int32Array(16),this._buffer=new Uint8Array(256),this._bufferLength=0,this._bytesHashed=0,this._finished=!1,this.reset()}return e.prototype._initState=function(){this._stateHi[0]=1779033703,this._stateHi[1]=3144134277,this._stateHi[2]=1013904242,this._stateHi[3]=2773480762,this._stateHi[4]=1359893119,this._stateHi[5]=2600822924,this._stateHi[6]=528734635,this._stateHi[7]=1541459225,this._stateLo[0]=4089235720,this._stateLo[1]=2227873595,this._stateLo[2]=4271175723,this._stateLo[3]=1595750129,this._stateLo[4]=2917565137,this._stateLo[5]=725511199,this._stateLo[6]=4215389547,this._stateLo[7]=327033209},e.prototype.reset=function(){return this._initState(),this._bufferLength=0,this._bytesHashed=0,this._finished=!1,this},e.prototype.clean=function(){i.wipe(this._buffer),i.wipe(this._tempHi),i.wipe(this._tempLo),this.reset()},e.prototype.update=function(e,n){if(void 0===n&&(n=e.length),this._finished)throw new Error("SHA512: can't update because hash was finished.");var r=0;if(this._bytesHashed+=n,this._bufferLength>0){for(;this._bufferLength<t.BLOCK_SIZE&&n>0;)this._buffer[this._bufferLength++]=e[r++],n--;this._bufferLength===this.blockSize&&(a(this._tempHi,this._tempLo,this._stateHi,this._stateLo,this._buffer,0,this.blockSize),this._bufferLength=0)}for(n>=this.blockSize&&(r=a(this._tempHi,this._tempLo,this._stateHi,this._stateLo,e,r,n),n%=this.blockSize);n>0;)this._buffer[this._bufferLength++]=e[r++],n--;return this},e.prototype.finish=function(e){if(!this._finished){var t=this._bytesHashed,n=this._bufferLength,i=t/536870912|0,o=t<<3,s=t%128<112?128:256;this._buffer[n]=128;for(var l=n+1;l<s-8;l++)this._buffer[l]=0;r.writeUint32BE(i,this._buffer,s-8),r.writeUint32BE(o,this._buffer,s-4),a(this._tempHi,this._tempLo,this._stateHi,this._stateLo,this._buffer,0,s),this._finished=!0}for(l=0;l<this.digestLength/8;l++)r.writeUint32BE(this._stateHi[l],e,8*l),r.writeUint32BE(this._stateLo[l],e,8*l+4);return this},e.prototype.digest=function(){var e=new Uint8Array(this.digestLength);return this.finish(e),e},e.prototype.saveState=function(){if(this._finished)throw new Error("SHA256: cannot save finished state");return{stateHi:new Int32Array(this._stateHi),stateLo:new Int32Array(this._stateLo),buffer:this._bufferLength>0?new Uint8Array(this._buffer):void 0,bufferLength:this._bufferLength,bytesHashed:this._bytesHashed}},e.prototype.restoreState=function(e){return this._stateHi.set(e.stateHi),this._stateLo.set(e.stateLo),this._bufferLength=e.bufferLength,e.buffer&&this._buffer.set(e.buffer),this._bytesHashed=e.bytesHashed,this._finished=!1,this},e.prototype.cleanSavedState=function(e){i.wipe(e.stateHi),i.wipe(e.stateLo),e.buffer&&i.wipe(e.buffer),e.bufferLength=0,e.bytesHashed=0},e}();t.SHA512=o;var s=new Int32Array([1116352408,3609767458,1899447441,602891725,3049323471,3964484399,3921009573,2173295548,961987163,4081628472,1508970993,3053834265,2453635748,2937671579,2870763221,3664609560,3624381080,2734883394,310598401,1164996542,607225278,1323610764,1426881987,3590304994,1925078388,4068182383,2162078206,991336113,2614888103,633803317,3248222580,3479774868,3835390401,2666613458,4022224774,944711139,264347078,2341262773,604807628,2007800933,770255983,1495990901,1249150122,1856431235,1555081692,3175218132,1996064986,2198950837,2554220882,3999719339,2821834349,766784016,2952996808,2566594879,3210313671,3203337956,3336571891,1034457026,3584528711,2466948901,113926993,3758326383,338241895,168717936,666307205,1188179964,773529912,1546045734,1294757372,1522805485,1396182291,2643833823,1695183700,2343527390,1986661051,1014477480,2177026350,1206759142,2456956037,344077627,2730485921,1290863460,2820302411,3158454273,3259730800,3505952657,3345764771,106217008,3516065817,3606008344,3600352804,1432725776,4094571909,1467031594,275423344,851169720,430227734,3100823752,506948616,1363258195,659060556,3750685593,883997877,3785050280,958139571,3318307427,1322822218,3812723403,1537002063,2003034995,1747873779,3602036899,1955562222,1575990012,2024104815,1125592928,2227730452,2716904306,2361852424,442776044,2428436474,593698344,2756734187,3733110249,3204031479,2999351573,3329325298,3815920427,3391569614,3928383900,3515267271,566280711,3940187606,3454069534,4118630271,4000239992,116418474,1914138554,174292421,2731055270,289380356,3203993006,460393269,320620315,685471733,587496836,852142971,1086792851,1017036298,365543100,1126000580,2618297676,1288033470,3409855158,1501505948,4234509866,1607167915,987167468,1816402316,1246189591]);function a(e,t,n,i,o,a,l){for(var c,u,h,f,d,p,g,y,v=n[0],m=n[1],w=n[2],E=n[3],b=n[4],_=n[5],A=n[6],S=n[7],T=i[0],R=i[1],x=i[2],I=i[3],O=i[4],k=i[5],N=i[6],C=i[7];l>=128;){for(var P=0;P<16;P++){var L=8*P+a;e[P]=r.readUint32BE(o,L),t[P]=r.readUint32BE(o,L+4)}for(P=0;P<80;P++){var M,B,U=v,D=m,j=w,K=E,q=b,F=_,H=A,W=T,G=R,V=x,z=I,Q=O,X=k,Y=N;if(d=65535&(u=C),p=u>>>16,g=65535&(c=S),y=c>>>16,d+=65535&(u=(O>>>14|b<<18)^(O>>>18|b<<14)^(b>>>9|O<<23)),p+=u>>>16,g+=65535&(c=(b>>>14|O<<18)^(b>>>18|O<<14)^(O>>>9|b<<23)),y+=c>>>16,d+=65535&(u=O&k^~O&N),p+=u>>>16,g+=65535&(c=b&_^~b&A),y+=c>>>16,c=s[2*P],d+=65535&(u=s[2*P+1]),p+=u>>>16,g+=65535&c,y+=c>>>16,c=e[P%16],p+=(u=t[P%16])>>>16,g+=65535&c,y+=c>>>16,g+=(p+=(d+=65535&u)>>>16)>>>16,d=65535&(u=f=65535&d|p<<16),p=u>>>16,g=65535&(c=h=65535&g|(y+=g>>>16)<<16),y=c>>>16,d+=65535&(u=(T>>>28|v<<4)^(v>>>2|T<<30)^(v>>>7|T<<25)),p+=u>>>16,g+=65535&(c=(v>>>28|T<<4)^(T>>>2|v<<30)^(T>>>7|v<<25)),y+=c>>>16,p+=(u=T&R^T&x^R&x)>>>16,g+=65535&(c=v&m^v&w^m&w),y+=c>>>16,M=65535&(g+=(p+=(d+=65535&u)>>>16)>>>16)|(y+=g>>>16)<<16,B=65535&d|p<<16,d=65535&(u=z),p=u>>>16,g=65535&(c=K),y=c>>>16,p+=(u=f)>>>16,g+=65535&(c=h),y+=c>>>16,m=U,w=D,E=j,b=K=65535&(g+=(p+=(d+=65535&u)>>>16)>>>16)|(y+=g>>>16)<<16,_=q,A=F,S=H,v=M,R=W,x=G,I=V,O=z=65535&d|p<<16,k=Q,N=X,C=Y,T=B,P%16==15)for(L=0;L<16;L++)c=e[L],d=65535&(u=t[L]),p=u>>>16,g=65535&c,y=c>>>16,c=e[(L+9)%16],d+=65535&(u=t[(L+9)%16]),p+=u>>>16,g+=65535&c,y+=c>>>16,h=e[(L+1)%16],d+=65535&(u=((f=t[(L+1)%16])>>>1|h<<31)^(f>>>8|h<<24)^(f>>>7|h<<25)),p+=u>>>16,g+=65535&(c=(h>>>1|f<<31)^(h>>>8|f<<24)^h>>>7),y+=c>>>16,h=e[(L+14)%16],p+=(u=((f=t[(L+14)%16])>>>19|h<<13)^(h>>>29|f<<3)^(f>>>6|h<<26))>>>16,g+=65535&(c=(h>>>19|f<<13)^(f>>>29|h<<3)^h>>>6),y+=c>>>16,y+=(g+=(p+=(d+=65535&u)>>>16)>>>16)>>>16,e[L]=65535&g|y<<16,t[L]=65535&d|p<<16}d=65535&(u=T),p=u>>>16,g=65535&(c=v),y=c>>>16,c=n[0],p+=(u=i[0])>>>16,g+=65535&c,y+=c>>>16,y+=(g+=(p+=(d+=65535&u)>>>16)>>>16)>>>16,n[0]=v=65535&g|y<<16,i[0]=T=65535&d|p<<16,d=65535&(u=R),p=u>>>16,g=65535&(c=m),y=c>>>16,c=n[1],p+=(u=i[1])>>>16,g+=65535&c,y+=c>>>16,y+=(g+=(p+=(d+=65535&u)>>>16)>>>16)>>>16,n[1]=m=65535&g|y<<16,i[1]=R=65535&d|p<<16,d=65535&(u=x),p=u>>>16,g=65535&(c=w),y=c>>>16,c=n[2],p+=(u=i[2])>>>16,g+=65535&c,y+=c>>>16,y+=(g+=(p+=(d+=65535&u)>>>16)>>>16)>>>16,n[2]=w=65535&g|y<<16,i[2]=x=65535&d|p<<16,d=65535&(u=I),p=u>>>16,g=65535&(c=E),y=c>>>16,c=n[3],p+=(u=i[3])>>>16,g+=65535&c,y+=c>>>16,y+=(g+=(p+=(d+=65535&u)>>>16)>>>16)>>>16,n[3]=E=65535&g|y<<16,i[3]=I=65535&d|p<<16,d=65535&(u=O),p=u>>>16,g=65535&(c=b),y=c>>>16,c=n[4],p+=(u=i[4])>>>16,g+=65535&c,y+=c>>>16,y+=(g+=(p+=(d+=65535&u)>>>16)>>>16)>>>16,n[4]=b=65535&g|y<<16,i[4]=O=65535&d|p<<16,d=65535&(u=k),p=u>>>16,g=65535&(c=_),y=c>>>16,c=n[5],p+=(u=i[5])>>>16,g+=65535&c,y+=c>>>16,y+=(g+=(p+=(d+=65535&u)>>>16)>>>16)>>>16,n[5]=_=65535&g|y<<16,i[5]=k=65535&d|p<<16,d=65535&(u=N),p=u>>>16,g=65535&(c=A),y=c>>>16,c=n[6],p+=(u=i[6])>>>16,g+=65535&c,y+=c>>>16,y+=(g+=(p+=(d+=65535&u)>>>16)>>>16)>>>16,n[6]=A=65535&g|y<<16,i[6]=N=65535&d|p<<16,d=65535&(u=C),p=u>>>16,g=65535&(c=S),y=c>>>16,c=n[7],p+=(u=i[7])>>>16,g+=65535&c,y+=c>>>16,y+=(g+=(p+=(d+=65535&u)>>>16)>>>16)>>>16,n[7]=S=65535&g|y<<16,i[7]=C=65535&d|p<<16,a+=128,l-=128}return a}t.hash=function(e){var t=new o;t.update(e);var n=t.digest();return t.clean(),n}},6249:(e,t)=>{"use strict";var n="utf8: invalid string";t.cv=function(e){for(var t=new Uint8Array(function(e){for(var t=0,r=0;r<e.length;r++){var i=e.charCodeAt(r);if(i<128)t+=1;else if(i<2048)t+=2;else if(i<55296)t+=3;else{if(!(i<=57343))throw new Error(n);if(r>=e.length-1)throw new Error(n);r++,t+=4}}return t}(e)),r=0,i=0;i<e.length;i++){var o=e.charCodeAt(i);o<128?t[r++]=o:o<2048?(t[r++]=192|o>>6,t[r++]=128|63&o):o<55296?(t[r++]=224|o>>12,t[r++]=128|o>>6&63,t[r++]=128|63&o):(i++,o=(1023&o)<<10,o|=1023&e.charCodeAt(i),o+=65536,t[r++]=240|o>>18,t[r++]=128|o>>12&63,t[r++]=128|o>>6&63,t[r++]=128|63&o)}return t}},7309:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.wipe=function(e){for(var t=0;t<e.length;t++)e[t]=0;return e}},6273:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.X25519Session=t.SECRET_SEED_LENGTH=t.SAVED_STATE_LENGTH=t.ACCEPT_MESSAGE_LENGTH=t.OFFER_MESSAGE_LENGTH=void 0;const r=n(1416),i=n(7309),o=n(7664),s=n(4826);t.OFFER_MESSAGE_LENGTH=o.PUBLIC_KEY_LENGTH,t.ACCEPT_MESSAGE_LENGTH=o.PUBLIC_KEY_LENGTH,t.SAVED_STATE_LENGTH=o.SECRET_KEY_LENGTH,t.SECRET_SEED_LENGTH=o.SECRET_KEY_LENGTH,t.X25519Session=class{constructor(e,n){this.offerMessageLength=t.OFFER_MESSAGE_LENGTH,this.acceptMessageLength=t.ACCEPT_MESSAGE_LENGTH,this.sharedKeyLength=o.SHARED_KEY_LENGTH,this.savedStateLength=t.SAVED_STATE_LENGTH,this._seed=e||(0,r.randomBytes)(o.SECRET_KEY_LENGTH,n)}saveState(){return new Uint8Array(this._seed)}restoreState(e){return this._seed=new Uint8Array(e),this}clean(){this._seed&&(0,i.wipe)(this._seed),this._keyPair&&((0,i.wipe)(this._keyPair.secretKey),(0,i.wipe)(this._keyPair.publicKey)),this._sharedKey&&(0,i.wipe)(this._sharedKey),this._sessionKeys&&((0,i.wipe)(this._sessionKeys.receive),(0,i.wipe)(this._sessionKeys.send))}offer(){return this._keyPair=(0,o.generateKeyPairFromSeed)(this._seed),new Uint8Array(this._keyPair.publicKey)}accept(e){if(this._keyPair)throw new Error("X25519Session: accept shouldn't be called by offering party");if(e.length!==this.offerMessageLength)throw new Error("X25519Session: incorrect offer message length");if(this._sharedKey)throw new Error("X25519Session: accept was already called");const t=(0,o.generateKeyPairFromSeed)(this._seed);return this._sharedKey=(0,o.sharedKey)(t.secretKey,e),this._sessionKeys=(0,s.clientSessionKeysFromSharedKey)(this._sharedKey,t.publicKey,e),(0,i.wipe)(t.secretKey),t.publicKey}finish(e){if(e.length!==this.acceptMessageLength)throw new Error("X25519Session: incorrect accept message length");if(!this._keyPair)throw new Error("X25519Session: no offer state");if(this._sharedKey)throw new Error("X25519Session: finish was already called");return this._sharedKey=(0,o.sharedKey)(this._keyPair.secretKey,e),this._sessionKeys=(0,s.serverSessionKeysFromSharedKey)(this._sharedKey,this._keyPair.publicKey,e),this}getSharedKey(){if(!this._sharedKey)throw new Error("X25519Session: no shared key established");return new Uint8Array(this._sharedKey)}getSessionKeys(){if(!this._sessionKeys)throw new Error("X25519Session: no shared key established");return{receive:new Uint8Array(this._sessionKeys.receive),send:new Uint8Array(this._sessionKeys.send)}}}},4826:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.clientSessionKeys=t.serverSessionKeys=t.clientSessionKeysFromSharedKey=t.serverSessionKeysFromSharedKey=t.X25519Session=void 0;const r=n(1322),i=n(7664);var o=n(6273);Object.defineProperty(t,"X25519Session",{enumerable:!0,get:function(){return o.X25519Session}});const s=32;function a(e,t,n,i=r.BLAKE2b){const o=new i;if(o.digestLength!==2*s)throw new Error("X25519: incorrect digest length");const a=o.update(e).update(n).update(t).digest();return{send:a.subarray(0,s),receive:a.subarray(s)}}function l(e,t,n,i=r.BLAKE2b){const o=new i;if(o.digestLength!==2*s)throw new Error("X25519: incorrect digest length");const a=o.update(e).update(t).update(n).digest();return{receive:a.subarray(0,s),send:a.subarray(s)}}t.serverSessionKeysFromSharedKey=a,t.clientSessionKeysFromSharedKey=l,t.serverSessionKeys=function(e,t,n=r.BLAKE2b){return a((0,i.sharedKey)(e.secretKey,t),e.publicKey,t,n)},t.clientSessionKeys=function(e,t,n=r.BLAKE2b){return l((0,i.sharedKey)(e.secretKey,t),e.publicKey,t,n)}},7664:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.sharedKey=t.generateKeyPair=t.generateKeyPairFromSeed=t.scalarMultBase=t.scalarMult=t.SHARED_KEY_LENGTH=t.SECRET_KEY_LENGTH=t.PUBLIC_KEY_LENGTH=void 0;const r=n(1416),i=n(7309);function o(e){const t=new Float64Array(16);if(e)for(let n=0;n<e.length;n++)t[n]=e[n];return t}t.PUBLIC_KEY_LENGTH=32,t.SECRET_KEY_LENGTH=32,t.SHARED_KEY_LENGTH=32;const s=new Uint8Array(32);s[0]=9;const a=o([56129,1]);function l(e){let t=1;for(let n=0;n<16;n++){let r=e[n]+t+65535;t=Math.floor(r/65536),e[n]=r-65536*t}e[0]+=t-1+37*(t-1)}function c(e,t,n){const r=~(n-1);for(let n=0;n<16;n++){const i=r&(e[n]^t[n]);e[n]^=i,t[n]^=i}}function u(e,t,n){for(let r=0;r<16;r++)e[r]=t[r]+n[r]}function h(e,t,n){for(let r=0;r<16;r++)e[r]=t[r]-n[r]}function f(e,t,n){let r,i,o=0,s=0,a=0,l=0,c=0,u=0,h=0,f=0,d=0,p=0,g=0,y=0,v=0,m=0,w=0,E=0,b=0,_=0,A=0,S=0,T=0,R=0,x=0,I=0,O=0,k=0,N=0,C=0,P=0,L=0,M=0,B=n[0],U=n[1],D=n[2],j=n[3],K=n[4],q=n[5],F=n[6],H=n[7],W=n[8],G=n[9],V=n[10],z=n[11],Q=n[12],X=n[13],Y=n[14],J=n[15];r=t[0],o+=r*B,s+=r*U,a+=r*D,l+=r*j,c+=r*K,u+=r*q,h+=r*F,f+=r*H,d+=r*W,p+=r*G,g+=r*V,y+=r*z,v+=r*Q,m+=r*X,w+=r*Y,E+=r*J,r=t[1],s+=r*B,a+=r*U,l+=r*D,c+=r*j,u+=r*K,h+=r*q,f+=r*F,d+=r*H,p+=r*W,g+=r*G,y+=r*V,v+=r*z,m+=r*Q,w+=r*X,E+=r*Y,b+=r*J,r=t[2],a+=r*B,l+=r*U,c+=r*D,u+=r*j,h+=r*K,f+=r*q,d+=r*F,p+=r*H,g+=r*W,y+=r*G,v+=r*V,m+=r*z,w+=r*Q,E+=r*X,b+=r*Y,_+=r*J,r=t[3],l+=r*B,c+=r*U,u+=r*D,h+=r*j,f+=r*K,d+=r*q,p+=r*F,g+=r*H,y+=r*W,v+=r*G,m+=r*V,w+=r*z,E+=r*Q,b+=r*X,_+=r*Y,A+=r*J,r=t[4],c+=r*B,u+=r*U,h+=r*D,f+=r*j,d+=r*K,p+=r*q,g+=r*F,y+=r*H,v+=r*W,m+=r*G,w+=r*V,E+=r*z,b+=r*Q,_+=r*X,A+=r*Y,S+=r*J,r=t[5],u+=r*B,h+=r*U,f+=r*D,d+=r*j,p+=r*K,g+=r*q,y+=r*F,v+=r*H,m+=r*W,w+=r*G,E+=r*V,b+=r*z,_+=r*Q,A+=r*X,S+=r*Y,T+=r*J,r=t[6],h+=r*B,f+=r*U,d+=r*D,p+=r*j,g+=r*K,y+=r*q,v+=r*F,m+=r*H,w+=r*W,E+=r*G,b+=r*V,_+=r*z,A+=r*Q,S+=r*X,T+=r*Y,R+=r*J,r=t[7],f+=r*B,d+=r*U,p+=r*D,g+=r*j,y+=r*K,v+=r*q,m+=r*F,w+=r*H,E+=r*W,b+=r*G,_+=r*V,A+=r*z,S+=r*Q,T+=r*X,R+=r*Y,x+=r*J,r=t[8],d+=r*B,p+=r*U,g+=r*D,y+=r*j,v+=r*K,m+=r*q,w+=r*F,E+=r*H,b+=r*W,_+=r*G,A+=r*V,S+=r*z,T+=r*Q,R+=r*X,x+=r*Y,I+=r*J,r=t[9],p+=r*B,g+=r*U,y+=r*D,v+=r*j,m+=r*K,w+=r*q,E+=r*F,b+=r*H,_+=r*W,A+=r*G,S+=r*V,T+=r*z,R+=r*Q,x+=r*X,I+=r*Y,O+=r*J,r=t[10],g+=r*B,y+=r*U,v+=r*D,m+=r*j,w+=r*K,E+=r*q,b+=r*F,_+=r*H,A+=r*W,S+=r*G,T+=r*V,R+=r*z,x+=r*Q,I+=r*X,O+=r*Y,k+=r*J,r=t[11],y+=r*B,v+=r*U,m+=r*D,w+=r*j,E+=r*K,b+=r*q,_+=r*F,A+=r*H,S+=r*W,T+=r*G,R+=r*V,x+=r*z,I+=r*Q,O+=r*X,k+=r*Y,N+=r*J,r=t[12],v+=r*B,m+=r*U,w+=r*D,E+=r*j,b+=r*K,_+=r*q,A+=r*F,S+=r*H,T+=r*W,R+=r*G,x+=r*V,I+=r*z,O+=r*Q,k+=r*X,N+=r*Y,C+=r*J,r=t[13],m+=r*B,w+=r*U,E+=r*D,b+=r*j,_+=r*K,A+=r*q,S+=r*F,T+=r*H,R+=r*W,x+=r*G,I+=r*V,O+=r*z,k+=r*Q,N+=r*X,C+=r*Y,P+=r*J,r=t[14],w+=r*B,E+=r*U,b+=r*D,_+=r*j,A+=r*K,S+=r*q,T+=r*F,R+=r*H,x+=r*W,I+=r*G,O+=r*V,k+=r*z,N+=r*Q,C+=r*X,P+=r*Y,L+=r*J,r=t[15],E+=r*B,b+=r*U,_+=r*D,A+=r*j,S+=r*K,T+=r*q,R+=r*F,x+=r*H,I+=r*W,O+=r*G,k+=r*V,N+=r*z,C+=r*Q,P+=r*X,L+=r*Y,M+=r*J,o+=38*b,s+=38*_,a+=38*A,l+=38*S,c+=38*T,u+=38*R,h+=38*x,f+=38*I,d+=38*O,p+=38*k,g+=38*N,y+=38*C,v+=38*P,m+=38*L,w+=38*M,i=1,r=o+i+65535,i=Math.floor(r/65536),o=r-65536*i,r=s+i+65535,i=Math.floor(r/65536),s=r-65536*i,r=a+i+65535,i=Math.floor(r/65536),a=r-65536*i,r=l+i+65535,i=Math.floor(r/65536),l=r-65536*i,r=c+i+65535,i=Math.floor(r/65536),c=r-65536*i,r=u+i+65535,i=Math.floor(r/65536),u=r-65536*i,r=h+i+65535,i=Math.floor(r/65536),h=r-65536*i,r=f+i+65535,i=Math.floor(r/65536),f=r-65536*i,r=d+i+65535,i=Math.floor(r/65536),d=r-65536*i,r=p+i+65535,i=Math.floor(r/65536),p=r-65536*i,r=g+i+65535,i=Math.floor(r/65536),g=r-65536*i,r=y+i+65535,i=Math.floor(r/65536),y=r-65536*i,r=v+i+65535,i=Math.floor(r/65536),v=r-65536*i,r=m+i+65535,i=Math.floor(r/65536),m=r-65536*i,r=w+i+65535,i=Math.floor(r/65536),w=r-65536*i,r=E+i+65535,i=Math.floor(r/65536),E=r-65536*i,o+=i-1+37*(i-1),i=1,r=o+i+65535,i=Math.floor(r/65536),o=r-65536*i,r=s+i+65535,i=Math.floor(r/65536),s=r-65536*i,r=a+i+65535,i=Math.floor(r/65536),a=r-65536*i,r=l+i+65535,i=Math.floor(r/65536),l=r-65536*i,r=c+i+65535,i=Math.floor(r/65536),c=r-65536*i,r=u+i+65535,i=Math.floor(r/65536),u=r-65536*i,r=h+i+65535,i=Math.floor(r/65536),h=r-65536*i,r=f+i+65535,i=Math.floor(r/65536),f=r-65536*i,r=d+i+65535,i=Math.floor(r/65536),d=r-65536*i,r=p+i+65535,i=Math.floor(r/65536),p=r-65536*i,r=g+i+65535,i=Math.floor(r/65536),g=r-65536*i,r=y+i+65535,i=Math.floor(r/65536),y=r-65536*i,r=v+i+65535,i=Math.floor(r/65536),v=r-65536*i,r=m+i+65535,i=Math.floor(r/65536),m=r-65536*i,r=w+i+65535,i=Math.floor(r/65536),w=r-65536*i,r=E+i+65535,i=Math.floor(r/65536),E=r-65536*i,o+=i-1+37*(i-1),e[0]=o,e[1]=s,e[2]=a,e[3]=l,e[4]=c,e[5]=u,e[6]=h,e[7]=f,e[8]=d,e[9]=p,e[10]=g,e[11]=y,e[12]=v,e[13]=m,e[14]=w,e[15]=E}function d(e,t){f(e,t,t)}function p(e,t){const n=new Uint8Array(32),r=new Float64Array(80),i=o(),s=o(),p=o(),g=o(),y=o(),v=o();for(let t=0;t<31;t++)n[t]=e[t];n[31]=127&e[31]|64,n[0]&=248,function(e,t){for(let n=0;n<16;n++)e[n]=t[2*n]+(t[2*n+1]<<8);e[15]&=32767}(r,t);for(let e=0;e<16;e++)s[e]=r[e];i[0]=g[0]=1;for(let e=254;e>=0;--e){const t=n[e>>>3]>>>(7&e)&1;c(i,s,t),c(p,g,t),u(y,i,p),h(i,i,p),u(p,s,g),h(s,s,g),d(g,y),d(v,i),f(i,p,i),f(p,s,y),u(y,i,p),h(i,i,p),d(s,i),h(p,g,v),f(i,p,a),u(i,i,g),f(p,p,i),f(i,g,v),f(g,s,r),d(s,y),c(i,s,t),c(p,g,t)}for(let e=0;e<16;e++)r[e+16]=i[e],r[e+32]=p[e],r[e+48]=s[e],r[e+64]=g[e];const m=r.subarray(32),w=r.subarray(16);!function(e,t){const n=o();for(let e=0;e<16;e++)n[e]=t[e];for(let e=253;e>=0;e--)d(n,n),2!==e&&4!==e&&f(n,n,t);for(let t=0;t<16;t++)e[t]=n[t]}(m,m),f(w,w,m);const E=new Uint8Array(32);return function(e,t){const n=o(),r=o();for(let e=0;e<16;e++)r[e]=t[e];l(r),l(r),l(r);for(let e=0;e<2;e++){n[0]=r[0]-65517;for(let e=1;e<15;e++)n[e]=r[e]-65535-(n[e-1]>>16&1),n[e-1]&=65535;n[15]=r[15]-32767-(n[14]>>16&1);const e=n[15]>>16&1;n[14]&=65535,c(r,n,1-e)}for(let t=0;t<16;t++)e[2*t]=255&r[t],e[2*t+1]=r[t]>>8}(E,w),E}function g(e){return p(e,s)}function y(e){if(e.length!==t.SECRET_KEY_LENGTH)throw new Error(`x25519: seed must be ${t.SECRET_KEY_LENGTH} bytes`);const n=new Uint8Array(e);return{publicKey:g(n),secretKey:n}}t.scalarMult=p,t.scalarMultBase=g,t.generateKeyPairFromSeed=y,t.generateKeyPair=function(e){const t=(0,r.randomBytes)(32,e),n=y(t);return(0,i.wipe)(t),n},t.sharedKey=function(e,n,r=!1){if(e.length!==t.PUBLIC_KEY_LENGTH)throw new Error("X25519: incorrect secret key length");if(n.length!==t.PUBLIC_KEY_LENGTH)throw new Error("X25519: incorrect public key length");const i=p(e,n);if(r){let e=0;for(let t=0;t<i.length;t++)e|=i[t];if(0===e)throw new Error("X25519: invalid shared key")}return i}},7025:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(8099),i=n(7318),o=n(7309);function s(e,t,n,r,s){if(void 0===s&&(s=0),0===s){if(24!==t.length)throw new Error("XSalsa20 nonce must be 24 bytes")}else if(32!==t.length)throw new Error("XSalsa20 nonce with counter must be 32 bytes");var a=l(e,t.subarray(0,16),new Uint8Array(32)),c=i.streamXOR(a,t.subarray(16),n,r,s);return o.wipe(a),c}t.streamXOR=s,t.stream=function(e,t,n,r){return void 0===r&&(r=0),o.wipe(n),s(e,t,n,n,r)};var a=20;function l(e,t,n){for(var i,o=1634760805,s=e[3]<<24|e[2]<<16|e[1]<<8|e[0],l=e[7]<<24|e[6]<<16|e[5]<<8|e[4],c=e[11]<<24|e[10]<<16|e[9]<<8|e[8],u=e[15]<<24|e[14]<<16|e[13]<<8|e[12],h=857760878,f=t[3]<<24|t[2]<<16|t[1]<<8|t[0],d=t[7]<<24|t[6]<<16|t[5]<<8|t[4],p=t[11]<<24|t[10]<<16|t[9]<<8|t[8],g=t[15]<<24|t[14]<<16|t[13]<<8|t[12],y=2036477234,v=e[19]<<24|e[18]<<16|e[17]<<8|e[16],m=e[23]<<24|e[22]<<16|e[21]<<8|e[20],w=e[27]<<24|e[26]<<16|e[25]<<8|e[24],E=e[31]<<24|e[30]<<16|e[29]<<8|e[28],b=1797285236,_=0;_<a;_+=2)o^=(i=(m^=(i=(p^=(i=(u^=(i=o+m|0)<<7|i>>>25)+o|0)<<9|i>>>23)+u|0)<<13|i>>>19)+p|0)<<18|i>>>14,h^=(i=(s^=(i=(w^=(i=(g^=(i=h+s|0)<<7|i>>>25)+h|0)<<9|i>>>23)+g|0)<<13|i>>>19)+w|0)<<18|i>>>14,y^=(i=(f^=(i=(l^=(i=(E^=(i=y+f|0)<<7|i>>>25)+y|0)<<9|i>>>23)+E|0)<<13|i>>>19)+l|0)<<18|i>>>14,b^=(i=(v^=(i=(d^=(i=(c^=(i=b+v|0)<<7|i>>>25)+b|0)<<9|i>>>23)+c|0)<<13|i>>>19)+d|0)<<18|i>>>14,o^=(i=(c^=(i=(l^=(i=(s^=(i=o+c|0)<<7|i>>>25)+o|0)<<9|i>>>23)+s|0)<<13|i>>>19)+l|0)<<18|i>>>14,h^=(i=(u^=(i=(d^=(i=(f^=(i=h+u|0)<<7|i>>>25)+h|0)<<9|i>>>23)+f|0)<<13|i>>>19)+d|0)<<18|i>>>14,y^=(i=(g^=(i=(p^=(i=(v^=(i=y+g|0)<<7|i>>>25)+y|0)<<9|i>>>23)+v|0)<<13|i>>>19)+p|0)<<18|i>>>14,b^=(i=(E^=(i=(w^=(i=(m^=(i=b+E|0)<<7|i>>>25)+b|0)<<9|i>>>23)+m|0)<<13|i>>>19)+w|0)<<18|i>>>14;return r.writeUint32LE(o,n,0),r.writeUint32LE(h,n,4),r.writeUint32LE(y,n,8),r.writeUint32LE(b,n,12),r.writeUint32LE(f,n,16),r.writeUint32LE(d,n,20),r.writeUint32LE(p,n,24),r.writeUint32LE(g,n,28),n}t.hsalsa=l},9669:(e,t,n)=>{e.exports=n(1609)},5448:(e,t,n)=>{"use strict";var r=n(4867),i=n(6026),o=n(4372),s=n(5327),a=n(4097),l=n(4109),c=n(7985),u=n(5061),h=n(5655),f=n(5263);e.exports=function(e){return new Promise((function(t,n){var d,p=e.data,g=e.headers,y=e.responseType;function v(){e.cancelToken&&e.cancelToken.unsubscribe(d),e.signal&&e.signal.removeEventListener("abort",d)}r.isFormData(p)&&delete g["Content-Type"];var m=new XMLHttpRequest;if(e.auth){var w=e.auth.username||"",E=e.auth.password?unescape(encodeURIComponent(e.auth.password)):"";g.Authorization="Basic "+btoa(w+":"+E)}var b=a(e.baseURL,e.url);function _(){if(m){var r="getAllResponseHeaders"in m?l(m.getAllResponseHeaders()):null,o={data:y&&"text"!==y&&"json"!==y?m.response:m.responseText,status:m.status,statusText:m.statusText,headers:r,config:e,request:m};i((function(e){t(e),v()}),(function(e){n(e),v()}),o),m=null}}if(m.open(e.method.toUpperCase(),s(b,e.params,e.paramsSerializer),!0),m.timeout=e.timeout,"onloadend"in m?m.onloadend=_:m.onreadystatechange=function(){m&&4===m.readyState&&(0!==m.status||m.responseURL&&0===m.responseURL.indexOf("file:"))&&setTimeout(_)},m.onabort=function(){m&&(n(u("Request aborted",e,"ECONNABORTED",m)),m=null)},m.onerror=function(){n(u("Network Error",e,null,m)),m=null},m.ontimeout=function(){var t=e.timeout?"timeout of "+e.timeout+"ms exceeded":"timeout exceeded",r=e.transitional||h.transitional;e.timeoutErrorMessage&&(t=e.timeoutErrorMessage),n(u(t,e,r.clarifyTimeoutError?"ETIMEDOUT":"ECONNABORTED",m)),m=null},r.isStandardBrowserEnv()){var A=(e.withCredentials||c(b))&&e.xsrfCookieName?o.read(e.xsrfCookieName):void 0;A&&(g[e.xsrfHeaderName]=A)}"setRequestHeader"in m&&r.forEach(g,(function(e,t){void 0===p&&"content-type"===t.toLowerCase()?delete g[t]:m.setRequestHeader(t,e)})),r.isUndefined(e.withCredentials)||(m.withCredentials=!!e.withCredentials),y&&"json"!==y&&(m.responseType=e.responseType),"function"==typeof e.onDownloadProgress&&m.addEventListener("progress",e.onDownloadProgress),"function"==typeof e.onUploadProgress&&m.upload&&m.upload.addEventListener("progress",e.onUploadProgress),(e.cancelToken||e.signal)&&(d=function(e){m&&(n(!e||e&&e.type?new f("canceled"):e),m.abort(),m=null)},e.cancelToken&&e.cancelToken.subscribe(d),e.signal&&(e.signal.aborted?d():e.signal.addEventListener("abort",d))),p||(p=null),m.send(p)}))}},1609:(e,t,n)=>{"use strict";var r=n(4867),i=n(1849),o=n(321),s=n(7185),a=function e(t){var n=new o(t),a=i(o.prototype.request,n);return r.extend(a,o.prototype,n),r.extend(a,n),a.create=function(n){return e(s(t,n))},a}(n(5655));a.Axios=o,a.Cancel=n(5263),a.CancelToken=n(4972),a.isCancel=n(6502),a.VERSION=n(7288).version,a.all=function(e){return Promise.all(e)},a.spread=n(8713),a.isAxiosError=n(6268),e.exports=a,e.exports.default=a},5263:e=>{"use strict";function t(e){this.message=e}t.prototype.toString=function(){return"Cancel"+(this.message?": "+this.message:"")},t.prototype.__CANCEL__=!0,e.exports=t},4972:(e,t,n)=>{"use strict";var r=n(5263);function i(e){if("function"!=typeof e)throw new TypeError("executor must be a function.");var t;this.promise=new Promise((function(e){t=e}));var n=this;this.promise.then((function(e){if(n._listeners){var t,r=n._listeners.length;for(t=0;t<r;t++)n._listeners[t](e);n._listeners=null}})),this.promise.then=function(e){var t,r=new Promise((function(e){n.subscribe(e),t=e})).then(e);return r.cancel=function(){n.unsubscribe(t)},r},e((function(e){n.reason||(n.reason=new r(e),t(n.reason))}))}i.prototype.throwIfRequested=function(){if(this.reason)throw this.reason},i.prototype.subscribe=function(e){this.reason?e(this.reason):this._listeners?this._listeners.push(e):this._listeners=[e]},i.prototype.unsubscribe=function(e){if(this._listeners){var t=this._listeners.indexOf(e);-1!==t&&this._listeners.splice(t,1)}},i.source=function(){var e;return{token:new i((function(t){e=t})),cancel:e}},e.exports=i},6502:e=>{"use strict";e.exports=function(e){return!(!e||!e.__CANCEL__)}},321:(e,t,n)=>{"use strict";var r=n(4867),i=n(5327),o=n(782),s=n(3572),a=n(7185),l=n(4875),c=l.validators;function u(e){this.defaults=e,this.interceptors={request:new o,response:new o}}u.prototype.request=function(e){"string"==typeof e?(e=arguments[1]||{}).url=arguments[0]:e=e||{},(e=a(this.defaults,e)).method?e.method=e.method.toLowerCase():this.defaults.method?e.method=this.defaults.method.toLowerCase():e.method="get";var t=e.transitional;void 0!==t&&l.assertOptions(t,{silentJSONParsing:c.transitional(c.boolean),forcedJSONParsing:c.transitional(c.boolean),clarifyTimeoutError:c.transitional(c.boolean)},!1);var n=[],r=!0;this.interceptors.request.forEach((function(t){"function"==typeof t.runWhen&&!1===t.runWhen(e)||(r=r&&t.synchronous,n.unshift(t.fulfilled,t.rejected))}));var i,o=[];if(this.interceptors.response.forEach((function(e){o.push(e.fulfilled,e.rejected)})),!r){var u=[s,void 0];for(Array.prototype.unshift.apply(u,n),u=u.concat(o),i=Promise.resolve(e);u.length;)i=i.then(u.shift(),u.shift());return i}for(var h=e;n.length;){var f=n.shift(),d=n.shift();try{h=f(h)}catch(e){d(e);break}}try{i=s(h)}catch(e){return Promise.reject(e)}for(;o.length;)i=i.then(o.shift(),o.shift());return i},u.prototype.getUri=function(e){return e=a(this.defaults,e),i(e.url,e.params,e.paramsSerializer).replace(/^\?/,"")},r.forEach(["delete","get","head","options"],(function(e){u.prototype[e]=function(t,n){return this.request(a(n||{},{method:e,url:t,data:(n||{}).data}))}})),r.forEach(["post","put","patch"],(function(e){u.prototype[e]=function(t,n,r){return this.request(a(r||{},{method:e,url:t,data:n}))}})),e.exports=u},782:(e,t,n)=>{"use strict";var r=n(4867);function i(){this.handlers=[]}i.prototype.use=function(e,t,n){return this.handlers.push({fulfilled:e,rejected:t,synchronous:!!n&&n.synchronous,runWhen:n?n.runWhen:null}),this.handlers.length-1},i.prototype.eject=function(e){this.handlers[e]&&(this.handlers[e]=null)},i.prototype.forEach=function(e){r.forEach(this.handlers,(function(t){null!==t&&e(t)}))},e.exports=i},4097:(e,t,n)=>{"use strict";var r=n(1793),i=n(7303);e.exports=function(e,t){return e&&!r(t)?i(e,t):t}},5061:(e,t,n)=>{"use strict";var r=n(481);e.exports=function(e,t,n,i,o){var s=new Error(e);return r(s,t,n,i,o)}},3572:(e,t,n)=>{"use strict";var r=n(4867),i=n(8527),o=n(6502),s=n(5655),a=n(5263);function l(e){if(e.cancelToken&&e.cancelToken.throwIfRequested(),e.signal&&e.signal.aborted)throw new a("canceled")}e.exports=function(e){return l(e),e.headers=e.headers||{},e.data=i.call(e,e.data,e.headers,e.transformRequest),e.headers=r.merge(e.headers.common||{},e.headers[e.method]||{},e.headers),r.forEach(["delete","get","head","post","put","patch","common"],(function(t){delete e.headers[t]})),(e.adapter||s.adapter)(e).then((function(t){return l(e),t.data=i.call(e,t.data,t.headers,e.transformResponse),t}),(function(t){return o(t)||(l(e),t&&t.response&&(t.response.data=i.call(e,t.response.data,t.response.headers,e.transformResponse))),Promise.reject(t)}))}},481:e=>{"use strict";e.exports=function(e,t,n,r,i){return e.config=t,n&&(e.code=n),e.request=r,e.response=i,e.isAxiosError=!0,e.toJSON=function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:this.config,code:this.code,status:this.response&&this.response.status?this.response.status:null}},e}},7185:(e,t,n)=>{"use strict";var r=n(4867);e.exports=function(e,t){t=t||{};var n={};function i(e,t){return r.isPlainObject(e)&&r.isPlainObject(t)?r.merge(e,t):r.isPlainObject(t)?r.merge({},t):r.isArray(t)?t.slice():t}function o(n){return r.isUndefined(t[n])?r.isUndefined(e[n])?void 0:i(void 0,e[n]):i(e[n],t[n])}function s(e){if(!r.isUndefined(t[e]))return i(void 0,t[e])}function a(n){return r.isUndefined(t[n])?r.isUndefined(e[n])?void 0:i(void 0,e[n]):i(void 0,t[n])}function l(n){return n in t?i(e[n],t[n]):n in e?i(void 0,e[n]):void 0}var c={url:s,method:s,data:s,baseURL:a,transformRequest:a,transformResponse:a,paramsSerializer:a,timeout:a,timeoutMessage:a,withCredentials:a,adapter:a,responseType:a,xsrfCookieName:a,xsrfHeaderName:a,onUploadProgress:a,onDownloadProgress:a,decompress:a,maxContentLength:a,maxBodyLength:a,transport:a,httpAgent:a,httpsAgent:a,cancelToken:a,socketPath:a,responseEncoding:a,validateStatus:l};return r.forEach(Object.keys(e).concat(Object.keys(t)),(function(e){var t=c[e]||o,i=t(e);r.isUndefined(i)&&t!==l||(n[e]=i)})),n}},6026:(e,t,n)=>{"use strict";var r=n(5061);e.exports=function(e,t,n){var i=n.config.validateStatus;n.status&&i&&!i(n.status)?t(r("Request failed with status code "+n.status,n.config,null,n.request,n)):e(n)}},8527:(e,t,n)=>{"use strict";var r=n(4867),i=n(5655);e.exports=function(e,t,n){var o=this||i;return r.forEach(n,(function(n){e=n.call(o,e,t)})),e}},5655:(e,t,n)=>{"use strict";var r=n(4155),i=n(4867),o=n(6016),s=n(481),a={"Content-Type":"application/x-www-form-urlencoded"};function l(e,t){!i.isUndefined(e)&&i.isUndefined(e["Content-Type"])&&(e["Content-Type"]=t)}var c,u={transitional:{silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},adapter:(("undefined"!=typeof XMLHttpRequest||void 0!==r&&"[object process]"===Object.prototype.toString.call(r))&&(c=n(5448)),c),transformRequest:[function(e,t){return o(t,"Accept"),o(t,"Content-Type"),i.isFormData(e)||i.isArrayBuffer(e)||i.isBuffer(e)||i.isStream(e)||i.isFile(e)||i.isBlob(e)?e:i.isArrayBufferView(e)?e.buffer:i.isURLSearchParams(e)?(l(t,"application/x-www-form-urlencoded;charset=utf-8"),e.toString()):i.isObject(e)||t&&"application/json"===t["Content-Type"]?(l(t,"application/json"),function(e,t,n){if(i.isString(e))try{return(0,JSON.parse)(e),i.trim(e)}catch(e){if("SyntaxError"!==e.name)throw e}return(0,JSON.stringify)(e)}(e)):e}],transformResponse:[function(e){var t=this.transitional||u.transitional,n=t&&t.silentJSONParsing,r=t&&t.forcedJSONParsing,o=!n&&"json"===this.responseType;if(o||r&&i.isString(e)&&e.length)try{return JSON.parse(e)}catch(e){if(o){if("SyntaxError"===e.name)throw s(e,this,"E_JSON_PARSE");throw e}}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*"}}};i.forEach(["delete","get","head"],(function(e){u.headers[e]={}})),i.forEach(["post","put","patch"],(function(e){u.headers[e]=i.merge(a)})),e.exports=u},7288:e=>{e.exports={version:"0.24.0"}},1849:e=>{"use strict";e.exports=function(e,t){return function(){for(var n=new Array(arguments.length),r=0;r<n.length;r++)n[r]=arguments[r];return e.apply(t,n)}}},5327:(e,t,n)=>{"use strict";var r=n(4867);function i(e){return encodeURIComponent(e).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}e.exports=function(e,t,n){if(!t)return e;var o;if(n)o=n(t);else if(r.isURLSearchParams(t))o=t.toString();else{var s=[];r.forEach(t,(function(e,t){null!=e&&(r.isArray(e)?t+="[]":e=[e],r.forEach(e,(function(e){r.isDate(e)?e=e.toISOString():r.isObject(e)&&(e=JSON.stringify(e)),s.push(i(t)+"="+i(e))})))})),o=s.join("&")}if(o){var a=e.indexOf("#");-1!==a&&(e=e.slice(0,a)),e+=(-1===e.indexOf("?")?"?":"&")+o}return e}},7303:e=>{"use strict";e.exports=function(e,t){return t?e.replace(/\/+$/,"")+"/"+t.replace(/^\/+/,""):e}},4372:(e,t,n)=>{"use strict";var r=n(4867);e.exports=r.isStandardBrowserEnv()?{write:function(e,t,n,i,o,s){var a=[];a.push(e+"="+encodeURIComponent(t)),r.isNumber(n)&&a.push("expires="+new Date(n).toGMTString()),r.isString(i)&&a.push("path="+i),r.isString(o)&&a.push("domain="+o),!0===s&&a.push("secure"),document.cookie=a.join("; ")},read:function(e){var t=document.cookie.match(new RegExp("(^|;\\s*)("+e+")=([^;]*)"));return t?decodeURIComponent(t[3]):null},remove:function(e){this.write(e,"",Date.now()-864e5)}}:{write:function(){},read:function(){return null},remove:function(){}}},1793:e=>{"use strict";e.exports=function(e){return/^([a-z][a-z\d\+\-\.]*:)?\/\//i.test(e)}},6268:e=>{"use strict";e.exports=function(e){return"object"==typeof e&&!0===e.isAxiosError}},7985:(e,t,n)=>{"use strict";var r=n(4867);e.exports=r.isStandardBrowserEnv()?function(){var e,t=/(msie|trident)/i.test(navigator.userAgent),n=document.createElement("a");function i(e){var r=e;return t&&(n.setAttribute("href",r),r=n.href),n.setAttribute("href",r),{href:n.href,protocol:n.protocol?n.protocol.replace(/:$/,""):"",host:n.host,search:n.search?n.search.replace(/^\?/,""):"",hash:n.hash?n.hash.replace(/^#/,""):"",hostname:n.hostname,port:n.port,pathname:"/"===n.pathname.charAt(0)?n.pathname:"/"+n.pathname}}return e=i(window.location.href),function(t){var n=r.isString(t)?i(t):t;return n.protocol===e.protocol&&n.host===e.host}}():function(){return!0}},6016:(e,t,n)=>{"use strict";var r=n(4867);e.exports=function(e,t){r.forEach(e,(function(n,r){r!==t&&r.toUpperCase()===t.toUpperCase()&&(e[t]=n,delete e[r])}))}},4109:(e,t,n)=>{"use strict";var r=n(4867),i=["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"];e.exports=function(e){var t,n,o,s={};return e?(r.forEach(e.split("\n"),(function(e){if(o=e.indexOf(":"),t=r.trim(e.substr(0,o)).toLowerCase(),n=r.trim(e.substr(o+1)),t){if(s[t]&&i.indexOf(t)>=0)return;s[t]="set-cookie"===t?(s[t]?s[t]:[]).concat([n]):s[t]?s[t]+", "+n:n}})),s):s}},8713:e=>{"use strict";e.exports=function(e){return function(t){return e.apply(null,t)}}},4875:(e,t,n)=>{"use strict";var r=n(7288).version,i={};["object","boolean","number","function","string","symbol"].forEach((function(e,t){i[e]=function(n){return typeof n===e||"a"+(t<1?"n ":" ")+e}}));var o={};i.transitional=function(e,t,n){function i(e,t){return"[Axios v"+r+"] Transitional option '"+e+"'"+t+(n?". "+n:"")}return function(n,r,s){if(!1===e)throw new Error(i(r," has been removed"+(t?" in "+t:"")));return t&&!o[r]&&(o[r]=!0,console.warn(i(r," has been deprecated since v"+t+" and will be removed in the near future"))),!e||e(n,r,s)}},e.exports={assertOptions:function(e,t,n){if("object"!=typeof e)throw new TypeError("options must be an object");for(var r=Object.keys(e),i=r.length;i-- >0;){var o=r[i],s=t[o];if(s){var a=e[o],l=void 0===a||s(a,o,e);if(!0!==l)throw new TypeError("option "+o+" must be "+l)}else if(!0!==n)throw Error("Unknown option "+o)}},validators:i}},4867:(e,t,n)=>{"use strict";var r=n(1849),i=Object.prototype.toString;function o(e){return"[object Array]"===i.call(e)}function s(e){return void 0===e}function a(e){return null!==e&&"object"==typeof e}function l(e){if("[object Object]"!==i.call(e))return!1;var t=Object.getPrototypeOf(e);return null===t||t===Object.prototype}function c(e){return"[object Function]"===i.call(e)}function u(e,t){if(null!=e)if("object"!=typeof e&&(e=[e]),o(e))for(var n=0,r=e.length;n<r;n++)t.call(null,e[n],n,e);else for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&t.call(null,e[i],i,e)}e.exports={isArray:o,isArrayBuffer:function(e){return"[object ArrayBuffer]"===i.call(e)},isBuffer:function(e){return null!==e&&!s(e)&&null!==e.constructor&&!s(e.constructor)&&"function"==typeof e.constructor.isBuffer&&e.constructor.isBuffer(e)},isFormData:function(e){return"undefined"!=typeof FormData&&e instanceof FormData},isArrayBufferView:function(e){return"undefined"!=typeof ArrayBuffer&&ArrayBuffer.isView?ArrayBuffer.isView(e):e&&e.buffer&&e.buffer instanceof ArrayBuffer},isString:function(e){return"string"==typeof e},isNumber:function(e){return"number"==typeof e},isObject:a,isPlainObject:l,isUndefined:s,isDate:function(e){return"[object Date]"===i.call(e)},isFile:function(e){return"[object File]"===i.call(e)},isBlob:function(e){return"[object Blob]"===i.call(e)},isFunction:c,isStream:function(e){return a(e)&&c(e.pipe)},isURLSearchParams:function(e){return"undefined"!=typeof URLSearchParams&&e instanceof URLSearchParams},isStandardBrowserEnv:function(){return("undefined"==typeof navigator||"ReactNative"!==navigator.product&&"NativeScript"!==navigator.product&&"NS"!==navigator.product)&&"undefined"!=typeof window&&"undefined"!=typeof document},forEach:u,merge:function e(){var t={};function n(n,r){l(t[r])&&l(n)?t[r]=e(t[r],n):l(n)?t[r]=e({},n):o(n)?t[r]=n.slice():t[r]=n}for(var r=0,i=arguments.length;r<i;r++)u(arguments[r],n);return t},extend:function(e,t,n){return u(t,(function(t,i){e[i]=n&&"function"==typeof t?r(t,n):t})),e},trim:function(e){return e.trim?e.trim():e.replace(/^\s+|\s+$/g,"")},stripBOM:function(e){return 65279===e.charCodeAt(0)&&(e=e.slice(1)),e}}},8162:(e,t,n)=>{"use strict";var r=n(9509).Buffer;e.exports=function(e){if(e.length>=255)throw new TypeError("Alphabet too long");for(var t=new Uint8Array(256),n=0;n<t.length;n++)t[n]=255;for(var i=0;i<e.length;i++){var o=e.charAt(i),s=o.charCodeAt(0);if(255!==t[s])throw new TypeError(o+" is ambiguous");t[s]=i}var a=e.length,l=e.charAt(0),c=Math.log(a)/Math.log(256),u=Math.log(256)/Math.log(a);function h(e){if("string"!=typeof e)throw new TypeError("Expected String");if(0===e.length)return r.alloc(0);for(var n=0,i=0,o=0;e[n]===l;)i++,n++;for(var s=(e.length-n)*c+1>>>0,u=new Uint8Array(s);e[n];){var h=t[e.charCodeAt(n)];if(255===h)return;for(var f=0,d=s-1;(0!==h||f<o)&&-1!==d;d--,f++)h+=a*u[d]>>>0,u[d]=h%256>>>0,h=h/256>>>0;if(0!==h)throw new Error("Non-zero carry");o=f,n++}for(var p=s-o;p!==s&&0===u[p];)p++;var g=r.allocUnsafe(i+(s-p));g.fill(0,0,i);for(var y=i;p!==s;)g[y++]=u[p++];return g}return{encode:function(t){if((Array.isArray(t)||t instanceof Uint8Array)&&(t=r.from(t)),!r.isBuffer(t))throw new TypeError("Expected Buffer");if(0===t.length)return"";for(var n=0,i=0,o=0,s=t.length;o!==s&&0===t[o];)o++,n++;for(var c=(s-o)*u+1>>>0,h=new Uint8Array(c);o!==s;){for(var f=t[o],d=0,p=c-1;(0!==f||d<i)&&-1!==p;p--,d++)f+=256*h[p]>>>0,h[p]=f%a>>>0,f=f/a>>>0;if(0!==f)throw new Error("Non-zero carry");i=d,o++}for(var g=c-i;g!==c&&0===h[g];)g++;for(var y=l.repeat(n);g<c;++g)y+=e.charAt(h[g]);return y},decodeUnsafe:h,decode:function(e){var t=h(e);if(t)return t;throw new Error("Non-base"+a+" character")}}}},9742:(e,t)=>{"use strict";t.byteLength=function(e){var t=l(e),n=t[0],r=t[1];return 3*(n+r)/4-r},t.toByteArray=function(e){var t,n,o=l(e),s=o[0],a=o[1],c=new i(function(e,t,n){return 3*(t+n)/4-n}(0,s,a)),u=0,h=a>0?s-4:s;for(n=0;n<h;n+=4)t=r[e.charCodeAt(n)]<<18|r[e.charCodeAt(n+1)]<<12|r[e.charCodeAt(n+2)]<<6|r[e.charCodeAt(n+3)],c[u++]=t>>16&255,c[u++]=t>>8&255,c[u++]=255&t;return 2===a&&(t=r[e.charCodeAt(n)]<<2|r[e.charCodeAt(n+1)]>>4,c[u++]=255&t),1===a&&(t=r[e.charCodeAt(n)]<<10|r[e.charCodeAt(n+1)]<<4|r[e.charCodeAt(n+2)]>>2,c[u++]=t>>8&255,c[u++]=255&t),c},t.fromByteArray=function(e){for(var t,r=e.length,i=r%3,o=[],s=16383,a=0,l=r-i;a<l;a+=s)o.push(c(e,a,a+s>l?l:a+s));return 1===i?(t=e[r-1],o.push(n[t>>2]+n[t<<4&63]+"==")):2===i&&(t=(e[r-2]<<8)+e[r-1],o.push(n[t>>10]+n[t>>4&63]+n[t<<2&63]+"=")),o.join("")};for(var n=[],r=[],i="undefined"!=typeof Uint8Array?Uint8Array:Array,o="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",s=0,a=o.length;s<a;++s)n[s]=o[s],r[o.charCodeAt(s)]=s;function l(e){var t=e.length;if(t%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var n=e.indexOf("=");return-1===n&&(n=t),[n,n===t?0:4-n%4]}function c(e,t,r){for(var i,o,s=[],a=t;a<r;a+=3)i=(e[a]<<16&16711680)+(e[a+1]<<8&65280)+(255&e[a+2]),s.push(n[(o=i)>>18&63]+n[o>>12&63]+n[o>>6&63]+n[63&o]);return s.join("")}r["-".charCodeAt(0)]=62,r["_".charCodeAt(0)]=63},7191:(e,t,n)=>{var r=n(8162);e.exports=r("123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz")},3310:(e,t,n)=>{"use strict";var r=n(7191),i=n(9509).Buffer;e.exports=function(e){function t(t){var n=t.slice(0,-4),r=t.slice(-4),i=e(n);if(!(r[0]^i[0]|r[1]^i[1]|r[2]^i[2]|r[3]^i[3]))return n}return{encode:function(t){var n=e(t);return r.encode(i.concat([t,n],t.length+4))},decode:function(e){var n=t(r.decode(e));if(!n)throw new Error("Invalid checksum");return n},decodeUnsafe:function(e){var n=r.decodeUnsafe(e);if(n)return t(n)}}}},8334:(e,t,n)=>{"use strict";var r=n(3482),i=n(3310);e.exports=i((function(e){var t=r("sha256").update(e).digest();return r("sha256").update(t).digest()}))},8764:(e,t,n)=>{"use strict";const r=n(9742),i=n(645),o="function"==typeof Symbol&&"function"==typeof Symbol.for?Symbol.for("nodejs.util.inspect.custom"):null;t.Buffer=l,t.SlowBuffer=function(e){return+e!=e&&(e=0),l.alloc(+e)},t.INSPECT_MAX_BYTES=50;const s=2147483647;function a(e){if(e>s)throw new RangeError('The value "'+e+'" is invalid for option "size"');const t=new Uint8Array(e);return Object.setPrototypeOf(t,l.prototype),t}function l(e,t,n){if("number"==typeof e){if("string"==typeof t)throw new TypeError('The "string" argument must be of type string. Received type number');return h(e)}return c(e,t,n)}function c(e,t,n){if("string"==typeof e)return function(e,t){if("string"==typeof t&&""!==t||(t="utf8"),!l.isEncoding(t))throw new TypeError("Unknown encoding: "+t);const n=0|g(e,t);let r=a(n);const i=r.write(e,t);return i!==n&&(r=r.slice(0,i)),r}(e,t);if(ArrayBuffer.isView(e))return function(e){if(X(e,Uint8Array)){const t=new Uint8Array(e);return d(t.buffer,t.byteOffset,t.byteLength)}return f(e)}(e);if(null==e)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof e);if(X(e,ArrayBuffer)||e&&X(e.buffer,ArrayBuffer))return d(e,t,n);if("undefined"!=typeof SharedArrayBuffer&&(X(e,SharedArrayBuffer)||e&&X(e.buffer,SharedArrayBuffer)))return d(e,t,n);if("number"==typeof e)throw new TypeError('The "value" argument must not be of type number. Received type number');const r=e.valueOf&&e.valueOf();if(null!=r&&r!==e)return l.from(r,t,n);const i=function(e){if(l.isBuffer(e)){const t=0|p(e.length),n=a(t);return 0===n.length||e.copy(n,0,0,t),n}return void 0!==e.length?"number"!=typeof e.length||Y(e.length)?a(0):f(e):"Buffer"===e.type&&Array.isArray(e.data)?f(e.data):void 0}(e);if(i)return i;if("undefined"!=typeof Symbol&&null!=Symbol.toPrimitive&&"function"==typeof e[Symbol.toPrimitive])return l.from(e[Symbol.toPrimitive]("string"),t,n);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof e)}function u(e){if("number"!=typeof e)throw new TypeError('"size" argument must be of type number');if(e<0)throw new RangeError('The value "'+e+'" is invalid for option "size"')}function h(e){return u(e),a(e<0?0:0|p(e))}function f(e){const t=e.length<0?0:0|p(e.length),n=a(t);for(let r=0;r<t;r+=1)n[r]=255&e[r];return n}function d(e,t,n){if(t<0||e.byteLength<t)throw new RangeError('"offset" is outside of buffer bounds');if(e.byteLength<t+(n||0))throw new RangeError('"length" is outside of buffer bounds');let r;return r=void 0===t&&void 0===n?new Uint8Array(e):void 0===n?new Uint8Array(e,t):new Uint8Array(e,t,n),Object.setPrototypeOf(r,l.prototype),r}function p(e){if(e>=s)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+s.toString(16)+" bytes");return 0|e}function g(e,t){if(l.isBuffer(e))return e.length;if(ArrayBuffer.isView(e)||X(e,ArrayBuffer))return e.byteLength;if("string"!=typeof e)throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof e);const n=e.length,r=arguments.length>2&&!0===arguments[2];if(!r&&0===n)return 0;let i=!1;for(;;)switch(t){case"ascii":case"latin1":case"binary":return n;case"utf8":case"utf-8":return V(e).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*n;case"hex":return n>>>1;case"base64":return z(e).length;default:if(i)return r?-1:V(e).length;t=(""+t).toLowerCase(),i=!0}}function y(e,t,n){let r=!1;if((void 0===t||t<0)&&(t=0),t>this.length)return"";if((void 0===n||n>this.length)&&(n=this.length),n<=0)return"";if((n>>>=0)<=(t>>>=0))return"";for(e||(e="utf8");;)switch(e){case"hex":return k(this,t,n);case"utf8":case"utf-8":return R(this,t,n);case"ascii":return I(this,t,n);case"latin1":case"binary":return O(this,t,n);case"base64":return T(this,t,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return N(this,t,n);default:if(r)throw new TypeError("Unknown encoding: "+e);e=(e+"").toLowerCase(),r=!0}}function v(e,t,n){const r=e[t];e[t]=e[n],e[n]=r}function m(e,t,n,r,i){if(0===e.length)return-1;if("string"==typeof n?(r=n,n=0):n>2147483647?n=2147483647:n<-2147483648&&(n=-2147483648),Y(n=+n)&&(n=i?0:e.length-1),n<0&&(n=e.length+n),n>=e.length){if(i)return-1;n=e.length-1}else if(n<0){if(!i)return-1;n=0}if("string"==typeof t&&(t=l.from(t,r)),l.isBuffer(t))return 0===t.length?-1:w(e,t,n,r,i);if("number"==typeof t)return t&=255,"function"==typeof Uint8Array.prototype.indexOf?i?Uint8Array.prototype.indexOf.call(e,t,n):Uint8Array.prototype.lastIndexOf.call(e,t,n):w(e,[t],n,r,i);throw new TypeError("val must be string, number or Buffer")}function w(e,t,n,r,i){let o,s=1,a=e.length,l=t.length;if(void 0!==r&&("ucs2"===(r=String(r).toLowerCase())||"ucs-2"===r||"utf16le"===r||"utf-16le"===r)){if(e.length<2||t.length<2)return-1;s=2,a/=2,l/=2,n/=2}function c(e,t){return 1===s?e[t]:e.readUInt16BE(t*s)}if(i){let r=-1;for(o=n;o<a;o++)if(c(e,o)===c(t,-1===r?0:o-r)){if(-1===r&&(r=o),o-r+1===l)return r*s}else-1!==r&&(o-=o-r),r=-1}else for(n+l>a&&(n=a-l),o=n;o>=0;o--){let n=!0;for(let r=0;r<l;r++)if(c(e,o+r)!==c(t,r)){n=!1;break}if(n)return o}return-1}function E(e,t,n,r){n=Number(n)||0;const i=e.length-n;r?(r=Number(r))>i&&(r=i):r=i;const o=t.length;let s;for(r>o/2&&(r=o/2),s=0;s<r;++s){const r=parseInt(t.substr(2*s,2),16);if(Y(r))return s;e[n+s]=r}return s}function b(e,t,n,r){return Q(V(t,e.length-n),e,n,r)}function _(e,t,n,r){return Q(function(e){const t=[];for(let n=0;n<e.length;++n)t.push(255&e.charCodeAt(n));return t}(t),e,n,r)}function A(e,t,n,r){return Q(z(t),e,n,r)}function S(e,t,n,r){return Q(function(e,t){let n,r,i;const o=[];for(let s=0;s<e.length&&!((t-=2)<0);++s)n=e.charCodeAt(s),r=n>>8,i=n%256,o.push(i),o.push(r);return o}(t,e.length-n),e,n,r)}function T(e,t,n){return 0===t&&n===e.length?r.fromByteArray(e):r.fromByteArray(e.slice(t,n))}function R(e,t,n){n=Math.min(e.length,n);const r=[];let i=t;for(;i<n;){const t=e[i];let o=null,s=t>239?4:t>223?3:t>191?2:1;if(i+s<=n){let n,r,a,l;switch(s){case 1:t<128&&(o=t);break;case 2:n=e[i+1],128==(192&n)&&(l=(31&t)<<6|63&n,l>127&&(o=l));break;case 3:n=e[i+1],r=e[i+2],128==(192&n)&&128==(192&r)&&(l=(15&t)<<12|(63&n)<<6|63&r,l>2047&&(l<55296||l>57343)&&(o=l));break;case 4:n=e[i+1],r=e[i+2],a=e[i+3],128==(192&n)&&128==(192&r)&&128==(192&a)&&(l=(15&t)<<18|(63&n)<<12|(63&r)<<6|63&a,l>65535&&l<1114112&&(o=l))}}null===o?(o=65533,s=1):o>65535&&(o-=65536,r.push(o>>>10&1023|55296),o=56320|1023&o),r.push(o),i+=s}return function(e){const t=e.length;if(t<=x)return String.fromCharCode.apply(String,e);let n="",r=0;for(;r<t;)n+=String.fromCharCode.apply(String,e.slice(r,r+=x));return n}(r)}t.kMaxLength=s,l.TYPED_ARRAY_SUPPORT=function(){try{const e=new Uint8Array(1),t={foo:function(){return 42}};return Object.setPrototypeOf(t,Uint8Array.prototype),Object.setPrototypeOf(e,t),42===e.foo()}catch(e){return!1}}(),l.TYPED_ARRAY_SUPPORT||"undefined"==typeof console||"function"!=typeof console.error||console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support."),Object.defineProperty(l.prototype,"parent",{enumerable:!0,get:function(){if(l.isBuffer(this))return this.buffer}}),Object.defineProperty(l.prototype,"offset",{enumerable:!0,get:function(){if(l.isBuffer(this))return this.byteOffset}}),l.poolSize=8192,l.from=function(e,t,n){return c(e,t,n)},Object.setPrototypeOf(l.prototype,Uint8Array.prototype),Object.setPrototypeOf(l,Uint8Array),l.alloc=function(e,t,n){return function(e,t,n){return u(e),e<=0?a(e):void 0!==t?"string"==typeof n?a(e).fill(t,n):a(e).fill(t):a(e)}(e,t,n)},l.allocUnsafe=function(e){return h(e)},l.allocUnsafeSlow=function(e){return h(e)},l.isBuffer=function(e){return null!=e&&!0===e._isBuffer&&e!==l.prototype},l.compare=function(e,t){if(X(e,Uint8Array)&&(e=l.from(e,e.offset,e.byteLength)),X(t,Uint8Array)&&(t=l.from(t,t.offset,t.byteLength)),!l.isBuffer(e)||!l.isBuffer(t))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(e===t)return 0;let n=e.length,r=t.length;for(let i=0,o=Math.min(n,r);i<o;++i)if(e[i]!==t[i]){n=e[i],r=t[i];break}return n<r?-1:r<n?1:0},l.isEncoding=function(e){switch(String(e).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},l.concat=function(e,t){if(!Array.isArray(e))throw new TypeError('"list" argument must be an Array of Buffers');if(0===e.length)return l.alloc(0);let n;if(void 0===t)for(t=0,n=0;n<e.length;++n)t+=e[n].length;const r=l.allocUnsafe(t);let i=0;for(n=0;n<e.length;++n){let t=e[n];if(X(t,Uint8Array))i+t.length>r.length?(l.isBuffer(t)||(t=l.from(t)),t.copy(r,i)):Uint8Array.prototype.set.call(r,t,i);else{if(!l.isBuffer(t))throw new TypeError('"list" argument must be an Array of Buffers');t.copy(r,i)}i+=t.length}return r},l.byteLength=g,l.prototype._isBuffer=!0,l.prototype.swap16=function(){const e=this.length;if(e%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(let t=0;t<e;t+=2)v(this,t,t+1);return this},l.prototype.swap32=function(){const e=this.length;if(e%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(let t=0;t<e;t+=4)v(this,t,t+3),v(this,t+1,t+2);return this},l.prototype.swap64=function(){const e=this.length;if(e%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(let t=0;t<e;t+=8)v(this,t,t+7),v(this,t+1,t+6),v(this,t+2,t+5),v(this,t+3,t+4);return this},l.prototype.toString=function(){const e=this.length;return 0===e?"":0===arguments.length?R(this,0,e):y.apply(this,arguments)},l.prototype.toLocaleString=l.prototype.toString,l.prototype.equals=function(e){if(!l.isBuffer(e))throw new TypeError("Argument must be a Buffer");return this===e||0===l.compare(this,e)},l.prototype.inspect=function(){let e="";const n=t.INSPECT_MAX_BYTES;return e=this.toString("hex",0,n).replace(/(.{2})/g,"$1 ").trim(),this.length>n&&(e+=" ... "),"<Buffer "+e+">"},o&&(l.prototype[o]=l.prototype.inspect),l.prototype.compare=function(e,t,n,r,i){if(X(e,Uint8Array)&&(e=l.from(e,e.offset,e.byteLength)),!l.isBuffer(e))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof e);if(void 0===t&&(t=0),void 0===n&&(n=e?e.length:0),void 0===r&&(r=0),void 0===i&&(i=this.length),t<0||n>e.length||r<0||i>this.length)throw new RangeError("out of range index");if(r>=i&&t>=n)return 0;if(r>=i)return-1;if(t>=n)return 1;if(this===e)return 0;let o=(i>>>=0)-(r>>>=0),s=(n>>>=0)-(t>>>=0);const a=Math.min(o,s),c=this.slice(r,i),u=e.slice(t,n);for(let e=0;e<a;++e)if(c[e]!==u[e]){o=c[e],s=u[e];break}return o<s?-1:s<o?1:0},l.prototype.includes=function(e,t,n){return-1!==this.indexOf(e,t,n)},l.prototype.indexOf=function(e,t,n){return m(this,e,t,n,!0)},l.prototype.lastIndexOf=function(e,t,n){return m(this,e,t,n,!1)},l.prototype.write=function(e,t,n,r){if(void 0===t)r="utf8",n=this.length,t=0;else if(void 0===n&&"string"==typeof t)r=t,n=this.length,t=0;else{if(!isFinite(t))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");t>>>=0,isFinite(n)?(n>>>=0,void 0===r&&(r="utf8")):(r=n,n=void 0)}const i=this.length-t;if((void 0===n||n>i)&&(n=i),e.length>0&&(n<0||t<0)||t>this.length)throw new RangeError("Attempt to write outside buffer bounds");r||(r="utf8");let o=!1;for(;;)switch(r){case"hex":return E(this,e,t,n);case"utf8":case"utf-8":return b(this,e,t,n);case"ascii":case"latin1":case"binary":return _(this,e,t,n);case"base64":return A(this,e,t,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return S(this,e,t,n);default:if(o)throw new TypeError("Unknown encoding: "+r);r=(""+r).toLowerCase(),o=!0}},l.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};const x=4096;function I(e,t,n){let r="";n=Math.min(e.length,n);for(let i=t;i<n;++i)r+=String.fromCharCode(127&e[i]);return r}function O(e,t,n){let r="";n=Math.min(e.length,n);for(let i=t;i<n;++i)r+=String.fromCharCode(e[i]);return r}function k(e,t,n){const r=e.length;(!t||t<0)&&(t=0),(!n||n<0||n>r)&&(n=r);let i="";for(let r=t;r<n;++r)i+=J[e[r]];return i}function N(e,t,n){const r=e.slice(t,n);let i="";for(let e=0;e<r.length-1;e+=2)i+=String.fromCharCode(r[e]+256*r[e+1]);return i}function C(e,t,n){if(e%1!=0||e<0)throw new RangeError("offset is not uint");if(e+t>n)throw new RangeError("Trying to access beyond buffer length")}function P(e,t,n,r,i,o){if(!l.isBuffer(e))throw new TypeError('"buffer" argument must be a Buffer instance');if(t>i||t<o)throw new RangeError('"value" argument is out of bounds');if(n+r>e.length)throw new RangeError("Index out of range")}function L(e,t,n,r,i){F(t,r,i,e,n,7);let o=Number(t&BigInt(4294967295));e[n++]=o,o>>=8,e[n++]=o,o>>=8,e[n++]=o,o>>=8,e[n++]=o;let s=Number(t>>BigInt(32)&BigInt(4294967295));return e[n++]=s,s>>=8,e[n++]=s,s>>=8,e[n++]=s,s>>=8,e[n++]=s,n}function M(e,t,n,r,i){F(t,r,i,e,n,7);let o=Number(t&BigInt(4294967295));e[n+7]=o,o>>=8,e[n+6]=o,o>>=8,e[n+5]=o,o>>=8,e[n+4]=o;let s=Number(t>>BigInt(32)&BigInt(4294967295));return e[n+3]=s,s>>=8,e[n+2]=s,s>>=8,e[n+1]=s,s>>=8,e[n]=s,n+8}function B(e,t,n,r,i,o){if(n+r>e.length)throw new RangeError("Index out of range");if(n<0)throw new RangeError("Index out of range")}function U(e,t,n,r,o){return t=+t,n>>>=0,o||B(e,0,n,4),i.write(e,t,n,r,23,4),n+4}function D(e,t,n,r,o){return t=+t,n>>>=0,o||B(e,0,n,8),i.write(e,t,n,r,52,8),n+8}l.prototype.slice=function(e,t){const n=this.length;(e=~~e)<0?(e+=n)<0&&(e=0):e>n&&(e=n),(t=void 0===t?n:~~t)<0?(t+=n)<0&&(t=0):t>n&&(t=n),t<e&&(t=e);const r=this.subarray(e,t);return Object.setPrototypeOf(r,l.prototype),r},l.prototype.readUintLE=l.prototype.readUIntLE=function(e,t,n){e>>>=0,t>>>=0,n||C(e,t,this.length);let r=this[e],i=1,o=0;for(;++o<t&&(i*=256);)r+=this[e+o]*i;return r},l.prototype.readUintBE=l.prototype.readUIntBE=function(e,t,n){e>>>=0,t>>>=0,n||C(e,t,this.length);let r=this[e+--t],i=1;for(;t>0&&(i*=256);)r+=this[e+--t]*i;return r},l.prototype.readUint8=l.prototype.readUInt8=function(e,t){return e>>>=0,t||C(e,1,this.length),this[e]},l.prototype.readUint16LE=l.prototype.readUInt16LE=function(e,t){return e>>>=0,t||C(e,2,this.length),this[e]|this[e+1]<<8},l.prototype.readUint16BE=l.prototype.readUInt16BE=function(e,t){return e>>>=0,t||C(e,2,this.length),this[e]<<8|this[e+1]},l.prototype.readUint32LE=l.prototype.readUInt32LE=function(e,t){return e>>>=0,t||C(e,4,this.length),(this[e]|this[e+1]<<8|this[e+2]<<16)+16777216*this[e+3]},l.prototype.readUint32BE=l.prototype.readUInt32BE=function(e,t){return e>>>=0,t||C(e,4,this.length),16777216*this[e]+(this[e+1]<<16|this[e+2]<<8|this[e+3])},l.prototype.readBigUInt64LE=Z((function(e){H(e>>>=0,"offset");const t=this[e],n=this[e+7];void 0!==t&&void 0!==n||W(e,this.length-8);const r=t+256*this[++e]+65536*this[++e]+this[++e]*2**24,i=this[++e]+256*this[++e]+65536*this[++e]+n*2**24;return BigInt(r)+(BigInt(i)<<BigInt(32))})),l.prototype.readBigUInt64BE=Z((function(e){H(e>>>=0,"offset");const t=this[e],n=this[e+7];void 0!==t&&void 0!==n||W(e,this.length-8);const r=t*2**24+65536*this[++e]+256*this[++e]+this[++e],i=this[++e]*2**24+65536*this[++e]+256*this[++e]+n;return(BigInt(r)<<BigInt(32))+BigInt(i)})),l.prototype.readIntLE=function(e,t,n){e>>>=0,t>>>=0,n||C(e,t,this.length);let r=this[e],i=1,o=0;for(;++o<t&&(i*=256);)r+=this[e+o]*i;return i*=128,r>=i&&(r-=Math.pow(2,8*t)),r},l.prototype.readIntBE=function(e,t,n){e>>>=0,t>>>=0,n||C(e,t,this.length);let r=t,i=1,o=this[e+--r];for(;r>0&&(i*=256);)o+=this[e+--r]*i;return i*=128,o>=i&&(o-=Math.pow(2,8*t)),o},l.prototype.readInt8=function(e,t){return e>>>=0,t||C(e,1,this.length),128&this[e]?-1*(255-this[e]+1):this[e]},l.prototype.readInt16LE=function(e,t){e>>>=0,t||C(e,2,this.length);const n=this[e]|this[e+1]<<8;return 32768&n?4294901760|n:n},l.prototype.readInt16BE=function(e,t){e>>>=0,t||C(e,2,this.length);const n=this[e+1]|this[e]<<8;return 32768&n?4294901760|n:n},l.prototype.readInt32LE=function(e,t){return e>>>=0,t||C(e,4,this.length),this[e]|this[e+1]<<8|this[e+2]<<16|this[e+3]<<24},l.prototype.readInt32BE=function(e,t){return e>>>=0,t||C(e,4,this.length),this[e]<<24|this[e+1]<<16|this[e+2]<<8|this[e+3]},l.prototype.readBigInt64LE=Z((function(e){H(e>>>=0,"offset");const t=this[e],n=this[e+7];void 0!==t&&void 0!==n||W(e,this.length-8);const r=this[e+4]+256*this[e+5]+65536*this[e+6]+(n<<24);return(BigInt(r)<<BigInt(32))+BigInt(t+256*this[++e]+65536*this[++e]+this[++e]*2**24)})),l.prototype.readBigInt64BE=Z((function(e){H(e>>>=0,"offset");const t=this[e],n=this[e+7];void 0!==t&&void 0!==n||W(e,this.length-8);const r=(t<<24)+65536*this[++e]+256*this[++e]+this[++e];return(BigInt(r)<<BigInt(32))+BigInt(this[++e]*2**24+65536*this[++e]+256*this[++e]+n)})),l.prototype.readFloatLE=function(e,t){return e>>>=0,t||C(e,4,this.length),i.read(this,e,!0,23,4)},l.prototype.readFloatBE=function(e,t){return e>>>=0,t||C(e,4,this.length),i.read(this,e,!1,23,4)},l.prototype.readDoubleLE=function(e,t){return e>>>=0,t||C(e,8,this.length),i.read(this,e,!0,52,8)},l.prototype.readDoubleBE=function(e,t){return e>>>=0,t||C(e,8,this.length),i.read(this,e,!1,52,8)},l.prototype.writeUintLE=l.prototype.writeUIntLE=function(e,t,n,r){e=+e,t>>>=0,n>>>=0,r||P(this,e,t,n,Math.pow(2,8*n)-1,0);let i=1,o=0;for(this[t]=255&e;++o<n&&(i*=256);)this[t+o]=e/i&255;return t+n},l.prototype.writeUintBE=l.prototype.writeUIntBE=function(e,t,n,r){e=+e,t>>>=0,n>>>=0,r||P(this,e,t,n,Math.pow(2,8*n)-1,0);let i=n-1,o=1;for(this[t+i]=255&e;--i>=0&&(o*=256);)this[t+i]=e/o&255;return t+n},l.prototype.writeUint8=l.prototype.writeUInt8=function(e,t,n){return e=+e,t>>>=0,n||P(this,e,t,1,255,0),this[t]=255&e,t+1},l.prototype.writeUint16LE=l.prototype.writeUInt16LE=function(e,t,n){return e=+e,t>>>=0,n||P(this,e,t,2,65535,0),this[t]=255&e,this[t+1]=e>>>8,t+2},l.prototype.writeUint16BE=l.prototype.writeUInt16BE=function(e,t,n){return e=+e,t>>>=0,n||P(this,e,t,2,65535,0),this[t]=e>>>8,this[t+1]=255&e,t+2},l.prototype.writeUint32LE=l.prototype.writeUInt32LE=function(e,t,n){return e=+e,t>>>=0,n||P(this,e,t,4,4294967295,0),this[t+3]=e>>>24,this[t+2]=e>>>16,this[t+1]=e>>>8,this[t]=255&e,t+4},l.prototype.writeUint32BE=l.prototype.writeUInt32BE=function(e,t,n){return e=+e,t>>>=0,n||P(this,e,t,4,4294967295,0),this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e,t+4},l.prototype.writeBigUInt64LE=Z((function(e,t=0){return L(this,e,t,BigInt(0),BigInt("0xffffffffffffffff"))})),l.prototype.writeBigUInt64BE=Z((function(e,t=0){return M(this,e,t,BigInt(0),BigInt("0xffffffffffffffff"))})),l.prototype.writeIntLE=function(e,t,n,r){if(e=+e,t>>>=0,!r){const r=Math.pow(2,8*n-1);P(this,e,t,n,r-1,-r)}let i=0,o=1,s=0;for(this[t]=255&e;++i<n&&(o*=256);)e<0&&0===s&&0!==this[t+i-1]&&(s=1),this[t+i]=(e/o>>0)-s&255;return t+n},l.prototype.writeIntBE=function(e,t,n,r){if(e=+e,t>>>=0,!r){const r=Math.pow(2,8*n-1);P(this,e,t,n,r-1,-r)}let i=n-1,o=1,s=0;for(this[t+i]=255&e;--i>=0&&(o*=256);)e<0&&0===s&&0!==this[t+i+1]&&(s=1),this[t+i]=(e/o>>0)-s&255;return t+n},l.prototype.writeInt8=function(e,t,n){return e=+e,t>>>=0,n||P(this,e,t,1,127,-128),e<0&&(e=255+e+1),this[t]=255&e,t+1},l.prototype.writeInt16LE=function(e,t,n){return e=+e,t>>>=0,n||P(this,e,t,2,32767,-32768),this[t]=255&e,this[t+1]=e>>>8,t+2},l.prototype.writeInt16BE=function(e,t,n){return e=+e,t>>>=0,n||P(this,e,t,2,32767,-32768),this[t]=e>>>8,this[t+1]=255&e,t+2},l.prototype.writeInt32LE=function(e,t,n){return e=+e,t>>>=0,n||P(this,e,t,4,2147483647,-2147483648),this[t]=255&e,this[t+1]=e>>>8,this[t+2]=e>>>16,this[t+3]=e>>>24,t+4},l.prototype.writeInt32BE=function(e,t,n){return e=+e,t>>>=0,n||P(this,e,t,4,2147483647,-2147483648),e<0&&(e=4294967295+e+1),this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e,t+4},l.prototype.writeBigInt64LE=Z((function(e,t=0){return L(this,e,t,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))})),l.prototype.writeBigInt64BE=Z((function(e,t=0){return M(this,e,t,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))})),l.prototype.writeFloatLE=function(e,t,n){return U(this,e,t,!0,n)},l.prototype.writeFloatBE=function(e,t,n){return U(this,e,t,!1,n)},l.prototype.writeDoubleLE=function(e,t,n){return D(this,e,t,!0,n)},l.prototype.writeDoubleBE=function(e,t,n){return D(this,e,t,!1,n)},l.prototype.copy=function(e,t,n,r){if(!l.isBuffer(e))throw new TypeError("argument should be a Buffer");if(n||(n=0),r||0===r||(r=this.length),t>=e.length&&(t=e.length),t||(t=0),r>0&&r<n&&(r=n),r===n)return 0;if(0===e.length||0===this.length)return 0;if(t<0)throw new RangeError("targetStart out of bounds");if(n<0||n>=this.length)throw new RangeError("Index out of range");if(r<0)throw new RangeError("sourceEnd out of bounds");r>this.length&&(r=this.length),e.length-t<r-n&&(r=e.length-t+n);const i=r-n;return this===e&&"function"==typeof Uint8Array.prototype.copyWithin?this.copyWithin(t,n,r):Uint8Array.prototype.set.call(e,this.subarray(n,r),t),i},l.prototype.fill=function(e,t,n,r){if("string"==typeof e){if("string"==typeof t?(r=t,t=0,n=this.length):"string"==typeof n&&(r=n,n=this.length),void 0!==r&&"string"!=typeof r)throw new TypeError("encoding must be a string");if("string"==typeof r&&!l.isEncoding(r))throw new TypeError("Unknown encoding: "+r);if(1===e.length){const t=e.charCodeAt(0);("utf8"===r&&t<128||"latin1"===r)&&(e=t)}}else"number"==typeof e?e&=255:"boolean"==typeof e&&(e=Number(e));if(t<0||this.length<t||this.length<n)throw new RangeError("Out of range index");if(n<=t)return this;let i;if(t>>>=0,n=void 0===n?this.length:n>>>0,e||(e=0),"number"==typeof e)for(i=t;i<n;++i)this[i]=e;else{const o=l.isBuffer(e)?e:l.from(e,r),s=o.length;if(0===s)throw new TypeError('The value "'+e+'" is invalid for argument "value"');for(i=0;i<n-t;++i)this[i+t]=o[i%s]}return this};const j={};function K(e,t,n){j[e]=class extends n{constructor(){super(),Object.defineProperty(this,"message",{value:t.apply(this,arguments),writable:!0,configurable:!0}),this.name=`${this.name} [${e}]`,this.stack,delete this.name}get code(){return e}set code(e){Object.defineProperty(this,"code",{configurable:!0,enumerable:!0,value:e,writable:!0})}toString(){return`${this.name} [${e}]: ${this.message}`}}}function q(e){let t="",n=e.length;const r="-"===e[0]?1:0;for(;n>=r+4;n-=3)t=`_${e.slice(n-3,n)}${t}`;return`${e.slice(0,n)}${t}`}function F(e,t,n,r,i,o){if(e>n||e<t){const r="bigint"==typeof t?"n":"";let i;throw i=o>3?0===t||t===BigInt(0)?`>= 0${r} and < 2${r} ** ${8*(o+1)}${r}`:`>= -(2${r} ** ${8*(o+1)-1}${r}) and < 2 ** ${8*(o+1)-1}${r}`:`>= ${t}${r} and <= ${n}${r}`,new j.ERR_OUT_OF_RANGE("value",i,e)}!function(e,t,n){H(t,"offset"),void 0!==e[t]&&void 0!==e[t+n]||W(t,e.length-(n+1))}(r,i,o)}function H(e,t){if("number"!=typeof e)throw new j.ERR_INVALID_ARG_TYPE(t,"number",e)}function W(e,t,n){if(Math.floor(e)!==e)throw H(e,n),new j.ERR_OUT_OF_RANGE(n||"offset","an integer",e);if(t<0)throw new j.ERR_BUFFER_OUT_OF_BOUNDS;throw new j.ERR_OUT_OF_RANGE(n||"offset",`>= ${n?1:0} and <= ${t}`,e)}K("ERR_BUFFER_OUT_OF_BOUNDS",(function(e){return e?`${e} is outside of buffer bounds`:"Attempt to access memory outside buffer bounds"}),RangeError),K("ERR_INVALID_ARG_TYPE",(function(e,t){return`The "${e}" argument must be of type number. Received type ${typeof t}`}),TypeError),K("ERR_OUT_OF_RANGE",(function(e,t,n){let r=`The value of "${e}" is out of range.`,i=n;return Number.isInteger(n)&&Math.abs(n)>2**32?i=q(String(n)):"bigint"==typeof n&&(i=String(n),(n>BigInt(2)**BigInt(32)||n<-(BigInt(2)**BigInt(32)))&&(i=q(i)),i+="n"),r+=` It must be ${t}. Received ${i}`,r}),RangeError);const G=/[^+/0-9A-Za-z-_]/g;function V(e,t){let n;t=t||1/0;const r=e.length;let i=null;const o=[];for(let s=0;s<r;++s){if(n=e.charCodeAt(s),n>55295&&n<57344){if(!i){if(n>56319){(t-=3)>-1&&o.push(239,191,189);continue}if(s+1===r){(t-=3)>-1&&o.push(239,191,189);continue}i=n;continue}if(n<56320){(t-=3)>-1&&o.push(239,191,189),i=n;continue}n=65536+(i-55296<<10|n-56320)}else i&&(t-=3)>-1&&o.push(239,191,189);if(i=null,n<128){if((t-=1)<0)break;o.push(n)}else if(n<2048){if((t-=2)<0)break;o.push(n>>6|192,63&n|128)}else if(n<65536){if((t-=3)<0)break;o.push(n>>12|224,n>>6&63|128,63&n|128)}else{if(!(n<1114112))throw new Error("Invalid code point");if((t-=4)<0)break;o.push(n>>18|240,n>>12&63|128,n>>6&63|128,63&n|128)}}return o}function z(e){return r.toByteArray(function(e){if((e=(e=e.split("=")[0]).trim().replace(G,"")).length<2)return"";for(;e.length%4!=0;)e+="=";return e}(e))}function Q(e,t,n,r){let i;for(i=0;i<r&&!(i+n>=t.length||i>=e.length);++i)t[i+n]=e[i];return i}function X(e,t){return e instanceof t||null!=e&&null!=e.constructor&&null!=e.constructor.name&&e.constructor.name===t.name}function Y(e){return e!=e}const J=function(){const e="0123456789abcdef",t=new Array(256);for(let n=0;n<16;++n){const r=16*n;for(let i=0;i<16;++i)t[r+i]=e[n]+e[i]}return t}();function Z(e){return"undefined"==typeof BigInt?$:e}function $(){throw new Error("BigInt not supported")}},1027:(e,t,n)=>{var r=n(9509).Buffer,i=n(2830).Transform,o=n(2553).s;function s(e){i.call(this),this.hashMode="string"==typeof e,this.hashMode?this[e]=this._finalOrDigest:this.final=this._finalOrDigest,this._final&&(this.__final=this._final,this._final=null),this._decoder=null,this._encoding=null}n(5717)(s,i),s.prototype.update=function(e,t,n){"string"==typeof e&&(e=r.from(e,t));var i=this._update(e);return this.hashMode?this:(n&&(i=this._toString(i,n)),i)},s.prototype.setAutoPadding=function(){},s.prototype.getAuthTag=function(){throw new Error("trying to get auth tag in unsupported state")},s.prototype.setAuthTag=function(){throw new Error("trying to set auth tag in unsupported state")},s.prototype.setAAD=function(){throw new Error("trying to set aad in unsupported state")},s.prototype._transform=function(e,t,n){var r;try{this.hashMode?this._update(e):this.push(this._update(e))}catch(e){r=e}finally{n(r)}},s.prototype._flush=function(e){var t;try{this.push(this.__final())}catch(e){t=e}e(t)},s.prototype._finalOrDigest=function(e){var t=this.__final()||r.alloc(0);return e&&(t=this._toString(t,e,!0)),t},s.prototype._toString=function(e,t,n){if(this._decoder||(this._decoder=new o(t),this._encoding=t),this._encoding!==t)throw new Error("can't switch encodings");var r=this._decoder.write(e);return n&&(r+=this._decoder.end()),r},e.exports=s},3482:(e,t,n)=>{"use strict";var r=n(5717),i=n(2318),o=n(9785),s=n(9072),a=n(1027);function l(e){a.call(this,"digest"),this._hash=e}r(l,a),l.prototype._update=function(e){this._hash.update(e)},l.prototype._final=function(){return this._hash.digest()},e.exports=function(e){return"md5"===(e=e.toLowerCase())?new i:"rmd160"===e||"ripemd160"===e?new o:new l(s(e))}},4098:function(e,t){var n="undefined"!=typeof self?self:this,r=function(){function e(){this.fetch=!1,this.DOMException=n.DOMException}return e.prototype=n,new e}();!function(e){!function(t){var n={searchParams:"URLSearchParams"in e,iterable:"Symbol"in e&&"iterator"in Symbol,blob:"FileReader"in e&&"Blob"in e&&function(){try{return new Blob,!0}catch(e){return!1}}(),formData:"FormData"in e,arrayBuffer:"ArrayBuffer"in e};if(n.arrayBuffer)var r=["[object Int8Array]","[object Uint8Array]","[object Uint8ClampedArray]","[object Int16Array]","[object Uint16Array]","[object Int32Array]","[object Uint32Array]","[object Float32Array]","[object Float64Array]"],i=ArrayBuffer.isView||function(e){return e&&r.indexOf(Object.prototype.toString.call(e))>-1};function o(e){if("string"!=typeof e&&(e=String(e)),/[^a-z0-9\-#$%&'*+.^_`|~]/i.test(e))throw new TypeError("Invalid character in header field name");return e.toLowerCase()}function s(e){return"string"!=typeof e&&(e=String(e)),e}function a(e){var t={next:function(){var t=e.shift();return{done:void 0===t,value:t}}};return n.iterable&&(t[Symbol.iterator]=function(){return t}),t}function l(e){this.map={},e instanceof l?e.forEach((function(e,t){this.append(t,e)}),this):Array.isArray(e)?e.forEach((function(e){this.append(e[0],e[1])}),this):e&&Object.getOwnPropertyNames(e).forEach((function(t){this.append(t,e[t])}),this)}function c(e){if(e.bodyUsed)return Promise.reject(new TypeError("Already read"));e.bodyUsed=!0}function u(e){return new Promise((function(t,n){e.onload=function(){t(e.result)},e.onerror=function(){n(e.error)}}))}function h(e){var t=new FileReader,n=u(t);return t.readAsArrayBuffer(e),n}function f(e){if(e.slice)return e.slice(0);var t=new Uint8Array(e.byteLength);return t.set(new Uint8Array(e)),t.buffer}function d(){return this.bodyUsed=!1,this._initBody=function(e){var t;this._bodyInit=e,e?"string"==typeof e?this._bodyText=e:n.blob&&Blob.prototype.isPrototypeOf(e)?this._bodyBlob=e:n.formData&&FormData.prototype.isPrototypeOf(e)?this._bodyFormData=e:n.searchParams&&URLSearchParams.prototype.isPrototypeOf(e)?this._bodyText=e.toString():n.arrayBuffer&&n.blob&&(t=e)&&DataView.prototype.isPrototypeOf(t)?(this._bodyArrayBuffer=f(e.buffer),this._bodyInit=new Blob([this._bodyArrayBuffer])):n.arrayBuffer&&(ArrayBuffer.prototype.isPrototypeOf(e)||i(e))?this._bodyArrayBuffer=f(e):this._bodyText=e=Object.prototype.toString.call(e):this._bodyText="",this.headers.get("content-type")||("string"==typeof e?this.headers.set("content-type","text/plain;charset=UTF-8"):this._bodyBlob&&this._bodyBlob.type?this.headers.set("content-type",this._bodyBlob.type):n.searchParams&&URLSearchParams.prototype.isPrototypeOf(e)&&this.headers.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"))},n.blob&&(this.blob=function(){var e=c(this);if(e)return e;if(this._bodyBlob)return Promise.resolve(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(new Blob([this._bodyArrayBuffer]));if(this._bodyFormData)throw new Error("could not read FormData body as blob");return Promise.resolve(new Blob([this._bodyText]))},this.arrayBuffer=function(){return this._bodyArrayBuffer?c(this)||Promise.resolve(this._bodyArrayBuffer):this.blob().then(h)}),this.text=function(){var e,t,n,r=c(this);if(r)return r;if(this._bodyBlob)return e=this._bodyBlob,n=u(t=new FileReader),t.readAsText(e),n;if(this._bodyArrayBuffer)return Promise.resolve(function(e){for(var t=new Uint8Array(e),n=new Array(t.length),r=0;r<t.length;r++)n[r]=String.fromCharCode(t[r]);return n.join("")}(this._bodyArrayBuffer));if(this._bodyFormData)throw new Error("could not read FormData body as text");return Promise.resolve(this._bodyText)},n.formData&&(this.formData=function(){return this.text().then(y)}),this.json=function(){return this.text().then(JSON.parse)},this}l.prototype.append=function(e,t){e=o(e),t=s(t);var n=this.map[e];this.map[e]=n?n+", "+t:t},l.prototype.delete=function(e){delete this.map[o(e)]},l.prototype.get=function(e){return e=o(e),this.has(e)?this.map[e]:null},l.prototype.has=function(e){return this.map.hasOwnProperty(o(e))},l.prototype.set=function(e,t){this.map[o(e)]=s(t)},l.prototype.forEach=function(e,t){for(var n in this.map)this.map.hasOwnProperty(n)&&e.call(t,this.map[n],n,this)},l.prototype.keys=function(){var e=[];return this.forEach((function(t,n){e.push(n)})),a(e)},l.prototype.values=function(){var e=[];return this.forEach((function(t){e.push(t)})),a(e)},l.prototype.entries=function(){var e=[];return this.forEach((function(t,n){e.push([n,t])})),a(e)},n.iterable&&(l.prototype[Symbol.iterator]=l.prototype.entries);var p=["DELETE","GET","HEAD","OPTIONS","POST","PUT"];function g(e,t){var n,r,i=(t=t||{}).body;if(e instanceof g){if(e.bodyUsed)throw new TypeError("Already read");this.url=e.url,this.credentials=e.credentials,t.headers||(this.headers=new l(e.headers)),this.method=e.method,this.mode=e.mode,this.signal=e.signal,i||null==e._bodyInit||(i=e._bodyInit,e.bodyUsed=!0)}else this.url=String(e);if(this.credentials=t.credentials||this.credentials||"same-origin",!t.headers&&this.headers||(this.headers=new l(t.headers)),this.method=(r=(n=t.method||this.method||"GET").toUpperCase(),p.indexOf(r)>-1?r:n),this.mode=t.mode||this.mode||null,this.signal=t.signal||this.signal,this.referrer=null,("GET"===this.method||"HEAD"===this.method)&&i)throw new TypeError("Body not allowed for GET or HEAD requests");this._initBody(i)}function y(e){var t=new FormData;return e.trim().split("&").forEach((function(e){if(e){var n=e.split("="),r=n.shift().replace(/\+/g," "),i=n.join("=").replace(/\+/g," ");t.append(decodeURIComponent(r),decodeURIComponent(i))}})),t}function v(e,t){t||(t={}),this.type="default",this.status=void 0===t.status?200:t.status,this.ok=this.status>=200&&this.status<300,this.statusText="statusText"in t?t.statusText:"OK",this.headers=new l(t.headers),this.url=t.url||"",this._initBody(e)}g.prototype.clone=function(){return new g(this,{body:this._bodyInit})},d.call(g.prototype),d.call(v.prototype),v.prototype.clone=function(){return new v(this._bodyInit,{status:this.status,statusText:this.statusText,headers:new l(this.headers),url:this.url})},v.error=function(){var e=new v(null,{status:0,statusText:""});return e.type="error",e};var m=[301,302,303,307,308];v.redirect=function(e,t){if(-1===m.indexOf(t))throw new RangeError("Invalid status code");return new v(null,{status:t,headers:{location:e}})},t.DOMException=e.DOMException;try{new t.DOMException}catch(e){t.DOMException=function(e,t){this.message=e,this.name=t;var n=Error(e);this.stack=n.stack},t.DOMException.prototype=Object.create(Error.prototype),t.DOMException.prototype.constructor=t.DOMException}function w(e,r){return new Promise((function(i,o){var s=new g(e,r);if(s.signal&&s.signal.aborted)return o(new t.DOMException("Aborted","AbortError"));var a=new XMLHttpRequest;function c(){a.abort()}a.onload=function(){var e,t,n={status:a.status,statusText:a.statusText,headers:(e=a.getAllResponseHeaders()||"",t=new l,e.replace(/\r?\n[\t ]+/g," ").split(/\r?\n/).forEach((function(e){var n=e.split(":"),r=n.shift().trim();if(r){var i=n.join(":").trim();t.append(r,i)}})),t)};n.url="responseURL"in a?a.responseURL:n.headers.get("X-Request-URL");var r="response"in a?a.response:a.responseText;i(new v(r,n))},a.onerror=function(){o(new TypeError("Network request failed"))},a.ontimeout=function(){o(new TypeError("Network request failed"))},a.onabort=function(){o(new t.DOMException("Aborted","AbortError"))},a.open(s.method,s.url,!0),"include"===s.credentials?a.withCredentials=!0:"omit"===s.credentials&&(a.withCredentials=!1),"responseType"in a&&n.blob&&(a.responseType="blob"),s.headers.forEach((function(e,t){a.setRequestHeader(t,e)})),s.signal&&(s.signal.addEventListener("abort",c),a.onreadystatechange=function(){4===a.readyState&&s.signal.removeEventListener("abort",c)}),a.send(void 0===s._bodyInit?null:s._bodyInit)}))}w.polyfill=!0,e.fetch||(e.fetch=w,e.Headers=l,e.Request=g,e.Response=v),t.Headers=l,t.Request=g,t.Response=v,t.fetch=w,Object.defineProperty(t,"__esModule",{value:!0})}({})}(r),r.fetch.ponyfill=!0,delete r.fetch.polyfill;var i=r;(t=i.fetch).default=i.fetch,t.fetch=i.fetch,t.Headers=i.Headers,t.Request=i.Request,t.Response=i.Response,e.exports=t},7187:e=>{"use strict";var t,n="object"==typeof Reflect?Reflect:null,r=n&&"function"==typeof n.apply?n.apply:function(e,t,n){return Function.prototype.apply.call(e,t,n)};t=n&&"function"==typeof n.ownKeys?n.ownKeys:Object.getOwnPropertySymbols?function(e){return Object.getOwnPropertyNames(e).concat(Object.getOwnPropertySymbols(e))}:function(e){return Object.getOwnPropertyNames(e)};var i=Number.isNaN||function(e){return e!=e};function o(){o.init.call(this)}e.exports=o,e.exports.once=function(e,t){return new Promise((function(n,r){function i(n){e.removeListener(t,o),r(n)}function o(){"function"==typeof e.removeListener&&e.removeListener("error",i),n([].slice.call(arguments))}g(e,t,o,{once:!0}),"error"!==t&&function(e,t,n){"function"==typeof e.on&&g(e,"error",t,{once:!0})}(e,i)}))},o.EventEmitter=o,o.prototype._events=void 0,o.prototype._eventsCount=0,o.prototype._maxListeners=void 0;var s=10;function a(e){if("function"!=typeof e)throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof e)}function l(e){return void 0===e._maxListeners?o.defaultMaxListeners:e._maxListeners}function c(e,t,n,r){var i,o,s,c;if(a(n),void 0===(o=e._events)?(o=e._events=Object.create(null),e._eventsCount=0):(void 0!==o.newListener&&(e.emit("newListener",t,n.listener?n.listener:n),o=e._events),s=o[t]),void 0===s)s=o[t]=n,++e._eventsCount;else if("function"==typeof s?s=o[t]=r?[n,s]:[s,n]:r?s.unshift(n):s.push(n),(i=l(e))>0&&s.length>i&&!s.warned){s.warned=!0;var u=new Error("Possible EventEmitter memory leak detected. "+s.length+" "+String(t)+" listeners added. Use emitter.setMaxListeners() to increase limit");u.name="MaxListenersExceededWarning",u.emitter=e,u.type=t,u.count=s.length,c=u,console&&console.warn&&console.warn(c)}return e}function u(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,0===arguments.length?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function h(e,t,n){var r={fired:!1,wrapFn:void 0,target:e,type:t,listener:n},i=u.bind(r);return i.listener=n,r.wrapFn=i,i}function f(e,t,n){var r=e._events;if(void 0===r)return[];var i=r[t];return void 0===i?[]:"function"==typeof i?n?[i.listener||i]:[i]:n?function(e){for(var t=new Array(e.length),n=0;n<t.length;++n)t[n]=e[n].listener||e[n];return t}(i):p(i,i.length)}function d(e){var t=this._events;if(void 0!==t){var n=t[e];if("function"==typeof n)return 1;if(void 0!==n)return n.length}return 0}function p(e,t){for(var n=new Array(t),r=0;r<t;++r)n[r]=e[r];return n}function g(e,t,n,r){if("function"==typeof e.on)r.once?e.once(t,n):e.on(t,n);else{if("function"!=typeof e.addEventListener)throw new TypeError('The "emitter" argument must be of type EventEmitter. Received type '+typeof e);e.addEventListener(t,(function i(o){r.once&&e.removeEventListener(t,i),n(o)}))}}Object.defineProperty(o,"defaultMaxListeners",{enumerable:!0,get:function(){return s},set:function(e){if("number"!=typeof e||e<0||i(e))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+e+".");s=e}}),o.init=function(){void 0!==this._events&&this._events!==Object.getPrototypeOf(this)._events||(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},o.prototype.setMaxListeners=function(e){if("number"!=typeof e||e<0||i(e))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+e+".");return this._maxListeners=e,this},o.prototype.getMaxListeners=function(){return l(this)},o.prototype.emit=function(e){for(var t=[],n=1;n<arguments.length;n++)t.push(arguments[n]);var i="error"===e,o=this._events;if(void 0!==o)i=i&&void 0===o.error;else if(!i)return!1;if(i){var s;if(t.length>0&&(s=t[0]),s instanceof Error)throw s;var a=new Error("Unhandled error."+(s?" ("+s.message+")":""));throw a.context=s,a}var l=o[e];if(void 0===l)return!1;if("function"==typeof l)r(l,this,t);else{var c=l.length,u=p(l,c);for(n=0;n<c;++n)r(u[n],this,t)}return!0},o.prototype.addListener=function(e,t){return c(this,e,t,!1)},o.prototype.on=o.prototype.addListener,o.prototype.prependListener=function(e,t){return c(this,e,t,!0)},o.prototype.once=function(e,t){return a(t),this.on(e,h(this,e,t)),this},o.prototype.prependOnceListener=function(e,t){return a(t),this.prependListener(e,h(this,e,t)),this},o.prototype.removeListener=function(e,t){var n,r,i,o,s;if(a(t),void 0===(r=this._events))return this;if(void 0===(n=r[e]))return this;if(n===t||n.listener===t)0==--this._eventsCount?this._events=Object.create(null):(delete r[e],r.removeListener&&this.emit("removeListener",e,n.listener||t));else if("function"!=typeof n){for(i=-1,o=n.length-1;o>=0;o--)if(n[o]===t||n[o].listener===t){s=n[o].listener,i=o;break}if(i<0)return this;0===i?n.shift():function(e,t){for(;t+1<e.length;t++)e[t]=e[t+1];e.pop()}(n,i),1===n.length&&(r[e]=n[0]),void 0!==r.removeListener&&this.emit("removeListener",e,s||t)}return this},o.prototype.off=o.prototype.removeListener,o.prototype.removeAllListeners=function(e){var t,n,r;if(void 0===(n=this._events))return this;if(void 0===n.removeListener)return 0===arguments.length?(this._events=Object.create(null),this._eventsCount=0):void 0!==n[e]&&(0==--this._eventsCount?this._events=Object.create(null):delete n[e]),this;if(0===arguments.length){var i,o=Object.keys(n);for(r=0;r<o.length;++r)"removeListener"!==(i=o[r])&&this.removeAllListeners(i);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if("function"==typeof(t=n[e]))this.removeListener(e,t);else if(void 0!==t)for(r=t.length-1;r>=0;r--)this.removeListener(e,t[r]);return this},o.prototype.listeners=function(e){return f(this,e,!0)},o.prototype.rawListeners=function(e){return f(this,e,!1)},o.listenerCount=function(e,t){return"function"==typeof e.listenerCount?e.listenerCount(t):d.call(e,t)},o.prototype.listenerCount=d,o.prototype.eventNames=function(){return this._eventsCount>0?t(this._events):[]}},2445:e=>{"use strict";e.exports=function(e){var t=e.uri,n=e.name,r=e.type;this.uri=t,this.name=n,this.type=r}},804:(e,t,n)=>{"use strict";var r=n(1268);e.exports=function e(t,n,i){var o;void 0===n&&(n=""),void 0===i&&(i=r);var s=new Map;function a(e,t){var n=s.get(t);n?n.push.apply(n,e):s.set(t,e)}if(i(t))o=null,a([n],t);else{var l=n?n+".":"";if("undefined"!=typeof FileList&&t instanceof FileList)o=Array.prototype.map.call(t,(function(e,t){return a([""+l+t],e),null}));else if(Array.isArray(t))o=t.map((function(t,n){var r=e(t,""+l+n,i);return r.files.forEach(a),r.clone}));else if(t&&t.constructor===Object)for(var c in o={},t){var u=e(t[c],""+l+c,i);u.files.forEach(a),o[c]=u.clone}else o=t}return{clone:o,files:s}}},4823:(e,t,n)=>{"use strict";t.ReactNativeFile=n(2445),t.extractFiles=n(804),t.isExtractableFile=n(1268)},1268:(e,t,n)=>{"use strict";var r=n(2445);e.exports=function(e){return"undefined"!=typeof File&&e instanceof File||"undefined"!=typeof Blob&&e instanceof Blob||e instanceof r}},6230:e=>{e.exports="object"==typeof self?self.FormData:window.FormData},8458:function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var i=n(4823),o=r(n(6230)),s=function(e){return i.isExtractableFile(e)||null!==e&&"object"==typeof e&&"function"==typeof e.pipe};t.default=function(e,t,n){var r=i.extractFiles({query:e,variables:t,operationName:n},"",s),a=r.clone,l=r.files;if(0===l.size){if(!Array.isArray(e))return JSON.stringify(a);if(void 0!==t&&!Array.isArray(t))throw new Error("Cannot create request body with given variable type, array expected");var c=e.reduce((function(e,n,r){return e.push({query:n,variables:t?t[r]:void 0}),e}),[]);return JSON.stringify(c)}var u=new("undefined"==typeof FormData?o.default:FormData);u.append("operations",JSON.stringify(a));var h={},f=0;return l.forEach((function(e){h[++f]=e})),u.append("map",JSON.stringify(h)),f=0,l.forEach((function(e,t){u.append(""+ ++f,t)})),u}},8687:function(e,t,n){"use strict";var r=this&&this.__assign||function(){return r=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},r.apply(this,arguments)},i=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),o=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),s=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&i(t,e,n);return o(t,e),t},a=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function s(e){try{l(r.next(e))}catch(e){o(e)}}function a(e){try{l(r.throw(e))}catch(e){o(e)}}function l(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}l((r=r.apply(e,t||[])).next())}))},l=this&&this.__generator||function(e,t){var n,r,i,o,s={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function a(o){return function(a){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return s.label++,{value:o[1],done:!1};case 5:s.label++,r=o[1],o=[0];continue;case 7:o=s.ops.pop(),s.trys.pop();continue;default:if(!((i=(i=s.trys).length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){s=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){s.label=o[1];break}if(6===o[0]&&s.label<i[1]){s.label=i[1],i=o;break}if(i&&s.label<i[2]){s.label=i[2],s.ops.push(o);break}i[2]&&s.ops.pop(),s.trys.pop();continue}o=t.call(e,s)}catch(e){o=[6,e],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,a])}}},c=this&&this.__rest||function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n},u=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.gql=t.batchRequests=t.request=t.rawRequest=t.GraphQLClient=t.ClientError=void 0;var h=s(n(4098)),f=h,d=n(3033),p=u(n(8458)),g=n(8308);Object.defineProperty(t,"ClientError",{enumerable:!0,get:function(){return g.ClientError}});var y=function(e){var t={};return e&&("undefined"!=typeof Headers&&e instanceof Headers||e instanceof f.Headers?t=function(e){var t={};return e.forEach((function(e,n){t[n]=e})),t}(e):Array.isArray(e)?e.forEach((function(e){var n=e[0],r=e[1];t[n]=r})):t=e),t},v=function(e){return e.replace(/([\s,]|#[^\n\r]+)+/g," ").trim()},m=function(e){var t=e.url,n=e.query,i=e.variables,o=e.operationName,s=e.headers,c=e.fetch,u=e.fetchOptions;return a(void 0,void 0,void 0,(function(){var e;return l(this,(function(a){switch(a.label){case 0:return e=p.default(n,i,o),[4,c(t,r({method:"POST",headers:r(r({},"string"==typeof e?{"Content-Type":"application/json"}:{}),s),body:e},u))];case 1:return[2,a.sent()]}}))}))},w=function(e){var t=e.url,n=e.query,i=e.variables,o=e.operationName,s=e.headers,c=e.fetch,u=e.fetchOptions;return a(void 0,void 0,void 0,(function(){var e;return l(this,(function(a){switch(a.label){case 0:return e=function(e){var t=e.query,n=e.variables,r=e.operationName;if(!Array.isArray(t)){var i=["query="+encodeURIComponent(v(t))];return n&&i.push("variables="+encodeURIComponent(JSON.stringify(n))),r&&i.push("operationName="+encodeURIComponent(r)),i.join("&")}if(void 0!==n&&!Array.isArray(n))throw new Error("Cannot create query with given variable type, array expected");var o=t.reduce((function(e,t,r){return e.push({query:v(t),variables:n?JSON.stringify(n[r]):void 0}),e}),[]);return"query="+encodeURIComponent(JSON.stringify(o))}({query:n,variables:i,operationName:o}),[4,c(t+"?"+e,r({method:"GET",headers:s},u))];case 1:return[2,a.sent()]}}))}))},E=function(){function e(e,t){this.url=e,this.options=t||{}}return e.prototype.rawRequest=function(e,t,n){var i=this.options,o=i.headers,s=i.fetch,a=void 0===s?h.default:s,l=i.method,u=void 0===l?"POST":l,f=c(i,["headers","fetch","method"]);return b({url:this.url,query:e,variables:t,headers:r(r({},y(o)),y(n)),operationName:void 0,fetch:a,method:u,fetchOptions:f})},e.prototype.request=function(e,t,n){return a(this,void 0,void 0,(function(){var i,o,s,a,u,f,d,p,g,v,m;return l(this,(function(l){switch(l.label){case 0:return i=this.options,o=i.headers,s=i.fetch,a=void 0===s?h.default:s,u=i.method,f=void 0===u?"POST":u,d=c(i,["headers","fetch","method"]),p=this.url,g=S(e),v=g.query,m=g.operationName,[4,b({url:p,query:v,variables:t,headers:r(r({},y(o)),y(n)),operationName:m,fetch:a,method:f,fetchOptions:d})];case 1:return[2,l.sent().data]}}))}))},e.prototype.batchRequests=function(e,t){return a(this,void 0,void 0,(function(){var n,i,o,s,a,u,f,d,p,g;return l(this,(function(l){switch(l.label){case 0:return n=this.options,i=n.headers,o=n.fetch,s=void 0===o?h.default:o,a=n.method,u=void 0===a?"POST":a,f=c(n,["headers","fetch","method"]),d=this.url,p=e.map((function(e){return S(e.document).query})),g=e.map((function(e){return e.variables})),[4,b({url:d,query:p,variables:g,headers:r(r({},y(i)),y(t)),operationName:void 0,fetch:s,method:u,fetchOptions:f})];case 1:return[2,l.sent().data]}}))}))},e.prototype.setHeaders=function(e){return this.options.headers=e,this},e.prototype.setHeader=function(e,t){var n,r=this.options.headers;return r?r[e]=t:this.options.headers=((n={})[e]=t,n),this},e.prototype.setEndpoint=function(e){return this.url=e,this},e}();function b(e){var t=e.url,n=e.query,i=e.variables,o=e.headers,s=e.operationName,c=e.fetch,u=e.method,h=void 0===u?"POST":u,f=e.fetchOptions;return a(this,void 0,void 0,(function(){var e,a,u,d,p,y,v,E;return l(this,(function(l){switch(l.label){case 0:return e="POST"===h.toUpperCase()?m:w,a=Array.isArray(n),[4,e({url:t,query:n,variables:i,operationName:s,headers:o,fetch:c,fetchOptions:f})];case 1:return[4,A(u=l.sent())];case 2:if(d=l.sent(),p=a&&Array.isArray(d)?!d.some((function(e){return!e.data})):!!d.data,u.ok&&!d.errors&&p)return y=u.headers,v=u.status,[2,r(r({},a?{data:d}:d),{headers:y,status:v})];throw E="string"==typeof d?{error:d}:d,new g.ClientError(r(r({},E),{status:u.status,headers:u.headers}),{query:n,variables:i})}}))}))}function _(e,t,n,r){return a(this,void 0,void 0,(function(){return l(this,(function(i){return[2,new E(e).request(t,n,r)]}))}))}function A(e){var t=e.headers.get("Content-Type");return t&&t.startsWith("application/json")?e.json():e.text()}function S(e){var t;if("string"==typeof e)return{query:e};var n=void 0,r=e.definitions.filter((function(e){return"OperationDefinition"===e.kind}));return 1===r.length&&(n=null===(t=r[0].name)||void 0===t?void 0:t.value),{query:d.print(e),operationName:n}}t.GraphQLClient=E,t.rawRequest=function(e,t,n,r){return a(this,void 0,void 0,(function(){return l(this,(function(i){return[2,new E(e).rawRequest(t,n,r)]}))}))},t.request=_,t.batchRequests=function(e,t,n){return a(this,void 0,void 0,(function(){return l(this,(function(r){return[2,new E(e).batchRequests(t,n)]}))}))},t.default=_,t.gql=function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];return e.reduce((function(e,n,r){return""+e+n+(r in t?t[r]:"")}),"")}},8308:function(e,t){"use strict";var n,r=this&&this.__extends||(n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},n(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)});Object.defineProperty(t,"__esModule",{value:!0}),t.ClientError=void 0;var i=function(e){function t(n,r){var i=this,o=t.extractMessage(n)+": "+JSON.stringify({response:n,request:r});return i=e.call(this,o)||this,Object.setPrototypeOf(i,t.prototype),i.response=n,i.request=r,"function"==typeof Error.captureStackTrace&&Error.captureStackTrace(i,t),i}return r(t,e),t.extractMessage=function(e){try{return e.errors[0].message}catch(t){return"GraphQL Error (Code: "+e.status+")"}},t}(Error);t.ClientError=i},7242:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.devAssert=function(e,t){if(!Boolean(e))throw new Error(t)}},8002:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.inspect=function(e){return i(e,[])};const n=10,r=2;function i(e,t){switch(typeof e){case"string":return JSON.stringify(e);case"function":return e.name?`[function ${e.name}]`:"[function]";case"object":return function(e,t){if(null===e)return"null";if(t.includes(e))return"[Circular]";const o=[...t,e];if(function(e){return"function"==typeof e.toJSON}(e)){const t=e.toJSON();if(t!==e)return"string"==typeof t?t:i(t,o)}else if(Array.isArray(e))return function(e,t){if(0===e.length)return"[]";if(t.length>r)return"[Array]";const o=Math.min(n,e.length),s=e.length-o,a=[];for(let n=0;n<o;++n)a.push(i(e[n],t));return 1===s?a.push("... 1 more item"):s>1&&a.push(`... ${s} more items`),"["+a.join(", ")+"]"}(e,o);return function(e,t){const n=Object.entries(e);if(0===n.length)return"{}";if(t.length>r)return"["+function(e){const t=Object.prototype.toString.call(e).replace(/^\[object /,"").replace(/]$/,"");if("Object"===t&&"function"==typeof e.constructor){const t=e.constructor.name;if("string"==typeof t&&""!==t)return t}return t}(e)+"]";const o=n.map((([e,n])=>e+": "+i(n,t)));return"{ "+o.join(", ")+" }"}(e,o)}(e,t);default:return String(e)}}},1807:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Token=t.QueryDocumentKeys=t.OperationTypeNode=t.Location=void 0,t.isNode=function(e){const t=null==e?void 0:e.kind;return"string"==typeof t&&o.has(t)};class n{constructor(e,t,n){this.start=e.start,this.end=t.end,this.startToken=e,this.endToken=t,this.source=n}get[Symbol.toStringTag](){return"Location"}toJSON(){return{start:this.start,end:this.end}}}t.Location=n;class r{constructor(e,t,n,r,i,o){this.kind=e,this.start=t,this.end=n,this.line=r,this.column=i,this.value=o,this.prev=null,this.next=null}get[Symbol.toStringTag](){return"Token"}toJSON(){return{kind:this.kind,value:this.value,line:this.line,column:this.column}}}t.Token=r;const i={Name:[],Document:["definitions"],OperationDefinition:["name","variableDefinitions","directives","selectionSet"],VariableDefinition:["variable","type","defaultValue","directives"],Variable:["name"],SelectionSet:["selections"],Field:["alias","name","arguments","directives","selectionSet"],Argument:["name","value"],FragmentSpread:["name","directives"],InlineFragment:["typeCondition","directives","selectionSet"],FragmentDefinition:["name","variableDefinitions","typeCondition","directives","selectionSet"],IntValue:[],FloatValue:[],StringValue:[],BooleanValue:[],NullValue:[],EnumValue:[],ListValue:["values"],ObjectValue:["fields"],ObjectField:["name","value"],Directive:["name","arguments"],NamedType:["name"],ListType:["type"],NonNullType:["type"],SchemaDefinition:["description","directives","operationTypes"],OperationTypeDefinition:["type"],ScalarTypeDefinition:["description","name","directives"],ObjectTypeDefinition:["description","name","interfaces","directives","fields"],FieldDefinition:["description","name","arguments","type","directives"],InputValueDefinition:["description","name","type","defaultValue","directives"],InterfaceTypeDefinition:["description","name","interfaces","directives","fields"],UnionTypeDefinition:["description","name","directives","types"],EnumTypeDefinition:["description","name","directives","values"],EnumValueDefinition:["description","name","directives"],InputObjectTypeDefinition:["description","name","directives","fields"],DirectiveDefinition:["description","name","arguments","locations"],SchemaExtension:["directives","operationTypes"],ScalarTypeExtension:["name","directives"],ObjectTypeExtension:["name","interfaces","directives","fields"],InterfaceTypeExtension:["name","interfaces","directives","fields"],UnionTypeExtension:["name","directives","types"],EnumTypeExtension:["name","directives","values"],InputObjectTypeExtension:["name","directives","fields"]};t.QueryDocumentKeys=i;const o=new Set(Object.keys(i));var s;t.OperationTypeNode=s,function(e){e.QUERY="query",e.MUTATION="mutation",e.SUBSCRIPTION="subscription"}(s||(t.OperationTypeNode=s={}))},849:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.dedentBlockStringLines=function(e){var t;let n=Number.MAX_SAFE_INTEGER,r=null,o=-1;for(let t=0;t<e.length;++t){var s;const a=e[t],l=i(a);l!==a.length&&(r=null!==(s=r)&&void 0!==s?s:t,o=t,0!==t&&l<n&&(n=l))}return e.map(((e,t)=>0===t?e:e.slice(n))).slice(null!==(t=r)&&void 0!==t?t:0,o+1)},t.isPrintableAsBlockString=function(e){if(""===e)return!0;let t=!0,n=!1,r=!0,i=!1;for(let o=0;o<e.length;++o)switch(e.codePointAt(o)){case 0:case 1:case 2:case 3:case 4:case 5:case 6:case 7:case 8:case 11:case 12:case 14:case 15:case 13:return!1;case 10:if(t&&!i)return!1;i=!0,t=!0,n=!1;break;case 9:case 32:n||(n=t);break;default:r&&(r=n),t=!1}return!t&&(!r||!i)},t.printBlockString=function(e,t){const n=e.replace(/"""/g,'\\"""'),i=n.split(/\r\n|[\n\r]/g),o=1===i.length,s=i.length>1&&i.slice(1).every((e=>0===e.length||(0,r.isWhiteSpace)(e.charCodeAt(0)))),a=n.endsWith('\\"""'),l=e.endsWith('"')&&!a,c=e.endsWith("\\"),u=l||c,h=!(null!=t&&t.minimize)&&(!o||e.length>70||u||s||a);let f="";const d=o&&(0,r.isWhiteSpace)(e.charCodeAt(0));return(h&&!d||s)&&(f+="\n"),f+=n,(h||u)&&(f+="\n"),'"""'+f+'"""'};var r=n(100);function i(e){let t=0;for(;t<e.length&&(0,r.isWhiteSpace)(e.charCodeAt(t));)++t;return t}},100:(e,t)=>{"use strict";function n(e){return e>=48&&e<=57}function r(e){return e>=97&&e<=122||e>=65&&e<=90}Object.defineProperty(t,"__esModule",{value:!0}),t.isDigit=n,t.isLetter=r,t.isNameContinue=function(e){return r(e)||n(e)||95===e},t.isNameStart=function(e){return r(e)||95===e},t.isWhiteSpace=function(e){return 9===e||32===e}},2828:(e,t)=>{"use strict";var n;Object.defineProperty(t,"__esModule",{value:!0}),t.Kind=void 0,t.Kind=n,function(e){e.NAME="Name",e.DOCUMENT="Document",e.OPERATION_DEFINITION="OperationDefinition",e.VARIABLE_DEFINITION="VariableDefinition",e.SELECTION_SET="SelectionSet",e.FIELD="Field",e.ARGUMENT="Argument",e.FRAGMENT_SPREAD="FragmentSpread",e.INLINE_FRAGMENT="InlineFragment",e.FRAGMENT_DEFINITION="FragmentDefinition",e.VARIABLE="Variable",e.INT="IntValue",e.FLOAT="FloatValue",e.STRING="StringValue",e.BOOLEAN="BooleanValue",e.NULL="NullValue",e.ENUM="EnumValue",e.LIST="ListValue",e.OBJECT="ObjectValue",e.OBJECT_FIELD="ObjectField",e.DIRECTIVE="Directive",e.NAMED_TYPE="NamedType",e.LIST_TYPE="ListType",e.NON_NULL_TYPE="NonNullType",e.SCHEMA_DEFINITION="SchemaDefinition",e.OPERATION_TYPE_DEFINITION="OperationTypeDefinition",e.SCALAR_TYPE_DEFINITION="ScalarTypeDefinition",e.OBJECT_TYPE_DEFINITION="ObjectTypeDefinition",e.FIELD_DEFINITION="FieldDefinition",e.INPUT_VALUE_DEFINITION="InputValueDefinition",e.INTERFACE_TYPE_DEFINITION="InterfaceTypeDefinition",e.UNION_TYPE_DEFINITION="UnionTypeDefinition",e.ENUM_TYPE_DEFINITION="EnumTypeDefinition",e.ENUM_VALUE_DEFINITION="EnumValueDefinition",e.INPUT_OBJECT_TYPE_DEFINITION="InputObjectTypeDefinition",e.DIRECTIVE_DEFINITION="DirectiveDefinition",e.SCHEMA_EXTENSION="SchemaExtension",e.SCALAR_TYPE_EXTENSION="ScalarTypeExtension",e.OBJECT_TYPE_EXTENSION="ObjectTypeExtension",e.INTERFACE_TYPE_EXTENSION="InterfaceTypeExtension",e.UNION_TYPE_EXTENSION="UnionTypeExtension",e.ENUM_TYPE_EXTENSION="EnumTypeExtension",e.INPUT_OBJECT_TYPE_EXTENSION="InputObjectTypeExtension"}(n||(t.Kind=n={}))},8942:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.printString=function(e){return`"${e.replace(n,r)}"`};const n=/[\x00-\x1f\x22\x5c\x7f-\x9f]/g;function r(e){return i[e.charCodeAt(0)]}const i=["\\u0000","\\u0001","\\u0002","\\u0003","\\u0004","\\u0005","\\u0006","\\u0007","\\b","\\t","\\n","\\u000B","\\f","\\r","\\u000E","\\u000F","\\u0010","\\u0011","\\u0012","\\u0013","\\u0014","\\u0015","\\u0016","\\u0017","\\u0018","\\u0019","\\u001A","\\u001B","\\u001C","\\u001D","\\u001E","\\u001F","","",'\\"',"","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","\\\\","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","\\u007F","\\u0080","\\u0081","\\u0082","\\u0083","\\u0084","\\u0085","\\u0086","\\u0087","\\u0088","\\u0089","\\u008A","\\u008B","\\u008C","\\u008D","\\u008E","\\u008F","\\u0090","\\u0091","\\u0092","\\u0093","\\u0094","\\u0095","\\u0096","\\u0097","\\u0098","\\u0099","\\u009A","\\u009B","\\u009C","\\u009D","\\u009E","\\u009F"]},3033:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.print=function(e){return(0,o.visit)(e,s)};var r=n(849),i=n(8942),o=n(285);const s={Name:{leave:e=>e.value},Variable:{leave:e=>"$"+e.name},Document:{leave:e=>a(e.definitions,"\n\n")},OperationDefinition:{leave(e){const t=c("(",a(e.variableDefinitions,", "),")"),n=a([e.operation,a([e.name,t]),a(e.directives," ")]," ");return("query"===n?"":n+" ")+e.selectionSet}},VariableDefinition:{leave:({variable:e,type:t,defaultValue:n,directives:r})=>e+": "+t+c(" = ",n)+c(" ",a(r," "))},SelectionSet:{leave:({selections:e})=>l(e)},Field:{leave({alias:e,name:t,arguments:n,directives:r,selectionSet:i}){const o=c("",e,": ")+t;let s=o+c("(",a(n,", "),")");return s.length>80&&(s=o+c("(\n",u(a(n,"\n")),"\n)")),a([s,a(r," "),i]," ")}},Argument:{leave:({name:e,value:t})=>e+": "+t},FragmentSpread:{leave:({name:e,directives:t})=>"..."+e+c(" ",a(t," "))},InlineFragment:{leave:({typeCondition:e,directives:t,selectionSet:n})=>a(["...",c("on ",e),a(t," "),n]," ")},FragmentDefinition:{leave:({name:e,typeCondition:t,variableDefinitions:n,directives:r,selectionSet:i})=>`fragment ${e}${c("(",a(n,", "),")")} on ${t} ${c("",a(r," ")," ")}`+i},IntValue:{leave:({value:e})=>e},FloatValue:{leave:({value:e})=>e},StringValue:{leave:({value:e,block:t})=>t?(0,r.printBlockString)(e):(0,i.printString)(e)},BooleanValue:{leave:({value:e})=>e?"true":"false"},NullValue:{leave:()=>"null"},EnumValue:{leave:({value:e})=>e},ListValue:{leave:({values:e})=>"["+a(e,", ")+"]"},ObjectValue:{leave:({fields:e})=>"{"+a(e,", ")+"}"},ObjectField:{leave:({name:e,value:t})=>e+": "+t},Directive:{leave:({name:e,arguments:t})=>"@"+e+c("(",a(t,", "),")")},NamedType:{leave:({name:e})=>e},ListType:{leave:({type:e})=>"["+e+"]"},NonNullType:{leave:({type:e})=>e+"!"},SchemaDefinition:{leave:({description:e,directives:t,operationTypes:n})=>c("",e,"\n")+a(["schema",a(t," "),l(n)]," ")},OperationTypeDefinition:{leave:({operation:e,type:t})=>e+": "+t},ScalarTypeDefinition:{leave:({description:e,name:t,directives:n})=>c("",e,"\n")+a(["scalar",t,a(n," ")]," ")},ObjectTypeDefinition:{leave:({description:e,name:t,interfaces:n,directives:r,fields:i})=>c("",e,"\n")+a(["type",t,c("implements ",a(n," & ")),a(r," "),l(i)]," ")},FieldDefinition:{leave:({description:e,name:t,arguments:n,type:r,directives:i})=>c("",e,"\n")+t+(h(n)?c("(\n",u(a(n,"\n")),"\n)"):c("(",a(n,", "),")"))+": "+r+c(" ",a(i," "))},InputValueDefinition:{leave:({description:e,name:t,type:n,defaultValue:r,directives:i})=>c("",e,"\n")+a([t+": "+n,c("= ",r),a(i," ")]," ")},InterfaceTypeDefinition:{leave:({description:e,name:t,interfaces:n,directives:r,fields:i})=>c("",e,"\n")+a(["interface",t,c("implements ",a(n," & ")),a(r," "),l(i)]," ")},UnionTypeDefinition:{leave:({description:e,name:t,directives:n,types:r})=>c("",e,"\n")+a(["union",t,a(n," "),c("= ",a(r," | "))]," ")},EnumTypeDefinition:{leave:({description:e,name:t,directives:n,values:r})=>c("",e,"\n")+a(["enum",t,a(n," "),l(r)]," ")},EnumValueDefinition:{leave:({description:e,name:t,directives:n})=>c("",e,"\n")+a([t,a(n," ")]," ")},InputObjectTypeDefinition:{leave:({description:e,name:t,directives:n,fields:r})=>c("",e,"\n")+a(["input",t,a(n," "),l(r)]," ")},DirectiveDefinition:{leave:({description:e,name:t,arguments:n,repeatable:r,locations:i})=>c("",e,"\n")+"directive @"+t+(h(n)?c("(\n",u(a(n,"\n")),"\n)"):c("(",a(n,", "),")"))+(r?" repeatable":"")+" on "+a(i," | ")},SchemaExtension:{leave:({directives:e,operationTypes:t})=>a(["extend schema",a(e," "),l(t)]," ")},ScalarTypeExtension:{leave:({name:e,directives:t})=>a(["extend scalar",e,a(t," ")]," ")},ObjectTypeExtension:{leave:({name:e,interfaces:t,directives:n,fields:r})=>a(["extend type",e,c("implements ",a(t," & ")),a(n," "),l(r)]," ")},InterfaceTypeExtension:{leave:({name:e,interfaces:t,directives:n,fields:r})=>a(["extend interface",e,c("implements ",a(t," & ")),a(n," "),l(r)]," ")},UnionTypeExtension:{leave:({name:e,directives:t,types:n})=>a(["extend union",e,a(t," "),c("= ",a(n," | "))]," ")},EnumTypeExtension:{leave:({name:e,directives:t,values:n})=>a(["extend enum",e,a(t," "),l(n)]," ")},InputObjectTypeExtension:{leave:({name:e,directives:t,fields:n})=>a(["extend input",e,a(t," "),l(n)]," ")}};function a(e,t=""){var n;return null!==(n=null==e?void 0:e.filter((e=>e)).join(t))&&void 0!==n?n:""}function l(e){return c("{\n",u(a(e,"\n")),"\n}")}function c(e,t,n=""){return null!=t&&""!==t?e+t+n:""}function u(e){return c("  ",e.replace(/\n/g,"\n  "))}function h(e){var t;return null!==(t=null==e?void 0:e.some((e=>e.includes("\n"))))&&void 0!==t&&t}},285:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.BREAK=void 0,t.getEnterLeaveForKind=l,t.getVisitFn=function(e,t,n){const{enter:r,leave:i}=l(e,t);return n?i:r},t.visit=function(e,t,n=o.QueryDocumentKeys){const c=new Map;for(const e of Object.values(s.Kind))c.set(e,l(t,e));let u,h,f,d=Array.isArray(e),p=[e],g=-1,y=[],v=e;const m=[],w=[];do{g++;const e=g===p.length,s=e&&0!==y.length;if(e){if(h=0===w.length?void 0:m[m.length-1],v=f,f=w.pop(),s)if(d){v=v.slice();let e=0;for(const[t,n]of y){const r=t-e;null===n?(v.splice(r,1),e++):v[r]=n}}else{v=Object.defineProperties({},Object.getOwnPropertyDescriptors(v));for(const[e,t]of y)v[e]=t}g=u.index,p=u.keys,y=u.edits,d=u.inArray,u=u.prev}else if(f){if(h=d?g:p[g],v=f[h],null==v)continue;m.push(h)}let l;if(!Array.isArray(v)){var E,b;(0,o.isNode)(v)||(0,r.devAssert)(!1,`Invalid AST Node: ${(0,i.inspect)(v)}.`);const n=e?null===(E=c.get(v.kind))||void 0===E?void 0:E.leave:null===(b=c.get(v.kind))||void 0===b?void 0:b.enter;if(l=null==n?void 0:n.call(t,v,h,f,m,w),l===a)break;if(!1===l){if(!e){m.pop();continue}}else if(void 0!==l&&(y.push([h,l]),!e)){if(!(0,o.isNode)(l)){m.pop();continue}v=l}}var _;void 0===l&&s&&y.push([h,v]),e?m.pop():(u={inArray:d,index:g,keys:p,edits:y,prev:u},d=Array.isArray(v),p=d?v:null!==(_=n[v.kind])&&void 0!==_?_:[],g=-1,y=[],f&&w.push(f),f=v)}while(void 0!==u);return 0!==y.length?y[y.length-1][1]:e},t.visitInParallel=function(e){const t=new Array(e.length).fill(null),n=Object.create(null);for(const r of Object.values(s.Kind)){let i=!1;const o=new Array(e.length).fill(void 0),s=new Array(e.length).fill(void 0);for(let t=0;t<e.length;++t){const{enter:n,leave:a}=l(e[t],r);i||(i=null!=n||null!=a),o[t]=n,s[t]=a}if(!i)continue;const c={enter(...n){const r=n[0];for(let s=0;s<e.length;s++)if(null===t[s]){var i;const l=null===(i=o[s])||void 0===i?void 0:i.apply(e[s],n);if(!1===l)t[s]=r;else if(l===a)t[s]=a;else if(void 0!==l)return l}},leave(...n){const r=n[0];for(let o=0;o<e.length;o++)if(null===t[o]){var i;const r=null===(i=s[o])||void 0===i?void 0:i.apply(e[o],n);if(r===a)t[o]=a;else if(void 0!==r&&!1!==r)return r}else t[o]===r&&(t[o]=null)}};n[r]=c}return n};var r=n(7242),i=n(8002),o=n(1807),s=n(2828);const a=Object.freeze({});function l(e,t){const n=e[t];return"object"==typeof n?n:"function"==typeof n?{enter:n,leave:void 0}:{enter:e.enter,leave:e.leave}}t.BREAK=a},3349:(e,t,n)=>{"use strict";var r=n(9509).Buffer,i=n(8473).Transform;function o(e){i.call(this),this._block=r.allocUnsafe(e),this._blockSize=e,this._blockOffset=0,this._length=[0,0,0,0],this._finalized=!1}n(5717)(o,i),o.prototype._transform=function(e,t,n){var r=null;try{this.update(e,t)}catch(e){r=e}n(r)},o.prototype._flush=function(e){var t=null;try{this.push(this.digest())}catch(e){t=e}e(t)},o.prototype.update=function(e,t){if(function(e,t){if(!r.isBuffer(e)&&"string"!=typeof e)throw new TypeError("Data must be a string or a buffer")}(e),this._finalized)throw new Error("Digest already called");r.isBuffer(e)||(e=r.from(e,t));for(var n=this._block,i=0;this._blockOffset+e.length-i>=this._blockSize;){for(var o=this._blockOffset;o<this._blockSize;)n[o++]=e[i++];this._update(),this._blockOffset=0}for(;i<e.length;)n[this._blockOffset++]=e[i++];for(var s=0,a=8*e.length;a>0;++s)this._length[s]+=a,(a=this._length[s]/4294967296|0)>0&&(this._length[s]-=4294967296*a);return this},o.prototype._update=function(){throw new Error("_update is not implemented")},o.prototype.digest=function(e){if(this._finalized)throw new Error("Digest already called");this._finalized=!0;var t=this._digest();void 0!==e&&(t=t.toString(e)),this._block.fill(0),this._blockOffset=0;for(var n=0;n<4;++n)this._length[n]=0;return t},o.prototype._digest=function(){throw new Error("_digest is not implemented")},e.exports=o},645:(e,t)=>{t.read=function(e,t,n,r,i){var o,s,a=8*i-r-1,l=(1<<a)-1,c=l>>1,u=-7,h=n?i-1:0,f=n?-1:1,d=e[t+h];for(h+=f,o=d&(1<<-u)-1,d>>=-u,u+=a;u>0;o=256*o+e[t+h],h+=f,u-=8);for(s=o&(1<<-u)-1,o>>=-u,u+=r;u>0;s=256*s+e[t+h],h+=f,u-=8);if(0===o)o=1-c;else{if(o===l)return s?NaN:1/0*(d?-1:1);s+=Math.pow(2,r),o-=c}return(d?-1:1)*s*Math.pow(2,o-r)},t.write=function(e,t,n,r,i,o){var s,a,l,c=8*o-i-1,u=(1<<c)-1,h=u>>1,f=23===i?Math.pow(2,-24)-Math.pow(2,-77):0,d=r?0:o-1,p=r?1:-1,g=t<0||0===t&&1/t<0?1:0;for(t=Math.abs(t),isNaN(t)||t===1/0?(a=isNaN(t)?1:0,s=u):(s=Math.floor(Math.log(t)/Math.LN2),t*(l=Math.pow(2,-s))<1&&(s--,l*=2),(t+=s+h>=1?f/l:f*Math.pow(2,1-h))*l>=2&&(s++,l/=2),s+h>=u?(a=0,s=u):s+h>=1?(a=(t*l-1)*Math.pow(2,i),s+=h):(a=t*Math.pow(2,h-1)*Math.pow(2,i),s=0));i>=8;e[n+d]=255&a,d+=p,a/=256,i-=8);for(s=s<<i|a,c+=i;c>0;e[n+d]=255&s,d+=p,s/=256,c-=8);e[n+d-p]|=128*g}},5717:e=>{"function"==typeof Object.create?e.exports=function(e,t){t&&(e.super_=t,e.prototype=Object.create(t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}))}:e.exports=function(e,t){if(t){e.super_=t;var n=function(){};n.prototype=t.prototype,e.prototype=new n,e.prototype.constructor=e}}},2318:(e,t,n)=>{"use strict";var r=n(5717),i=n(3349),o=n(9509).Buffer,s=new Array(16);function a(){i.call(this,64),this._a=1732584193,this._b=4023233417,this._c=2562383102,this._d=271733878}function l(e,t){return e<<t|e>>>32-t}function c(e,t,n,r,i,o,s){return l(e+(t&n|~t&r)+i+o|0,s)+t|0}function u(e,t,n,r,i,o,s){return l(e+(t&r|n&~r)+i+o|0,s)+t|0}function h(e,t,n,r,i,o,s){return l(e+(t^n^r)+i+o|0,s)+t|0}function f(e,t,n,r,i,o,s){return l(e+(n^(t|~r))+i+o|0,s)+t|0}r(a,i),a.prototype._update=function(){for(var e=s,t=0;t<16;++t)e[t]=this._block.readInt32LE(4*t);var n=this._a,r=this._b,i=this._c,o=this._d;n=c(n,r,i,o,e[0],3614090360,7),o=c(o,n,r,i,e[1],3905402710,12),i=c(i,o,n,r,e[2],606105819,17),r=c(r,i,o,n,e[3],3250441966,22),n=c(n,r,i,o,e[4],4118548399,7),o=c(o,n,r,i,e[5],1200080426,12),i=c(i,o,n,r,e[6],2821735955,17),r=c(r,i,o,n,e[7],4249261313,22),n=c(n,r,i,o,e[8],1770035416,7),o=c(o,n,r,i,e[9],2336552879,12),i=c(i,o,n,r,e[10],4294925233,17),r=c(r,i,o,n,e[11],2304563134,22),n=c(n,r,i,o,e[12],1804603682,7),o=c(o,n,r,i,e[13],4254626195,12),i=c(i,o,n,r,e[14],2792965006,17),n=u(n,r=c(r,i,o,n,e[15],1236535329,22),i,o,e[1],4129170786,5),o=u(o,n,r,i,e[6],3225465664,9),i=u(i,o,n,r,e[11],643717713,14),r=u(r,i,o,n,e[0],3921069994,20),n=u(n,r,i,o,e[5],3593408605,5),o=u(o,n,r,i,e[10],38016083,9),i=u(i,o,n,r,e[15],3634488961,14),r=u(r,i,o,n,e[4],3889429448,20),n=u(n,r,i,o,e[9],568446438,5),o=u(o,n,r,i,e[14],3275163606,9),i=u(i,o,n,r,e[3],4107603335,14),r=u(r,i,o,n,e[8],1163531501,20),n=u(n,r,i,o,e[13],2850285829,5),o=u(o,n,r,i,e[2],4243563512,9),i=u(i,o,n,r,e[7],1735328473,14),n=h(n,r=u(r,i,o,n,e[12],2368359562,20),i,o,e[5],4294588738,4),o=h(o,n,r,i,e[8],2272392833,11),i=h(i,o,n,r,e[11],1839030562,16),r=h(r,i,o,n,e[14],4259657740,23),n=h(n,r,i,o,e[1],2763975236,4),o=h(o,n,r,i,e[4],1272893353,11),i=h(i,o,n,r,e[7],4139469664,16),r=h(r,i,o,n,e[10],3200236656,23),n=h(n,r,i,o,e[13],681279174,4),o=h(o,n,r,i,e[0],3936430074,11),i=h(i,o,n,r,e[3],3572445317,16),r=h(r,i,o,n,e[6],76029189,23),n=h(n,r,i,o,e[9],3654602809,4),o=h(o,n,r,i,e[12],3873151461,11),i=h(i,o,n,r,e[15],530742520,16),n=f(n,r=h(r,i,o,n,e[2],3299628645,23),i,o,e[0],4096336452,6),o=f(o,n,r,i,e[7],1126891415,10),i=f(i,o,n,r,e[14],2878612391,15),r=f(r,i,o,n,e[5],4237533241,21),n=f(n,r,i,o,e[12],1700485571,6),o=f(o,n,r,i,e[3],2399980690,10),i=f(i,o,n,r,e[10],4293915773,15),r=f(r,i,o,n,e[1],2240044497,21),n=f(n,r,i,o,e[8],1873313359,6),o=f(o,n,r,i,e[15],4264355552,10),i=f(i,o,n,r,e[6],2734768916,15),r=f(r,i,o,n,e[13],1309151649,21),n=f(n,r,i,o,e[4],4149444226,6),o=f(o,n,r,i,e[11],3174756917,10),i=f(i,o,n,r,e[2],718787259,15),r=f(r,i,o,n,e[9],3951481745,21),this._a=this._a+n|0,this._b=this._b+r|0,this._c=this._c+i|0,this._d=this._d+o|0},a.prototype._digest=function(){this._block[this._blockOffset++]=128,this._blockOffset>56&&(this._block.fill(0,this._blockOffset,64),this._update(),this._blockOffset=0),this._block.fill(0,this._blockOffset,56),this._block.writeUInt32LE(this._length[0],56),this._block.writeUInt32LE(this._length[1],60),this._update();var e=o.allocUnsafe(16);return e.writeInt32LE(this._a,0),e.writeInt32LE(this._b,4),e.writeInt32LE(this._c,8),e.writeInt32LE(this._d,12),e},e.exports=a},4155:e=>{var t,n,r=e.exports={};function i(){throw new Error("setTimeout has not been defined")}function o(){throw new Error("clearTimeout has not been defined")}function s(e){if(t===setTimeout)return setTimeout(e,0);if((t===i||!t)&&setTimeout)return t=setTimeout,setTimeout(e,0);try{return t(e,0)}catch(n){try{return t.call(null,e,0)}catch(n){return t.call(this,e,0)}}}!function(){try{t="function"==typeof setTimeout?setTimeout:i}catch(e){t=i}try{n="function"==typeof clearTimeout?clearTimeout:o}catch(e){n=o}}();var a,l=[],c=!1,u=-1;function h(){c&&a&&(c=!1,a.length?l=a.concat(l):u=-1,l.length&&f())}function f(){if(!c){var e=s(h);c=!0;for(var t=l.length;t;){for(a=l,l=[];++u<t;)a&&a[u].run();u=-1,t=l.length}a=null,c=!1,function(e){if(n===clearTimeout)return clearTimeout(e);if((n===o||!n)&&clearTimeout)return n=clearTimeout,clearTimeout(e);try{return n(e)}catch(t){try{return n.call(null,e)}catch(t){return n.call(this,e)}}}(e)}}function d(e,t){this.fun=e,this.array=t}function p(){}r.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)t[n-1]=arguments[n];l.push(new d(e,t)),1!==l.length||c||s(f)},d.prototype.run=function(){this.fun.apply(null,this.array)},r.title="browser",r.browser=!0,r.env={},r.argv=[],r.version="",r.versions={},r.on=p,r.addListener=p,r.once=p,r.off=p,r.removeListener=p,r.removeAllListeners=p,r.emit=p,r.prependListener=p,r.prependOnceListener=p,r.listeners=function(e){return[]},r.binding=function(e){throw new Error("process.binding is not supported")},r.cwd=function(){return"/"},r.chdir=function(e){throw new Error("process.chdir is not supported")},r.umask=function(){return 0}},6192:(e,t)=>{var n,r,i=function(){var e=function(e,t){var n=e,r=s[t],i=null,o=0,l=null,y=[],v={},w=function(e,t){i=function(e){for(var t=new Array(e),n=0;n<e;n+=1){t[n]=new Array(e);for(var r=0;r<e;r+=1)t[n][r]=null}return t}(o=4*n+17),E(0,0),E(o-7,0),E(0,o-7),_(),b(),S(e,t),n>=7&&A(e),null==l&&(l=R(n,r,y)),T(l,t)},E=function(e,t){for(var n=-1;n<=7;n+=1)if(!(e+n<=-1||o<=e+n))for(var r=-1;r<=7;r+=1)t+r<=-1||o<=t+r||(i[e+n][t+r]=0<=n&&n<=6&&(0==r||6==r)||0<=r&&r<=6&&(0==n||6==n)||2<=n&&n<=4&&2<=r&&r<=4)},b=function(){for(var e=8;e<o-8;e+=1)null==i[e][6]&&(i[e][6]=e%2==0);for(var t=8;t<o-8;t+=1)null==i[6][t]&&(i[6][t]=t%2==0)},_=function(){for(var e=a.getPatternPosition(n),t=0;t<e.length;t+=1)for(var r=0;r<e.length;r+=1){var o=e[t],s=e[r];if(null==i[o][s])for(var l=-2;l<=2;l+=1)for(var c=-2;c<=2;c+=1)i[o+l][s+c]=-2==l||2==l||-2==c||2==c||0==l&&0==c}},A=function(e){for(var t=a.getBCHTypeNumber(n),r=0;r<18;r+=1){var s=!e&&1==(t>>r&1);i[Math.floor(r/3)][r%3+o-8-3]=s}for(r=0;r<18;r+=1)s=!e&&1==(t>>r&1),i[r%3+o-8-3][Math.floor(r/3)]=s},S=function(e,t){for(var n=r<<3|t,s=a.getBCHTypeInfo(n),l=0;l<15;l+=1){var c=!e&&1==(s>>l&1);l<6?i[l][8]=c:l<8?i[l+1][8]=c:i[o-15+l][8]=c}for(l=0;l<15;l+=1)c=!e&&1==(s>>l&1),l<8?i[8][o-l-1]=c:l<9?i[8][15-l-1+1]=c:i[8][15-l-1]=c;i[o-8][8]=!e},T=function(e,t){for(var n=-1,r=o-1,s=7,l=0,c=a.getMaskFunction(t),u=o-1;u>0;u-=2)for(6==u&&(u-=1);;){for(var h=0;h<2;h+=1)if(null==i[r][u-h]){var f=!1;l<e.length&&(f=1==(e[l]>>>s&1)),c(r,u-h)&&(f=!f),i[r][u-h]=f,-1==(s-=1)&&(l+=1,s=7)}if((r+=n)<0||o<=r){r-=n,n=-n;break}}},R=function(e,t,n){for(var r=u.getRSBlocks(e,t),i=h(),o=0;o<n.length;o+=1){var s=n[o];i.put(s.getMode(),4),i.put(s.getLength(),a.getLengthInBits(s.getMode(),e)),s.write(i)}var l=0;for(o=0;o<r.length;o+=1)l+=r[o].dataCount;if(i.getLengthInBits()>8*l)throw"code length overflow. ("+i.getLengthInBits()+">"+8*l+")";for(i.getLengthInBits()+4<=8*l&&i.put(0,4);i.getLengthInBits()%8!=0;)i.putBit(!1);for(;!(i.getLengthInBits()>=8*l||(i.put(236,8),i.getLengthInBits()>=8*l));)i.put(17,8);return function(e,t){for(var n=0,r=0,i=0,o=new Array(t.length),s=new Array(t.length),l=0;l<t.length;l+=1){var u=t[l].dataCount,h=t[l].totalCount-u;r=Math.max(r,u),i=Math.max(i,h),o[l]=new Array(u);for(var f=0;f<o[l].length;f+=1)o[l][f]=255&e.getBuffer()[f+n];n+=u;var d=a.getErrorCorrectPolynomial(h),p=c(o[l],d.getLength()-1).mod(d);for(s[l]=new Array(d.getLength()-1),f=0;f<s[l].length;f+=1){var g=f+p.getLength()-s[l].length;s[l][f]=g>=0?p.getAt(g):0}}var y=0;for(f=0;f<t.length;f+=1)y+=t[f].totalCount;var v=new Array(y),m=0;for(f=0;f<r;f+=1)for(l=0;l<t.length;l+=1)f<o[l].length&&(v[m]=o[l][f],m+=1);for(f=0;f<i;f+=1)for(l=0;l<t.length;l+=1)f<s[l].length&&(v[m]=s[l][f],m+=1);return v}(i,r)};v.addData=function(e,t){var n=null;switch(t=t||"Byte"){case"Numeric":n=f(e);break;case"Alphanumeric":n=d(e);break;case"Byte":n=p(e);break;case"Kanji":n=g(e);break;default:throw"mode:"+t}y.push(n),l=null},v.isDark=function(e,t){if(e<0||o<=e||t<0||o<=t)throw e+","+t;return i[e][t]},v.getModuleCount=function(){return o},v.make=function(){if(n<1){for(var e=1;e<40;e++){for(var t=u.getRSBlocks(e,r),i=h(),o=0;o<y.length;o++){var s=y[o];i.put(s.getMode(),4),i.put(s.getLength(),a.getLengthInBits(s.getMode(),e)),s.write(i)}var l=0;for(o=0;o<t.length;o++)l+=t[o].dataCount;if(i.getLengthInBits()<=8*l)break}n=e}w(!1,function(){for(var e=0,t=0,n=0;n<8;n+=1){w(!0,n);var r=a.getLostPoint(v);(0==n||e>r)&&(e=r,t=n)}return t}())},v.createTableTag=function(e,t){e=e||2;var n="";n+='<table style="',n+=" border-width: 0px; border-style: none;",n+=" border-collapse: collapse;",n+=" padding: 0px; margin: "+(t=void 0===t?4*e:t)+"px;",n+='">',n+="<tbody>";for(var r=0;r<v.getModuleCount();r+=1){n+="<tr>";for(var i=0;i<v.getModuleCount();i+=1)n+='<td style="',n+=" border-width: 0px; border-style: none;",n+=" border-collapse: collapse;",n+=" padding: 0px; margin: 0px;",n+=" width: "+e+"px;",n+=" height: "+e+"px;",n+=" background-color: ",n+=v.isDark(r,i)?"#000000":"#ffffff",n+=";",n+='"/>';n+="</tr>"}return(n+="</tbody>")+"</table>"},v.createSvgTag=function(e,t,n,r){var i={};"object"==typeof arguments[0]&&(e=(i=arguments[0]).cellSize,t=i.margin,n=i.alt,r=i.title),e=e||2,t=void 0===t?4*e:t,(n="string"==typeof n?{text:n}:n||{}).text=n.text||null,n.id=n.text?n.id||"qrcode-description":null,(r="string"==typeof r?{text:r}:r||{}).text=r.text||null,r.id=r.text?r.id||"qrcode-title":null;var o,s,a,l,c=v.getModuleCount()*e+2*t,u="";for(l="l"+e+",0 0,"+e+" -"+e+",0 0,-"+e+"z ",u+='<svg version="1.1" xmlns="http://www.w3.org/2000/svg"',u+=i.scalable?"":' width="'+c+'px" height="'+c+'px"',u+=' viewBox="0 0 '+c+" "+c+'" ',u+=' preserveAspectRatio="xMinYMin meet"',u+=r.text||n.text?' role="img" aria-labelledby="'+x([r.id,n.id].join(" ").trim())+'"':"",u+=">",u+=r.text?'<title id="'+x(r.id)+'">'+x(r.text)+"</title>":"",u+=n.text?'<description id="'+x(n.id)+'">'+x(n.text)+"</description>":"",u+='<rect width="100%" height="100%" fill="white" cx="0" cy="0"/>',u+='<path d="',s=0;s<v.getModuleCount();s+=1)for(a=s*e+t,o=0;o<v.getModuleCount();o+=1)v.isDark(s,o)&&(u+="M"+(o*e+t)+","+a+l);return(u+='" stroke="transparent" fill="black"/>')+"</svg>"},v.createDataURL=function(e,t){e=e||2,t=void 0===t?4*e:t;var n=v.getModuleCount()*e+2*t,r=t,i=n-t;return m(n,n,(function(t,n){if(r<=t&&t<i&&r<=n&&n<i){var o=Math.floor((t-r)/e),s=Math.floor((n-r)/e);return v.isDark(s,o)?0:1}return 1}))},v.createImgTag=function(e,t,n){e=e||2,t=void 0===t?4*e:t;var r=v.getModuleCount()*e+2*t,i="";return i+="<img",i+=' src="',i+=v.createDataURL(e,t),i+='"',i+=' width="',i+=r,i+='"',i+=' height="',i+=r,i+='"',n&&(i+=' alt="',i+=x(n),i+='"'),i+"/>"};var x=function(e){for(var t="",n=0;n<e.length;n+=1){var r=e.charAt(n);switch(r){case"<":t+="&lt;";break;case">":t+="&gt;";break;case"&":t+="&amp;";break;case'"':t+="&quot;";break;default:t+=r}}return t};return v.createASCII=function(e,t){if((e=e||1)<2)return function(e){e=void 0===e?2:e;var t,n,r,i,o,s=1*v.getModuleCount()+2*e,a=e,l=s-e,c={"██":"█","█ ":"▀"," █":"▄","  ":" "},u={"██":"▀","█ ":"▀"," █":" ","  ":" "},h="";for(t=0;t<s;t+=2){for(r=Math.floor((t-a)/1),i=Math.floor((t+1-a)/1),n=0;n<s;n+=1)o="█",a<=n&&n<l&&a<=t&&t<l&&v.isDark(r,Math.floor((n-a)/1))&&(o=" "),a<=n&&n<l&&a<=t+1&&t+1<l&&v.isDark(i,Math.floor((n-a)/1))?o+=" ":o+="█",h+=e<1&&t+1>=l?u[o]:c[o];h+="\n"}return s%2&&e>0?h.substring(0,h.length-s-1)+Array(s+1).join("▀"):h.substring(0,h.length-1)}(t);e-=1,t=void 0===t?2*e:t;var n,r,i,o,s=v.getModuleCount()*e+2*t,a=t,l=s-t,c=Array(e+1).join("██"),u=Array(e+1).join("  "),h="",f="";for(n=0;n<s;n+=1){for(i=Math.floor((n-a)/e),f="",r=0;r<s;r+=1)o=1,a<=r&&r<l&&a<=n&&n<l&&v.isDark(i,Math.floor((r-a)/e))&&(o=0),f+=o?c:u;for(i=0;i<e;i+=1)h+=f+"\n"}return h.substring(0,h.length-1)},v.renderTo2dContext=function(e,t){t=t||2;for(var n=v.getModuleCount(),r=0;r<n;r++)for(var i=0;i<n;i++)e.fillStyle=v.isDark(r,i)?"black":"white",e.fillRect(r*t,i*t,t,t)},v};e.stringToBytes=(e.stringToBytesFuncs={default:function(e){for(var t=[],n=0;n<e.length;n+=1){var r=e.charCodeAt(n);t.push(255&r)}return t}}).default,e.createStringToBytes=function(e,t){var n=function(){for(var n=v(e),r=function(){var e=n.read();if(-1==e)throw"eof";return e},i=0,o={};;){var s=n.read();if(-1==s)break;var a=r(),l=r()<<8|r();o[String.fromCharCode(s<<8|a)]=l,i+=1}if(i!=t)throw i+" != "+t;return o}(),r="?".charCodeAt(0);return function(e){for(var t=[],i=0;i<e.length;i+=1){var o=e.charCodeAt(i);if(o<128)t.push(o);else{var s=n[e.charAt(i)];"number"==typeof s?(255&s)==s?t.push(s):(t.push(s>>>8),t.push(255&s)):t.push(r)}}return t}};var t,n,r,i,o,s={L:1,M:0,Q:3,H:2},a=(t=[[],[6,18],[6,22],[6,26],[6,30],[6,34],[6,22,38],[6,24,42],[6,26,46],[6,28,50],[6,30,54],[6,32,58],[6,34,62],[6,26,46,66],[6,26,48,70],[6,26,50,74],[6,30,54,78],[6,30,56,82],[6,30,58,86],[6,34,62,90],[6,28,50,72,94],[6,26,50,74,98],[6,30,54,78,102],[6,28,54,80,106],[6,32,58,84,110],[6,30,58,86,114],[6,34,62,90,118],[6,26,50,74,98,122],[6,30,54,78,102,126],[6,26,52,78,104,130],[6,30,56,82,108,134],[6,34,60,86,112,138],[6,30,58,86,114,142],[6,34,62,90,118,146],[6,30,54,78,102,126,150],[6,24,50,76,102,128,154],[6,28,54,80,106,132,158],[6,32,58,84,110,136,162],[6,26,54,82,110,138,166],[6,30,58,86,114,142,170]],n=1335,r=7973,o=function(e){for(var t=0;0!=e;)t+=1,e>>>=1;return t},(i={}).getBCHTypeInfo=function(e){for(var t=e<<10;o(t)-o(n)>=0;)t^=n<<o(t)-o(n);return 21522^(e<<10|t)},i.getBCHTypeNumber=function(e){for(var t=e<<12;o(t)-o(r)>=0;)t^=r<<o(t)-o(r);return e<<12|t},i.getPatternPosition=function(e){return t[e-1]},i.getMaskFunction=function(e){switch(e){case 0:return function(e,t){return(e+t)%2==0};case 1:return function(e,t){return e%2==0};case 2:return function(e,t){return t%3==0};case 3:return function(e,t){return(e+t)%3==0};case 4:return function(e,t){return(Math.floor(e/2)+Math.floor(t/3))%2==0};case 5:return function(e,t){return e*t%2+e*t%3==0};case 6:return function(e,t){return(e*t%2+e*t%3)%2==0};case 7:return function(e,t){return(e*t%3+(e+t)%2)%2==0};default:throw"bad maskPattern:"+e}},i.getErrorCorrectPolynomial=function(e){for(var t=c([1],0),n=0;n<e;n+=1)t=t.multiply(c([1,l.gexp(n)],0));return t},i.getLengthInBits=function(e,t){if(1<=t&&t<10)switch(e){case 1:return 10;case 2:return 9;case 4:case 8:return 8;default:throw"mode:"+e}else if(t<27)switch(e){case 1:return 12;case 2:return 11;case 4:return 16;case 8:return 10;default:throw"mode:"+e}else{if(!(t<41))throw"type:"+t;switch(e){case 1:return 14;case 2:return 13;case 4:return 16;case 8:return 12;default:throw"mode:"+e}}},i.getLostPoint=function(e){for(var t=e.getModuleCount(),n=0,r=0;r<t;r+=1)for(var i=0;i<t;i+=1){for(var o=0,s=e.isDark(r,i),a=-1;a<=1;a+=1)if(!(r+a<0||t<=r+a))for(var l=-1;l<=1;l+=1)i+l<0||t<=i+l||0==a&&0==l||s==e.isDark(r+a,i+l)&&(o+=1);o>5&&(n+=3+o-5)}for(r=0;r<t-1;r+=1)for(i=0;i<t-1;i+=1){var c=0;e.isDark(r,i)&&(c+=1),e.isDark(r+1,i)&&(c+=1),e.isDark(r,i+1)&&(c+=1),e.isDark(r+1,i+1)&&(c+=1),0!=c&&4!=c||(n+=3)}for(r=0;r<t;r+=1)for(i=0;i<t-6;i+=1)e.isDark(r,i)&&!e.isDark(r,i+1)&&e.isDark(r,i+2)&&e.isDark(r,i+3)&&e.isDark(r,i+4)&&!e.isDark(r,i+5)&&e.isDark(r,i+6)&&(n+=40);for(i=0;i<t;i+=1)for(r=0;r<t-6;r+=1)e.isDark(r,i)&&!e.isDark(r+1,i)&&e.isDark(r+2,i)&&e.isDark(r+3,i)&&e.isDark(r+4,i)&&!e.isDark(r+5,i)&&e.isDark(r+6,i)&&(n+=40);var u=0;for(i=0;i<t;i+=1)for(r=0;r<t;r+=1)e.isDark(r,i)&&(u+=1);return n+Math.abs(100*u/t/t-50)/5*10},i),l=function(){for(var e=new Array(256),t=new Array(256),n=0;n<8;n+=1)e[n]=1<<n;for(n=8;n<256;n+=1)e[n]=e[n-4]^e[n-5]^e[n-6]^e[n-8];for(n=0;n<255;n+=1)t[e[n]]=n;return{glog:function(e){if(e<1)throw"glog("+e+")";return t[e]},gexp:function(t){for(;t<0;)t+=255;for(;t>=256;)t-=255;return e[t]}}}();function c(e,t){if(void 0===e.length)throw e.length+"/"+t;var n=function(){for(var n=0;n<e.length&&0==e[n];)n+=1;for(var r=new Array(e.length-n+t),i=0;i<e.length-n;i+=1)r[i]=e[i+n];return r}(),r={getAt:function(e){return n[e]},getLength:function(){return n.length},multiply:function(e){for(var t=new Array(r.getLength()+e.getLength()-1),n=0;n<r.getLength();n+=1)for(var i=0;i<e.getLength();i+=1)t[n+i]^=l.gexp(l.glog(r.getAt(n))+l.glog(e.getAt(i)));return c(t,0)},mod:function(e){if(r.getLength()-e.getLength()<0)return r;for(var t=l.glog(r.getAt(0))-l.glog(e.getAt(0)),n=new Array(r.getLength()),i=0;i<r.getLength();i+=1)n[i]=r.getAt(i);for(i=0;i<e.getLength();i+=1)n[i]^=l.gexp(l.glog(e.getAt(i))+t);return c(n,0).mod(e)}};return r}var u=function(){var e=[[1,26,19],[1,26,16],[1,26,13],[1,26,9],[1,44,34],[1,44,28],[1,44,22],[1,44,16],[1,70,55],[1,70,44],[2,35,17],[2,35,13],[1,100,80],[2,50,32],[2,50,24],[4,25,9],[1,134,108],[2,67,43],[2,33,15,2,34,16],[2,33,11,2,34,12],[2,86,68],[4,43,27],[4,43,19],[4,43,15],[2,98,78],[4,49,31],[2,32,14,4,33,15],[4,39,13,1,40,14],[2,121,97],[2,60,38,2,61,39],[4,40,18,2,41,19],[4,40,14,2,41,15],[2,146,116],[3,58,36,2,59,37],[4,36,16,4,37,17],[4,36,12,4,37,13],[2,86,68,2,87,69],[4,69,43,1,70,44],[6,43,19,2,44,20],[6,43,15,2,44,16],[4,101,81],[1,80,50,4,81,51],[4,50,22,4,51,23],[3,36,12,8,37,13],[2,116,92,2,117,93],[6,58,36,2,59,37],[4,46,20,6,47,21],[7,42,14,4,43,15],[4,133,107],[8,59,37,1,60,38],[8,44,20,4,45,21],[12,33,11,4,34,12],[3,145,115,1,146,116],[4,64,40,5,65,41],[11,36,16,5,37,17],[11,36,12,5,37,13],[5,109,87,1,110,88],[5,65,41,5,66,42],[5,54,24,7,55,25],[11,36,12,7,37,13],[5,122,98,1,123,99],[7,73,45,3,74,46],[15,43,19,2,44,20],[3,45,15,13,46,16],[1,135,107,5,136,108],[10,74,46,1,75,47],[1,50,22,15,51,23],[2,42,14,17,43,15],[5,150,120,1,151,121],[9,69,43,4,70,44],[17,50,22,1,51,23],[2,42,14,19,43,15],[3,141,113,4,142,114],[3,70,44,11,71,45],[17,47,21,4,48,22],[9,39,13,16,40,14],[3,135,107,5,136,108],[3,67,41,13,68,42],[15,54,24,5,55,25],[15,43,15,10,44,16],[4,144,116,4,145,117],[17,68,42],[17,50,22,6,51,23],[19,46,16,6,47,17],[2,139,111,7,140,112],[17,74,46],[7,54,24,16,55,25],[34,37,13],[4,151,121,5,152,122],[4,75,47,14,76,48],[11,54,24,14,55,25],[16,45,15,14,46,16],[6,147,117,4,148,118],[6,73,45,14,74,46],[11,54,24,16,55,25],[30,46,16,2,47,17],[8,132,106,4,133,107],[8,75,47,13,76,48],[7,54,24,22,55,25],[22,45,15,13,46,16],[10,142,114,2,143,115],[19,74,46,4,75,47],[28,50,22,6,51,23],[33,46,16,4,47,17],[8,152,122,4,153,123],[22,73,45,3,74,46],[8,53,23,26,54,24],[12,45,15,28,46,16],[3,147,117,10,148,118],[3,73,45,23,74,46],[4,54,24,31,55,25],[11,45,15,31,46,16],[7,146,116,7,147,117],[21,73,45,7,74,46],[1,53,23,37,54,24],[19,45,15,26,46,16],[5,145,115,10,146,116],[19,75,47,10,76,48],[15,54,24,25,55,25],[23,45,15,25,46,16],[13,145,115,3,146,116],[2,74,46,29,75,47],[42,54,24,1,55,25],[23,45,15,28,46,16],[17,145,115],[10,74,46,23,75,47],[10,54,24,35,55,25],[19,45,15,35,46,16],[17,145,115,1,146,116],[14,74,46,21,75,47],[29,54,24,19,55,25],[11,45,15,46,46,16],[13,145,115,6,146,116],[14,74,46,23,75,47],[44,54,24,7,55,25],[59,46,16,1,47,17],[12,151,121,7,152,122],[12,75,47,26,76,48],[39,54,24,14,55,25],[22,45,15,41,46,16],[6,151,121,14,152,122],[6,75,47,34,76,48],[46,54,24,10,55,25],[2,45,15,64,46,16],[17,152,122,4,153,123],[29,74,46,14,75,47],[49,54,24,10,55,25],[24,45,15,46,46,16],[4,152,122,18,153,123],[13,74,46,32,75,47],[48,54,24,14,55,25],[42,45,15,32,46,16],[20,147,117,4,148,118],[40,75,47,7,76,48],[43,54,24,22,55,25],[10,45,15,67,46,16],[19,148,118,6,149,119],[18,75,47,31,76,48],[34,54,24,34,55,25],[20,45,15,61,46,16]],t=function(e,t){var n={};return n.totalCount=e,n.dataCount=t,n},n={getRSBlocks:function(n,r){var i=function(t,n){switch(n){case s.L:return e[4*(t-1)+0];case s.M:return e[4*(t-1)+1];case s.Q:return e[4*(t-1)+2];case s.H:return e[4*(t-1)+3];default:return}}(n,r);if(void 0===i)throw"bad rs block @ typeNumber:"+n+"/errorCorrectionLevel:"+r;for(var o=i.length/3,a=[],l=0;l<o;l+=1)for(var c=i[3*l+0],u=i[3*l+1],h=i[3*l+2],f=0;f<c;f+=1)a.push(t(u,h));return a}};return n}(),h=function(){var e=[],t=0,n={getBuffer:function(){return e},getAt:function(t){var n=Math.floor(t/8);return 1==(e[n]>>>7-t%8&1)},put:function(e,t){for(var r=0;r<t;r+=1)n.putBit(1==(e>>>t-r-1&1))},getLengthInBits:function(){return t},putBit:function(n){var r=Math.floor(t/8);e.length<=r&&e.push(0),n&&(e[r]|=128>>>t%8),t+=1}};return n},f=function(e){var t=e,n={getMode:function(){return 1},getLength:function(e){return t.length},write:function(e){for(var n=t,i=0;i+2<n.length;)e.put(r(n.substring(i,i+3)),10),i+=3;i<n.length&&(n.length-i==1?e.put(r(n.substring(i,i+1)),4):n.length-i==2&&e.put(r(n.substring(i,i+2)),7))}},r=function(e){for(var t=0,n=0;n<e.length;n+=1)t=10*t+i(e.charAt(n));return t},i=function(e){if("0"<=e&&e<="9")return e.charCodeAt(0)-"0".charCodeAt(0);throw"illegal char :"+e};return n},d=function(e){var t=e,n={getMode:function(){return 2},getLength:function(e){return t.length},write:function(e){for(var n=t,i=0;i+1<n.length;)e.put(45*r(n.charAt(i))+r(n.charAt(i+1)),11),i+=2;i<n.length&&e.put(r(n.charAt(i)),6)}},r=function(e){if("0"<=e&&e<="9")return e.charCodeAt(0)-"0".charCodeAt(0);if("A"<=e&&e<="Z")return e.charCodeAt(0)-"A".charCodeAt(0)+10;switch(e){case" ":return 36;case"$":return 37;case"%":return 38;case"*":return 39;case"+":return 40;case"-":return 41;case".":return 42;case"/":return 43;case":":return 44;default:throw"illegal char :"+e}};return n},p=function(t){var n=e.stringToBytes(t);return{getMode:function(){return 4},getLength:function(e){return n.length},write:function(e){for(var t=0;t<n.length;t+=1)e.put(n[t],8)}}},g=function(t){var n=e.stringToBytesFuncs.SJIS;if(!n)throw"sjis not supported.";!function(e,t){var r=n("友");if(2!=r.length||38726!=(r[0]<<8|r[1]))throw"sjis not supported."}();var r=n(t),i={getMode:function(){return 8},getLength:function(e){return~~(r.length/2)},write:function(e){for(var t=r,n=0;n+1<t.length;){var i=(255&t[n])<<8|255&t[n+1];if(33088<=i&&i<=40956)i-=33088;else{if(!(57408<=i&&i<=60351))throw"illegal char at "+(n+1)+"/"+i;i-=49472}i=192*(i>>>8&255)+(255&i),e.put(i,13),n+=2}if(n<t.length)throw"illegal char at "+(n+1)}};return i},y=function(){var e=[],t={writeByte:function(t){e.push(255&t)},writeShort:function(e){t.writeByte(e),t.writeByte(e>>>8)},writeBytes:function(e,n,r){n=n||0,r=r||e.length;for(var i=0;i<r;i+=1)t.writeByte(e[i+n])},writeString:function(e){for(var n=0;n<e.length;n+=1)t.writeByte(e.charCodeAt(n))},toByteArray:function(){return e},toString:function(){var t="";t+="[";for(var n=0;n<e.length;n+=1)n>0&&(t+=","),t+=e[n];return t+"]"}};return t},v=function(e){var t=e,n=0,r=0,i=0,o={read:function(){for(;i<8;){if(n>=t.length){if(0==i)return-1;throw"unexpected end of file./"+i}var e=t.charAt(n);if(n+=1,"="==e)return i=0,-1;e.match(/^\s$/)||(r=r<<6|s(e.charCodeAt(0)),i+=6)}var o=r>>>i-8&255;return i-=8,o}},s=function(e){if(65<=e&&e<=90)return e-65;if(97<=e&&e<=122)return e-97+26;if(48<=e&&e<=57)return e-48+52;if(43==e)return 62;if(47==e)return 63;throw"c:"+e};return o},m=function(e,t,n){for(var r=function(e,t){var n=e,r=t,i=new Array(e*t),o={setPixel:function(e,t,r){i[t*n+e]=r},write:function(e){e.writeString("GIF87a"),e.writeShort(n),e.writeShort(r),e.writeByte(128),e.writeByte(0),e.writeByte(0),e.writeByte(0),e.writeByte(0),e.writeByte(0),e.writeByte(255),e.writeByte(255),e.writeByte(255),e.writeString(","),e.writeShort(0),e.writeShort(0),e.writeShort(n),e.writeShort(r),e.writeByte(0);var t=s(2);e.writeByte(2);for(var i=0;t.length-i>255;)e.writeByte(255),e.writeBytes(t,i,255),i+=255;e.writeByte(t.length-i),e.writeBytes(t,i,t.length-i),e.writeByte(0),e.writeString(";")}},s=function(e){for(var t=1<<e,n=1+(1<<e),r=e+1,o=a(),s=0;s<t;s+=1)o.add(String.fromCharCode(s));o.add(String.fromCharCode(t)),o.add(String.fromCharCode(n));var l,c,u,h=y(),f=(l=h,c=0,u=0,{write:function(e,t){if(e>>>t!=0)throw"length over";for(;c+t>=8;)l.writeByte(255&(e<<c|u)),t-=8-c,e>>>=8-c,u=0,c=0;u|=e<<c,c+=t},flush:function(){c>0&&l.writeByte(u)}});f.write(t,r);var d=0,p=String.fromCharCode(i[d]);for(d+=1;d<i.length;){var g=String.fromCharCode(i[d]);d+=1,o.contains(p+g)?p+=g:(f.write(o.indexOf(p),r),o.size()<4095&&(o.size()==1<<r&&(r+=1),o.add(p+g)),p=g)}return f.write(o.indexOf(p),r),f.write(n,r),f.flush(),h.toByteArray()},a=function(){var e={},t=0,n={add:function(r){if(n.contains(r))throw"dup key:"+r;e[r]=t,t+=1},size:function(){return t},indexOf:function(t){return e[t]},contains:function(t){return void 0!==e[t]}};return n};return o}(e,t),i=0;i<t;i+=1)for(var o=0;o<e;o+=1)r.setPixel(o,i,n(o,i));var s=y();r.write(s);for(var a=function(){var e=0,t=0,n=0,r="",i={},o=function(e){r+=String.fromCharCode(s(63&e))},s=function(e){if(e<0);else{if(e<26)return 65+e;if(e<52)return e-26+97;if(e<62)return e-52+48;if(62==e)return 43;if(63==e)return 47}throw"n:"+e};return i.writeByte=function(r){for(e=e<<8|255&r,t+=8,n+=1;t>=6;)o(e>>>t-6),t-=6},i.flush=function(){if(t>0&&(o(e<<6-t),e=0,t=0),n%3!=0)for(var i=3-n%3,s=0;s<i;s+=1)r+="="},i.toString=function(){return r},i}(),l=s.toByteArray(),c=0;c<l.length;c+=1)a.writeByte(l[c]);return a.flush(),"data:image/gif;base64,"+a};return e}();i.stringToBytesFuncs["UTF-8"]=function(e){return function(e){for(var t=[],n=0;n<e.length;n++){var r=e.charCodeAt(n);r<128?t.push(r):r<2048?t.push(192|r>>6,128|63&r):r<55296||r>=57344?t.push(224|r>>12,128|r>>6&63,128|63&r):(n++,r=65536+((1023&r)<<10|1023&e.charCodeAt(n)),t.push(240|r>>18,128|r>>12&63,128|r>>6&63,128|63&r))}return t}(e)},void 0===(r="function"==typeof(n=function(){return i})?n.apply(t,[]):n)||(e.exports=r)},4281:e=>{"use strict";var t={};function n(e,n,r){r||(r=Error);var i=function(e){var t,r;function i(t,r,i){return e.call(this,function(e,t,r){return"string"==typeof n?n:n(e,t,r)}(t,r,i))||this}return r=e,(t=i).prototype=Object.create(r.prototype),t.prototype.constructor=t,t.__proto__=r,i}(r);i.prototype.name=r.name,i.prototype.code=e,t[e]=i}function r(e,t){if(Array.isArray(e)){var n=e.length;return e=e.map((function(e){return String(e)})),n>2?"one of ".concat(t," ").concat(e.slice(0,n-1).join(", "),", or ")+e[n-1]:2===n?"one of ".concat(t," ").concat(e[0]," or ").concat(e[1]):"of ".concat(t," ").concat(e[0])}return"of ".concat(t," ").concat(String(e))}n("ERR_INVALID_OPT_VALUE",(function(e,t){return'The value "'+t+'" is invalid for option "'+e+'"'}),TypeError),n("ERR_INVALID_ARG_TYPE",(function(e,t,n){var i,o,s,a,l;if("string"==typeof t&&(o="not ",t.substr(0,o.length)===o)?(i="must not be",t=t.replace(/^not /,"")):i="must be",function(e,t,n){return(void 0===n||n>e.length)&&(n=e.length),e.substring(n-t.length,n)===t}(e," argument"))s="The ".concat(e," ").concat(i," ").concat(r(t,"type"));else{var c=("number"!=typeof l&&(l=0),l+".".length>(a=e).length||-1===a.indexOf(".",l)?"argument":"property");s='The "'.concat(e,'" ').concat(c," ").concat(i," ").concat(r(t,"type"))}return s+". Received type ".concat(typeof n)}),TypeError),n("ERR_STREAM_PUSH_AFTER_EOF","stream.push() after EOF"),n("ERR_METHOD_NOT_IMPLEMENTED",(function(e){return"The "+e+" method is not implemented"})),n("ERR_STREAM_PREMATURE_CLOSE","Premature close"),n("ERR_STREAM_DESTROYED",(function(e){return"Cannot call "+e+" after a stream was destroyed"})),n("ERR_MULTIPLE_CALLBACK","Callback called multiple times"),n("ERR_STREAM_CANNOT_PIPE","Cannot pipe, not readable"),n("ERR_STREAM_WRITE_AFTER_END","write after end"),n("ERR_STREAM_NULL_VALUES","May not write null values to stream",TypeError),n("ERR_UNKNOWN_ENCODING",(function(e){return"Unknown encoding: "+e}),TypeError),n("ERR_STREAM_UNSHIFT_AFTER_END_EVENT","stream.unshift() after end event"),e.exports.q=t},6753:(e,t,n)=>{"use strict";var r=n(4155),i=Object.keys||function(e){var t=[];for(var n in e)t.push(n);return t};e.exports=u;var o=n(9481),s=n(4229);n(5717)(u,o);for(var a=i(s.prototype),l=0;l<a.length;l++){var c=a[l];u.prototype[c]||(u.prototype[c]=s.prototype[c])}function u(e){if(!(this instanceof u))return new u(e);o.call(this,e),s.call(this,e),this.allowHalfOpen=!0,e&&(!1===e.readable&&(this.readable=!1),!1===e.writable&&(this.writable=!1),!1===e.allowHalfOpen&&(this.allowHalfOpen=!1,this.once("end",h)))}function h(){this._writableState.ended||r.nextTick(f,this)}function f(e){e.end()}Object.defineProperty(u.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),Object.defineProperty(u.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}}),Object.defineProperty(u.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}}),Object.defineProperty(u.prototype,"destroyed",{enumerable:!1,get:function(){return void 0!==this._readableState&&void 0!==this._writableState&&this._readableState.destroyed&&this._writableState.destroyed},set:function(e){void 0!==this._readableState&&void 0!==this._writableState&&(this._readableState.destroyed=e,this._writableState.destroyed=e)}})},2725:(e,t,n)=>{"use strict";e.exports=i;var r=n(4605);function i(e){if(!(this instanceof i))return new i(e);r.call(this,e)}n(5717)(i,r),i.prototype._transform=function(e,t,n){n(null,e)}},9481:(e,t,n)=>{"use strict";var r,i=n(4155);e.exports=T,T.ReadableState=S,n(7187).EventEmitter;var o,s=function(e,t){return e.listeners(t).length},a=n(2503),l=n(8764).Buffer,c=(void 0!==n.g?n.g:"undefined"!=typeof window?window:"undefined"!=typeof self?self:{}).Uint8Array||function(){},u=n(4616);o=u&&u.debuglog?u.debuglog("stream"):function(){};var h,f,d,p=n(7327),g=n(1195),y=n(2457).getHighWaterMark,v=n(4281).q,m=v.ERR_INVALID_ARG_TYPE,w=v.ERR_STREAM_PUSH_AFTER_EOF,E=v.ERR_METHOD_NOT_IMPLEMENTED,b=v.ERR_STREAM_UNSHIFT_AFTER_END_EVENT;n(5717)(T,a);var _=g.errorOrDestroy,A=["error","close","destroy","pause","resume"];function S(e,t,i){r=r||n(6753),e=e||{},"boolean"!=typeof i&&(i=t instanceof r),this.objectMode=!!e.objectMode,i&&(this.objectMode=this.objectMode||!!e.readableObjectMode),this.highWaterMark=y(this,e,"readableHighWaterMark",i),this.buffer=new p,this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.paused=!0,this.emitClose=!1!==e.emitClose,this.autoDestroy=!!e.autoDestroy,this.destroyed=!1,this.defaultEncoding=e.defaultEncoding||"utf8",this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,e.encoding&&(h||(h=n(2553).s),this.decoder=new h(e.encoding),this.encoding=e.encoding)}function T(e){if(r=r||n(6753),!(this instanceof T))return new T(e);var t=this instanceof r;this._readableState=new S(e,this,t),this.readable=!0,e&&("function"==typeof e.read&&(this._read=e.read),"function"==typeof e.destroy&&(this._destroy=e.destroy)),a.call(this)}function R(e,t,n,r,i){o("readableAddChunk",t);var s,a=e._readableState;if(null===t)a.reading=!1,function(e,t){if(o("onEofChunk"),!t.ended){if(t.decoder){var n=t.decoder.end();n&&n.length&&(t.buffer.push(n),t.length+=t.objectMode?1:n.length)}t.ended=!0,t.sync?k(e):(t.needReadable=!1,t.emittedReadable||(t.emittedReadable=!0,N(e)))}}(e,a);else if(i||(s=function(e,t){var n,r;return r=t,l.isBuffer(r)||r instanceof c||"string"==typeof t||void 0===t||e.objectMode||(n=new m("chunk",["string","Buffer","Uint8Array"],t)),n}(a,t)),s)_(e,s);else if(a.objectMode||t&&t.length>0)if("string"==typeof t||a.objectMode||Object.getPrototypeOf(t)===l.prototype||(t=function(e){return l.from(e)}(t)),r)a.endEmitted?_(e,new b):x(e,a,t,!0);else if(a.ended)_(e,new w);else{if(a.destroyed)return!1;a.reading=!1,a.decoder&&!n?(t=a.decoder.write(t),a.objectMode||0!==t.length?x(e,a,t,!1):C(e,a)):x(e,a,t,!1)}else r||(a.reading=!1,C(e,a));return!a.ended&&(a.length<a.highWaterMark||0===a.length)}function x(e,t,n,r){t.flowing&&0===t.length&&!t.sync?(t.awaitDrain=0,e.emit("data",n)):(t.length+=t.objectMode?1:n.length,r?t.buffer.unshift(n):t.buffer.push(n),t.needReadable&&k(e)),C(e,t)}Object.defineProperty(T.prototype,"destroyed",{enumerable:!1,get:function(){return void 0!==this._readableState&&this._readableState.destroyed},set:function(e){this._readableState&&(this._readableState.destroyed=e)}}),T.prototype.destroy=g.destroy,T.prototype._undestroy=g.undestroy,T.prototype._destroy=function(e,t){t(e)},T.prototype.push=function(e,t){var n,r=this._readableState;return r.objectMode?n=!0:"string"==typeof e&&((t=t||r.defaultEncoding)!==r.encoding&&(e=l.from(e,t),t=""),n=!0),R(this,e,t,!1,n)},T.prototype.unshift=function(e){return R(this,e,null,!0,!1)},T.prototype.isPaused=function(){return!1===this._readableState.flowing},T.prototype.setEncoding=function(e){h||(h=n(2553).s);var t=new h(e);this._readableState.decoder=t,this._readableState.encoding=this._readableState.decoder.encoding;for(var r=this._readableState.buffer.head,i="";null!==r;)i+=t.write(r.data),r=r.next;return this._readableState.buffer.clear(),""!==i&&this._readableState.buffer.push(i),this._readableState.length=i.length,this};var I=1073741824;function O(e,t){return e<=0||0===t.length&&t.ended?0:t.objectMode?1:e!=e?t.flowing&&t.length?t.buffer.head.data.length:t.length:(e>t.highWaterMark&&(t.highWaterMark=function(e){return e>=I?e=I:(e--,e|=e>>>1,e|=e>>>2,e|=e>>>4,e|=e>>>8,e|=e>>>16,e++),e}(e)),e<=t.length?e:t.ended?t.length:(t.needReadable=!0,0))}function k(e){var t=e._readableState;o("emitReadable",t.needReadable,t.emittedReadable),t.needReadable=!1,t.emittedReadable||(o("emitReadable",t.flowing),t.emittedReadable=!0,i.nextTick(N,e))}function N(e){var t=e._readableState;o("emitReadable_",t.destroyed,t.length,t.ended),t.destroyed||!t.length&&!t.ended||(e.emit("readable"),t.emittedReadable=!1),t.needReadable=!t.flowing&&!t.ended&&t.length<=t.highWaterMark,U(e)}function C(e,t){t.readingMore||(t.readingMore=!0,i.nextTick(P,e,t))}function P(e,t){for(;!t.reading&&!t.ended&&(t.length<t.highWaterMark||t.flowing&&0===t.length);){var n=t.length;if(o("maybeReadMore read 0"),e.read(0),n===t.length)break}t.readingMore=!1}function L(e){var t=e._readableState;t.readableListening=e.listenerCount("readable")>0,t.resumeScheduled&&!t.paused?t.flowing=!0:e.listenerCount("data")>0&&e.resume()}function M(e){o("readable nexttick read 0"),e.read(0)}function B(e,t){o("resume",t.reading),t.reading||e.read(0),t.resumeScheduled=!1,e.emit("resume"),U(e),t.flowing&&!t.reading&&e.read(0)}function U(e){var t=e._readableState;for(o("flow",t.flowing);t.flowing&&null!==e.read(););}function D(e,t){return 0===t.length?null:(t.objectMode?n=t.buffer.shift():!e||e>=t.length?(n=t.decoder?t.buffer.join(""):1===t.buffer.length?t.buffer.first():t.buffer.concat(t.length),t.buffer.clear()):n=t.buffer.consume(e,t.decoder),n);var n}function j(e){var t=e._readableState;o("endReadable",t.endEmitted),t.endEmitted||(t.ended=!0,i.nextTick(K,t,e))}function K(e,t){if(o("endReadableNT",e.endEmitted,e.length),!e.endEmitted&&0===e.length&&(e.endEmitted=!0,t.readable=!1,t.emit("end"),e.autoDestroy)){var n=t._writableState;(!n||n.autoDestroy&&n.finished)&&t.destroy()}}function q(e,t){for(var n=0,r=e.length;n<r;n++)if(e[n]===t)return n;return-1}T.prototype.read=function(e){o("read",e),e=parseInt(e,10);var t=this._readableState,n=e;if(0!==e&&(t.emittedReadable=!1),0===e&&t.needReadable&&((0!==t.highWaterMark?t.length>=t.highWaterMark:t.length>0)||t.ended))return o("read: emitReadable",t.length,t.ended),0===t.length&&t.ended?j(this):k(this),null;if(0===(e=O(e,t))&&t.ended)return 0===t.length&&j(this),null;var r,i=t.needReadable;return o("need readable",i),(0===t.length||t.length-e<t.highWaterMark)&&o("length less than watermark",i=!0),t.ended||t.reading?o("reading or ended",i=!1):i&&(o("do read"),t.reading=!0,t.sync=!0,0===t.length&&(t.needReadable=!0),this._read(t.highWaterMark),t.sync=!1,t.reading||(e=O(n,t))),null===(r=e>0?D(e,t):null)?(t.needReadable=t.length<=t.highWaterMark,e=0):(t.length-=e,t.awaitDrain=0),0===t.length&&(t.ended||(t.needReadable=!0),n!==e&&t.ended&&j(this)),null!==r&&this.emit("data",r),r},T.prototype._read=function(e){_(this,new E("_read()"))},T.prototype.pipe=function(e,t){var n=this,r=this._readableState;switch(r.pipesCount){case 0:r.pipes=e;break;case 1:r.pipes=[r.pipes,e];break;default:r.pipes.push(e)}r.pipesCount+=1,o("pipe count=%d opts=%j",r.pipesCount,t);var a=t&&!1===t.end||e===i.stdout||e===i.stderr?g:l;function l(){o("onend"),e.end()}r.endEmitted?i.nextTick(a):n.once("end",a),e.on("unpipe",(function t(i,s){o("onunpipe"),i===n&&s&&!1===s.hasUnpiped&&(s.hasUnpiped=!0,o("cleanup"),e.removeListener("close",d),e.removeListener("finish",p),e.removeListener("drain",c),e.removeListener("error",f),e.removeListener("unpipe",t),n.removeListener("end",l),n.removeListener("end",g),n.removeListener("data",h),u=!0,!r.awaitDrain||e._writableState&&!e._writableState.needDrain||c())}));var c=function(e){return function(){var t=e._readableState;o("pipeOnDrain",t.awaitDrain),t.awaitDrain&&t.awaitDrain--,0===t.awaitDrain&&s(e,"data")&&(t.flowing=!0,U(e))}}(n);e.on("drain",c);var u=!1;function h(t){o("ondata");var i=e.write(t);o("dest.write",i),!1===i&&((1===r.pipesCount&&r.pipes===e||r.pipesCount>1&&-1!==q(r.pipes,e))&&!u&&(o("false write response, pause",r.awaitDrain),r.awaitDrain++),n.pause())}function f(t){o("onerror",t),g(),e.removeListener("error",f),0===s(e,"error")&&_(e,t)}function d(){e.removeListener("finish",p),g()}function p(){o("onfinish"),e.removeListener("close",d),g()}function g(){o("unpipe"),n.unpipe(e)}return n.on("data",h),function(e,t,n){if("function"==typeof e.prependListener)return e.prependListener(t,n);e._events&&e._events[t]?Array.isArray(e._events[t])?e._events[t].unshift(n):e._events[t]=[n,e._events[t]]:e.on(t,n)}(e,"error",f),e.once("close",d),e.once("finish",p),e.emit("pipe",n),r.flowing||(o("pipe resume"),n.resume()),e},T.prototype.unpipe=function(e){var t=this._readableState,n={hasUnpiped:!1};if(0===t.pipesCount)return this;if(1===t.pipesCount)return e&&e!==t.pipes||(e||(e=t.pipes),t.pipes=null,t.pipesCount=0,t.flowing=!1,e&&e.emit("unpipe",this,n)),this;if(!e){var r=t.pipes,i=t.pipesCount;t.pipes=null,t.pipesCount=0,t.flowing=!1;for(var o=0;o<i;o++)r[o].emit("unpipe",this,{hasUnpiped:!1});return this}var s=q(t.pipes,e);return-1===s||(t.pipes.splice(s,1),t.pipesCount-=1,1===t.pipesCount&&(t.pipes=t.pipes[0]),e.emit("unpipe",this,n)),this},T.prototype.on=function(e,t){var n=a.prototype.on.call(this,e,t),r=this._readableState;return"data"===e?(r.readableListening=this.listenerCount("readable")>0,!1!==r.flowing&&this.resume()):"readable"===e&&(r.endEmitted||r.readableListening||(r.readableListening=r.needReadable=!0,r.flowing=!1,r.emittedReadable=!1,o("on readable",r.length,r.reading),r.length?k(this):r.reading||i.nextTick(M,this))),n},T.prototype.addListener=T.prototype.on,T.prototype.removeListener=function(e,t){var n=a.prototype.removeListener.call(this,e,t);return"readable"===e&&i.nextTick(L,this),n},T.prototype.removeAllListeners=function(e){var t=a.prototype.removeAllListeners.apply(this,arguments);return"readable"!==e&&void 0!==e||i.nextTick(L,this),t},T.prototype.resume=function(){var e=this._readableState;return e.flowing||(o("resume"),e.flowing=!e.readableListening,function(e,t){t.resumeScheduled||(t.resumeScheduled=!0,i.nextTick(B,e,t))}(this,e)),e.paused=!1,this},T.prototype.pause=function(){return o("call pause flowing=%j",this._readableState.flowing),!1!==this._readableState.flowing&&(o("pause"),this._readableState.flowing=!1,this.emit("pause")),this._readableState.paused=!0,this},T.prototype.wrap=function(e){var t=this,n=this._readableState,r=!1;for(var i in e.on("end",(function(){if(o("wrapped end"),n.decoder&&!n.ended){var e=n.decoder.end();e&&e.length&&t.push(e)}t.push(null)})),e.on("data",(function(i){o("wrapped data"),n.decoder&&(i=n.decoder.write(i)),n.objectMode&&null==i||(n.objectMode||i&&i.length)&&(t.push(i)||(r=!0,e.pause()))})),e)void 0===this[i]&&"function"==typeof e[i]&&(this[i]=function(t){return function(){return e[t].apply(e,arguments)}}(i));for(var s=0;s<A.length;s++)e.on(A[s],this.emit.bind(this,A[s]));return this._read=function(t){o("wrapped _read",t),r&&(r=!1,e.resume())},this},"function"==typeof Symbol&&(T.prototype[Symbol.asyncIterator]=function(){return void 0===f&&(f=n(5850)),f(this)}),Object.defineProperty(T.prototype,"readableHighWaterMark",{enumerable:!1,get:function(){return this._readableState.highWaterMark}}),Object.defineProperty(T.prototype,"readableBuffer",{enumerable:!1,get:function(){return this._readableState&&this._readableState.buffer}}),Object.defineProperty(T.prototype,"readableFlowing",{enumerable:!1,get:function(){return this._readableState.flowing},set:function(e){this._readableState&&(this._readableState.flowing=e)}}),T._fromList=D,Object.defineProperty(T.prototype,"readableLength",{enumerable:!1,get:function(){return this._readableState.length}}),"function"==typeof Symbol&&(T.from=function(e,t){return void 0===d&&(d=n(5167)),d(T,e,t)})},4605:(e,t,n)=>{"use strict";e.exports=u;var r=n(4281).q,i=r.ERR_METHOD_NOT_IMPLEMENTED,o=r.ERR_MULTIPLE_CALLBACK,s=r.ERR_TRANSFORM_ALREADY_TRANSFORMING,a=r.ERR_TRANSFORM_WITH_LENGTH_0,l=n(6753);function c(e,t){var n=this._transformState;n.transforming=!1;var r=n.writecb;if(null===r)return this.emit("error",new o);n.writechunk=null,n.writecb=null,null!=t&&this.push(t),r(e);var i=this._readableState;i.reading=!1,(i.needReadable||i.length<i.highWaterMark)&&this._read(i.highWaterMark)}function u(e){if(!(this instanceof u))return new u(e);l.call(this,e),this._transformState={afterTransform:c.bind(this),needTransform:!1,transforming:!1,writecb:null,writechunk:null,writeencoding:null},this._readableState.needReadable=!0,this._readableState.sync=!1,e&&("function"==typeof e.transform&&(this._transform=e.transform),"function"==typeof e.flush&&(this._flush=e.flush)),this.on("prefinish",h)}function h(){var e=this;"function"!=typeof this._flush||this._readableState.destroyed?f(this,null,null):this._flush((function(t,n){f(e,t,n)}))}function f(e,t,n){if(t)return e.emit("error",t);if(null!=n&&e.push(n),e._writableState.length)throw new a;if(e._transformState.transforming)throw new s;return e.push(null)}n(5717)(u,l),u.prototype.push=function(e,t){return this._transformState.needTransform=!1,l.prototype.push.call(this,e,t)},u.prototype._transform=function(e,t,n){n(new i("_transform()"))},u.prototype._write=function(e,t,n){var r=this._transformState;if(r.writecb=n,r.writechunk=e,r.writeencoding=t,!r.transforming){var i=this._readableState;(r.needTransform||i.needReadable||i.length<i.highWaterMark)&&this._read(i.highWaterMark)}},u.prototype._read=function(e){var t=this._transformState;null===t.writechunk||t.transforming?t.needTransform=!0:(t.transforming=!0,this._transform(t.writechunk,t.writeencoding,t.afterTransform))},u.prototype._destroy=function(e,t){l.prototype._destroy.call(this,e,(function(e){t(e)}))}},4229:(e,t,n)=>{"use strict";var r,i=n(4155);function o(e){var t=this;this.next=null,this.entry=null,this.finish=function(){!function(e,t,n){var r=e.entry;for(e.entry=null;r;){var i=r.callback;t.pendingcb--,i(undefined),r=r.next}t.corkedRequestsFree.next=e}(t,e)}}e.exports=T,T.WritableState=S;var s,a={deprecate:n(4927)},l=n(2503),c=n(8764).Buffer,u=(void 0!==n.g?n.g:"undefined"!=typeof window?window:"undefined"!=typeof self?self:{}).Uint8Array||function(){},h=n(1195),f=n(2457).getHighWaterMark,d=n(4281).q,p=d.ERR_INVALID_ARG_TYPE,g=d.ERR_METHOD_NOT_IMPLEMENTED,y=d.ERR_MULTIPLE_CALLBACK,v=d.ERR_STREAM_CANNOT_PIPE,m=d.ERR_STREAM_DESTROYED,w=d.ERR_STREAM_NULL_VALUES,E=d.ERR_STREAM_WRITE_AFTER_END,b=d.ERR_UNKNOWN_ENCODING,_=h.errorOrDestroy;function A(){}function S(e,t,s){r=r||n(6753),e=e||{},"boolean"!=typeof s&&(s=t instanceof r),this.objectMode=!!e.objectMode,s&&(this.objectMode=this.objectMode||!!e.writableObjectMode),this.highWaterMark=f(this,e,"writableHighWaterMark",s),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1;var a=!1===e.decodeStrings;this.decodeStrings=!a,this.defaultEncoding=e.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(e){!function(e,t){var n=e._writableState,r=n.sync,o=n.writecb;if("function"!=typeof o)throw new y;if(function(e){e.writing=!1,e.writecb=null,e.length-=e.writelen,e.writelen=0}(n),t)!function(e,t,n,r,o){--t.pendingcb,n?(i.nextTick(o,r),i.nextTick(N,e,t),e._writableState.errorEmitted=!0,_(e,r)):(o(r),e._writableState.errorEmitted=!0,_(e,r),N(e,t))}(e,n,r,t,o);else{var s=O(n)||e.destroyed;s||n.corked||n.bufferProcessing||!n.bufferedRequest||I(e,n),r?i.nextTick(x,e,n,s,o):x(e,n,s,o)}}(t,e)},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.emitClose=!1!==e.emitClose,this.autoDestroy=!!e.autoDestroy,this.bufferedRequestCount=0,this.corkedRequestsFree=new o(this)}function T(e){var t=this instanceof(r=r||n(6753));if(!t&&!s.call(T,this))return new T(e);this._writableState=new S(e,this,t),this.writable=!0,e&&("function"==typeof e.write&&(this._write=e.write),"function"==typeof e.writev&&(this._writev=e.writev),"function"==typeof e.destroy&&(this._destroy=e.destroy),"function"==typeof e.final&&(this._final=e.final)),l.call(this)}function R(e,t,n,r,i,o,s){t.writelen=r,t.writecb=s,t.writing=!0,t.sync=!0,t.destroyed?t.onwrite(new m("write")):n?e._writev(i,t.onwrite):e._write(i,o,t.onwrite),t.sync=!1}function x(e,t,n,r){n||function(e,t){0===t.length&&t.needDrain&&(t.needDrain=!1,e.emit("drain"))}(e,t),t.pendingcb--,r(),N(e,t)}function I(e,t){t.bufferProcessing=!0;var n=t.bufferedRequest;if(e._writev&&n&&n.next){var r=t.bufferedRequestCount,i=new Array(r),s=t.corkedRequestsFree;s.entry=n;for(var a=0,l=!0;n;)i[a]=n,n.isBuf||(l=!1),n=n.next,a+=1;i.allBuffers=l,R(e,t,!0,t.length,i,"",s.finish),t.pendingcb++,t.lastBufferedRequest=null,s.next?(t.corkedRequestsFree=s.next,s.next=null):t.corkedRequestsFree=new o(t),t.bufferedRequestCount=0}else{for(;n;){var c=n.chunk,u=n.encoding,h=n.callback;if(R(e,t,!1,t.objectMode?1:c.length,c,u,h),n=n.next,t.bufferedRequestCount--,t.writing)break}null===n&&(t.lastBufferedRequest=null)}t.bufferedRequest=n,t.bufferProcessing=!1}function O(e){return e.ending&&0===e.length&&null===e.bufferedRequest&&!e.finished&&!e.writing}function k(e,t){e._final((function(n){t.pendingcb--,n&&_(e,n),t.prefinished=!0,e.emit("prefinish"),N(e,t)}))}function N(e,t){var n=O(t);if(n&&(function(e,t){t.prefinished||t.finalCalled||("function"!=typeof e._final||t.destroyed?(t.prefinished=!0,e.emit("prefinish")):(t.pendingcb++,t.finalCalled=!0,i.nextTick(k,e,t)))}(e,t),0===t.pendingcb&&(t.finished=!0,e.emit("finish"),t.autoDestroy))){var r=e._readableState;(!r||r.autoDestroy&&r.endEmitted)&&e.destroy()}return n}n(5717)(T,l),S.prototype.getBuffer=function(){for(var e=this.bufferedRequest,t=[];e;)t.push(e),e=e.next;return t},function(){try{Object.defineProperty(S.prototype,"buffer",{get:a.deprecate((function(){return this.getBuffer()}),"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.","DEP0003")})}catch(e){}}(),"function"==typeof Symbol&&Symbol.hasInstance&&"function"==typeof Function.prototype[Symbol.hasInstance]?(s=Function.prototype[Symbol.hasInstance],Object.defineProperty(T,Symbol.hasInstance,{value:function(e){return!!s.call(this,e)||this===T&&e&&e._writableState instanceof S}})):s=function(e){return e instanceof this},T.prototype.pipe=function(){_(this,new v)},T.prototype.write=function(e,t,n){var r,o=this._writableState,s=!1,a=!o.objectMode&&(r=e,c.isBuffer(r)||r instanceof u);return a&&!c.isBuffer(e)&&(e=function(e){return c.from(e)}(e)),"function"==typeof t&&(n=t,t=null),a?t="buffer":t||(t=o.defaultEncoding),"function"!=typeof n&&(n=A),o.ending?function(e,t){var n=new E;_(e,n),i.nextTick(t,n)}(this,n):(a||function(e,t,n,r){var o;return null===n?o=new w:"string"==typeof n||t.objectMode||(o=new p("chunk",["string","Buffer"],n)),!o||(_(e,o),i.nextTick(r,o),!1)}(this,o,e,n))&&(o.pendingcb++,s=function(e,t,n,r,i,o){if(!n){var s=function(e,t,n){return e.objectMode||!1===e.decodeStrings||"string"!=typeof t||(t=c.from(t,n)),t}(t,r,i);r!==s&&(n=!0,i="buffer",r=s)}var a=t.objectMode?1:r.length;t.length+=a;var l=t.length<t.highWaterMark;if(l||(t.needDrain=!0),t.writing||t.corked){var u=t.lastBufferedRequest;t.lastBufferedRequest={chunk:r,encoding:i,isBuf:n,callback:o,next:null},u?u.next=t.lastBufferedRequest:t.bufferedRequest=t.lastBufferedRequest,t.bufferedRequestCount+=1}else R(e,t,!1,a,r,i,o);return l}(this,o,a,e,t,n)),s},T.prototype.cork=function(){this._writableState.corked++},T.prototype.uncork=function(){var e=this._writableState;e.corked&&(e.corked--,e.writing||e.corked||e.bufferProcessing||!e.bufferedRequest||I(this,e))},T.prototype.setDefaultEncoding=function(e){if("string"==typeof e&&(e=e.toLowerCase()),!(["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((e+"").toLowerCase())>-1))throw new b(e);return this._writableState.defaultEncoding=e,this},Object.defineProperty(T.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}}),Object.defineProperty(T.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),T.prototype._write=function(e,t,n){n(new g("_write()"))},T.prototype._writev=null,T.prototype.end=function(e,t,n){var r=this._writableState;return"function"==typeof e?(n=e,e=null,t=null):"function"==typeof t&&(n=t,t=null),null!=e&&this.write(e,t),r.corked&&(r.corked=1,this.uncork()),r.ending||function(e,t,n){t.ending=!0,N(e,t),n&&(t.finished?i.nextTick(n):e.once("finish",n)),t.ended=!0,e.writable=!1}(this,r,n),this},Object.defineProperty(T.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}}),Object.defineProperty(T.prototype,"destroyed",{enumerable:!1,get:function(){return void 0!==this._writableState&&this._writableState.destroyed},set:function(e){this._writableState&&(this._writableState.destroyed=e)}}),T.prototype.destroy=h.destroy,T.prototype._undestroy=h.undestroy,T.prototype._destroy=function(e,t){t(e)}},5850:(e,t,n)=>{"use strict";var r,i=n(4155);function o(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,"string");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var s=n(8610),a=Symbol("lastResolve"),l=Symbol("lastReject"),c=Symbol("error"),u=Symbol("ended"),h=Symbol("lastPromise"),f=Symbol("handlePromise"),d=Symbol("stream");function p(e,t){return{value:e,done:t}}function g(e){var t=e[a];if(null!==t){var n=e[d].read();null!==n&&(e[h]=null,e[a]=null,e[l]=null,t(p(n,!1)))}}function y(e){i.nextTick(g,e)}var v=Object.getPrototypeOf((function(){})),m=Object.setPrototypeOf((o(r={get stream(){return this[d]},next:function(){var e=this,t=this[c];if(null!==t)return Promise.reject(t);if(this[u])return Promise.resolve(p(void 0,!0));if(this[d].destroyed)return new Promise((function(t,n){i.nextTick((function(){e[c]?n(e[c]):t(p(void 0,!0))}))}));var n,r=this[h];if(r)n=new Promise(function(e,t){return function(n,r){e.then((function(){t[u]?n(p(void 0,!0)):t[f](n,r)}),r)}}(r,this));else{var o=this[d].read();if(null!==o)return Promise.resolve(p(o,!1));n=new Promise(this[f])}return this[h]=n,n}},Symbol.asyncIterator,(function(){return this})),o(r,"return",(function(){var e=this;return new Promise((function(t,n){e[d].destroy(null,(function(e){e?n(e):t(p(void 0,!0))}))}))})),r),v);e.exports=function(e){var t,n=Object.create(m,(o(t={},d,{value:e,writable:!0}),o(t,a,{value:null,writable:!0}),o(t,l,{value:null,writable:!0}),o(t,c,{value:null,writable:!0}),o(t,u,{value:e._readableState.endEmitted,writable:!0}),o(t,f,{value:function(e,t){var r=n[d].read();r?(n[h]=null,n[a]=null,n[l]=null,e(p(r,!1))):(n[a]=e,n[l]=t)},writable:!0}),t));return n[h]=null,s(e,(function(e){if(e&&"ERR_STREAM_PREMATURE_CLOSE"!==e.code){var t=n[l];return null!==t&&(n[h]=null,n[a]=null,n[l]=null,t(e)),void(n[c]=e)}var r=n[a];null!==r&&(n[h]=null,n[a]=null,n[l]=null,r(p(void 0,!0))),n[u]=!0})),e.on("readable",y.bind(null,n)),n}},7327:(e,t,n)=>{"use strict";function r(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function i(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?r(Object(n),!0).forEach((function(t){o(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):r(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function o(e,t,n){return(t=a(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function s(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,a(r.key),r)}}function a(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,"string");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof t?t:String(t)}var l=n(8764).Buffer,c=n(2361).inspect,u=c&&c.custom||"inspect";e.exports=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.head=null,this.tail=null,this.length=0}var t,n;return t=e,(n=[{key:"push",value:function(e){var t={data:e,next:null};this.length>0?this.tail.next=t:this.head=t,this.tail=t,++this.length}},{key:"unshift",value:function(e){var t={data:e,next:this.head};0===this.length&&(this.tail=t),this.head=t,++this.length}},{key:"shift",value:function(){if(0!==this.length){var e=this.head.data;return 1===this.length?this.head=this.tail=null:this.head=this.head.next,--this.length,e}}},{key:"clear",value:function(){this.head=this.tail=null,this.length=0}},{key:"join",value:function(e){if(0===this.length)return"";for(var t=this.head,n=""+t.data;t=t.next;)n+=e+t.data;return n}},{key:"concat",value:function(e){if(0===this.length)return l.alloc(0);for(var t,n,r,i=l.allocUnsafe(e>>>0),o=this.head,s=0;o;)t=o.data,n=i,r=s,l.prototype.copy.call(t,n,r),s+=o.data.length,o=o.next;return i}},{key:"consume",value:function(e,t){var n;return e<this.head.data.length?(n=this.head.data.slice(0,e),this.head.data=this.head.data.slice(e)):n=e===this.head.data.length?this.shift():t?this._getString(e):this._getBuffer(e),n}},{key:"first",value:function(){return this.head.data}},{key:"_getString",value:function(e){var t=this.head,n=1,r=t.data;for(e-=r.length;t=t.next;){var i=t.data,o=e>i.length?i.length:e;if(o===i.length?r+=i:r+=i.slice(0,e),0==(e-=o)){o===i.length?(++n,t.next?this.head=t.next:this.head=this.tail=null):(this.head=t,t.data=i.slice(o));break}++n}return this.length-=n,r}},{key:"_getBuffer",value:function(e){var t=l.allocUnsafe(e),n=this.head,r=1;for(n.data.copy(t),e-=n.data.length;n=n.next;){var i=n.data,o=e>i.length?i.length:e;if(i.copy(t,t.length-e,0,o),0==(e-=o)){o===i.length?(++r,n.next?this.head=n.next:this.head=this.tail=null):(this.head=n,n.data=i.slice(o));break}++r}return this.length-=r,t}},{key:u,value:function(e,t){return c(this,i(i({},t),{},{depth:0,customInspect:!1}))}}])&&s(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),e}()},1195:(e,t,n)=>{"use strict";var r=n(4155);function i(e,t){s(e,t),o(e)}function o(e){e._writableState&&!e._writableState.emitClose||e._readableState&&!e._readableState.emitClose||e.emit("close")}function s(e,t){e.emit("error",t)}e.exports={destroy:function(e,t){var n=this,a=this._readableState&&this._readableState.destroyed,l=this._writableState&&this._writableState.destroyed;return a||l?(t?t(e):e&&(this._writableState?this._writableState.errorEmitted||(this._writableState.errorEmitted=!0,r.nextTick(s,this,e)):r.nextTick(s,this,e)),this):(this._readableState&&(this._readableState.destroyed=!0),this._writableState&&(this._writableState.destroyed=!0),this._destroy(e||null,(function(e){!t&&e?n._writableState?n._writableState.errorEmitted?r.nextTick(o,n):(n._writableState.errorEmitted=!0,r.nextTick(i,n,e)):r.nextTick(i,n,e):t?(r.nextTick(o,n),t(e)):r.nextTick(o,n)})),this)},undestroy:function(){this._readableState&&(this._readableState.destroyed=!1,this._readableState.reading=!1,this._readableState.ended=!1,this._readableState.endEmitted=!1),this._writableState&&(this._writableState.destroyed=!1,this._writableState.ended=!1,this._writableState.ending=!1,this._writableState.finalCalled=!1,this._writableState.prefinished=!1,this._writableState.finished=!1,this._writableState.errorEmitted=!1)},errorOrDestroy:function(e,t){var n=e._readableState,r=e._writableState;n&&n.autoDestroy||r&&r.autoDestroy?e.destroy(t):e.emit("error",t)}}},8610:(e,t,n)=>{"use strict";var r=n(4281).q.ERR_STREAM_PREMATURE_CLOSE;function i(){}e.exports=function e(t,n,o){if("function"==typeof n)return e(t,null,n);n||(n={}),o=function(e){var t=!1;return function(){if(!t){t=!0;for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];e.apply(this,r)}}}(o||i);var s=n.readable||!1!==n.readable&&t.readable,a=n.writable||!1!==n.writable&&t.writable,l=function(){t.writable||u()},c=t._writableState&&t._writableState.finished,u=function(){a=!1,c=!0,s||o.call(t)},h=t._readableState&&t._readableState.endEmitted,f=function(){s=!1,h=!0,a||o.call(t)},d=function(e){o.call(t,e)},p=function(){var e;return s&&!h?(t._readableState&&t._readableState.ended||(e=new r),o.call(t,e)):a&&!c?(t._writableState&&t._writableState.ended||(e=new r),o.call(t,e)):void 0},g=function(){t.req.on("finish",u)};return function(e){return e.setHeader&&"function"==typeof e.abort}(t)?(t.on("complete",u),t.on("abort",p),t.req?g():t.on("request",g)):a&&!t._writableState&&(t.on("end",l),t.on("close",l)),t.on("end",f),t.on("finish",u),!1!==n.error&&t.on("error",d),t.on("close",p),function(){t.removeListener("complete",u),t.removeListener("abort",p),t.removeListener("request",g),t.req&&t.req.removeListener("finish",u),t.removeListener("end",l),t.removeListener("close",l),t.removeListener("finish",u),t.removeListener("end",f),t.removeListener("error",d),t.removeListener("close",p)}}},5167:e=>{e.exports=function(){throw new Error("Readable.from is not available in the browser")}},9946:(e,t,n)=>{"use strict";var r,i=n(4281).q,o=i.ERR_MISSING_ARGS,s=i.ERR_STREAM_DESTROYED;function a(e){if(e)throw e}function l(e){e()}function c(e,t){return e.pipe(t)}e.exports=function(){for(var e=arguments.length,t=new Array(e),i=0;i<e;i++)t[i]=arguments[i];var u,h=function(e){return e.length?"function"!=typeof e[e.length-1]?a:e.pop():a}(t);if(Array.isArray(t[0])&&(t=t[0]),t.length<2)throw new o("streams");var f=t.map((function(e,i){var o=i<t.length-1;return function(e,t,i,o){o=function(e){var t=!1;return function(){t||(t=!0,e.apply(void 0,arguments))}}(o);var a=!1;e.on("close",(function(){a=!0})),void 0===r&&(r=n(8610)),r(e,{readable:t,writable:i},(function(e){if(e)return o(e);a=!0,o()}));var l=!1;return function(t){if(!a&&!l)return l=!0,function(e){return e.setHeader&&"function"==typeof e.abort}(e)?e.abort():"function"==typeof e.destroy?e.destroy():void o(t||new s("pipe"))}}(e,o,i>0,(function(e){u||(u=e),e&&f.forEach(l),o||(f.forEach(l),h(u))}))}));return t.reduce(c)}},2457:(e,t,n)=>{"use strict";var r=n(4281).q.ERR_INVALID_OPT_VALUE;e.exports={getHighWaterMark:function(e,t,n,i){var o=function(e,t,n){return null!=e.highWaterMark?e.highWaterMark:t?e[n]:null}(t,i,n);if(null!=o){if(!isFinite(o)||Math.floor(o)!==o||o<0)throw new r(i?n:"highWaterMark",o);return Math.floor(o)}return e.objectMode?16:16384}}},2503:(e,t,n)=>{e.exports=n(7187).EventEmitter},8473:(e,t,n)=>{(t=e.exports=n(9481)).Stream=t,t.Readable=t,t.Writable=n(4229),t.Duplex=n(6753),t.Transform=n(4605),t.PassThrough=n(2725),t.finished=n(8610),t.pipeline=n(9946)},9785:(e,t,n)=>{"use strict";var r=n(8764).Buffer,i=n(5717),o=n(3349),s=new Array(16),a=[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,7,4,13,1,10,6,15,3,12,0,9,5,2,14,11,8,3,10,14,4,9,15,8,1,2,7,0,6,13,11,5,12,1,9,11,10,0,8,12,4,13,3,7,15,14,5,6,2,4,0,5,9,7,12,2,10,14,1,3,8,11,6,15,13],l=[5,14,7,0,9,2,11,4,13,6,15,8,1,10,3,12,6,11,3,7,0,13,5,10,14,15,8,12,4,9,1,2,15,5,1,3,7,14,6,9,11,8,12,2,10,0,4,13,8,6,4,1,3,11,15,0,5,12,2,13,9,7,10,14,12,15,10,4,1,5,8,7,6,2,13,14,0,3,9,11],c=[11,14,15,12,5,8,7,9,11,13,14,15,6,7,9,8,7,6,8,13,11,9,7,15,7,12,15,9,11,7,13,12,11,13,6,7,14,9,13,15,14,8,13,6,5,12,7,5,11,12,14,15,14,15,9,8,9,14,5,6,8,6,5,12,9,15,5,11,6,8,13,12,5,12,13,14,11,8,5,6],u=[8,9,9,11,13,15,15,5,7,7,8,11,14,14,12,6,9,13,15,7,12,8,9,11,7,7,12,7,6,15,13,11,9,7,15,11,8,6,6,14,12,13,5,14,13,13,7,5,15,5,8,11,14,14,6,14,6,9,12,9,12,5,15,8,8,5,12,9,12,5,14,6,8,13,6,5,15,13,11,11],h=[0,1518500249,1859775393,2400959708,2840853838],f=[1352829926,1548603684,1836072691,2053994217,0];function d(){o.call(this,64),this._a=1732584193,this._b=4023233417,this._c=2562383102,this._d=271733878,this._e=3285377520}function p(e,t){return e<<t|e>>>32-t}function g(e,t,n,r,i,o,s,a){return p(e+(t^n^r)+o+s|0,a)+i|0}function y(e,t,n,r,i,o,s,a){return p(e+(t&n|~t&r)+o+s|0,a)+i|0}function v(e,t,n,r,i,o,s,a){return p(e+((t|~n)^r)+o+s|0,a)+i|0}function m(e,t,n,r,i,o,s,a){return p(e+(t&r|n&~r)+o+s|0,a)+i|0}function w(e,t,n,r,i,o,s,a){return p(e+(t^(n|~r))+o+s|0,a)+i|0}i(d,o),d.prototype._update=function(){for(var e=s,t=0;t<16;++t)e[t]=this._block.readInt32LE(4*t);for(var n=0|this._a,r=0|this._b,i=0|this._c,o=0|this._d,d=0|this._e,E=0|this._a,b=0|this._b,_=0|this._c,A=0|this._d,S=0|this._e,T=0;T<80;T+=1){var R,x;T<16?(R=g(n,r,i,o,d,e[a[T]],h[0],c[T]),x=w(E,b,_,A,S,e[l[T]],f[0],u[T])):T<32?(R=y(n,r,i,o,d,e[a[T]],h[1],c[T]),x=m(E,b,_,A,S,e[l[T]],f[1],u[T])):T<48?(R=v(n,r,i,o,d,e[a[T]],h[2],c[T]),x=v(E,b,_,A,S,e[l[T]],f[2],u[T])):T<64?(R=m(n,r,i,o,d,e[a[T]],h[3],c[T]),x=y(E,b,_,A,S,e[l[T]],f[3],u[T])):(R=w(n,r,i,o,d,e[a[T]],h[4],c[T]),x=g(E,b,_,A,S,e[l[T]],f[4],u[T])),n=d,d=o,o=p(i,10),i=r,r=R,E=S,S=A,A=p(_,10),_=b,b=x}var I=this._b+i+A|0;this._b=this._c+o+S|0,this._c=this._d+d+E|0,this._d=this._e+n+b|0,this._e=this._a+r+_|0,this._a=I},d.prototype._digest=function(){this._block[this._blockOffset++]=128,this._blockOffset>56&&(this._block.fill(0,this._blockOffset,64),this._update(),this._blockOffset=0),this._block.fill(0,this._blockOffset,56),this._block.writeUInt32LE(this._length[0],56),this._block.writeUInt32LE(this._length[1],60),this._update();var e=r.alloc?r.alloc(20):new r(20);return e.writeInt32LE(this._a,0),e.writeInt32LE(this._b,4),e.writeInt32LE(this._c,8),e.writeInt32LE(this._d,12),e.writeInt32LE(this._e,16),e},e.exports=d},9509:(e,t,n)=>{var r=n(8764),i=r.Buffer;function o(e,t){for(var n in e)t[n]=e[n]}function s(e,t,n){return i(e,t,n)}i.from&&i.alloc&&i.allocUnsafe&&i.allocUnsafeSlow?e.exports=r:(o(r,t),t.Buffer=s),s.prototype=Object.create(i.prototype),o(i,s),s.from=function(e,t,n){if("number"==typeof e)throw new TypeError("Argument must not be a number");return i(e,t,n)},s.alloc=function(e,t,n){if("number"!=typeof e)throw new TypeError("Argument must be a number");var r=i(e);return void 0!==t?"string"==typeof n?r.fill(t,n):r.fill(t):r.fill(0),r},s.allocUnsafe=function(e){if("number"!=typeof e)throw new TypeError("Argument must be a number");return i(e)},s.allocUnsafeSlow=function(e){if("number"!=typeof e)throw new TypeError("Argument must be a number");return r.SlowBuffer(e)}},4189:(e,t,n)=>{var r=n(9509).Buffer;function i(e,t){this._block=r.alloc(e),this._finalSize=t,this._blockSize=e,this._len=0}i.prototype.update=function(e,t){"string"==typeof e&&(t=t||"utf8",e=r.from(e,t));for(var n=this._block,i=this._blockSize,o=e.length,s=this._len,a=0;a<o;){for(var l=s%i,c=Math.min(o-a,i-l),u=0;u<c;u++)n[l+u]=e[a+u];a+=c,(s+=c)%i==0&&this._update(n)}return this._len+=o,this},i.prototype.digest=function(e){var t=this._len%this._blockSize;this._block[t]=128,this._block.fill(0,t+1),t>=this._finalSize&&(this._update(this._block),this._block.fill(0));var n=8*this._len;if(n<=4294967295)this._block.writeUInt32BE(n,this._blockSize-4);else{var r=(4294967295&n)>>>0,i=(n-r)/4294967296;this._block.writeUInt32BE(i,this._blockSize-8),this._block.writeUInt32BE(r,this._blockSize-4)}this._update(this._block);var o=this._hash();return e?o.toString(e):o},i.prototype._update=function(){throw new Error("_update must be implemented by subclass")},e.exports=i},9072:(e,t,n)=>{var r=e.exports=function(e){e=e.toLowerCase();var t=r[e];if(!t)throw new Error(e+" is not supported (we accept pull requests)");return new t};r.sha=n(4448),r.sha1=n(8336),r.sha224=n(8432),r.sha256=n(7499),r.sha384=n(1686),r.sha512=n(7816)},4448:(e,t,n)=>{var r=n(5717),i=n(4189),o=n(9509).Buffer,s=[1518500249,1859775393,-1894007588,-899497514],a=new Array(80);function l(){this.init(),this._w=a,i.call(this,64,56)}function c(e){return e<<30|e>>>2}function u(e,t,n,r){return 0===e?t&n|~t&r:2===e?t&n|t&r|n&r:t^n^r}r(l,i),l.prototype.init=function(){return this._a=1732584193,this._b=4023233417,this._c=2562383102,this._d=271733878,this._e=3285377520,this},l.prototype._update=function(e){for(var t,n=this._w,r=0|this._a,i=0|this._b,o=0|this._c,a=0|this._d,l=0|this._e,h=0;h<16;++h)n[h]=e.readInt32BE(4*h);for(;h<80;++h)n[h]=n[h-3]^n[h-8]^n[h-14]^n[h-16];for(var f=0;f<80;++f){var d=~~(f/20),p=0|((t=r)<<5|t>>>27)+u(d,i,o,a)+l+n[f]+s[d];l=a,a=o,o=c(i),i=r,r=p}this._a=r+this._a|0,this._b=i+this._b|0,this._c=o+this._c|0,this._d=a+this._d|0,this._e=l+this._e|0},l.prototype._hash=function(){var e=o.allocUnsafe(20);return e.writeInt32BE(0|this._a,0),e.writeInt32BE(0|this._b,4),e.writeInt32BE(0|this._c,8),e.writeInt32BE(0|this._d,12),e.writeInt32BE(0|this._e,16),e},e.exports=l},8336:(e,t,n)=>{var r=n(5717),i=n(4189),o=n(9509).Buffer,s=[1518500249,1859775393,-1894007588,-899497514],a=new Array(80);function l(){this.init(),this._w=a,i.call(this,64,56)}function c(e){return e<<5|e>>>27}function u(e){return e<<30|e>>>2}function h(e,t,n,r){return 0===e?t&n|~t&r:2===e?t&n|t&r|n&r:t^n^r}r(l,i),l.prototype.init=function(){return this._a=1732584193,this._b=4023233417,this._c=2562383102,this._d=271733878,this._e=3285377520,this},l.prototype._update=function(e){for(var t,n=this._w,r=0|this._a,i=0|this._b,o=0|this._c,a=0|this._d,l=0|this._e,f=0;f<16;++f)n[f]=e.readInt32BE(4*f);for(;f<80;++f)n[f]=(t=n[f-3]^n[f-8]^n[f-14]^n[f-16])<<1|t>>>31;for(var d=0;d<80;++d){var p=~~(d/20),g=c(r)+h(p,i,o,a)+l+n[d]+s[p]|0;l=a,a=o,o=u(i),i=r,r=g}this._a=r+this._a|0,this._b=i+this._b|0,this._c=o+this._c|0,this._d=a+this._d|0,this._e=l+this._e|0},l.prototype._hash=function(){var e=o.allocUnsafe(20);return e.writeInt32BE(0|this._a,0),e.writeInt32BE(0|this._b,4),e.writeInt32BE(0|this._c,8),e.writeInt32BE(0|this._d,12),e.writeInt32BE(0|this._e,16),e},e.exports=l},8432:(e,t,n)=>{var r=n(5717),i=n(7499),o=n(4189),s=n(9509).Buffer,a=new Array(64);function l(){this.init(),this._w=a,o.call(this,64,56)}r(l,i),l.prototype.init=function(){return this._a=3238371032,this._b=914150663,this._c=812702999,this._d=4144912697,this._e=4290775857,this._f=1750603025,this._g=1694076839,this._h=3204075428,this},l.prototype._hash=function(){var e=s.allocUnsafe(28);return e.writeInt32BE(this._a,0),e.writeInt32BE(this._b,4),e.writeInt32BE(this._c,8),e.writeInt32BE(this._d,12),e.writeInt32BE(this._e,16),e.writeInt32BE(this._f,20),e.writeInt32BE(this._g,24),e},e.exports=l},7499:(e,t,n)=>{var r=n(5717),i=n(4189),o=n(9509).Buffer,s=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298],a=new Array(64);function l(){this.init(),this._w=a,i.call(this,64,56)}function c(e,t,n){return n^e&(t^n)}function u(e,t,n){return e&t|n&(e|t)}function h(e){return(e>>>2|e<<30)^(e>>>13|e<<19)^(e>>>22|e<<10)}function f(e){return(e>>>6|e<<26)^(e>>>11|e<<21)^(e>>>25|e<<7)}function d(e){return(e>>>7|e<<25)^(e>>>18|e<<14)^e>>>3}r(l,i),l.prototype.init=function(){return this._a=1779033703,this._b=3144134277,this._c=1013904242,this._d=2773480762,this._e=1359893119,this._f=2600822924,this._g=528734635,this._h=1541459225,this},l.prototype._update=function(e){for(var t,n=this._w,r=0|this._a,i=0|this._b,o=0|this._c,a=0|this._d,l=0|this._e,p=0|this._f,g=0|this._g,y=0|this._h,v=0;v<16;++v)n[v]=e.readInt32BE(4*v);for(;v<64;++v)n[v]=0|(((t=n[v-2])>>>17|t<<15)^(t>>>19|t<<13)^t>>>10)+n[v-7]+d(n[v-15])+n[v-16];for(var m=0;m<64;++m){var w=y+f(l)+c(l,p,g)+s[m]+n[m]|0,E=h(r)+u(r,i,o)|0;y=g,g=p,p=l,l=a+w|0,a=o,o=i,i=r,r=w+E|0}this._a=r+this._a|0,this._b=i+this._b|0,this._c=o+this._c|0,this._d=a+this._d|0,this._e=l+this._e|0,this._f=p+this._f|0,this._g=g+this._g|0,this._h=y+this._h|0},l.prototype._hash=function(){var e=o.allocUnsafe(32);return e.writeInt32BE(this._a,0),e.writeInt32BE(this._b,4),e.writeInt32BE(this._c,8),e.writeInt32BE(this._d,12),e.writeInt32BE(this._e,16),e.writeInt32BE(this._f,20),e.writeInt32BE(this._g,24),e.writeInt32BE(this._h,28),e},e.exports=l},1686:(e,t,n)=>{var r=n(5717),i=n(7816),o=n(4189),s=n(9509).Buffer,a=new Array(160);function l(){this.init(),this._w=a,o.call(this,128,112)}r(l,i),l.prototype.init=function(){return this._ah=3418070365,this._bh=1654270250,this._ch=2438529370,this._dh=355462360,this._eh=1731405415,this._fh=2394180231,this._gh=3675008525,this._hh=1203062813,this._al=3238371032,this._bl=914150663,this._cl=812702999,this._dl=4144912697,this._el=4290775857,this._fl=1750603025,this._gl=1694076839,this._hl=3204075428,this},l.prototype._hash=function(){var e=s.allocUnsafe(48);function t(t,n,r){e.writeInt32BE(t,r),e.writeInt32BE(n,r+4)}return t(this._ah,this._al,0),t(this._bh,this._bl,8),t(this._ch,this._cl,16),t(this._dh,this._dl,24),t(this._eh,this._el,32),t(this._fh,this._fl,40),e},e.exports=l},7816:(e,t,n)=>{var r=n(5717),i=n(4189),o=n(9509).Buffer,s=[1116352408,3609767458,1899447441,602891725,3049323471,3964484399,3921009573,2173295548,961987163,4081628472,1508970993,3053834265,2453635748,2937671579,2870763221,3664609560,3624381080,2734883394,310598401,1164996542,607225278,1323610764,1426881987,3590304994,1925078388,4068182383,2162078206,991336113,2614888103,633803317,3248222580,3479774868,3835390401,2666613458,4022224774,944711139,264347078,2341262773,604807628,2007800933,770255983,1495990901,1249150122,1856431235,1555081692,3175218132,1996064986,2198950837,2554220882,3999719339,2821834349,766784016,2952996808,2566594879,3210313671,3203337956,3336571891,1034457026,3584528711,2466948901,113926993,3758326383,338241895,168717936,666307205,1188179964,773529912,1546045734,1294757372,1522805485,1396182291,2643833823,1695183700,2343527390,1986661051,1014477480,2177026350,1206759142,2456956037,344077627,2730485921,1290863460,2820302411,3158454273,3259730800,3505952657,3345764771,106217008,3516065817,3606008344,3600352804,1432725776,4094571909,1467031594,275423344,851169720,430227734,3100823752,506948616,1363258195,659060556,3750685593,883997877,3785050280,958139571,3318307427,1322822218,3812723403,1537002063,2003034995,1747873779,3602036899,1955562222,1575990012,2024104815,1125592928,2227730452,2716904306,2361852424,442776044,2428436474,593698344,2756734187,3733110249,3204031479,2999351573,3329325298,3815920427,3391569614,3928383900,3515267271,566280711,3940187606,3454069534,4118630271,4000239992,116418474,1914138554,174292421,2731055270,289380356,3203993006,460393269,320620315,685471733,587496836,852142971,1086792851,1017036298,365543100,1126000580,2618297676,1288033470,3409855158,1501505948,4234509866,1607167915,987167468,1816402316,1246189591],a=new Array(160);function l(){this.init(),this._w=a,i.call(this,128,112)}function c(e,t,n){return n^e&(t^n)}function u(e,t,n){return e&t|n&(e|t)}function h(e,t){return(e>>>28|t<<4)^(t>>>2|e<<30)^(t>>>7|e<<25)}function f(e,t){return(e>>>14|t<<18)^(e>>>18|t<<14)^(t>>>9|e<<23)}function d(e,t){return(e>>>1|t<<31)^(e>>>8|t<<24)^e>>>7}function p(e,t){return(e>>>1|t<<31)^(e>>>8|t<<24)^(e>>>7|t<<25)}function g(e,t){return(e>>>19|t<<13)^(t>>>29|e<<3)^e>>>6}function y(e,t){return(e>>>19|t<<13)^(t>>>29|e<<3)^(e>>>6|t<<26)}function v(e,t){return e>>>0<t>>>0?1:0}r(l,i),l.prototype.init=function(){return this._ah=1779033703,this._bh=3144134277,this._ch=1013904242,this._dh=2773480762,this._eh=1359893119,this._fh=2600822924,this._gh=528734635,this._hh=1541459225,this._al=4089235720,this._bl=2227873595,this._cl=4271175723,this._dl=1595750129,this._el=2917565137,this._fl=725511199,this._gl=4215389547,this._hl=327033209,this},l.prototype._update=function(e){for(var t=this._w,n=0|this._ah,r=0|this._bh,i=0|this._ch,o=0|this._dh,a=0|this._eh,l=0|this._fh,m=0|this._gh,w=0|this._hh,E=0|this._al,b=0|this._bl,_=0|this._cl,A=0|this._dl,S=0|this._el,T=0|this._fl,R=0|this._gl,x=0|this._hl,I=0;I<32;I+=2)t[I]=e.readInt32BE(4*I),t[I+1]=e.readInt32BE(4*I+4);for(;I<160;I+=2){var O=t[I-30],k=t[I-30+1],N=d(O,k),C=p(k,O),P=g(O=t[I-4],k=t[I-4+1]),L=y(k,O),M=t[I-14],B=t[I-14+1],U=t[I-32],D=t[I-32+1],j=C+B|0,K=N+M+v(j,C)|0;K=(K=K+P+v(j=j+L|0,L)|0)+U+v(j=j+D|0,D)|0,t[I]=K,t[I+1]=j}for(var q=0;q<160;q+=2){K=t[q],j=t[q+1];var F=u(n,r,i),H=u(E,b,_),W=h(n,E),G=h(E,n),V=f(a,S),z=f(S,a),Q=s[q],X=s[q+1],Y=c(a,l,m),J=c(S,T,R),Z=x+z|0,$=w+V+v(Z,x)|0;$=($=($=$+Y+v(Z=Z+J|0,J)|0)+Q+v(Z=Z+X|0,X)|0)+K+v(Z=Z+j|0,j)|0;var ee=G+H|0,te=W+F+v(ee,G)|0;w=m,x=R,m=l,R=T,l=a,T=S,a=o+$+v(S=A+Z|0,A)|0,o=i,A=_,i=r,_=b,r=n,b=E,n=$+te+v(E=Z+ee|0,Z)|0}this._al=this._al+E|0,this._bl=this._bl+b|0,this._cl=this._cl+_|0,this._dl=this._dl+A|0,this._el=this._el+S|0,this._fl=this._fl+T|0,this._gl=this._gl+R|0,this._hl=this._hl+x|0,this._ah=this._ah+n+v(this._al,E)|0,this._bh=this._bh+r+v(this._bl,b)|0,this._ch=this._ch+i+v(this._cl,_)|0,this._dh=this._dh+o+v(this._dl,A)|0,this._eh=this._eh+a+v(this._el,S)|0,this._fh=this._fh+l+v(this._fl,T)|0,this._gh=this._gh+m+v(this._gl,R)|0,this._hh=this._hh+w+v(this._hl,x)|0},l.prototype._hash=function(){var e=o.allocUnsafe(64);function t(t,n,r){e.writeInt32BE(t,r),e.writeInt32BE(n,r+4)}return t(this._ah,this._al,0),t(this._bh,this._bl,8),t(this._ch,this._cl,16),t(this._dh,this._dl,24),t(this._eh,this._el,32),t(this._fh,this._fl,40),t(this._gh,this._gl,48),t(this._hh,this._hl,56),e},e.exports=l},2830:(e,t,n)=>{e.exports=i;var r=n(7187).EventEmitter;function i(){r.call(this)}n(5717)(i,r),i.Readable=n(9481),i.Writable=n(4229),i.Duplex=n(6753),i.Transform=n(4605),i.PassThrough=n(2725),i.finished=n(8610),i.pipeline=n(9946),i.Stream=i,i.prototype.pipe=function(e,t){var n=this;function i(t){e.writable&&!1===e.write(t)&&n.pause&&n.pause()}function o(){n.readable&&n.resume&&n.resume()}n.on("data",i),e.on("drain",o),e._isStdio||t&&!1===t.end||(n.on("end",a),n.on("close",l));var s=!1;function a(){s||(s=!0,e.end())}function l(){s||(s=!0,"function"==typeof e.destroy&&e.destroy())}function c(e){if(u(),0===r.listenerCount(this,"error"))throw e}function u(){n.removeListener("data",i),e.removeListener("drain",o),n.removeListener("end",a),n.removeListener("close",l),n.removeListener("error",c),e.removeListener("error",c),n.removeListener("end",u),n.removeListener("close",u),e.removeListener("close",u)}return n.on("error",c),e.on("error",c),n.on("end",u),n.on("close",u),e.on("close",u),e.emit("pipe",n),e}},2553:(e,t,n)=>{"use strict";var r=n(9509).Buffer,i=r.isEncoding||function(e){switch((e=""+e)&&e.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return!0;default:return!1}};function o(e){var t;switch(this.encoding=function(e){var t=function(e){if(!e)return"utf8";for(var t;;)switch(e){case"utf8":case"utf-8":return"utf8";case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return"utf16le";case"latin1":case"binary":return"latin1";case"base64":case"ascii":case"hex":return e;default:if(t)return;e=(""+e).toLowerCase(),t=!0}}(e);if("string"!=typeof t&&(r.isEncoding===i||!i(e)))throw new Error("Unknown encoding: "+e);return t||e}(e),this.encoding){case"utf16le":this.text=l,this.end=c,t=4;break;case"utf8":this.fillLast=a,t=4;break;case"base64":this.text=u,this.end=h,t=3;break;default:return this.write=f,void(this.end=d)}this.lastNeed=0,this.lastTotal=0,this.lastChar=r.allocUnsafe(t)}function s(e){return e<=127?0:e>>5==6?2:e>>4==14?3:e>>3==30?4:e>>6==2?-1:-2}function a(e){var t=this.lastTotal-this.lastNeed,n=function(e,t,n){if(128!=(192&t[0]))return e.lastNeed=0,"�";if(e.lastNeed>1&&t.length>1){if(128!=(192&t[1]))return e.lastNeed=1,"�";if(e.lastNeed>2&&t.length>2&&128!=(192&t[2]))return e.lastNeed=2,"�"}}(this,e);return void 0!==n?n:this.lastNeed<=e.length?(e.copy(this.lastChar,t,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal)):(e.copy(this.lastChar,t,0,e.length),void(this.lastNeed-=e.length))}function l(e,t){if((e.length-t)%2==0){var n=e.toString("utf16le",t);if(n){var r=n.charCodeAt(n.length-1);if(r>=55296&&r<=56319)return this.lastNeed=2,this.lastTotal=4,this.lastChar[0]=e[e.length-2],this.lastChar[1]=e[e.length-1],n.slice(0,-1)}return n}return this.lastNeed=1,this.lastTotal=2,this.lastChar[0]=e[e.length-1],e.toString("utf16le",t,e.length-1)}function c(e){var t=e&&e.length?this.write(e):"";if(this.lastNeed){var n=this.lastTotal-this.lastNeed;return t+this.lastChar.toString("utf16le",0,n)}return t}function u(e,t){var n=(e.length-t)%3;return 0===n?e.toString("base64",t):(this.lastNeed=3-n,this.lastTotal=3,1===n?this.lastChar[0]=e[e.length-1]:(this.lastChar[0]=e[e.length-2],this.lastChar[1]=e[e.length-1]),e.toString("base64",t,e.length-n))}function h(e){var t=e&&e.length?this.write(e):"";return this.lastNeed?t+this.lastChar.toString("base64",0,3-this.lastNeed):t}function f(e){return e.toString(this.encoding)}function d(e){return e&&e.length?this.write(e):""}t.s=o,o.prototype.write=function(e){if(0===e.length)return"";var t,n;if(this.lastNeed){if(void 0===(t=this.fillLast(e)))return"";n=this.lastNeed,this.lastNeed=0}else n=0;return n<e.length?t?t+this.text(e,n):this.text(e,n):t||""},o.prototype.end=function(e){var t=e&&e.length?this.write(e):"";return this.lastNeed?t+"�":t},o.prototype.text=function(e,t){var n=function(e,t,n){var r=t.length-1;if(r<n)return 0;var i=s(t[r]);return i>=0?(i>0&&(e.lastNeed=i-1),i):--r<n||-2===i?0:(i=s(t[r]))>=0?(i>0&&(e.lastNeed=i-2),i):--r<n||-2===i?0:(i=s(t[r]))>=0?(i>0&&(2===i?i=0:e.lastNeed=i-3),i):0}(this,e,t);if(!this.lastNeed)return e.toString("utf8",t);this.lastTotal=n;var r=e.length-(n-this.lastNeed);return e.copy(this.lastChar,0,r),e.toString("utf8",t,r)},o.prototype.fillLast=function(e){if(this.lastNeed<=e.length)return e.copy(this.lastChar,this.lastTotal-this.lastNeed,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);e.copy(this.lastChar,this.lastTotal-this.lastNeed,0,e.length),this.lastNeed-=e.length}},4927:(e,t,n)=>{function r(e){try{if(!n.g.localStorage)return!1}catch(e){return!1}var t=n.g.localStorage[e];return null!=t&&"true"===String(t).toLowerCase()}e.exports=function(e,t){if(r("noDeprecation"))return e;var n=!1;return function(){if(!n){if(r("throwDeprecation"))throw new Error(t);r("traceDeprecation")?console.trace(t):console.warn(t),n=!0}return e.apply(this,arguments)}}},5883:()=>{},2361:()=>{},4616:()=>{}},t={};function n(r){var i=t[r];if(void 0!==i)return i.exports;var o=t[r]={exports:{}};return e[r].call(o.exports,o,o.exports,n),o.exports}n.m=e,n.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return n.d(t,{a:t}),t},n.d=(e,t)=>{for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},n.u=e=>e+".bundle.js",n.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),(()=>{var e;n.g.importScripts&&(e=n.g.location+"");var t=n.g.document;if(!e&&t&&(t.currentScript&&(e=t.currentScript.src),!e)){var r=t.getElementsByTagName("script");r.length&&(e=r[r.length-1].src)}if(!e)throw new Error("Automatic publicPath is not supported in this browser");e=e.replace(/#.*$/,"").replace(/\?.*$/,"").replace(/\/[^\/]+$/,"/"),n.p=e})(),n.b=document.baseURI||self.location.href,(()=>{"use strict";var e,t=!1,r={};const i=document.getElementById("crux-canvas").getContext("2d"),o=(t,n,o,s)=>{i.font=parseInt(crux.offsetWidth/25)+"px monospace";let a="";if(o===u?e=u:(r["Alt"+o]=[],e=r["Alt"+o]),"img"===s){for(let t=0;t<7;t++)e.push({type:"interval"});a=(e=>{const t={text:e,type:"img"},n=new Image;return n.src=e,t.illustration=n,t})(t),e.push(a)}else{let r=t.split(" "),o=r[0];a={text:o,type:s};for(var l=1;l<r.length;l++){var c=r[l];let t=i.measureText(o+" "+c).width*n;RegExp("\n","g").test(c)?(a={text:o,type:s},e.push(a),o=c):t<.8*crux.offsetWidth?o+=" "+c:(a={text:o,type:s},e.push(a),o=c)}a={text:o,type:s},e.push(a)}},s=()=>{Object.keys(r).length>2&&(Dl<=Object.keys(r).length-1?Hl(Dl+2):Hl(1),kr.drawAlt(Nl,Ol,r["Alt"+Dl],Dl),r.hasOwnProperty(["Alt"+parseInt(Dl+1)])&&r["Alt"+(parseInt(Dl)+1)][0].text.length>0?kr.drawAlt(kl,Il,r["Alt"+(parseInt(Dl)+1)],Dl+1):kr.drawAlt(kl,Il," "))},a=e=>{if(e<=u.length){t=!0;let i=parseInt(crux.offsetWidth/16),o=-(e-parseInt(u.length-Ml/parseInt(crux.offsetWidth/16)))*i,a=o;var n;function l(){Math.abs(o)>4?(o>0?o-=3:o+=3,Ml+(a-o)>0&&(ql((crux.offsetWidth/16*u.length-(Ml+(a-o)))/(crux.offsetWidth/16*u.length)*100),kr.drawCrux(Ml+(a-o),u,Ul)),n=window.requestAnimationFrame(l)):(Fl(Ml+a),Hl(1),kr.drawAlt(Nl,Ol,r.Alt1,Dl),r.hasOwnProperty("Alt2")&&r.Alt2.length>0?kr.drawAlt(kl,Il,r.Alt2,Dl+1):kr.drawAlt(kl,Il,""),window.cancelAnimationFrame(n),r.hasOwnProperty("Alt1")&&r.Alt1[0].text.length>0?setTimeout((()=>{t=!1,oc()}),200):(oc(),sc()))}c.hasOwnProperty("alts")&&(c.alts.length>2?(kr.updateSwitch(!0),altSwitch.style.cursor="pointer",altSwitch.addEventListener("click",s)):(kr.updateSwitch(!1),altSwitch.style.cursor="not-allowed",altSwitch.removeEventListener("click",s))),n=window.requestAnimationFrame(l)}},l=e=>{if(r={},Cl){t=!0,kr.drawbg(),kr.drawAlt(Nl,Ol," "),kr.drawAlt(kl,Il," "),ac();try{o((e=>1===e?c.alts[Dl-1].text:c.alts[Dl].text)(e),1,u,"alt"),qr(parseInt(Dl+e-1))}catch(e){console.log(e)}}};var c,u=[{}],h=[];const f=()=>u=[{}],d=e=>c=e;var p,g,y,v={t920:{opt1:"OPTION 1",opt2:"OPTION 2",flux:"MAIN",princ:"FLUX",switch:"SWITCH BUTTON",transm:"TRANSMISSION",defil:"FAST",rap:"SCROLL",compt:"LINE",ligne:"COUNT",term:"TERMINAL"},t1080:{ligne:"LINE"},t1440:{topMenu:"PEGAS Folder File Edit           Help",switch:"                         Switch",mainWin:"PEGAS - Flux",opt1:"Option 1",opt2:"Option 2",compt:"Line"}};function m(e){return Object.keys(e)}!function(e){e.transfer_request="transfer_request",e.sign_payload_request="sign_payload_request"}(p||(p={})),function(e){e.transfer="transfer",e.sign_payload_json="sign_payload_json",e.sign_payload_raw="sign_payload_raw"}(g||(g={})),function(e){e.PENDING="pending",e.RESOLVED="resolved",e.REJECTED="rejected"}(y||(y={}));const w=()=>{throw new Error("ExposedPromise not initialized yet.")};class E{constructor(){this._resolve=w,this._reject=w,this._status=y.PENDING,this._promise=new Promise(((e,t)=>{this._resolve=t=>{this.isSettled()||(this._promiseResult=t,e(t),this._status=y.RESOLVED)},this._reject=e=>{this.isSettled()||(this._promiseError=e,t(e),this._status=y.REJECTED)}}))}get promise(){return this._promise}get resolve(){return this._resolve}get reject(){return this._reject}get status(){return this._status}get promiseResult(){return this._promiseResult}get promiseError(){return this._promiseError}static resolve(e){const t=new E;return t.resolve(e),t}static reject(e){const t=new E;return t.reject(e),t}isPending(){return this.status===y.PENDING}isResolved(){return this.status===y.RESOLVED}isRejected(){return this.status===y.REJECTED}isSettled(){return this.isResolved()||this.isRejected()}}var b=n(8334),_=n(450),A=n(1416),S=n(6249),T=n(1322),R=n(1050),x=n(3683),I=n(8764).Buffer,O=function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function s(e){try{l(r.next(e))}catch(e){o(e)}}function a(e){try{l(r.throw(e))}catch(e){o(e)}}function l(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}l((r=r.apply(e,t||[])).next())}))};const k=24;function N(e){return I.from(e).toString("hex")}function C(e){return O(this,void 0,void 0,(function*(){return N("string"==typeof e?(0,T.hash)((0,S.cv)(e),32):(0,T.hash)(e,32))}))}function P(e){return O(this,void 0,void 0,(function*(){return(0,R._w)((0,T.hash)((0,S.cv)(e),32))}))}function L(e,t){return O(this,void 0,void 0,(function*(){const n=I.from((0,A.randomBytes)(k));return N(I.concat([n,I.from((0,_.secretBox)(t,n,I.from(e,"utf8")))]))}))}function M(e,t){return O(this,void 0,void 0,(function*(){const n=e.slice(0,k),r=e.slice(k),i=(0,_.openSecretBox)(t,n,r);if(!i)throw new Error("Decryption failed");return I.from(i).toString("utf8")}))}function B(e,t,n){return O(this,void 0,void 0,(function*(){const r=(0,R.zh)(I.from(n)),i=(0,R.SH)(I.from(t)),o="string"==typeof e?(0,S.cv)(e):e,s=o.slice(0,32),a=o.slice(32),l=new T.BLAKE2b(24).update(s,32).update(i,32).digest(),c=(0,_.openBox)(s,r,l,a);if(!c)throw new Error("Decryption failed");return I.from(c).toString()}))}function U(e,t){return`@${e}:${t}`}var D,j,K,q,F,H,W,G,V,z,Q,X,Y,J,Z=n(8764).Buffer,$=function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function s(e){try{l(r.next(e))}catch(e){o(e)}}function a(e){try{l(r.throw(e))}catch(e){o(e)}}function l(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}l((r=r.apply(e,t||[])).next())}))};function ee(){return $(this,void 0,void 0,(function*(){const e=(0,A.randomBytes)(16);return[e.slice(0,4),e.slice(4,6),e.slice(6,8),e.slice(8,10),e.slice(10,16)].map((function(e){return Z.from(e).toString("hex")})).join("-")}))}(J=D||(D={})).BlockchainRequest="blockchain_request",J.PermissionRequest="permission_request",J.SignPayloadRequest="sign_payload_request",J.OperationRequest="operation_request",J.BroadcastRequest="broadcast_request",J.BlockchainResponse="blockchain_response",J.PermissionResponse="permission_response",J.SignPayloadResponse="sign_payload_response",J.OperationResponse="operation_response",J.BroadcastResponse="broadcast_response",J.Acknowledge="acknowledge",J.Disconnect="disconnect",J.Error="error",function(e){e.SIGN="sign",e.OPERATION_REQUEST="operation_request",e.ENCRYPT="encrypt",e.NOTIFICATION="notification",e.THRESHOLD="threshold"}(j||(j={})),function(e){e.MAINNET="mainnet",e.GHOSTNET="ghostnet",e.MONDAYNET="mondaynet",e.DAILYNET="dailynet",e.DELPHINET="delphinet",e.EDONET="edonet",e.FLORENCENET="florencenet",e.GRANADANET="granadanet",e.HANGZHOUNET="hangzhounet",e.ITHACANET="ithacanet",e.JAKARTANET="jakartanet",e.KATHMANDUNET="kathmandunet",e.LIMANET="limanet",e.MUMBAINET="mumbainet",e.CUSTOM="custom"}(K||(K={})),function(e){e.ENDORSEMENT="endorsement",e.SEED_NONCE_REVELATION="seed_nonce_revelation",e.DOUBLE_ENDORSEMENT_EVIDENCE="double_endorsement_evidence",e.DOUBLE_BAKING_EVIDENCE="double_baking_evidence",e.ACTIVATE_ACCOUNT="activate_account",e.PROPOSALS="proposals",e.BALLOT="ballot",e.REVEAL="reveal",e.TRANSACTION="transaction",e.ORIGINATION="origination",e.DELEGATION="delegation"}(q||(q={})),function(e){e.WEBSITE="website",e.EXTENSION="extension",e.P2P="p2p"}(F||(F={})),function(e){e.BACKGROUND="toBackground",e.PAGE="toPage",e.EXTENSION="toExtension"}(H||(H={})),(Y=W||(W={})).BROADCAST_ERROR="BROADCAST_ERROR",Y.NETWORK_NOT_SUPPORTED="NETWORK_NOT_SUPPORTED",Y.NO_ADDRESS_ERROR="NO_ADDRESS_ERROR",Y.NO_PRIVATE_KEY_FOUND_ERROR="NO_PRIVATE_KEY_FOUND_ERROR",Y.NOT_GRANTED_ERROR="NOT_GRANTED_ERROR",Y.PARAMETERS_INVALID_ERROR="PARAMETERS_INVALID_ERROR",Y.TOO_MANY_OPERATIONS="TOO_MANY_OPERATIONS",Y.TRANSACTION_INVALID_ERROR="TRANSACTION_INVALID_ERROR",Y.SIGNATURE_TYPE_NOT_SUPPORTED="SIGNATURE_TYPE_NOT_SUPPORTED",Y.ABORTED_ERROR="ABORTED_ERROR",Y.UNKNOWN_ERROR="UNKNOWN_ERROR",(X=G||(G={})).NOT_CONNECTED="NOT_CONNECTED",X.CONNECTING="CONNECTING",X.CONNECTED="CONNECTED",function(e){e.CHROME_MESSAGE="chrome_message",e.POST_MESSAGE="post_message",e.LEDGER="ledger",e.P2P="p2p"}(V||(V={})),(Q=z||(z={})).TRANSPORT_P2P_PEERS_DAPP="beacon:communication-peers-dapp",Q.TRANSPORT_P2P_PEERS_WALLET="beacon:communication-peers-wallet",Q.TRANSPORT_POSTMESSAGE_PEERS_DAPP="beacon:postmessage-peers-dapp",Q.TRANSPORT_POSTMESSAGE_PEERS_WALLET="beacon:postmessage-peers-wallet",Q.ACCOUNTS="beacon:accounts",Q.ACTIVE_ACCOUNT="beacon:active-account",Q.PUSH_TOKENS="beacon:push-tokens",Q.BEACON_SDK_SECRET_SEED="beacon:sdk-secret-seed",Q.APP_METADATA_LIST="beacon:app-metadata-list",Q.PERMISSION_LIST="beacon:permissions",Q.BEACON_SDK_VERSION="beacon:sdk_version",Q.MATRIX_PRESERVED_STATE="beacon:sdk-matrix-preserved-state",Q.MATRIX_PEER_ROOM_IDS="beacon:matrix-peer-rooms",Q.MATRIX_SELECTED_NODE="beacon:matrix-selected-node",Q.MULTI_NODE_SETUP_DONE="beacon:multi-node-setup";const te={[z.TRANSPORT_P2P_PEERS_DAPP]:[],[z.TRANSPORT_P2P_PEERS_WALLET]:[],[z.TRANSPORT_POSTMESSAGE_PEERS_DAPP]:[],[z.TRANSPORT_POSTMESSAGE_PEERS_WALLET]:[],[z.ACCOUNTS]:[],[z.ACTIVE_ACCOUNT]:void 0,[z.PUSH_TOKENS]:[],[z.BEACON_SDK_SECRET_SEED]:void 0,[z.APP_METADATA_LIST]:[],[z.PERMISSION_LIST]:[],[z.BEACON_SDK_VERSION]:void 0,[z.MATRIX_PRESERVED_STATE]:{},[z.MATRIX_PEER_ROOM_IDS]:{},[z.MATRIX_SELECTED_NODE]:void 0,[z.MULTI_NODE_SETUP_DONE]:void 0};var ne,re,ie;!function(e){e.RAW="raw",e.OPERATION="operation",e.MICHELINE="micheline"}(ne||(ne={})),function(e){e.LIGHT="light",e.DARK="dark"}(re||(re={})),function(e){e.EUROPE_EAST="europe-east",e.EUROPE_WEST="europe-west",e.NORTH_AMERICA_EAST="north-america-east",e.NORTH_AMERICA_WEST="north-america-west",e.CENTRAL_AMERICA="central-america",e.SOUTH_AMERICA="south-america",e.ASIA_EAST="asia-east",e.ASIA_WEST="asia-west",e.AFRICA="africa",e.AUSTRALIA="australia"}(ie||(ie={}));const oe=[e=>{}];let se={postMessage:(e,t)=>{console.log("GOT MOCK POST MESSAGE",e),oe.forEach((t=>{t({data:e})}))},addEventListener:(e,t)=>{oe.push(t)},removeEventListener:(e,t)=>{oe.splice(oe.indexOf((e=>e===t)),1)},location:{origin:"*"}};try{"undefined"!=typeof window&&(se=window)}catch(e){console.log(`not defined: ${e}`)}var ae=function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function s(e){try{l(r.next(e))}catch(e){o(e)}}function a(e){try{l(r.throw(e))}catch(e){o(e)}}function l(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}l((r=r.apply(e,t||[])).next())}))};class le{constructor(e){if(this._beaconId=new E,this._keyPair=new E,!e.name)throw new Error("Name not set");if(!e.storage)throw new Error("Storage not set");this.name=e.name,this.iconUrl=e.iconUrl,this.appUrl=e.appUrl,this.storage=e.storage,se.beaconCreatedClientInstance?console.error("[BEACON] It looks like you created multiple Beacon SDK Client instances. This can lead to problems. Only create one instance and re-use it everywhere."):se.beaconCreatedClientInstance=!0,this.initSDK().catch(console.error)}get beaconId(){return this._beaconId.promise}get keyPair(){return this._keyPair.promise}destroy(){return ae(this,void 0,void 0,(function*(){yield this.removeBeaconEntriesFromStorage(),se.beaconCreatedClientInstance=!1}))}initSDK(){return ae(this,void 0,void 0,(function*(){return this.storage.set(z.BEACON_SDK_VERSION,"3.3.4").catch(console.error),this.loadOrCreateBeaconSecret().catch(console.error),this.keyPair.then((e=>{this._beaconId.resolve(N(e.publicKey))}))}))}removeBeaconEntriesFromStorage(){return ae(this,void 0,void 0,(function*(){const e=Object.values(z);yield Promise.all(e.map((e=>this.storage.delete(e))))}))}loadOrCreateBeaconSecret(){return ae(this,void 0,void 0,(function*(){const e=yield this.storage.get(z.BEACON_SDK_SECRET_SEED);if(e&&"string"==typeof e)this._keyPair.resolve(yield P(e));else{const e=yield ee();yield this.storage.set(z.BEACON_SDK_SECRET_SEED,e),this._keyPair.resolve(yield P(e))}}))}}var ce=function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function s(e){try{l(r.next(e))}catch(e){o(e)}}function a(e){try{l(r.throw(e))}catch(e){o(e)}}function l(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}l((r=r.apply(e,t||[])).next())}))};class ue{constructor(e,t){this.storage=e,this.storageKey=t}getAll(){return ce(this,void 0,void 0,(function*(){return this.storage.get(this.storageKey)}))}getOne(e){return ce(this,void 0,void 0,(function*(){return(yield this.storage.get(this.storageKey)).find(e)}))}addOne(e,t,n=!0){return ce(this,void 0,void 0,(function*(){const r=yield this.storage.get(this.storageKey);if(r.some(t)){if(n)for(let n=0;n<r.length;n++)t(r[n])&&(r[n]=e)}else r.push(e);return this.storage.set(this.storageKey,r)}))}remove(e){return ce(this,void 0,void 0,(function*(){const t=(yield this.storage.get(this.storageKey)).filter((t=>!e(t)));return this.storage.set(this.storageKey,t)}))}removeAll(){return ce(this,void 0,void 0,(function*(){return this.storage.delete(this.storageKey)}))}}var he=n(8764).Buffer;const fe=(e,t)=>{return n=void 0,r=void 0,o=function*(){const n=[e,t.type];t.name&&n.push(`name:${t.name}`),t.rpcUrl&&n.push(`rpc:${t.rpcUrl}`);const r=he.from((0,T.hash)((0,S.cv)(n.join("-")),10));return b.encode(r)},new((i=void 0)||(i=Promise))((function(e,t){function s(e){try{l(o.next(e))}catch(e){t(e)}}function a(e){try{l(o.throw(e))}catch(e){t(e)}}function l(t){var n;t.done?e(t.value):(n=t.value,n instanceof i?n:new i((function(e){e(n)}))).then(s,a)}l((o=o.apply(n,r||[])).next())}));var n,r,i,o};class de{static hasPermission(e,t,n){return r=this,i=void 0,s=function*(){switch(e.type){case D.PermissionRequest:case D.BroadcastRequest:return!0;case D.OperationRequest:{const n=yield fe(e.sourceAddress,e.network),r=yield t(n);return!!r&&r.scopes.includes(j.OPERATION_REQUEST)}case D.SignPayloadRequest:{const t=(yield n()).filter((t=>t.address===e.sourceAddress));return 0!==t.length&&t.some((e=>e.scopes.includes(j.SIGN)))}default:throw new Error("Message not handled")}},new((o=void 0)||(o=Promise))((function(e,t){function n(e){try{l(s.next(e))}catch(e){t(e)}}function a(e){try{l(s.throw(e))}catch(e){t(e)}}function l(t){var r;t.done?e(t.value):(r=t.value,r instanceof o?r:new o((function(e){e(r)}))).then(n,a)}l((s=s.apply(r,i||[])).next())}));var r,i,o,s}}var pe=function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function s(e){try{l(r.next(e))}catch(e){o(e)}}function a(e){try{l(r.throw(e))}catch(e){o(e)}}function l(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}l((r=r.apply(e,t||[])).next())}))};class ge{constructor(e){this.storageManager=new ue(e,z.ACCOUNTS)}getAccounts(){return pe(this,void 0,void 0,(function*(){return this.storageManager.getAll()}))}getAccount(e){return pe(this,void 0,void 0,(function*(){return this.storageManager.getOne((t=>t.accountIdentifier===e))}))}addAccount(e){return pe(this,void 0,void 0,(function*(){return this.storageManager.addOne(e,(t=>t.accountIdentifier===e.accountIdentifier))}))}removeAccount(e){return pe(this,void 0,void 0,(function*(){return this.storageManager.remove((t=>t.accountIdentifier===e))}))}removeAccounts(e){return pe(this,void 0,void 0,(function*(){return this.storageManager.remove((t=>e.includes(t.accountIdentifier)))}))}removeAllAccounts(){return pe(this,void 0,void 0,(function*(){return this.storageManager.removeAll()}))}hasPermission(e){return pe(this,void 0,void 0,(function*(){return de.hasPermission(e,this.getAccount.bind(this),this.getAccounts.bind(this))}))}}var ye=n(8764).Buffer;const ve=e=>{return t=void 0,n=void 0,i=function*(){const t=ye.from((0,T.hash)(ye.from(e,"hex"),5));return b.encode(t)},new((r=void 0)||(r=Promise))((function(e,o){function s(e){try{l(i.next(e))}catch(e){o(e)}}function a(e){try{l(i.throw(e))}catch(e){o(e)}}function l(t){var n;t.done?e(t.value):(n=t.value,n instanceof r?n:new r((function(e){e(n)}))).then(s,a)}l((i=i.apply(t,n||[])).next())}));var t,n,r,i};let me=!!se.beaconSdkDebugEnabled;me&&console.log("[BEACON]: Debug mode is ON (turned on either by the developer or a browser extension)");class we{constructor(e){this.name=e}debug(e,...t){Ee.debug(this.name,e,t)}log(e,...t){Ee.log(this.name,e,t)}warn(e,...t){Ee.warn(this.name,e,t)}error(e,...t){Ee.error(this.name,e,t)}}new we("");let Ee=new class{constructor(){}debug(e,t,...n){this._log("debug",e,t,n)}log(e,t,...n){this._log("log",e,t,n)}warn(e,t,...n){this._log("warn",e,t,n)}error(e,t,...n){this._log("error",e,t,n)}_log(e,t,n,r=[]){if(!me)return;let i=`[BEACON] ${(new Date).toISOString()} [${t}](${n})`,o=r;switch(r[0]&&"string"==typeof r[0]&&(i+=` ${r[0]}`,o=r.slice(1)),e){case"error":console.group(i),console.error(...o);break;case"warn":console.group(i),console.warn(...o);break;case"debug":console.groupCollapsed(i),console.debug(...o);break;default:console.group(i),console.log(...o)}console.groupEnd()}};var be=function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function s(e){try{l(r.next(e))}catch(e){o(e)}}function a(e){try{l(r.throw(e))}catch(e){o(e)}}function l(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}l((r=r.apply(e,t||[])).next())}))};const _e=new we("Client");class Ae extends le{constructor(e){var t;super(e),this.rateLimit=2,this.rateLimitWindowInSeconds=5,this.requestCounter=[],this._transport=new E,this.accountManager=new ge(e.storage),this.matrixNodes=null!==(t=e.matrixNodes)&&void 0!==t?t:{},this.handleResponse=(e,t)=>{throw new Error(`not overwritten${JSON.stringify(e)} - ${JSON.stringify(t)}`)}}get transport(){return this._transport.promise}get connectionStatus(){var e,t;return null!==(t=null===(e=this._transport.promiseResult)||void 0===e?void 0:e.connectionStatus)&&void 0!==t?t:G.NOT_CONNECTED}get ready(){return this.transport.then((()=>{}))}getAccounts(){return be(this,void 0,void 0,(function*(){return this.accountManager.getAccounts()}))}getAccount(e){return be(this,void 0,void 0,(function*(){return this.accountManager.getAccount(e)}))}removeAccount(e){return be(this,void 0,void 0,(function*(){return this.accountManager.removeAccount(e)}))}removeAllAccounts(){return be(this,void 0,void 0,(function*(){return this.accountManager.removeAllAccounts()}))}addRequestAndCheckIfRateLimited(){return be(this,void 0,void 0,(function*(){const e=(new Date).getTime();return this.requestCounter=this.requestCounter.filter((t=>t+1e3*this.rateLimitWindowInSeconds>e)),this.requestCounter.push(e),this.requestCounter.length>this.rateLimit}))}init(e){return be(this,void 0,void 0,(function*(){return this._transport.status===y.RESOLVED?(yield this.transport).type:(yield this.setTransport(e),e.type)}))}getOwnAppMetadata(){return be(this,void 0,void 0,(function*(){return{senderId:yield ve(yield this.beaconId),name:this.name,icon:this.iconUrl}}))}getPeers(){return be(this,void 0,void 0,(function*(){return(yield this.transport).getPeers()}))}addPeer(e){return be(this,void 0,void 0,(function*(){return(yield this.transport).addPeer(e)}))}destroy(){const e=Object.create(null,{destroy:{get:()=>super.destroy}});return be(this,void 0,void 0,(function*(){this._transport.status===y.RESOLVED&&(yield(yield this.transport).disconnect()),yield e.destroy.call(this)}))}setTransport(e){return be(this,void 0,void 0,(function*(){e?this._transport.isSettled()?this._transport=E.resolve(e):this._transport.resolve(e):this._transport.isSettled()&&(this._transport=new E)}))}addListener(e){return be(this,void 0,void 0,(function*(){e.addListener(((e,t)=>be(this,void 0,void 0,(function*(){if("string"==typeof e){const n=yield(new qe).deserialize(e);this.handleResponse(n,t)}})))).catch((e=>_e.error("addListener",e)))}))}sendDisconnectToPeer(e,t){return be(this,void 0,void 0,(function*(){const n={id:yield ee(),version:e.version,senderId:yield ve(yield this.beaconId),type:D.Disconnect},r=yield(new qe).serialize(n),i=null!=t?t:yield this.transport;yield i.send(r,e)}))}}class Se{constructor(e,t){this.name="BeaconError",this.title="Error",this.message=`[${e}]:${t}`,this.description=t}get fullDescription(){return{description:this.description}}static getError(e,t){switch(e){case W.BROADCAST_ERROR:return new Te;case W.NETWORK_NOT_SUPPORTED:return new Re;case W.NO_ADDRESS_ERROR:return new xe;case W.NO_PRIVATE_KEY_FOUND_ERROR:return new Ie;case W.NOT_GRANTED_ERROR:return new Oe;case W.PARAMETERS_INVALID_ERROR:return new ke;case W.TOO_MANY_OPERATIONS:return new Ne;case W.TRANSACTION_INVALID_ERROR:return new Ce(t);case W.SIGNATURE_TYPE_NOT_SUPPORTED:return new et;case W.ABORTED_ERROR:return new We;case W.UNKNOWN_ERROR:return new Pe}}}class Te extends Se{constructor(){super(W.BROADCAST_ERROR,"The transaction could not be broadcast to the network. Please try again."),this.name="BroadcastBeaconError",this.title="Broadcast Error"}}class Re extends Se{constructor(){super(W.NETWORK_NOT_SUPPORTED,"The wallet does not support this network. Please select another one."),this.name="NetworkNotSupportedBeaconError",this.title="Network Error"}}class xe extends Se{constructor(){super(W.NO_ADDRESS_ERROR,"The wallet does not have an account set up. Please make sure to set up your wallet and try again."),this.name="NoAddressBeaconError",this.title="No Address"}}class Ie extends Se{constructor(){super(W.NO_PRIVATE_KEY_FOUND_ERROR,"The account you are trying to interact with is not available. Please make sure to add the account to your wallet and try again."),this.name="NoPrivateKeyBeaconError",this.title="Account Not Found"}}class Oe extends Se{constructor(){super(W.NOT_GRANTED_ERROR,"You do not have the necessary permissions to perform this action. Please initiate another permission request and give the necessary permissions."),this.name="NotGrantedBeaconError",this.title="Permission Not Granted"}}class ke extends Se{constructor(){super(W.PARAMETERS_INVALID_ERROR,"Some of the parameters you provided are invalid and the request could not be completed. Please check your inputs and try again."),this.name="ParametersInvalidBeaconError",this.title="Parameters Invalid"}}class Ne extends Se{constructor(){super(W.TOO_MANY_OPERATIONS,"The request contains too many transactions. Please include fewer operations and try again."),this.name="TooManyOperationsBeaconError",this.title="Too Many Operations"}}class Ce extends Se{constructor(e){super(W.TRANSACTION_INVALID_ERROR,"The transaction is invalid and the node did not accept it."),this.data=e,this.name="TransactionInvalidBeaconError",this.title="Transaction Invalid",this.data=e}get fullDescription(){return{description:this.description,data:JSON.stringify(this.data,void 0,2)}}}class Pe extends Se{constructor(){super(W.UNKNOWN_ERROR,"An unknown error occured. Please try again or report it to a developer."),this.name="UnknownBeaconError",this.title="Error"}}var Le=function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function s(e){try{l(r.next(e))}catch(e){o(e)}}function a(e){try{l(r.throw(e))}catch(e){o(e)}}function l(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}l((r=r.apply(e,t||[])).next())}))};const Me=new we("Transport");class Be{constructor(e,t,n){this.type=V.POST_MESSAGE,this._isConnected=G.NOT_CONNECTED,this.listeners=[],this.name=e,this.client=t,this.peerManager=n}get connectionStatus(){return this._isConnected}static isAvailable(){return Le(this,void 0,void 0,(function*(){return Promise.resolve(!1)}))}connect(){return Le(this,void 0,void 0,(function*(){Me.log("connect"),this._isConnected=G.CONNECTED}))}disconnect(){return Le(this,void 0,void 0,(function*(){Me.log("disconnect"),this._isConnected=G.NOT_CONNECTED}))}send(e,t){return Le(this,void 0,void 0,(function*(){if(t)return this.client.sendMessage(e,t);{const t=(yield this.getPeers()).map((t=>this.client.sendMessage(e,t)));return(yield Promise.all(t))[0]}}))}addListener(e){return Le(this,void 0,void 0,(function*(){Me.debug("addListener"),this.listeners.push(e)}))}removeListener(e){return Le(this,void 0,void 0,(function*(){Me.log("removeListener"),this.listeners=this.listeners.filter((t=>t!==e))}))}getPeers(){return Le(this,void 0,void 0,(function*(){return this.peerManager.getPeers()}))}addPeer(e,t=!0){return Le(this,void 0,void 0,(function*(){Me.log("addPeer","adding peer",e),yield this.peerManager.addPeer(e),yield this.listen(e.publicKey)}))}removePeer(e){return Le(this,void 0,void 0,(function*(){Me.log("removePeer","removing peer",e),yield this.peerManager.removePeer(e.publicKey),this.client&&(yield this.client.unsubscribeFromEncryptedMessage(e.publicKey))}))}removeAllPeers(){return Le(this,void 0,void 0,(function*(){Me.log("removeAllPeers"),yield this.peerManager.removeAllPeers(),this.client&&(yield this.client.unsubscribeFromEncryptedMessages())}))}notifyListeners(e,t){return Le(this,void 0,void 0,(function*(){0===this.listeners.length?Me.warn("notifyListeners","0 listeners notified!",this):Me.log("notifyListeners",`Notifying ${this.listeners.length} listeners`,this),this.listeners.forEach((n=>{n(e,t)}))}))}}var Ue=function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function s(e){try{l(r.next(e))}catch(e){o(e)}}function a(e){try{l(r.throw(e))}catch(e){o(e)}}function l(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}l((r=r.apply(e,t||[])).next())}))};class De{constructor(e){this.prefix=e}static isSupported(){return Ue(this,void 0,void 0,(function*(){return Promise.resolve(Boolean("undefined"!=typeof window)&&Boolean(window.localStorage))}))}get(e){return Ue(this,void 0,void 0,(function*(){const t=localStorage.getItem(this.getPrefixedKey(e));if(!t)return"object"==typeof te[e]?JSON.parse(JSON.stringify(te[e])):te[e];try{return JSON.parse(t)}catch(e){return t}}))}set(e,t){return Ue(this,void 0,void 0,(function*(){return"string"==typeof t?localStorage.setItem(this.getPrefixedKey(e),t):localStorage.setItem(this.getPrefixedKey(e),JSON.stringify(t))}))}delete(e){return Ue(this,void 0,void 0,(function*(){return Promise.resolve(localStorage.removeItem(this.getPrefixedKey(e)))}))}getPrefixedKey(e){return this.prefix?`${this.prefix}-${e}`:e}}new we("STORAGE");var je=n(8764).Buffer,Ke=function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function s(e){try{l(r.next(e))}catch(e){o(e)}}function a(e){try{l(r.throw(e))}catch(e){o(e)}}function l(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}l((r=r.apply(e,t||[])).next())}))};class qe{serialize(e){return Ke(this,void 0,void 0,(function*(){const t=JSON.stringify(e);return b.encode(je.from(t))}))}deserialize(e){return Ke(this,void 0,void 0,(function*(){if("string"!=typeof e)throw new Error("Encoded payload needs to be a string");return JSON.parse(b.decode(e).toString())}))}}var Fe=function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function s(e){try{l(r.next(e))}catch(e){o(e)}}function a(e){try{l(r.throw(e))}catch(e){o(e)}}function l(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}l((r=r.apply(e,t||[])).next())}))};class He{constructor(e){this.storageManager=new ue(e,z.APP_METADATA_LIST)}getAppMetadataList(){return Fe(this,void 0,void 0,(function*(){return this.storageManager.getAll()}))}getAppMetadata(e){return Fe(this,void 0,void 0,(function*(){return this.storageManager.getOne((t=>t.senderId===e))}))}addAppMetadata(e){return Fe(this,void 0,void 0,(function*(){return this.storageManager.addOne(e,(t=>t.senderId===e.senderId))}))}removeAppMetadata(e){return Fe(this,void 0,void 0,(function*(){return this.storageManager.remove((t=>t.senderId===e))}))}removeAppMetadatas(e){return Fe(this,void 0,void 0,(function*(){return this.storageManager.remove((t=>e.includes(t.senderId)))}))}removeAllAppMetadata(){return Fe(this,void 0,void 0,(function*(){return this.storageManager.removeAll()}))}}class We extends Se{constructor(){super(W.ABORTED_ERROR,"The action was aborted by the user."),this.name="UnknownBeaconError",this.title="Aborted"}}var Ge=function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function s(e){try{l(r.next(e))}catch(e){o(e)}}function a(e){try{l(r.throw(e))}catch(e){o(e)}}function l(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}l((r=r.apply(e,t||[])).next())}))};class Ve{constructor(e,t){this.storageManager=new ue(e,t)}hasPeer(e){return Ge(this,void 0,void 0,(function*(){return!!(yield this.getPeer(e))}))}getPeers(){return Ge(this,void 0,void 0,(function*(){return this.storageManager.getAll()}))}getPeer(e){return Ge(this,void 0,void 0,(function*(){return this.storageManager.getOne((t=>t.publicKey===e))}))}addPeer(e){return Ge(this,void 0,void 0,(function*(){return this.storageManager.addOne(e,(t=>t.publicKey===e.publicKey))}))}removePeer(e){return Ge(this,void 0,void 0,(function*(){return this.storageManager.remove((t=>t.publicKey===e))}))}removePeers(e){return Ge(this,void 0,void 0,(function*(){return this.storageManager.remove((t=>e.includes(t.publicKey)))}))}removeAllPeers(){return Ge(this,void 0,void 0,(function*(){return this.storageManager.removeAll()}))}}var ze=n(4826),Qe=n(8764).Buffer,Xe=function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function s(e){try{l(r.next(e))}catch(e){o(e)}}function a(e){try{l(r.throw(e))}catch(e){o(e)}}function l(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}l((r=r.apply(e,t||[])).next())}))};class Ye{constructor(e){this.keyPair=e}getPublicKey(){return Xe(this,void 0,void 0,(function*(){return N(this.keyPair.publicKey)}))}getPublicKeyHash(){return Xe(this,void 0,void 0,(function*(){return C(this.keyPair.publicKey)}))}createCryptoBoxServer(e,t){return Xe(this,void 0,void 0,(function*(){return(0,ze.serverSessionKeys)({publicKey:(0,R.SH)(t.publicKey),secretKey:(0,R.zh)(t.secretKey)},(0,R.SH)(Qe.from(e,"hex")))}))}createCryptoBoxClient(e,t){return Xe(this,void 0,void 0,(function*(){return(0,ze.clientSessionKeys)({publicKey:(0,R.SH)(t.publicKey),secretKey:(0,R.zh)(t.secretKey)},(0,R.SH)(Qe.from(e,"hex")))}))}encryptMessageAsymmetric(e,t){return Xe(this,void 0,void 0,(function*(){return function(e,t){return O(this,void 0,void 0,(function*(){const n=(0,R.SH)(I.from(t)),r=(0,_.generateKeyPair)(),i=new T.BLAKE2b(24).update(r.publicKey,32).update(n,32).digest(),o="string"==typeof e?(0,S.cv)(e):e,s=(0,_.box)(n,r.secretKey,i,o);return N((0,x.z)(r.publicKey,s))}))}(t,Qe.from(e,"hex"))}))}}var Je=n(8764).Buffer,Ze=function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function s(e){try{l(r.next(e))}catch(e){o(e)}}function a(e){try{l(r.throw(e))}catch(e){o(e)}}function l(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}l((r=r.apply(e,t||[])).next())}))};class $e extends Ye{constructor(e,t){super(t),this.name=e,this.init().catch(console.error)}start(){return Ze(this,void 0,void 0,(function*(){yield Promise.resolve()}))}getPairingRequestInfo(){return Ze(this,void 0,void 0,(function*(){return{id:yield ee(),type:"postmessage-pairing-request",name:this.name,version:"3",publicKey:yield this.getPublicKey()}}))}getPairingResponseInfo(e){return Ze(this,void 0,void 0,(function*(){return{id:e.id,type:"postmessage-pairing-response",name:this.name,version:e.version,publicKey:yield this.getPublicKey()}}))}unsubscribeFromEncryptedMessage(e){return Ze(this,void 0,void 0,(function*(){this.activeListeners.get(e)&&this.activeListeners.delete(e)}))}unsubscribeFromEncryptedMessages(){return Ze(this,void 0,void 0,(function*(){this.activeListeners.clear()}))}decryptMessage(e,t){return Ze(this,void 0,void 0,(function*(){const n=yield this.createCryptoBoxServer(e,this.keyPair),r=Je.from(t,"hex");if(r.length>=40)try{return yield M(r,n.receive)}catch(e){}throw new Error("Could not decrypt message")}))}encryptMessage(e,t){return Ze(this,void 0,void 0,(function*(){const n=yield this.createCryptoBoxClient(e,this.keyPair);return L(t,n.send)}))}}class et extends Se{constructor(){super(W.SIGNATURE_TYPE_NOT_SUPPORTED,"The wallet is not able to sign payloads of this type."),this.name="SignatureTypeNotSupportedBeaconError",this.title="Signature Type Not Supported"}}var tt,nt=n(9669),rt=n.n(nt);!function(e){e.TEXT="m.text"}(tt||(tt={}));class it{constructor(e,t,n,r){this.type=e,this.sender=t,this.content=n,this.timestamp=r}static from(e){if(st(e))return new it(e.content.msgtype,e.sender,e.content.body,e.origin_server_ts)}}const ot=e=>"m.room.message"===e.type,st=e=>ot(e)&&e.content instanceof Object&&"msgtype"in e.content&&e.content.msgtype===tt.TEXT;var at;!function(e){e[e.UNKNOWN=0]="UNKNOWN",e[e.JOINED=1]="JOINED",e[e.INVITED=2]="INVITED",e[e.LEFT=3]="LEFT"}(at||(at={}));class lt{constructor(e,t=at.UNKNOWN,n=[],r=[]){this.id=e,this.status=t,this.members=n,this.messages=r}static fromSync(e){var t,n,r;if(!e)return[];function i(e,t){return Object.entries(e).map((([e,n])=>t(e,n)))}return[...i(null!==(t=e.join)&&void 0!==t?t:{},lt.fromJoined),...i(null!==(n=e.invite)&&void 0!==n?n:{},lt.fromInvited),...i(null!==(r=e.leave)&&void 0!==r?r:{},lt.fromLeft)]}static from(e,t){return"string"==typeof e?new lt(e,t||at.UNKNOWN):void 0!==t?new lt(e.id,t,e.members,e.messages):e}static merge(e,t){return t&&t.id===e.id?new lt(e.id,e.status,[...t.members,...e.members].filter(((e,t,n)=>n.indexOf(e)===t)),[...t.messages,...e.messages]):lt.from(e)}static fromJoined(e,t){const n=[...t.state.events,...t.timeline.events],r=lt.getMembersFromEvents(n),i=lt.getMessagesFromEvents(n);return new lt(e,at.JOINED,r,i)}static fromInvited(e,t){const n=lt.getMembersFromEvents(t.invite_state.events);return new lt(e,at.INVITED,n)}static fromLeft(e,t){const n=[...t.state.events,...t.timeline.events],r=lt.getMembersFromEvents(n),i=lt.getMessagesFromEvents(n);return new lt(e,at.LEFT,r,i)}static getMembersFromEvents(e){return lt.getUniqueEvents(e.filter((e=>(e=>"m.room.create"===e.type&&e.content instanceof Object&&"creator"in e.content)(e)||(e=>"m.room.member"===e.type&&e.content instanceof Object&&"membership"in e.content&&"join"===e.content.membership)(e)))).map((e=>e.sender)).filter(((e,t,n)=>n.indexOf(e)===t))}static getMessagesFromEvents(e){return lt.getUniqueEvents(e.filter(ot)).map((e=>it.from(e))).filter(Boolean)}static getUniqueEvents(e){const t={},n=[];return e.forEach(((e,r)=>{const i=e.event_id;void 0!==i&&i in t||(void 0!==i&&(t[i]=r),n.push(e))})),n}}var ct=function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function s(e){try{l(r.next(e))}catch(e){o(e)}}function a(e){try{l(r.throw(e))}catch(e){o(e)}}function l(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}l((r=r.apply(e,t||[])).next())}))};const ut=["syncToken","rooms"];class ht{constructor(e){this.storage=e,this.state={isRunning:!1,userId:void 0,deviceId:void 0,txnNo:0,accessToken:void 0,syncToken:void 0,pollingTimeout:void 0,pollingRetries:0,rooms:{}},this.onStateChangedListeners=new Map,this.waitReadyPromise=new Promise(((e,t)=>ct(this,void 0,void 0,(function*(){try{yield this.initFromStorage(),e()}catch(e){t(e)}}))))}get(e){return this.state[e]}getRoom(e){const t=lt.from(e,at.UNKNOWN);return this.state.rooms[t.id]||t}update(e){return ct(this,void 0,void 0,(function*(){yield this.waitReady();const t=Object.assign({},this.state);this.setState(e),this.updateStorage(e),this.notifyListeners(t,this.state,e)}))}onStateChanged(e,...t){t.length>0?t.forEach((t=>{this.onStateChangedListeners.set(t,e)})):this.onStateChangedListeners.set("all",e)}waitReady(){return ct(this,void 0,void 0,(function*(){return this.waitReadyPromise}))}initFromStorage(){return ct(this,void 0,void 0,(function*(){const e=yield this.storage.get(z.MATRIX_PRESERVED_STATE);this.setState(e)}))}prepareData(e){const t=["rooms"].some((t=>void 0!==e[t]))?JSON.parse(JSON.stringify(e)):e;return Object.values(t.rooms||{}).forEach((e=>{e.messages=[]})),t}updateStorage(e){if(Object.entries(e).filter((([e,t])=>ut.includes(e)&&Boolean(t))).length>0){const e={};ut.forEach((t=>{e[t]=this.state[t]})),this.storage.set(z.MATRIX_PRESERVED_STATE,this.prepareData(e))}}setState(e){this.state={isRunning:e.isRunning||this.state.isRunning,userId:e.userId||this.state.userId,deviceId:e.deviceId||this.state.deviceId,txnNo:e.txnNo||this.state.txnNo,accessToken:e.accessToken||this.state.accessToken,syncToken:e.syncToken||this.state.syncToken,pollingTimeout:e.pollingTimeout||this.state.pollingTimeout,pollingRetries:e.pollingRetries||this.state.pollingRetries,rooms:this.mergeRooms(this.state.rooms,e.rooms)}}mergeRooms(e,t){if(!t)return e;const n=Array.isArray(t)?t:Object.values(t),r=Object.assign({},e);return n.forEach((t=>{r[t.id]=lt.merge(t,e[t.id])})),r}notifyListeners(e,t,n){const r=this.onStateChangedListeners.get("all");r&&r(e,t,n),m(n).filter((e=>void 0!==n[e])).forEach((r=>{const i=this.onStateChangedListeners.get(r);i&&i(e,t,n)}))}}var ft=function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function s(e){try{l(r.next(e))}catch(e){o(e)}}function a(e){try{l(r.throw(e))}catch(e){o(e)}}function l(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}l((r=r.apply(e,t||[])).next())}))};const dt=new we("MatrixHttpClient");class pt{constructor(e){this.baseUrl=e,this.cancelTokenSource=rt().CancelToken.source()}get(e,t,n){return ft(this,void 0,void 0,(function*(){return this.send("GET",e,n,t)}))}post(e,t,n,r){return ft(this,void 0,void 0,(function*(){return this.send("POST",e,n,r,t)}))}put(e,t,n,r){return ft(this,void 0,void 0,(function*(){return this.send("PUT",e,n,r,t)}))}cancelAllRequests(){return ft(this,void 0,void 0,(function*(){return this.cancelTokenSource.cancel("Manually cancelled")}))}send(e,t,n,r,i){return ft(this,void 0,void 0,(function*(){const o=n?this.getHeaders(n):void 0,s=r?this.getParams(r):void 0;let a;try{a=yield rt().request({method:e,url:t,baseURL:this.apiUrl("/_matrix/client/r0"),headers:o,data:i,params:s,cancelToken:this.cancelTokenSource.token})}catch(e){const t=e;throw dt.error("send",t.code,t.message,t.response.data),e.response.data}return a.data}))}getHeaders(e){const t={},n=[];if(e.accessToken&&n.push(["Authorization",`Bearer ${e.accessToken}`]),0!==n.length){for(const[e,r]of n)t[e]=r;return t}}getParams(e){if(!e)return;const t=Object.assign(e,{});return m(t).forEach((e=>void 0===t[e]&&delete t[e])),t}apiUrl(...e){return[this.baseUrl.endsWith("/")?this.baseUrl.substr(0,this.baseUrl.length-1):this.baseUrl,...e.map((e=>e.startsWith("/")?e.substr(1):e))].join("/")}}var gt=function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function s(e){try{l(r.next(e))}catch(e){o(e)}}function a(e){try{l(r.throw(e))}catch(e){o(e)}}function l(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}l((r=r.apply(e,t||[])).next())}))};class yt{constructor(e){this.httpClient=e}createRoom(e,t={}){return gt(this,void 0,void 0,(function*(){return this.httpClient.post("/createRoom",t,{accessToken:e})}))}inviteToRoom(e,t,n){return gt(this,void 0,void 0,(function*(){return n.status!==at.JOINED&&n.status!==at.UNKNOWN?Promise.reject(`User is not a member of room ${n.id}.`):this.httpClient.post(`/rooms/${encodeURIComponent(n.id)}/invite`,{user_id:t},{accessToken:e})}))}joinRoom(e,t){return gt(this,void 0,void 0,(function*(){return t.status===at.JOINED?Promise.resolve({room_id:t.id}):this.httpClient.post(`/rooms/${encodeURIComponent(t.id)}/join`,{},{accessToken:e})}))}getJoinedRooms(e){return gt(this,void 0,void 0,(function*(){return this.httpClient.get("/joined_rooms",void 0,{accessToken:e})}))}}class vt{constructor(e){this.httpClient=e}login(e,t,n){return r=this,i=void 0,s=function*(){return this.httpClient.post("/login",{type:"m.login.password",identifier:{type:"m.id.user",user:e},password:t,device_id:n})},new((o=void 0)||(o=Promise))((function(e,t){function n(e){try{l(s.next(e))}catch(e){t(e)}}function a(e){try{l(s.throw(e))}catch(e){t(e)}}function l(t){var r;t.done?e(t.value):(r=t.value,r instanceof o?r:new o((function(e){e(r)}))).then(n,a)}l((s=s.apply(r,i||[])).next())}));var r,i,o,s}}var mt,wt=function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function s(e){try{l(r.next(e))}catch(e){o(e)}}function a(e){try{l(r.throw(e))}catch(e){o(e)}}function l(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}l((r=r.apply(e,t||[])).next())}))};class Et{constructor(e){this.httpClient=e,this.cachedPromises=new Map}sync(e,t){return wt(this,void 0,void 0,(function*(){return this.withCache("sync",(()=>this.httpClient.get("/sync",{timeout:t?t.pollingTimeout:void 0,since:t?t.syncToken:void 0},{accessToken:e})))}))}sendMessage(e,t,n,r){return wt(this,void 0,void 0,(function*(){return new Promise(((i,o)=>this.scheduleEvent({accessToken:e,roomId:t,type:"m.room.message",content:n,txnId:r,onSuccess:i,onError:o})))}))}scheduleEvent(e){this.sendEvent(e)}sendEvent(e){return wt(this,void 0,void 0,(function*(){const{roomId:t,type:n,txnId:r,content:i,accessToken:o}=e;try{const s=yield this.httpClient.put(`/rooms/${encodeURIComponent(t)}/send/${n}/${encodeURIComponent(r)}`,i,{accessToken:o});e.onSuccess(s)}catch(t){e.onError(t)}}))}withCache(e,t){let n=this.cachedPromises.get(e);return n||(n=t().finally((()=>{this.cachedPromises.delete(e)})),this.cachedPromises.set(e,n)),n}}class bt{constructor(){this.events={}}on(e,t){return"object"!=typeof this.events[e]&&(this.events[e]=[]),this.events[e].push(t),()=>this.removeListener(e,t)}removeListener(e,t){if("object"!=typeof this.events[e])return;if(!t)return void(this.events[e]=[]);const n=this.events[e].indexOf(t);n>-1&&this.events[e].splice(n,1)}removeAllListeners(){Object.keys(this.events).forEach((e=>this.events[e].splice(0,this.events[e].length)))}emit(e,...t){"object"==typeof this.events[e]&&[...this.events[e]].forEach((e=>e.apply(this,t)))}once(e,t){const n=this.on(e,((...e)=>{n(),t.apply(this,e)}));return n}}!function(e){e.INVITE="invite",e.MESSAGE="message"}(mt||(mt={}));class _t extends bt{constructor(){super(...arguments),this.eventEmitProviders=new Map([[mt.INVITE,()=>[this.isInvite,this.emitInvite.bind(this)]],[mt.MESSAGE,()=>[this.isMessage,this.emitMessage.bind(this)]]])}onStateChanged(e,t,n){for(const e of m(mt))this.emitIfEvent(mt[e],n)}emitIfEvent(e,t){const n=this.eventEmitProviders.get(e);if(n){const[r,i]=n();r(t)&&i(e,t)}}emitClientEvent(e,t,n){this.emit(e,{type:e,content:t,timestamp:n})}isInvite(e){return!!e.rooms&&e.rooms.some((e=>e.status===at.INVITED))}emitInvite(e,t){t.rooms.filter((e=>e.status===at.INVITED)).map((e=>[e.id,e.members])).forEach((([t,n])=>{this.emitClientEvent(e,{roomId:t,members:n})}))}isMessage(e){return!!e.rooms&&e.rooms.some((e=>e.messages.length>0))}emitMessage(e,t){t.rooms.filter((e=>e.messages.length>0)).map((e=>e.messages.map((t=>[e.id,t,t.timestamp])))).reduce(((e,t)=>e.concat(t)),[]).forEach((([t,n,r])=>{this.emitClientEvent(e,{roomId:t,message:n},r)}))}}var At=function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function s(e){try{l(r.next(e))}catch(e){o(e)}}function a(e){try{l(r.throw(e))}catch(e){o(e)}}function l(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}l((r=r.apply(e,t||[])).next())}))};const St=new we("MatrixClient");class Tt{constructor(e,t,n,r,i,o){this.store=e,this.eventEmitter=t,this.userService=n,this.roomService=r,this.eventService=i,this.httpClient=o,this.isActive=!0,this._isReady=new E,this.store.onStateChanged(((e,t,n)=>{this.eventEmitter.onStateChanged(e,t,n)}),"rooms")}static create(e){const t=new ht(e.storage),n=new _t,r=new pt(e.baseUrl),i=new vt(r),o=new yt(r),s=new Et(r);return new Tt(t,n,i,o,s,r)}get joinedRooms(){return new Promise((e=>At(this,void 0,void 0,(function*(){yield this.isConnected(),e(Object.values(this.store.get("rooms")).filter((e=>e.status===at.JOINED)))}))))}get invitedRooms(){return new Promise((e=>At(this,void 0,void 0,(function*(){yield this.isConnected(),e(Object.values(this.store.get("rooms")).filter((e=>e.status===at.INVITED)))}))))}get leftRooms(){return new Promise((e=>At(this,void 0,void 0,(function*(){yield this.isConnected(),e(Object.values(this.store.get("rooms")).filter((e=>e.status===at.LEFT)))}))))}start(e){return At(this,void 0,void 0,(function*(){const t=yield this.userService.login(e.id,e.password,e.deviceId);yield this.store.update({accessToken:t.access_token});const n=new Promise(((e,t)=>At(this,void 0,void 0,(function*(){yield this.poll(0,(t=>At(this,void 0,void 0,(function*(){this.store.get("isRunning")||e(),yield this.store.update({isRunning:!0,syncToken:t.next_batch,pollingTimeout:3e4,pollingRetries:0,rooms:lt.fromSync(t.rooms)})}))),(e=>At(this,void 0,void 0,(function*(){this.store.get("isRunning")||t(e),yield this.store.update({isRunning:!1,pollingRetries:this.store.get("pollingRetries")+1})}))))}))));return n.then((()=>{this._isReady.resolve()})).catch(console.error),n}))}isConnected(){return At(this,void 0,void 0,(function*(){return this._isReady.promise}))}stop(){return At(this,void 0,void 0,(function*(){return St.log("MATRIX CLIENT STOPPED"),this.isActive=!1,this._isReady=new E,this.httpClient.cancelAllRequests()}))}subscribe(e,t){this.eventEmitter.on(e,t)}unsubscribe(e,t){t&&this.eventEmitter.removeListener(e,t)}unsubscribeAll(e){this.eventEmitter.removeListener(e)}getRoomById(e){return At(this,void 0,void 0,(function*(){return yield this.isConnected(),this.store.getRoom(e)}))}createTrustedPrivateRoom(...e){return At(this,void 0,void 0,(function*(){return yield this.isConnected(),this.requiresAuthorization("createRoom",(t=>At(this,void 0,void 0,(function*(){return(yield this.roomService.createRoom(t,{room_version:"5",invite:e,preset:"public_chat",is_direct:!0})).room_id}))))}))}inviteToRooms(e,...t){return At(this,void 0,void 0,(function*(){yield this.isConnected(),yield this.requiresAuthorization("invite",(n=>Promise.all(t.map((t=>{const r=this.store.getRoom(t);this.roomService.inviteToRoom(n,e,r).catch((e=>St.warn("inviteToRooms",e)))})))))}))}joinRooms(...e){return At(this,void 0,void 0,(function*(){yield this.isConnected(),yield this.requiresAuthorization("join",(t=>Promise.all(e.map((e=>{const n=this.store.getRoom(e);return this.roomService.joinRoom(t,n)})))))}))}sendTextMessage(e,t){return At(this,void 0,void 0,(function*(){yield this.isConnected(),yield this.requiresAuthorization("send",(n=>At(this,void 0,void 0,(function*(){const r=yield this.createTxnId();return this.eventService.sendMessage(n,e,{msgtype:"m.text",body:t},r)}))))}))}poll(e,t,n){return At(this,void 0,void 0,(function*(){const r=this.store,i=this.sync.bind(this),o=(s,a)=>At(this,void 0,void 0,(function*(){let l=0;try{const e=yield i();t(e)}catch(e){n(e),l=r.get("pollingRetries"),this.isActive&&St.log(`Retry syncing... ${l} retries so far`)}finally{this.isActive?setTimeout((()=>At(this,void 0,void 0,(function*(){yield o(s,a)}))),l>3?5e3+e:e):a(new Error("Syncing stopped manually."))}}));return new Promise(o)}))}sync(){return At(this,void 0,void 0,(function*(){return this.requiresAuthorization("sync",(e=>At(this,void 0,void 0,(function*(){return this.eventService.sync(e,{pollingTimeout:this.store.get("pollingTimeout"),syncToken:this.store.get("syncToken")})}))))}))}requiresAuthorization(e,t){return At(this,void 0,void 0,(function*(){const n=this.store.get("accessToken");return n?t(n):Promise.reject(`${e} requires authorization but no access token has been provided.`)}))}createTxnId(){return At(this,void 0,void 0,(function*(){const e=(new Date).getTime(),t=this.store.get("txnNo");return yield this.store.update({txnNo:t+1}),`m${e}.${t}`}))}}var Rt=n(8764).Buffer,xt=function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function s(e){try{l(r.next(e))}catch(e){o(e)}}function a(e){try{l(r.throw(e))}catch(e){o(e)}}function l(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}l((r=r.apply(e,t||[])).next())}))};const It=new we("P2PCommunicationClient"),Ot={[ie.EUROPE_WEST]:["beacon-node-1.diamond.papers.tech","beacon-node-1.sky.papers.tech","beacon-node-2.sky.papers.tech","beacon-node-1.hope.papers.tech","beacon-node-1.hope-2.papers.tech","beacon-node-1.hope-3.papers.tech","beacon-node-1.hope-4.papers.tech","beacon-node-1.hope-5.papers.tech"]};class kt extends Ye{constructor(e,t,n,r,i,o,s){super(t),this.name=e,this.replicationCount=n,this.storage=r,this.iconUrl=o,this.appUrl=s,this.client=new E,this.activeListeners=new Map,this.ignoredRooms=[],this.loginCounter=0,It.log("constructor","P2PCommunicationClient created"),this.ENABLED_RELAY_SERVERS=Ot,i&&(this.ENABLED_RELAY_SERVERS=Object.assign(Object.assign({},Ot),i))}getPairingRequestInfo(){return xt(this,void 0,void 0,(function*(){const e={id:yield ee(),type:"p2p-pairing-request",name:this.name,version:"3",publicKey:yield this.getPublicKey(),relayServer:(yield this.getRelayServer()).server};return this.iconUrl&&(e.icon=this.iconUrl),this.appUrl&&(e.appUrl=this.appUrl),e}))}getPairingResponseInfo(e){return xt(this,void 0,void 0,(function*(){const t={id:e.id,type:"p2p-pairing-response",name:this.name,version:e.version,publicKey:yield this.getPublicKey(),relayServer:(yield this.getRelayServer()).server};return this.iconUrl&&(t.icon=this.iconUrl),this.appUrl&&(t.appUrl=this.appUrl),t}))}findBestRegion(){return xt(this,void 0,void 0,(function*(){if(this.selectedRegion)return this.selectedRegion;const e=Object.keys(this.ENABLED_RELAY_SERVERS),t=[];e.forEach((e=>{var n;const r=null!==(n=this.ENABLED_RELAY_SERVERS[e])&&void 0!==n?n:[],i=Math.floor(Math.random()*r.length);t.push(this.getBeaconInfo(r[i]).then((t=>({region:e,server:r[i],response:t}))).catch((e=>new Promise(((t,n)=>{setTimeout((()=>n(e)),2e3)})))))}));const n=yield Promise.race(t);return this.selectedRegion=n.region,n.region}))}getRelayServer(){return xt(this,void 0,void 0,(function*(){if(this.relayServer){const e=yield this.relayServer.promise;if(Date.now()-e.localTimestamp<6e4)return{server:e.server,timestamp:e.timestamp};const t=yield this.getBeaconInfo(e.server);return this.relayServer.resolve({server:e.server,timestamp:t.timestamp,localTimestamp:(new Date).getTime()}),{server:e.server,timestamp:t.timestamp}}this.relayServer=new E;const e=yield this.storage.get(z.MATRIX_SELECTED_NODE);if(e&&e.length>0){const t=yield this.getBeaconInfo(e);return this.relayServer.resolve({server:e,timestamp:t.timestamp,localTimestamp:(new Date).getTime()}),{server:e,timestamp:t.timestamp}}const t=yield this.findBestRegion(),n=this.ENABLED_RELAY_SERVERS[t];if(!n)throw new Error(`No servers found for region ${t}`);const r=[...n];for(;r.length>0;){const e=Math.floor(Math.random()*r.length),t=r[e];try{const e=yield this.getBeaconInfo(t);return this.storage.set(z.MATRIX_SELECTED_NODE,t).catch((e=>It.log(e))),this.relayServer.resolve({server:t,timestamp:e.timestamp,localTimestamp:(new Date).getTime()}),{server:t,timestamp:e.timestamp}}catch(n){It.log(`Ignoring server "${t}", trying another one...`),r.splice(e,1)}}throw this.relayServer.reject("No matrix server reachable!"),new Error("No matrix server reachable!")}))}getBeaconInfo(e){return xt(this,void 0,void 0,(function*(){return rt().get(`https://${e}/_synapse/client/beacon/info`).then((e=>({region:e.data.region,known_servers:e.data.known_servers,timestamp:Math.floor(e.data.timestamp)})))}))}tryJoinRooms(e,t=1){return xt(this,void 0,void 0,(function*(){try{yield(yield this.client.promise).joinRooms(e)}catch(n){t<=10&&"M_FORBIDDEN"===n.errcode?(It.log("Retrying to join...",n),setTimeout((()=>xt(this,void 0,void 0,(function*(){yield this.tryJoinRooms(e,t+1)}))),200)):It.log(`Failed to join after ${t} tries.`,n)}}))}start(){var e,t;return xt(this,void 0,void 0,(function*(){It.log("start","starting client"),It.log("start","connecting to server");const n=yield this.getRelayServer(),r=Tt.create({baseUrl:`https://${n.server}`,storage:this.storage});if(this.initialListener=e=>xt(this,void 0,void 0,(function*(){this.initialEvent&&this.initialEvent.timestamp&&e&&e.timestamp?this.initialEvent.timestamp<e.timestamp&&(this.initialEvent=e):this.initialEvent=e})),r.subscribe(mt.MESSAGE,this.initialListener),r.subscribe(mt.INVITE,(e=>xt(this,void 0,void 0,(function*(){let t;1===e.content.members.length&&(t=e.content.members[0]),yield this.tryJoinRooms(e.content.roomId),t&&(yield this.updateRelayServer(t),yield this.updatePeerRoom(t,e.content.roomId))})))),!n.timestamp)throw new Error("No timestamp received from relay server");const i=Math.floor(n.timestamp),o=`login:${Math.floor(i/300)}`;It.log("start",`login ${o}, ${yield this.getPublicKeyHash()} on ${n.server}`);const s=(0,T.hash)((0,S.cv)(o),32),a=null!==(e=this.keyPair.secretKey)&&void 0!==e?e:this.keyPair.privateKey,l=(0,R.Xx)(a,s);try{yield r.start({id:yield this.getPublicKeyHash(),password:`ed:${N(l)}:${yield this.getPublicKey()}`,deviceId:N(this.keyPair.publicKey)})}catch(e){if(It.error("start","Could not log in, retrying"),yield this.reset(),!this.selectedRegion)throw new Error("No region selected.");if(this.loginCounter<=(null!==(t=this.ENABLED_RELAY_SERVERS[this.selectedRegion])&&void 0!==t?t:[]).length)return this.loginCounter++,void this.start();throw It.error("start","Tried to log in to every known beacon node, but no login was successful."),new Error("Could not connect to any beacon nodes. Try again later.")}It.log("start","login successful, client is ready"),this.client.resolve(r)}))}stop(){return xt(this,void 0,void 0,(function*(){It.log("stop","stopping client"),this.client.isResolved()&&(yield(yield this.client.promise).stop().catch((e=>It.error(e)))),yield this.reset()}))}reset(){return xt(this,void 0,void 0,(function*(){It.log("reset","resetting connection"),yield this.storage.delete(z.MATRIX_PEER_ROOM_IDS).catch((e=>It.log(e))),yield this.storage.delete(z.MATRIX_PRESERVED_STATE).catch((e=>It.log(e))),yield this.storage.delete(z.MATRIX_SELECTED_NODE).catch((e=>It.log(e))),this.relayServer=void 0,this.client=new E,this.initialEvent=void 0,this.initialListener=void 0}))}listenForEncryptedMessage(e,t){return xt(this,void 0,void 0,(function*(){if(this.activeListeners.has(e))return;It.log("listenForEncryptedMessage",`start listening for encrypted messages from publicKey ${e}`);const n=yield this.createCryptoBoxServer(e,this.keyPair),r=r=>xt(this,void 0,void 0,(function*(){if(this.isTextMessage(r.content)&&(yield this.isSender(r,e))){let i;yield this.updateRelayServer(r.content.message.sender),yield this.updatePeerRoom(r.content.message.sender,r.content.roomId);try{i=Rt.from(r.content.message.content,"hex")}catch(e){}if(i&&i.length>=40)try{const r=yield M(i,n.receive);It.log("listenForEncryptedMessage",`received a message from ${e}`,r),t(r)}catch(e){}}}));this.activeListeners.set(e,r),(yield this.client.promise).subscribe(mt.MESSAGE,r);const i=this.initialEvent;i&&i.timestamp&&(new Date).getTime()-i.timestamp<3e5?(It.log("listenForEncryptedMessage","Handling previous event"),yield r(i)):It.log("listenForEncryptedMessage","No previous event found");const o=this.initialListener;o&&(yield this.client.promise).unsubscribe(mt.MESSAGE,o),this.initialListener=void 0,this.initialEvent=void 0}))}unsubscribeFromEncryptedMessage(e){return xt(this,void 0,void 0,(function*(){const t=this.activeListeners.get(e);t&&((yield this.client.promise).unsubscribe(mt.MESSAGE,t),this.activeListeners.delete(e))}))}unsubscribeFromEncryptedMessages(){return xt(this,void 0,void 0,(function*(){(yield this.client.promise).unsubscribeAll(mt.MESSAGE),this.activeListeners.clear()}))}sendMessage(e,t){return xt(this,void 0,void 0,(function*(){const n=yield this.createCryptoBoxClient(t.publicKey,this.keyPair),r=U(yield C(Rt.from(t.publicKey,"hex")),t.relayServer),i=yield this.getRelevantRoom(r);yield this.waitForJoin(i);const o=yield L(e,n.send);It.log("sendMessage","sending encrypted message",t.publicKey,i,e),(yield this.client.promise).sendTextMessage(i,o).catch((e=>xt(this,void 0,void 0,(function*(){if("M_FORBIDDEN"===e.errcode){It.log("sendMessage","M_FORBIDDEN",i,e),yield this.deleteRoomIdFromRooms(i);const t=yield this.getRelevantRoom(r);It.log("sendMessage","Old room deleted, new room created",t),(yield this.client.promise).sendTextMessage(t,o).catch((e=>xt(this,void 0,void 0,(function*(){It.log("sendMessage","inner error",t,e)}))))}else It.log("sendMessage","unexpected error",e)}))))}))}updatePeerRoom(e,t){return xt(this,void 0,void 0,(function*(){It.log("updatePeerRoom",e,t);const n=e.split(":");if(n.length<2||!n[0].startsWith("@"))throw new Error("Invalid sender");const r=yield this.storage.get(z.MATRIX_PEER_ROOM_IDS),i=r[e];i===t&&It.debug("updatePeerRoom","rooms are the same, not updating"),It.debug("updatePeerRoom","current room",i,"new room",t),i&&i[1]&&(It.log("updatePeerRoom",`adding room "${i[1]}" to ignored array`),this.ignoredRooms.push(i[1])),r[e]=t,yield this.storage.set(z.MATRIX_PEER_ROOM_IDS,r)}))}deleteRoomIdFromRooms(e){return xt(this,void 0,void 0,(function*(){const t=yield this.storage.get(z.MATRIX_PEER_ROOM_IDS),n=Object.entries(t).filter((t=>t[1]!==e)).reduce(((e,t)=>Object.assign(Object.assign({},e),{[t[0]]:t[1]})),{});yield this.storage.set(z.MATRIX_PEER_ROOM_IDS,n),this.ignoredRooms.push(e)}))}listenForChannelOpening(e){return xt(this,void 0,void 0,(function*(){It.debug("listenForChannelOpening"),(yield this.client.promise).subscribe(mt.MESSAGE,(t=>xt(this,void 0,void 0,(function*(){if(this.isTextMessage(t.content)&&(yield this.isChannelOpenMessage(t.content))){It.log("listenForChannelOpening","channel opening received, trying to decrypt",JSON.stringify(t)),yield this.updateRelayServer(t.content.message.sender),yield this.updatePeerRoom(t.content.message.sender,t.content.roomId);const n=t.content.message.content.split(":"),r=Rt.from(n[n.length-1],"hex");if(r.length>=40)try{const t=JSON.parse(yield B(r,this.keyPair.publicKey,this.keyPair.secretKey));It.log("listenForChannelOpening","channel opening received and decrypted",JSON.stringify(t)),e(Object.assign(Object.assign({},t),{senderId:yield ve(t.publicKey)}))}catch(e){}}}))))}))}waitForJoin(e,t=0){return xt(this,void 0,void 0,(function*(){const n=yield(yield this.client.promise).getRoomById(e);if(It.log("waitForJoin",`Currently ${n.members.length} members, we need at least 2`),!(n.members.length>=2||0===n.members.length)){if(t<=200)return It.log(`Waiting for join... Try: ${t}`),new Promise((n=>{setTimeout((()=>xt(this,void 0,void 0,(function*(){n(this.waitForJoin(e,t+1))}))),100*(t>50?10:1))}));throw new Error(`No one joined after ${t} tries.`)}}))}sendPairingResponse(e){return xt(this,void 0,void 0,(function*(){It.log("sendPairingResponse");const t=U(yield C(Rt.from(e.publicKey,"hex")),e.relayServer),n=yield(yield this.client.promise).createTrustedPrivateRoom(t);It.debug("sendPairingResponse",`Connecting to room "${n}"`),yield this.updatePeerRoom(t,n),yield this.waitForJoin(n),It.debug("sendPairingResponse","Successfully joined room.");const r=void 0===e.version?yield this.getPublicKey():JSON.stringify(yield this.getPairingResponseInfo(e));It.debug("sendPairingResponse","Sending pairing response",r);const i=yield this.encryptMessageAsymmetric(e.publicKey,r),o=["@channel-open",t,i].join(":");(yield this.client.promise).sendTextMessage(n,o).catch((e=>xt(this,void 0,void 0,(function*(){if("M_FORBIDDEN"===e.errcode){It.log("sendPairingResponse","M_FORBIDDEN",n,e),yield this.deleteRoomIdFromRooms(n);const r=yield this.getRelevantRoom(t);It.log("sendPairingResponse","Old room deleted, new room created",r),(yield this.client.promise).sendTextMessage(r,o).catch((e=>xt(this,void 0,void 0,(function*(){It.log("sendPairingResponse","inner error",r,e)}))))}else It.log("sendPairingResponse","unexpected error",e)}))))}))}isTextMessage(e){return e.message.type===tt.TEXT}updateRelayServer(e){return xt(this,void 0,void 0,(function*(){It.log("updateRelayServer",e);const t=e.split(":");if(t.length<2||!t[0].startsWith("@"))throw new Error("Invalid sender");const n=t.shift(),r=t.join(":"),i=localStorage.getItem("beacon:communication-peers-dapp")?new Ve(this.storage,z.TRANSPORT_P2P_PEERS_DAPP):new Ve(this.storage,z.TRANSPORT_P2P_PEERS_WALLET),o=(yield i.getPeers()).map((e=>xt(this,void 0,void 0,(function*(){`@${yield C(Rt.from(e.publicKey,"hex"))}`===n&&e.relayServer!==r&&(e.relayServer=r,yield i.addPeer(e))}))));yield Promise.all(o)}))}isChannelOpenMessage(e){return xt(this,void 0,void 0,(function*(){return e.message.content.startsWith(`@channel-open:@${yield C(Rt.from(yield this.getPublicKey(),"hex"))}`)}))}isSender(e,t){return xt(this,void 0,void 0,(function*(){return e.content.message.sender.startsWith(`@${yield C(Rt.from(t,"hex"))}`)}))}getRelevantRoom(e){return xt(this,void 0,void 0,(function*(){const t=yield this.storage.get(z.MATRIX_PEER_ROOM_IDS);let n=t[e];if(!n){It.log("getRelevantRoom",`No room found for peer ${e}, checking joined ones.`);const r=yield this.getRelevantJoinedRoom(e);n=r.id,t[e]=r.id,yield this.storage.set(z.MATRIX_PEER_ROOM_IDS,t)}return It.log("getRelevantRoom",`Using room ${n}`),n}))}getRelevantJoinedRoom(e){return xt(this,void 0,void 0,(function*(){const t=yield(yield this.client.promise).joinedRooms;It.log("checking joined rooms",t,e);const n=t.filter((e=>!this.ignoredRooms.some((t=>e.id===t)))).filter((t=>t.members.some((t=>t===e))));let r;if(0===n.length||this.ignoredRooms.length>0){It.log("getRelevantJoinedRoom","no relevant rooms found, creating new one");const t=yield(yield this.client.promise).createTrustedPrivateRoom(e);r=yield(yield this.client.promise).getRoomById(t),It.log("getRelevantJoinedRoom",`waiting for other party to join room: ${r.id}`),yield this.waitForJoin(t),It.log("getRelevantJoinedRoom",`new room created and peer invited: ${r.id}`)}else r=n[0],It.log("getRelevantJoinedRoom",`channel already open, reusing room ${r.id}`);return r}))}}var Nt=function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function s(e){try{l(r.next(e))}catch(e){o(e)}}function a(e){try{l(r.throw(e))}catch(e){o(e)}}function l(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}l((r=r.apply(e,t||[])).next())}))};const Ct=new we("P2PTransport");class Pt extends Be{constructor(e,t,n,r,i,o,s){super(e,new kt(e,t,1,n,r,o,s),new Ve(n,i)),this.type=V.P2P}static isAvailable(){return Nt(this,void 0,void 0,(function*(){return Promise.resolve(!0)}))}connect(){const e=Object.create(null,{connect:{get:()=>super.connect}});return Nt(this,void 0,void 0,(function*(){if(this._isConnected!==G.NOT_CONNECTED)return;Ct.log("connect"),this._isConnected=G.CONNECTING,yield this.client.start();const t=yield this.getPeers();if(t.length>0){Ct.log("connect",`connecting to ${t.length} peers`);const e=t.map((e=>Nt(this,void 0,void 0,(function*(){return this.listen(e.publicKey)}))));Promise.all(e).catch((e=>Ct.error("connect",e)))}return yield this.startOpenChannelListener(),e.connect.call(this)}))}disconnect(){const e=Object.create(null,{disconnect:{get:()=>super.disconnect}});return Nt(this,void 0,void 0,(function*(){return yield this.client.stop(),e.disconnect.call(this)}))}startOpenChannelListener(){return Nt(this,void 0,void 0,(function*(){}))}getPairingRequestInfo(){return Nt(this,void 0,void 0,(function*(){return this.client.getPairingRequestInfo()}))}listen(e){return Nt(this,void 0,void 0,(function*(){yield this.client.listenForEncryptedMessage(e,(t=>{const n={origin:F.P2P,id:e};this.notifyListeners(t,n).catch((e=>{throw e}))})).catch((e=>{throw e}))}))}}var Lt=n(8764).Buffer,Mt=function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function s(e){try{l(r.next(e))}catch(e){o(e)}}function a(e){try{l(r.throw(e))}catch(e){o(e)}}function l(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}l((r=r.apply(e,t||[])).next())}))};class Bt extends $e{constructor(){super(...arguments),this.activeListeners=new Map}init(){return Mt(this,void 0,void 0,(function*(){this.subscribeToMessages().catch(console.error)}))}listenForEncryptedMessage(e,t){return Mt(this,void 0,void 0,(function*(){this.activeListeners.has(e)||this.activeListeners.set(e,((n,r)=>Mt(this,void 0,void 0,(function*(){try{const i=yield this.decryptMessage(e,n.encryptedPayload);t(i,r)}catch(e){}}))))}))}sendMessage(e,t){return Mt(this,void 0,void 0,(function*(){const n=yield this.encryptMessage(t.publicKey,e),r=null==t?void 0:t.extensionId,i={target:H.EXTENSION,encryptedPayload:n,targetId:r};se.postMessage(i,se.location.origin)}))}listenForChannelOpening(e){return Mt(this,void 0,void 0,(function*(){se.addEventListener("message",(t=>Mt(this,void 0,void 0,(function*(){var n,r;if(t.source!==se||t.origin!==se.location.origin)return;const i=null===(n=null==t?void 0:t.data)||void 0===n?void 0:n.message;if(i&&i.target===H.PAGE&&(yield this.isChannelOpenMessage(i))){const n=Lt.from(i.payload,"hex");if(n.length>=40)try{const i=JSON.parse(yield B(n,this.keyPair.publicKey,this.keyPair.secretKey));e(Object.assign(Object.assign({},i),{senderId:yield ve(i.publicKey),extensionId:null===(r=null==t?void 0:t.data)||void 0===r?void 0:r.sender.id}))}catch(e){}}}))))}))}sendPairingRequest(e){return Mt(this,void 0,void 0,(function*(){const t={target:H.EXTENSION,payload:yield(new qe).serialize(yield this.getPairingRequestInfo()),targetId:e};se.postMessage(t,se.location.origin)}))}isChannelOpenMessage(e){return Mt(this,void 0,void 0,(function*(){return"object"==typeof e&&e.hasOwnProperty("payload")}))}subscribeToMessages(){return Mt(this,void 0,void 0,(function*(){se.addEventListener("message",(e=>{if(e.source===se&&e.origin===se.location.origin&&"object"==typeof e&&e){const t=e.data;t.message&&t.message.target===H.PAGE&&this.activeListeners.forEach((e=>{e(t.message,{origin:F.EXTENSION,id:t.sender.id||""})}))}}))}))}}var Ut=function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function s(e){try{l(r.next(e))}catch(e){o(e)}}function a(e){try{l(r.throw(e))}catch(e){o(e)}}function l(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}l((r=r.apply(e,t||[])).next())}))};const Dt=new we("PostMessageTransport");let jt,Kt,qt=!1;class Ft extends Be{constructor(e,t,n,r){super(e,new Bt(e,t),new Ve(n,r)),this.type=V.POST_MESSAGE}static isAvailable(){return Ut(this,void 0,void 0,(function*(){return new Promise((e=>{const t=n=>{const r=n.data;r&&"pong"===r.payload&&(e(!0),se.removeEventListener("message",t))};se.addEventListener("message",t);const n={target:H.EXTENSION,payload:"ping"};se.postMessage(n,se.location.origin)}))}))}static getAvailableExtensions(){return Ut(this,void 0,void 0,(function*(){return jt||Kt||(Kt=[],jt=new Promise((e=>{Ft.listenForExtensions(),setTimeout((()=>{e(null!=Kt?Kt:[])}),1e3)})).finally((()=>{jt=void 0})),jt)}))}static listenForExtensions(){if(qt)return;se.addEventListener("message",(e=>{if(e.source!==se||e.origin!==se.location.origin)return;const t=e.data,n=t.sender;var r;t&&"pong"===t.payload&&n&&(Dt.log("getAvailableExtensions",`extension "${n.name}" is available`,n),r=n,Kt||(Kt=[]),Kt.some((e=>e.id===r.id))||(Kt.push(r),se.postMessage("extensionsUpdated",se.location.origin)))}));const e={target:H.EXTENSION,payload:"ping"};se.postMessage(e,se.location.origin),qt=!0}connect(){const e=Object.create(null,{connect:{get:()=>super.connect}});return Ut(this,void 0,void 0,(function*(){if(Dt.log("connect"),this._isConnected!==G.NOT_CONNECTED)return;this._isConnected=G.CONNECTING;const t=yield this.getPeers();if(t.length>0){Dt.log("connect",`connecting to ${t.length} peers`);const e=t.map((e=>Ut(this,void 0,void 0,(function*(){return this.listen(e.publicKey)}))));Promise.all(e).catch((e=>Dt.error("connect",e)))}yield this.startOpenChannelListener(),yield e.connect.call(this)}))}startOpenChannelListener(){return Ut(this,void 0,void 0,(function*(){}))}getPairingRequestInfo(){return Ut(this,void 0,void 0,(function*(){return this.client.getPairingRequestInfo()}))}listen(e){return Ut(this,void 0,void 0,(function*(){Dt.log("listen",e),yield this.client.listenForEncryptedMessage(e,((e,t)=>{const n={origin:F.EXTENSION,id:t.id};this.notifyListeners(e,n).catch((e=>{throw e}))})).catch((e=>{throw e}))}))}}const Ht=":host {\n  --animation-duration: 300ms;\n  all: initial;\n}\n\n@keyframes fadeIn {\n  from {\n    opacity: 0;\n  }\n  to {\n    opacity: 1;\n  }\n}\n\n@keyframes fadeOut {\n  from {\n    opacity: 1;\n  }\n  to {\n    opacity: 0;\n  }\n}\n\n.animated {\n  animation-duration: var(--animation-duration);\n  animation-fill-mode: both;\n}\n\n.fadeIn {\n  animation-name: fadeIn;\n}\n\n.fadeOut {\n  animation-name: fadeOut;\n}\n\n.beacon-modal__wrapper {\n  position: relative;\n  top: 0;\n  display: inline-block;\n  z-index: 2147483000;\n  max-width: 500px;\n  width: 80%;\n  padding: 24px;\n}\n\n.theme__light .beacon-modal__base,\n.theme__light .beacon-modal__close__wrapper {\n  background: #fff;\n}\n\n.theme__dark .beacon-modal__base,\n.theme__dark .beacon-modal__close__wrapper {\n  background: #27334c;\n}\n\n.beacon-modal__base,\n.beacon-modal__close__wrapper {\n  box-shadow: 0 12px 24px 0 rgba(0, 0, 0, 0.1);\n}\n\n.beacon-modal__base {\n  margin: 0 auto;\n  border-radius: 32px;\n  overflow: hidden;\n}\n\n.beacon-modal__header {\n  padding: 16px 0;\n  width: 100%;\n  display: flex;\n  flex-direction: row;\n  justify-content: space-between;\n  align-items: center;\n}\n\n.beacon-modal__headerLogo {\n  width: 100%;\n  max-width: 320px;\n  margin: 20px auto;\n  height: 100%;\n}\n\na,\nbutton {\n  cursor: pointer;\n}\n\n.beacon-modal__close__wrapper {\n  position: absolute;\n  top: 44px;\n  right: 24px;\n  z-index: 10000;\n  cursor: pointer;\n  border-radius: 100%;\n}\n\n.beacon-modal__close__icon {\n  width: 16px;\n  height: 16px;\n  position: relative;\n  top: 0;\n  right: 0;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  transform: rotate(45deg);\n  margin: 8px;\n}\n\n.beacon-modal__close__line1 {\n  position: absolute;\n  width: 90%;\n}\n\n.beacon-modal__close__line2 {\n  position: absolute;\n  width: 90%;\n  transform: rotate(90deg);\n}\n\n.theme__light .beacon-modal__close__line2,\n.theme__light .beacon-modal__close__line1 {\n  border: 1px solid #000;\n}\n\n.theme__dark .beacon-modal__close__line2,\n.theme__dark .beacon-modal__close__line1 {\n  border: 1px solid #fff;\n}\n\n.beacon-alert__base {\n  position: fixed;\n  overflow-y: scroll;\n  top: 0;\n  left: 0;\n  width: 100%;\n  height: 100%;\n  z-index: 2147482999;\n  background-color: rgb(17 17 17 / 0.84);\n  text-align: center;\n  -ms-overflow-style: none;\n  scrollbar-width: none;\n  font-family: Roboto, Helvetica, sans-serif;\n}\n\n.beacon-alert__base::-webkit-scrollbar {\n  display: none;\n}\n\n.beacon-alert__title {\n  text-align: center;\n}\n\n.beacon-alert__text,\n.beacon-alert__title {\n  margin: 0 auto;\n  padding: 0 0 24px;\n}\n\n.margin__bottom {\n  margin-bottom: 16px;\n}\n\n.beacon-alert__title {\n  font-size: 18px;\n}\n\n.theme__light .beacon-alert__title {\n  color: #3b3d40;\n}\n\n.theme__dark .beacon-alert__title,\n.theme__dark .beacon-alert__text {\n  color: #7c99d6;\n}\n\n.beacon-alert__text {\n  color: #000;\n  font-size: 14px;\n}\n\n.beacon-modal__button,\n.beacon-modal__button--outline {\n  height: 36px;\n  font-size: 14px;\n  letter-spacing: 0.84px;\n  margin-bottom: 4px;\n  margin-inline-end: 2px;\n  margin-inline-start: 2px;\n  margin-left: 2px;\n  margin-right: 2px;\n  margin-top: 4px;\n  padding-inline-end: 15.4px;\n  padding-inline-start: 15.4px;\n  padding-left: 15.4px;\n  padding-right: 15.4px;\n  overflow-wrap: break-word;\n  pointer-events: auto;\n  text-align: center;\n  border-radius: 4px;\n  border: 2px solid #3880ff;\n}\n\n.beacon-modal__button {\n  background: #3880ff;\n  color: #fff;\n}\n\n.beacon-modal__button--outline {\n  background: #fff;\n  color: #444444;\n  border: 1px solid #444444;\n}\n\n.beacon-alert__image {\n  width: 200px;\n  height: 200px;\n  box-sizing: border-box;\n  box-shadow: 0 10px 20px 0 rgba(17, 17, 17, 0.12);\n  border: 1px solid rgba(17, 17, 17, 0.04);\n  border-radius: 16px;\n}\n.connect__btn {\n  margin: 24px 0;\n  width: 100%;\n}\n\n#beacon-modal__content {\n  padding: 24px;\n}\n\n#beacon-switch {\n  margin-top: 24px;\n}\n\n#beacon-title {\n  margin: 0 0 24px;\n}\n\na {\n  text-decoration: none;\n}\n\npre {\n  white-space: pre-wrap; /* css-3 */\n  white-space: -moz-pre-wrap; /* Mozilla, since 1999 */\n  white-space: -pre-wrap; /* Opera 4-6 */\n  white-space: -o-pre-wrap; /* Opera 7 */\n  word-wrap: break-word; /* Internet Explorer 5.5+ */\n  padding: 16px;\n  background: #ececec;\n  line-height: 1.25rem;\n}\n",Wt="#beacon-main-text {\n  display: initial;\n}\n.beacon-selection__container {\n  padding: 16px 16px 0;\n}\n.beacon-selection__list {\n  display: flex;\n  flex-direction: row;\n  justify-content: space-between;\n  text-decoration: none;\n  padding-bottom: 12px;\n  align-items: center;\n}\n.beacon-list__title {\n  text-align: left;\n  font-size: 12px;\n}\n.beacon-list__wrapper:nth-child(-n + 3) {\n  padding: 0 0 1rem;\n}\n.theme__light .beacon-list__title {\n  color: #7c828b;\n}\n.theme__dark .beacon-list__title,\n.theme__dark #beacon--disclaimer {\n  color: #7c99d6;\n}\n\n.beacon-selection__name {\n  font-size: 1rem;\n  font-weight: 600;\n  text-align: left;\n}\n.theme__light .beacon-selection__name,\n.theme__light .beacon--selection__name__lg {\n  color: #3b3d40;\n}\n.theme__dark .beacon-selection__name,\n.theme__dark .beacon--selection__name__lg {\n  color: #6183ff;\n}\n.beacon-selection__img {\n  width: 48px;\n  height: 48px;\n  box-shadow: 0 4px 12px 0 rgba(17, 17, 17, 0.24);\n  border-radius: 16px;\n  background-color: #fff;\n}\n.beacon--selection__name__lg {\n  font-size: 1.5rem;\n  font-weight: 600;\n  text-align: center;\n  padding: 1rem 0;\n}\n.beacon--selected__container {\n  padding: 2rem 0 0;\n}\n#beacon--qr__copy__container {\n  height: 0;\n}\n#beacon--qr__copy {\n  display: none;\n  position: relative;\n  margin-top: auto;\n  margin-left: auto;\n  margin-right: auto;\n}\n#beacon--qr__container {\n  margin-left: auto;\n  margin-right: auto;\n}\n#beacon--qr__container:hover #beacon--qr__copy {\n  display: block;\n}\n\n.disabled p {\n  text-align: left;\n  margin: 0;\n  font-size: 10px;\n  font-weight: 300;\n  opacity: 0.48;\n}\n\n#beacon--disclaimer {\n  text-align: left;\n  padding-top: 24px;\n  font-size: 0.875rem;\n}\n.progress-line,\n.progress-line:before {\n  height: 3px;\n  width: -webkit-fill-available;\n  margin-left: -24px;\n  margin-right: -24px;\n}\n.progress-line {\n  background-color: #a7c4f7;\n  display: -webkit-flex;\n  display: flex;\n}\n.progress-line:before {\n  background-color: #3880ff;\n  content: '';\n  -webkit-animation: running-progress 2s cubic-bezier(0.4, 0, 0.2, 1) infinite;\n  animation: running-progress 2s cubic-bezier(0.4, 0, 0.2, 1) infinite;\n}\n@-webkit-keyframes running-progress {\n  0% {\n    margin-left: 0px;\n    margin-right: 100%;\n  }\n  50% {\n    margin-left: 25%;\n    margin-right: 0%;\n  }\n  100% {\n    margin-left: 100%;\n    margin-right: 0;\n  }\n}\n@keyframes running-progress {\n  0% {\n    margin-left: 0px;\n    margin-right: 100%;\n  }\n  50% {\n    margin-left: 25%;\n    margin-right: 0%;\n  }\n  100% {\n    margin-left: 100%;\n    margin-right: 0;\n  }\n}\n",Gt=(e,t)=>t.test(e.navigator.userAgent),Vt=e=>((e,t)=>e.matchMedia("(any-pointer:coarse)").matches)(e),zt=e=>Gt(e,/iPhone|iPod/i)||(e=>!!Gt(e,/iPad/i)||!(!Gt(e,/Macintosh/i)||!Vt(e)))(e),Qt=e=>Gt(e,/android|sink/i);var Xt=n(6192);const Yt=new we("QR"),Jt=(e,t)=>`${e}?type=tzip10&data=${t}`;var Zt=function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function s(e){try{l(r.next(e))}catch(e){o(e)}}function a(e){try{l(r.throw(e))}catch(e){o(e)}}function l(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}l((r=r.apply(e,t||[])).next())}))};let $t=[{key:"infinity_wallet",name:"Infinity Wallet",shortName:"Infinity Wallet",color:"rgb(52, 147, 218)",logo:"data:image/png;base64,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",deepLink:"infinity://"},{key:"galleon_desktop",name:"Galleon",shortName:"Galleon",color:"",logo:"data:image/png;base64,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",deepLink:"galleon://"},{key:"umami_desktop",name:"Umami",shortName:"Umami",color:"",logo:"data:image/png;base64,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",deepLink:"umami://"},{key:"atomex_desktop",name:"Atomex Wallet",shortName:"Atomex",color:"",logo:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEAAAABACAYAAACqaXHeAAAE6UlEQVR4AeXBe0xVdQDA8e/53XNFQFJ5e0NAAUXeMQHJByo+cM6Z+WrO0h66uelEatl0U9egnDa1rczN1eq/Mg39I8WQphYOo4z54K0Cgl6eQy6IXO49J/2DZk3k4r0c2c7nI6mPoGMCnRPonEDnBDon0DmBzgl0TqBzAp0T6JxA5wQ6J9A5gc7JvCD1ZgslpWasNoXJE7yJjvDjRZDRWGt7NzsPnCfv4k1UlX/FTPJj//Z0osJ90ZJAQ5YuK6u35nLmwk1Ulf+4XtnMii0nuFHVgpYEGjr4zWWqatroT9eDXj7cV4CqohmBRux2lR/zyhnI9cpmSqub0YpAI+aWTjo6e3BE5e02tCLQiFEWOMpoNKAVgUb8fTwJCvRiIJIkkTAlAK0INPTeqgQGsmhWGEGBXmhFoKF1y+JYPCec/kSEepOTlYaWZDQkhMQXuxaSHGvi6LES6s0dPDbay40VGVPY9nYyXp4j0JKMhn46W46/jyfrl8exbnkcza0PsNnsBPiOwmCQeBEEGjl/uZb39xZQeKWexyTA38cDU4AXBoPEr0U1HPr2D7Qm0ECD2UJmdj7R4b5krk/iacpvtvL5d8XUmzvQkmCIWXvtbNqdh6KqfPXxItxGyDzN6wsikSSJY2fK0JJgiOUcLuRqRRMHd85n/LiX6E+gnydpycEcP1OOoqhoReBCPVY795o66bHa6GNXVLZvnEZ6aigDWb04ioZGC7/9eQetyLhA3d37fHLkEgWXarD22jHKgtkpIezYNJ3sbWk4Kj01FN+xHuT+UkFacjBakHFSxa1WVm3Npb3jIX16bQr5hbcpKmng+0PLiJnkhyOMsmDf9rnIBoFWBE5QVcj69BztHQ95GkuXlczsfBRFxVHpqaGkJQfTR1FUhpKME65VNHG9splnqapto/jaPVLiTTjC2mvnh59Lyc2vpLSqmZ5eOwE+nsxMGs+7KxOInOiDK8k4oaq2DUdU17aREm9iIHV377Nh52nKb7XypHvNnRw7XcaJsxVkvZPM5rVTcRUZJ3i4G3GEx0gjF4vrOHWukplTg5mVNB7vMe48qbW9mzcyT9LQaKE/drvC/qNFGIRg05pEXEHGCUmxJoyyoNem0B+DkEhJMHG1vImLxXc4nleOEBLxkf7MTglhydwIwoLHknO4kIZGC4747OsiFsyYQFjwWJxl2PMIz8nD3UhHl5UrN8z0Z+3SWJbOm0R4iDcbViUwf8ZETH6jqLvbwclzVZRVtzBnWggf7C1AUVUcoSgqSBJzpoXgLBknfbQxlbb2bk6cLef/lsyNYNfmGfSRJImYCD9iIvzY/OZU7lt6UBSVS3/XY7MrDEbhX/W4goyTZFlwYMc8Vi+O4vSFaszNXfj7eJAxK4zpiUE8y2gvNx5rbOlisBpbOnEFGRdJiTeREm/ieXi4GxksT3cjriAYBmIn+zNYsZP9cQXBMBAV7suUMF8GY3lGJK4gGAYkYPeWmQgh4YhXE4PImDkRVxAME6mvvExO1mwMBolniY7w48s9C5EkCVeQGUbWLIkmIsSb7MO/U1LWyJM8PYy89VosW9cl4z5SxlVkhpmkuHGcOrKSmvp2blS10N1jY5z/KBKjA3F3k3E1mWEqNGgMoUFjGGoCnRPonEDnBDon0DmBzgl0TqBzAp0T6JxA5wQ6J9A5gc79A200jdqC2KUJAAAAAElFTkSuQmCC",deepLink:"atomex://"}],en=[{key:"spire_chrome",id:"gpfndedineagiepkpinficbcbbgjoenn",name:"Spire",shortName:"Spire",color:"",logo:"data:image/png;base64,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",link:"https://spirewallet.com/"},{key:"temple_chrome",id:"ookjlbkiijinhpmnjffcofjonbfbgaoc",name:"Temple Wallet",shortName:"Temple",color:"",logo:"data:image/png;base64,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",link:"https://templewallet.com/"}],tn=[{key:"kukai_web",name:"Kukai Wallet",shortName:"Kukai",color:"",logo:"data:image/png;base64,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",links:{mainnet:"https://wallet.kukai.app",ghostnet:"https://ghostnet.kukai.app",mondaynet:"https://dailynet.kukai.app",delphinet:"https://testnet.kukai.app",edonet:"https://edonet.kukai.app",florencenet:"https://florencenet.kukai.app",granadanet:"https://granadanet.kukai.app",hangzhounet:"https://hangzhounet.kukai.app",ithacanet:"https://ithacanet.kukai.app",jakartanet:"https://jakartanet.kukai.app",kathmandunet:"https://kathmandunet.kukai.app",limanet:"https://limanet.kukai.app",mumbainet:"https://mumbainet.kukai.app"}}],nn=[{key:"airgap_ios",name:"AirGap Wallet",shortName:"AirGap",color:"rgb(4, 235, 204)",logo:"data:image/png;base64,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",universalLink:"https://wallet.airgap.it",deepLink:"airgap-wallet://"},{key:"naan_ios",name:"naan - your portal to web3 ",shortName:"naan",color:"",logo:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEAAAABACAYAAACqaXHeAAACDklEQVR4Ae3BMWgTcRTA4d97/aNBI2SpOKmbgjrUBNvBQbsJOggd2sG14NCILg52sEPr3ExZnVwLTgUJggq2TUAwiJNkkapEdAjUoeR5NuAtSe3JUXt5fp9YsWSkZ0Ea9YdErFjaAnIMdlsa9erixOeCmH7j37ilOKc4pzinOKc4pzinOBfY3QdgnZ7rQJ4ho+yuJo36jDTqM8AnhpDinOKc4pzinOJcIHs6XewmAyhcA7nHHgWyZ3t+7fgzBlga/3KaBALZM/Jool0i0sU2H7we/Uhkabx9UQQ1654igUD2HDOzDXbYIjDPDntlRg6EJBTnFOcC6TpnxdI0PSNkQCBdU8AUGaI4pzinOKc4pzinOKc4F4A5BnvHb7YAUiA9L/nF2ALm+BsidWJ3gUAissF/zolRfgycZP+tCJVlIlbLV4EzpGNdJjv3iVjtaAXkAoOtBuAScJb91yRWBEqk4wexMeAyg7UU5xTnFOcU5xTnFOcCB9820KanAORIUeDga8pkZ4yI1fJPgGlSpDinOKc4pzinOBdITKpgX+lLRsFmyZBAcstC5T19GHfOA7NkiOJcIDFrGOUu8Fyo3CBilJ8CV8CUjAkkd4SeHLEckCeDFOcCw+ew1fIn6DnEHwSGz1Vgkz1SnFOcU5xTnFOcU5xTnAvAKtAkubfEXgDfSUTeEKsBLfprEVsDAump/wQutXPS0gaA0QAAAABJRU5ErkJggg==",universalLink:"https://www.naan.app/",deepLink:"naan://"},{key:"altme_wallet",name:"Altme Wallet",shortName:"Altme",color:"",logo:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEAAAABACAYAAACqaXHeAAAF7klEQVR4AeXBW5DVdQEA4O/3O/+zexYWlEWQe6W4hhJQDBdRCRaMFMfrjICAyjg+ODXm9NDlofGp0pp8sRqnxqeaQqbsMo1O4ziJ17QAwWuikxaKQiIBC8tyzvk1gzM0O8vZ5dz25XxfWCslLSxqcVGLi1pc1OKiFhe1uKjFRS0uanFRi8uMsJCn2EHWQdt0lDj+b8r95I6SikZUZiQVGH8xV9/J3B7GTiCVOfghO57gsQc58AaOGzGZkdJO91Xc/VPOnkgIThk9likzWbSaH93Ku0+jaEREIyFSmMpdDzDuXEIwSAhMmM5Xfkw8y4iJRkKBlbfQNdmwps1iwXXIGxFRswVCgRW3EoJhhcCXNlEebUREzZbjomWcO8MZu3ARUy8mZJouarKUsWIDIThjuYxl60mjNV3UTJGubuZdgaAql15L+3hETRU1USpw6Q10dKpa12TmrSJ0aKqoibLxLF2rJgErbya1a6qoSeIouuczdabaBC6Yz9TZhDZNEzVJMWPlJmLOIKlM7yHee5P33qT3ECkZpK3AF2+iFDRNpglCxvjzmLvUIB/v43f388Lj9O5z0qgJLL6C67/OuHOdEgKXXMsj36fvPU2RaYJUYPE1jDrLAB++y/fWs28n4Rip5KTDe3l8Nzu38u1fMek8p3RNYe4qXvwF6YSGi5qgnGfFRkJwSqnIT+5m33YcIZX8XwlH2L+TB75KueSUGLniNk5kmiJqtDwXLWHSpw2w+2+8vhXHVJT62P00rz1rgAsXMX0echouarByoOc2Ys4A25+jLRlWVmbnswbI2li6jtCp4aJGCoyZxoIrCcEAR3sJwfDK9B02yLK1xDGIGipqpAJL1lAYbZCJEyiXDC9H12RSMsDZ5/D5KwkdGipqpLPoudlpLbqKcgeiygKlHItXE4JBVq6n3KGhogYJBboXMuMipzVxBl++E2OcXiCMZdXXmHyewQKzFjFpJiGvYaIGKXfQs4EYnVYIrPsGX7ydNJ7QTsgRcoQCzuHyW1j/LRXl21m2jnKmYTKNkDF2Cl9YYUjtHdxxH0uu5i8Ps/cVEibPZvkaZl9OLlNRCFxyLb+/l+N9SOqWaYQCC6+hc5xh5TLmLGfOckpFJ+UyZ2zCdD63kr//GkV1ixogFOhZQ3BmUiIlQiREUkJyRmJkxW2UcxoiU6fQxswFzJiFYFjlEm/v5K+P8v52Yp4Z81lyDdO6CdGwZl3C1IXsfQ4ldcnUqYiejeTyhvXRHh76Jtv+RCwRfGL7o/zhPi7fyMZ76BxnSO0dXHYDW3YQjqhLVKexU5i/ihAMae873HMdO35DPIxeUi+pF0dIH/PUz/juag5+YFhLbyI/Ud2iOoQCC66nc5wh/Xc/P1jPgVfRj2SwhGO8s537N3DsiCF1TWLuUmKnukR1OJFn1a2EoKJSkYe+wwcvkfoM7zhvPs+WeymXVBQDq27neE5dolrlOX8Bn5qjopTY9hgv/hJHnbFwlD//nLd2IDm9wKxFTL6AkKlZVKsxrNhECCrqP8aWewl9qneYzT+kWFRRLmP5BlK7mkW1yNFxDotXqygldj3Jnl0oqVo6xhvP8NZLKgqBpTeSdSKoSVSLAguvpvNslSWe3EIsqlk6yNYthjR+CnNXIqcmUQ3CKJatMaSD+3n1GdIJtTvOtsfoPaSiEOnZhIKaRFUKbUy7mPPnEYLTSoltT9B3ACW1K3FoD7ueMqTZS5jQjZyqRVUqB+YtJ8sb0tMPE4+qW+jlqc2G1NbBZy8j5FUtqlJCrt2Q/vkyu18g9atfkZf/yJ5/IKkoC0iqFlUplnj+txzcR0oGSIn9/+LBO0gHkDRE6RgP3sXHH5KSAVLio/fZuZVUVLWwVkqqlTFxNpetY2q3k0pF3n6J5zdz6F0UNVaerm4W38hn5hBzJOx5nWc2859XUFa1TC2K7NvFI69RzDkpJHIJ/Uga7wQHXuPR3ZRyJJ/ISiiirCaZWpXRT2YEJfST0zhRi4taXNTiohYXtbioxUUtLmpxUYuLWtz/AIepoFxQZk61AAAAAElFTkSuQmCC",universalLink:"https://app.altme.io/app/download"},{key:"autonomy-app",name:"Autonomy: Digital Art Wallet",shortName:"Autonomy",color:"",logo:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEAAAABACAYAAACqaXHeAAADS0lEQVR4AeXBXWiVZQAA4Gcvh+lYP4xGBBsc7Wal2UyWQ9gWSAYzhSgcgtBUSCwKMfulS2+iG7vJlUGJSzHBqwSLZhAYKgmZNac3tQNbizpTapPJYTun6zGDL/e+dPE9T53aYE2OBTkX5FyQc0HOBTkX5FyQc0HOBTlXkMLpy5TKoireR2+72ApSODjEqR9EtekxetvFFuRckHNBzgU5F6QwUxHdTEUKQWyzc1wqie5Sidk5sQWxHTvH5LToJqc5fl5sQUzXJth3TDJ7j3JtQkxBDLNzfPYdXfspT0mmPEXXfo6cZXZODAVZnf6Rg2csMFPhUonJabfV3caWtRSbCUEm1SqlMie/59ur5ilP0f8Rrx5ldZGGegu89CS9j8qiIKvSJKd+kFlDPYd30dfpjr3yFCcusP0QMxXzTE5zZthtPb1aVkEqh3fR12nR+jo5vEsqQQpPPERfp2j6Ouluk0KQwnOPi27LWikEKRSbRVdslkKQwo2bortxUwpBCmeGRTc0LIUghc8vcHVCNCO/ceKCFIIUKrM8c4Cx6xZt7DrPvk9lVgoFqVyboP0d3tzElrUUmwl1MqnWGP2Tkxd59wuuT0ulTm2wZjFmKlz8lQ+GOHGemvT6Onl5Ax3Laai3GAWL1VBPdxvdbfS2s/MQ1ZokQh2fvEB/t1iCmPq72LdRMq9tpL9bTEFsb29mSUF0Swq8tVlsQWxNjaxZJro1y2hqFFuQQlOj6JoapRCkMFoW3WhZCkFsV8YZGRfdyDjDY2ILYqpW2TNITXw17D1KtSqmIJapW2wbYGhYMl//zLYPmb4lloKsSmV+GrPATIWLv3DkLL//ZYE6PNzCsmZCkEm1ymiZkXFq5jt+jm+G2d5Dx3Ia6i2wqpVisywKsjp9mRc/9Z9seIQD21jZ6o5cGWfPIEPD5vnjb9475V8N7GD3elkEqWxdx5evs7LVHVvRwldvsHWdVIIU7r+Hj3cSgkULgUM7eeBeKQQpbO/hrqWiuXspz3dJIUihY7noOh6UQpBCQ73oGuqlEORckHNBzgU5V5BVTxsDO2SyqlV0q1oZ2CGTnjZZFWS1ooUVLf43xWZ2rxdbkHNBzgU5F+RckHNBzgU5F+RckHP/AKis3ntPQOcLAAAAAElFTkSuQmCC",universalLink:"https://autonomy.io/apps/tezos",deepLink:"autonomy-tezos://"},{key:"temple_ios",name:"Temple Wallet",shortName:"Temple",color:"",logo:"data:image/png;base64,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",universalLink:"https://templewallet.com",deepLink:"temple://"},{key:"atomex_ios",name:"Atomex Wallet",shortName:"Atomex",color:"",logo:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEAAAABACAYAAACqaXHeAAAFIUlEQVR4AeXBfWyMdwDA8e/ze55r6dbW6Ol71cvKVekQZmyGMVtWzMu6YoRI9oeXTWJsppMzr40lnXbxNjYEwZiXKVWtlqMlq5eWVus1nWp7Srz2mHP3LP1DIovq1Z1Hk+fzkQwBJhUdE+icQOcEOifQOYHOCXROoHMCnRPonEDnBDon0DmBzgl0TuEVaRUeSo9unfEyGCgquUDBmXOoaE9BY8YWzUldModhcQORJIknThUW8+XXiRScLUFLsuxjNKMRfz9fstM20KdXdyRJ4mnBgUZGjYxjf5YF6/UbaEWgoTkzJ2OKaktdfF9/jVVL5yNJEloRaESWZcYmDKM+XTpHExvTAa0INBIaHEgzf19cEd2hHVoRaOSR3Y6rHj2yoxWBRqqs1ZRdvUZ9VFXl75OFaEWgoaXL11GfHXsOUHa1Aq0INLRszSa27UqnLufOX2LKjLloSZZ9jGY0oqoqO/Yc4Oat25ii2tDM349at+/cZdW6LYyf9C23bt9FS5IhwKSikTHxQ6iyVpN1KA9JkghsGYDBoFBReR2Hw8GrINDIoA/eY03qQvr36UktVVWpslZztbwSh8PBxwPfJ3HGJLQm0EBEeAhrlyVRcKaEeUuW8SydoqNI/GYSkRGhaEnwknl7e7F5TTJCSCRMnMbDh//yLBu37sapqowbNQwtCV6yxeYZdI2NYcLkWVwpK6cu1yqtZBw8wriEYQgh0IrAg7y9vQgLCaJJE2+eUGSZHxYkszcjh/qs3bidiLBgBrzfC60oeECbyHAWzplO3KB+eHkZsNsfk551mFlzf2LqzB9xVVrGIazVNxkdP5iM7CNoQZZ9jGbc0NH0Jof3bqJrbEdkWaaWLAvat2vNmPghZObkUmWtxhVOp5PSC1coOFvCpSv/oAWBGyRJ4rdfFtH8DX+exd/Pl7XLk5CFwFV7M3LIOHiEJ4QQvEwKbuga25EunaN5HlNUW3q93RVLXj6u8PIyMGHMSEZ/FkdsjIkm3l5UVF0nMyeXlJXrOVt8Hk9ScIMpqi2uMEW1xZKXT33aRIazbX0qMaYonhYWEsT40cP5In4oc5NSSfp5FZ6i4IYamw1X3LfZGNi3NwkjPiHzUC4Hso9y4+YtnmYMaE7Gjt+JCAuhLooiM2/2NJxOJ0tSVuMJCm44euwkdrsdg8FAXRwOB5bcfLp1iWFAv96MTfgUh8PJidNn2Z9lYevOfZReuEySeQYRYSG4wvzdV+zem0XpxSu4S5Z9jGZeUI3tAf5+vrzTvQt1+XXdVjb/mUbJ+cukrFjHX+nZlFdU0ToynISRccTGdCA98zCrUxcghMAVsiyolZ5lwV0Kbkqcn0xAi+aM/Xwo//fHzn1MT1zME06nyqnCYk4VFrM4eSXN/P2QZZm+7/ZAURQaon+fnniCgpvs9sdMnDKLtRu3M3zwh4QGB1JprWZnWibZlmM8z+07d6kVEtSShgoOaoknKHiIJS8fS14+L+J+jY2Gqqmx4QmCRuBkQRENdaKgCE8QNAKFRaUUFpXSEBu27MITBI2AqqpMn70Ih8OJK7Itx9mZloknyLKP0UwjUHb1Gtbr1Xw0oA9CCOpy+sw5RoydjM32AE+QZR+jmUbiZEExOZbjRLdvR2hIIE+7d7+GlBXrmTj1e+7cvYenSIYAk0oj1K5NK97qZKJp0yaUX6vieP5pbA8e4mkKjdTFy2VcvFzGyybQOYHOCXROoHMCnRPonEDnBDon0DmBzgl0TqBzAp0T6Nx/Vg+o6CnFmfYAAAAASUVORK5CYII=",universalLink:"https://atomex.me",deepLink:"atomex://"},{key:"umami_ios",name:"Umami Mobile",shortName:"Umami Mobile",color:"",logo:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEAAAABACAYAAACqaXHeAAANSklEQVR4Ae3BC1RVZaLA8f+39z4HgQXiJBmgLWpEHRXFQhHMiJGsMTR5zJjL8Iosb2KOaRpZ4gulScXedWOIAequtGmC1mAjjSmWYyRpoGiTiEp6xgxWJ5QAOY/9XbhLW3DcoFQ+6/fjF7/4eRN0k5TSExgLhAD9AA+urCbgOFAB7BBCNNINgoskpQwBFgFxgDtXp2agAMgUQlRwEQQXIKXsCawHkgClsrKSwsJCSktLqampobGxESklV4IQAk9PTwIDAwkPDyc2Npbg4GBa6UAusFAIcYouCLogpRwIFAFBu3fvJjU1lZKSEtooioKfnx9eXl4IIbgSpJQ0NDTw1Vdfoes6baKioli7di2hoaG0OgRMFEIcpBOCTkgpBwIfSin7rFq1ivT0dHRdJyYmhuTkZKKiovD29uZqcPr0aUpKSsjJyWHTpk0oisKyZctYunQpQoivgTuFEFUYEBiQUvYEPpVSBs2aNYucnByCgoLIy8sjIiKCq9nHH3/MjBkzOHToEMnJyWRnZyOEOASMFEKcwoWCsfVA0KpVq8jJyWHMmDGUlZURERHB1S4iIoKysjLGjBlDTk4Oq1atolUQsB4DCi6klCFA0u7du0lPTycoKIhNmzbh4+PDtcLHx4dNmzYRFBREeno6u3fvplWSlDIEFxrnWwQoqamp6LpOXl4ePj4+uNKrPkP/9J/Ib2tR+g9Hvfe/kKe/wfF6BkhJByYz6p1xKIPDwHYGe/YS0HXOIxSUXwejjn8QVA2kxP7nJ8F2BkNCIHrdiDJyPMqA22jPx8eHvLw87rjjDlJTU9m2bZsCLAIepB2NdqSUnkBcZWUlJSUlTJw4kYiICDqwncH+0qM4PyrkHOfWtxCBQ1AG3Y785iv08u24cn6wEXP6X1EGhyF6B+DYsA4jzg/A+VEBpvkvIfrcjHbfTOx56ei7P6BTbz+POnYypj8+C+YenBMREUFMTAxFRUVUVlYSHBwcJ6X0FEI0cpZCR2MB98LCQtokJyfjyrE5D+dHhXQgdeyvPAYOO6Y5mQjPnpzHYcP+9Ezkfw6jTXkUbfJsOqP/+1Na5v8Wx9+zEH63YE57A/O6f6COmQSaCSPOHe9if3EBrpKTk2lTWFhIK3dgLO0odBRCq9LSUhRFISoqClfqyPFgMuNKHvsCx4ZMhG8A2py1GJGnrdhWPICsPY42Yzna7+fTqeZGHH9ZQcu8u3DueBfl18MwPZaFW045ptlrUEKjwcOL9pw73kWv+oz2oqKiUBSF0tJSzgqhHY2O+tGqpqYGPz8/vL296cBhR/jfinZ/Co6/PY8rR+HLKCGRqGMmIf/9KY5Nr+FK1lmwpcVjXvkW2rTHEb39sWcvAYcdI/I/h7GvT8Hxv39CvScRNTIe9d7pqPdOB92JtFSjWw4h6yxw2oowmWnP29sbPz8/jh49yln9aEejIw9aNTY24uXlhStHfjrq5Dlof5iP8+Mi5IkjdKDr2J+ZgzmzGC1pObrlEHrFh7iStcexPXE/piX5qPckIvoNwL4+BfnNV3RGfn0Mx+sZON74E8qAESghd6EMDkPcOgT15oF0xcvLi8bGRs7yoB0FA1JKhBC4kk3fYc9aDOYemOY9B4qKK/ltLfanZ4LDjjk1G+XWoRiR9XXYlsThLHkbZXAY5ue2ot5xPxckdfSDe3C8tR7b8j/QkjiElsQh2B4dj23lVPQDn+BKCIGUEiMK3aSX/RNnydsog0ai/f4RjOiHKrA/MwfcPDAt34DoNwBDtjPYn5+H/cUFCM2EadGrmNNeR/jdQnfIBiv6kUr08u04S/5Kdyj8APbsJciTNWhTHkUJHoMR565i7C8vRHj/CvOqvyECB9MZ59aNtDzyW/TPtqGE3o3bi9sx/fdTiBv86DYp6Q6FH6KpAXvmbHA6MC16FeHbFyPObW9hf2khwvtXuGUUoAwJpzOy9ji29GnYn5qBPPkl6oQk3LI+wTT/RZRBoVwqCj+QXr0X+6tPIHr2xrwkHzy8MOLcuhF7ZgqYe2BesRE1eipdcZa9T8u8KOzPzkVaqlHvSsD8dBFur+xEe/AJlEEjQdXonKA7NDqh6zrnUVTac27dgOgXhDY5BfPjr2FbnQh2G66cHxch67/G9HgOprnPoAy8HXt2GtjOYEh34vzwHZwfvoMyZDRq9FTUsN+hJcyDhHnQ3IheXYF+ZD/ScghZZ0HW10HjacTNA3Gl6zqd0ehEfX09rsSNfXHleH01orc/6h33Y1r4P9jXPQROB670z8uwLfodptQ/o949DeU3o7A/90f06r10RT/wCfqBT7CbUlGGjUEdEYUyZDTK4NEowWO4GPX19ZhMJoxodKK2tpa6ujp8fX05R42IwbEhE3Qn39N17M/NQ3h4oY6eAItexb4+BRx2XMk6C7YnJqM9+DjapNmY17yHY1M2jo3rofk7umRvQd+zDX3PNv6fmztKv4EI/1sRvv7Q0xfR60bUsZNpr66ujtraWgICAjCi0AkpJcXFxbQnAvqjTU7hPA4btqdnopeXoIbfh/nJfOjhgSGHDUfeKmxpsciTR9Hun43by/9CvXsaqBoXraUZvboC50cFON55CcdfliOPHsBVcXExUko6o9CFrKwsXGmJT6JNfQxMbnRga8H21Aycpf9AuS0K8+oChG8AndE/L6Nl/jgcbzyFcPfE9HAmbi99hBo9FUxmusXkhjb1MbTEJ3GVlZVFVzS6sHPnTgoKCoiLi+N7QqBNeRT13uno5R8iv/0akHzvzHe0UfoPx+3lf+Hc/QGy9hhISWf0w/tQhkYg/G7BNPcZtAefQN+1GdnUQNcEoteNKCPuQvTsjauCggJ27txJVzQuYPbs2dx2220EBgbSnujZG/WueLpk7oEaEUN3CR9f1Hum82PU1NQwe/ZsLkThAurq6oiOjqa6upprRXV1NdHR0dTV1XFOjx49MKJwEQ4fPszIkSPJzc1F13WuVrquk5uby6hRozh8+DDtBQQEYETjItXX1zNz5kzWrFlDUlIS48aNY8CAAXh5eSGE4EqQUtLQ0EBVVRVbt24lNzeXgwcPYuT222/HiEY3HTx4kMWLF3O5nDhxAqvVytChQ/kxYmJiMKLwMzBo0CAiIyMxovAzsHr1ahRFwYjCdW7KlCnEx8fz+eefY0ThOjZ69GhycnI4deoUKSkpGNG4Tt13331s2LABk8lEfHw8R44cwYjGdcbX15f09HQeeughmpqaiI+P5/3336d///4Y0bgO3HDDDYwePZrY2FgeeOABPD09qaioIDExkf3799Omb9++GNG4AqKjo0lJSSEkJAR3d3e60qdPH3x9fTlx4gRGPD098fb25pyqqioyMzPJzc3F4XBwTmhoKEY0LiMhBC+88AJz586lzZdffonVaqUrVquVzkgpsVgsWCwWysvL2bJlC7t27UJKiauJEydiROMyWrBgAXPnzmXPnj0kJSVRWVnJ5TB06FDGjh2LEY3LxN3dnbS0NE6ePMn48eOxWq1cLhkZGQghMKJwmYSFhdGrVy9yc3OxWq34+/uzb98+9u3bh7+/P5dKYmIikyZNYu/evRhRuEz69OlDm5qaGtpER0cTHBxMcHAw0dHRXAqRkZFkZWVhtVqZM2cORjQuE4vFQptBgwbRpqioiM2bN9OmqKiIn1pCQgL5+fkIIUhISODYsWMY0TAghOCnVlZWxsmTJ0lKSuLZZ5/l+PHjTJgwgZ9aQEAAGRkZTJ8+nYaGBhISEigpKaFfv34Y0eioiVaenp781Ox2O4sXLyYvL4/t27fz8MMPs2XLFpxOJz+GEIK+ffsSFhZGXFwccXFxuLm5sWvXLqZPn05VVRVtPDw8OKuJdjQ6Ok6rwMBAvvjiC35q+fn53HTTTWRkZLB582ZaWlpobm7mx/Dw8MBsNnPOvn37WLduHW+++Sa6rnNOYGAgZ1loR6OjClqFh4dTXFzMpbBmzRree+89Zs2axYgRI3B3d6crw4cPx+FwcODAAVxJKWlubsZisVBeXs6WLVvYu3cvRsLDwzmrgnY0OtoBNMfGxrovX76cS2X//v088sgjXIwTJ05gtVoZOXIkP0ZsbCytmoEdtKPQjhCiESgIDg4mKiqK60VkZCTDhg2j1btCiO9oR+F8mYC+du1aVFXlWqeqKmvXrqWVBDJxoeBCCFEB5IaGhrJs2TKudWlpaYwaNYpW+UKIz3ChYGwhcGjp0qUkJydzrUpKSmLZsmW0OgwswICCASHEKWCiEOLr7OxsVq5ciaqqXCtUVWX58uW89tprKIpSC8QIIeoxoNKJlStXfrNixYoiIcQ9kZGRN0yYMIHq6mpqamq4nBYuXEhzczOvvPIKFyMyMpKNGzcybdo0hBCHgfFCiC/ohOACpJQ9gfVAEqBUVlZSWFhIaWkpR48epampCSkll8qePXuor69n3LhxuBJC4OHhQWBgIOHh4cTGxjJs2DBaSSAfWCCEqKcLgoskpRwBLAJiAXeuTs3Au0CmEOIzLoKgm6SUnsCdwHCgH+DBldUEWIAKYIcQ4jt+8YtfXKz/A/OhBgM5KLZoAAAAAElFTkSuQmCC",deepLink:"umami://",universalLink:"https://umamiwallet.com/"}];const rn=()=>$t,on=()=>en,sn=()=>tn,an=()=>nn,ln=new qe,cn=["ookjlbkiijinhpmnjffcofjonbfbgaoc","gpfndedineagiepkpinficbcbbgjoenn"];var un,hn;!function(e){e[e.DESKTOP=0]="DESKTOP",e[e.IOS=1]="IOS",e[e.ANDROID=2]="ANDROID"}(un||(un={})),function(e){e.IOS="ios",e.ANDROID="android",e.EXTENSION="extension",e.DESKTOP="desktop",e.WEB="web"}(hn||(hn={}));class fn{static getPlatfrom(){return Zt(this,void 0,void 0,(function*(){return Qt(window)?un.ANDROID:zt(window)?un.IOS:un.DESKTOP}))}static getPairingInfo(e,t,n,r){return Zt(this,void 0,void 0,(function*(){const i=null!=r?r:yield fn.getPlatfrom(),o=e.p2pSyncCode,s=e.postmessageSyncCode,a=e.preferredNetwork;switch(i){case un.DESKTOP:return fn.getDesktopPairingAlert(o,t,s,n,a);case un.IOS:return fn.getIOSPairingAlert(o,t,a);case un.ANDROID:return fn.getAndroidPairingAlert(o,t,a);default:throw new Error("platform unknown")}}))}static getDesktopPairingAlert(e,t,n,r,i){return Zt(this,void 0,void 0,(function*(){const o=yield Ft.getAvailableExtensions();o.forEach((e=>{const t=cn.indexOf(e.id);t>=0&&cn.splice(t,1)}));const s=[];return on().length>0&&s.push({title:"Browser Extensions",type:hn.EXTENSION,wallets:[...o.map((e=>{var r,i,o,s,a;const l=on().find((t=>t.id===e.id));return{key:null!==(r=null==l?void 0:l.key)&&void 0!==r?r:e.id,name:null!==(i=e.name)&&void 0!==i?i:null==l?void 0:l.name,logo:null!==(o=e.iconUrl)&&void 0!==o?o:null==l?void 0:l.logo,shortName:null!==(s=e.shortName)&&void 0!==s?s:null==l?void 0:l.shortName,color:null!==(a=e.color)&&void 0!==a?a:null==l?void 0:l.color,enabled:!0,clicked:!1,clickHandler(){return Zt(this,void 0,void 0,(function*(){if(!this.clicked){if(this.clicked=!0,n){const t=yield ln.serialize(yield n()),r={target:H.EXTENSION,payload:t,targetId:e.id};se.postMessage(r,se.location.origin)}t(hn.EXTENSION,this)}}))}}})),...on().filter((e=>cn.some((t=>t===e.id)))).map((e=>({key:e.key,name:e.name,shortName:e.shortName,color:e.color,logo:e.logo,enabled:!1,clickHandler:()=>{window.open(e.link,"_blank")}})))].sort(((e,t)=>e.key.localeCompare(t.key)))}),rn().length>0&&s.push({title:"Desktop & Web Wallets",type:hn.DESKTOP,wallets:[...rn().map((n=>({key:n.key,name:n.name,shortName:n.shortName,color:n.color,logo:n.logo,enabled:!0,clicked:!1,clickHandler(){return Zt(this,void 0,void 0,(function*(){if(this.clicked)return;this.clicked=!0;const r=yield ln.serialize(yield e()),i=Jt(n.deepLink,r);window.open(i,"_blank"),t(hn.DESKTOP,this,!0)}))}}))),...yield fn.getWebList(e,t,i)].sort(((e,t)=>e.key.localeCompare(t.key)))}),an().length>0&&s.push({title:"Mobile Wallets",type:hn.IOS,wallets:[...an().map((n=>({key:n.key,name:n.name,shortName:n.shortName,color:n.color,logo:n.logo,enabled:!0,clicked:!1,clickHandler(){return Zt(this,void 0,void 0,(function*(){if(this.clicked)return;this.clicked=!0;const n=yield ln.serialize(yield e());r(n),t(hn.IOS,this,!0)}))}})))].sort(((e,t)=>e.key.localeCompare(t.key)))}),{walletLists:s,buttons:[]}}))}static getIOSPairingAlert(e,t,n){return Zt(this,void 0,void 0,(function*(){return{walletLists:[{title:"Mobile Wallets",type:hn.IOS,wallets:an().map((n=>({key:n.key,name:n.name,shortName:n.shortName,color:n.color,logo:n.logo,enabled:!0,clicked:!1,clickHandler(){var r;return Zt(this,void 0,void 0,(function*(){if(this.clicked)return;this.clicked=!0;const i=yield ln.serialize(yield e()),o=Jt(null!==(r=n.deepLink)&&void 0!==r?r:n.universalLink,i),s=document.createElement("a");s.setAttribute("href",o),s.dispatchEvent(new MouseEvent("click",{view:window,bubbles:!0,cancelable:!0})),t(hn.IOS,this,!0)}))}}))).sort(((e,t)=>e.key.localeCompare(t.key)))},{title:"Web Wallets",type:hn.WEB,wallets:[...yield fn.getWebList(e,t,n)].sort(((e,t)=>e.key.localeCompare(t.key)))}],buttons:[]}}))}static getAndroidPairingAlert(e,t,n){return Zt(this,void 0,void 0,(function*(){return{walletLists:[{title:"Web Wallets",type:hn.WEB,wallets:[...yield fn.getWebList(e,t,n)].sort(((e,t)=>e.key.localeCompare(t.key)))}],buttons:[{title:"Mobile Wallets",text:"Connect Wallet",clickHandler:()=>Zt(this,void 0,void 0,(function*(){const n=yield ln.serialize(yield e()),r=Jt("tezos://",n);window.open(r,"_blank"),t(hn.ANDROID)}))}]}}))}static getWebList(e,t,n){return Zt(this,void 0,void 0,(function*(){return sn().map((r=>({key:r.key,name:r.name,shortName:r.shortName,color:r.color,logo:r.logo,enabled:!0,clicked:!1,clickHandler(){if(this.clicked)return;this.clicked=!0;const i=window.open("","_blank");e().then((e=>ln.serialize(e))).then((e=>{var o;const s=Jt(null!==(o=r.links[n])&&void 0!==o?o:r.links[K.MAINNET],e);i?i.location.href=s:window.open(s,"_blank"),t(hn.WEB,this,!0)})).catch((e=>{console.error(e)}))}}))).sort(((e,t)=>e.key.localeCompare(t.key)))}))}}const dn=(e,t,n,r)=>{const i=document.createElement(e);return t.length>0&&i.classList.add(...t.filter((e=>!!e)).map((e=>vn(e)))),n.forEach((e=>{i.setAttribute(vn(e[0]),vn(e[1]))})),"object"==typeof r&&Array.isArray(r)?r.filter((e=>!!e)).forEach((e=>{i.appendChild(e)})):"string"==typeof r&&(i.innerText=r),i},pn=(e,t,n)=>{const r=document.createElementNS("http://www.w3.org/2000/svg","svg");return e.length>0&&r.classList.add(...e.filter((e=>!!e))),t.forEach((e=>{r.setAttribute(vn(e[0]),vn(e[1]))})),"object"==typeof n&&Array.isArray(n)&&n.filter((e=>!!e)).forEach((e=>{r.appendChild(e)})),r},gn=e=>{const t=document.createElementNS("http://www.w3.org/2000/svg","path");return e.forEach((e=>{t.setAttribute(vn(e[0]),vn(e[1]))})),t},yn=e=>{const t=document.createElementNS("http://www.w3.org/2000/svg","g");return e.filter((e=>!!e)).forEach((e=>{t.appendChild(e)})),t},vn=e=>{const t=document.createElement("div");return t.innerText=e,t.innerHTML},mn=e=>{e.innerHTML=""};var wn=function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function s(e){try{l(r.next(e))}catch(e){o(e)}}function a(e){try{l(r.throw(e))}catch(e){o(e)}}function l(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}l((r=r.apply(e,t||[])).next())}))};const En=new we("Alert"),bn=new qe,_n=(e,t,n)=>wn(void 0,void 0,void 0,(function*(){const r=()=>wn(void 0,void 0,void 0,(function*(){return fn.getPairingInfo(n,((e,t,n)=>wn(void 0,void 0,void 0,(function*(){n||(yield Cn())}))),(()=>wn(void 0,void 0,void 0,(function*(){b()}))))})),i=yield r(),o=t.getElementById("pairing-container");if(!o)throw new Error("container not found");const s=document.createElement("span");o.appendChild(s),i.buttons.forEach((e=>wn(void 0,void 0,void 0,(function*(){const n=yield ee(),r=dn("div",["beacon-list__title"],[],e.title),i=dn("button",["beacon-modal__button","connect__btn"],[],e.text),o=document.createElement("a");o.id=`button_${n}`,o.appendChild(r),o.appendChild(i),s.appendChild(o);const a=t.getElementById(o.id);a&&a.addEventListener("click",(()=>wn(void 0,void 0,void 0,(function*(){e.clickHandler()}))))}))));const a=document.createElement("span");o.appendChild(a);const l=e=>{mn(a),e.forEach((e=>{const n=document.createElement("div");n.classList.add("beacon-list__wrapper"),a.appendChild(n),n.appendChild(dn("div",["beacon-list__title"],[],e.title));const r=document.createElement("span");n.appendChild(r),e.wallets.forEach((n=>wn(void 0,void 0,void 0,(function*(){((e,n,r)=>{const i=`Open in ${r.name}`,o=r.key,s=r.logo?dn("div",[],[],[dn("img",["beacon-selection__img"],[["src",r.logo]],"")]):pn(["beacon-selection__img","svg-inline--fa","fa-wallet","fa-w-16"],[["aria-hidden","true"],["focusable","false"],["data-prefix","fas"],["data-icon","wallet"],["role","img"],["xmlns","http://www.w3.org/2000/svg"],["viewBox","0 0 512 512"],["style","enable-background:new 0 0 512 512;"],["xml:space","preserve"]],[gn([["d","M376.2,181H152.9c-5.2,0-9.4-4.2-9.4-9.4s4.2-9.4,9.4-9.4h225c5.2,0,9.4-4.2,9.4-9.4c0-15.5-12.6-28.1-28.1-28.1H143.5c-20.7,0-37.5,16.8-37.5,37.5v187.5c0,20.7,16.8,37.5,37.5,37.5h232.7c16.4,0,29.8-12.6,29.8-28.1v-150C406,193.6,392.7,181,376.2,181z M349.8,302.9c-10.4,0-18.8-8.4-18.8-18.8s8.4-18.8,18.8-18.8s18.8,8.4,18.8,18.8S360.1,302.9,349.8,302.9z"]])]),a=dn("div",["beacon-selection__name"],[],[dn("span",[],[],r.name),r.enabled?void 0:dn("p",[],[],"Not installed")]),l=dn("a",["beacon-selection__list",r.enabled?"":"disabled"],[["tabindex","0"],["id",`wallet_${o}`],["alt",i],["target","_blank"]],[a,s]),c=document.createElement("span");c.appendChild(l),e.appendChild(c);const u=t.getElementById(`wallet_${o}`),h=e=>wn(void 0,void 0,void 0,(function*(){if(e&&"Enter"!==e.key)return;r.clickHandler();const i=t.getElementById("beacon-modal__content");i&&n!==hn.EXTENSION&&n!==hn.IOS&&(mn(i),i.appendChild(dn("p",["beacon-alert__title"],[],"Establishing Connection..")),i.appendChild(dn("div",["progress-line"],[["id","beacon-toast-loader"]],"")),i.appendChild(dn("div",["beacon--selected__container"],[],[...r.logo?[dn("img",["beacon-selection__img"],[["src",r.logo]],""),dn("img",["beacon--selection__name__lg"],[],r.name)]:[]])))}));u&&(u.addEventListener("click",(()=>h())),u.addEventListener("keydown",h))})(r,e.type,n)}))))}))};l(i.walletLists);const c=e=>wn(void 0,void 0,void 0,(function*(){if("extensionsUpdated"===e.data){const e=yield r();l(e.walletLists)}}));let u;u=t=>{t.data===`closeAlert-${e}`&&(se.removeEventListener("message",c),se.removeEventListener("message",u))},se.addEventListener("message",c),se.addEventListener("message",u);const h=t.getElementById("beacon--qr__container"),f=t.getElementById("beacon--qr__copy"),d=t.getElementById("beacon-title"),p=Qt(window)?"android":zt(window)?"ios":"desktop",g=t.getElementById("beacon-main-text"),y=t.getElementById("pairing-container"),v=t.getElementById("beacon--switch__container"),m=()=>wn(void 0,void 0,void 0,(function*(){const e=n?yield bn.serialize(yield n.p2pSyncCode()):"";navigator.clipboard.writeText(e).then((()=>{f&&(f.innerText="Copied"),En.log("Copying to clipboard was successful!")}),(e=>{En.error("Could not copy text to clipboard: ",e)}))}));let w=!1;let E=!1;const b=()=>{(e=>{wn(void 0,void 0,void 0,(function*(){const r=t.getElementById("beacon-switch");if(r&&(r.innerText="none"===e?"Pair wallet on same device":"Pair wallet on another device"),g&&y&&v&&f&&h&&d)switch(g.style.display="none",d.style.textAlign="center",y.style.display="none",v.style.display="initial",e){case"ios":case"android":y.style.display="initial";break;case"desktop":y.style.display="initial",d.style.textAlign="left",g.style.display="none",v.style.display="initial";break;default:if(!w){w=!0;const e=yield bn.serialize(yield n.p2pSyncCode()),t=((e,t)=>{const n=Xt(0,"L");e.length>500&&Yt.warn("getQrData",'The size of the payload in the QR code is quite long and some devices might not be able to scan it anymore. To reduce the QR size, try using a shorter "name", "appUrl" and "iconUrl"');try{return n.addData(e),n.make(),n.createSvgTag()}catch(e){throw console.error("error",e),e}})(Jt("tezos://",e)),r=t.replace("<svg",'<svg class="beacon-alert__image"');h.insertAdjacentHTML("afterbegin",r),f&&f.addEventListener("click",m),h&&h.addEventListener("click",m)}g.style.display="initial"}}))})(E?"none":p),E=!E};b();{const e=t.getElementById("beacon-switch");e&&e.addEventListener("click",b)}}));let An=re.LIGHT;const Sn=e=>{An=e},Tn=()=>An,Rn=(e,t,n,r)=>dn("div",["beacon-alert__base","animated","fadeIn"],[["id",`beacon-alert-modal-${e}`]],[dn("div",["beacon-modal__wrapper"],[],[dn("div",["beacon-modal__header"],[],[pn([],[["xmlns","http://www.w3.org/2000/svg"],["id","Guides"],["x","0"],["y","0"],["version","1.1"],["viewBox","0 0 179.2 43"],["xml:space","preserve"],["width","140"],["height","40"]],[dn("style",[],[],".st0 {\n                    fill: #3880ff;\n                  }\n                  .st1 {\n                    fill: #fff;\n                  }"),gn([["d","M45 19v.9c0 .3-.2 7.5-3.4 13.2-3.3 5.6-9.4 9.3-9.7 9.5l-.8.4-1.3-.8-7.6-4.4c-.5-.3-.9-.6-1.4-.9-.4-.3-.7-.5-1.1-.8-.8-.7-1.5-1.4-2.1-2.2-.9-1.1-1.6-2.4-2.1-3.7-.9-2.3-1.3-4.8-1.2-7.5.8-.4 1.6-.6 2.4-.6h.6c-.2 2.4.1 4.6.8 6.6 1 2.8 2.9 5.1 5.5 6.6l7.4 4.3c.2-.1.4-.2.6-.4 1.9-1.3 5.3-4.1 7.3-7.6 2.2-3.9 2.8-8.9 3-10.8L38.8 19c.3-1 .4-2.1.5-3.2L45 19z"],["class","st0"]]),gn([["d","M36.3 4.1v10.3c0 .5 0 1.1-.1 1.6s-.1.9-.2 1.3c-.2 1-.5 2-.9 3-.5 1.3-1.3 2.6-2.2 3.7-1.5 1.9-3.5 3.6-5.9 4.8-.9-.6-1.6-1.3-2-2.4 2.1-1 3.9-2.3 5.2-4 1.9-2.3 3-5.1 3-8.1V5.9l-.6-.3c-2-1-6.1-2.6-10.1-2.6-4.5 0-9.1 2-10.9 2.9v3.6c-1 .3-2 .7-3 1.1V4.1l.8-.4C9.7 3.5 16 0 22.5 0s12.8 3.5 13.1 3.6l.7.5z"],["class","st0"]]),gn([["d","M10.5 16.5l-7.4 4.3v.7c.2 2.1.9 6.5 2.9 10 2.2 3.9 6.2 6.9 7.9 8l3.1-1.8c.8.7 1.6 1.4 2.5 2L13.8 43l-.8-.5c-.3-.2-6.4-3.9-9.7-9.5C.1 27.4 0 20.2 0 19.9V19l1.3-.8L9 13.9c.5-.3.9-.5 1.4-.7.4-.2.8-.4 1.3-.5 1-.4 2-.6 3-.7 1.4-.2 2.9-.2 4.3 0 2.4.3 4.8 1.2 7.1 2.7 0 1-.4 2-1 2.9-1.9-1.3-4-2.2-6-2.5-3.1-.6-6-.1-8.6 1.4z"],["class","st0"]]),yn([gn([["d","M73.9 23c.9 1 1.3 2.3 1.3 3.7 0 1.9-.6 3.4-1.9 4.5-1.3 1.1-3.1 1.7-5.5 1.7h-8.6v-23h8.4c2.3 0 4.1.5 5.3 1.5 1.2 1 1.8 2.4 1.8 4.2 0 1.5-.4 2.7-1.2 3.6-.8.9-1.8 1.5-3.1 1.8 1.5.3 2.6 1 3.5 2zm-11.7-3h5c1.5 0 2.6-.3 3.4-1 .8-.7 1.2-1.6 1.2-2.8 0-1.2-.4-2.1-1.1-2.8-.8-.7-1.9-1-3.5-1h-4.8V20zm8.7 9.4c.9-.7 1.3-1.7 1.3-3s-.4-2.3-1.3-3c-.9-.7-2.1-1.1-3.7-1.1h-5v8.2h5c1.6-.1 2.8-.4 3.7-1.1zM95.3 24.6H81c.1 2.1.6 3.6 1.7 4.6s2.4 1.5 4 1.5c1.4 0 2.6-.4 3.6-1.1 1-.7 1.6-1.7 1.8-2.9h3.2c-.2 1.2-.7 2.4-1.5 3.3-.8 1-1.7 1.7-2.9 2.3-1.2.5-2.6.8-4.1.8-1.7 0-3.2-.4-4.6-1.1-1.3-.7-2.4-1.8-3.1-3.2-.8-1.4-1.1-3-1.1-4.9 0-1.9.4-3.5 1.1-4.9.8-1.4 1.8-2.5 3.1-3.2 1.3-.7 2.9-1.1 4.6-1.1 1.7 0 3.3.4 4.6 1.1 1.3.7 2.3 1.7 3 3 .7 1.2 1 2.6 1 4.1.1.7 0 1.2-.1 1.7zm-3.5-4.8c-.5-.9-1.2-1.6-2.1-2-.9-.4-1.8-.7-2.8-.7-1.6 0-3 .5-4.1 1.5-1.1 1-1.7 2.5-1.8 4.5h11.5c0-1.3-.2-2.4-.7-3.3zM111.2 16c1.2.9 2.1 2 2.5 3.5V15h3v18h-3v-4.6c-.5 1.5-1.3 2.6-2.5 3.5-1.2.9-2.7 1.3-4.4 1.3-1.6 0-3-.4-4.3-1.1-1.2-.7-2.2-1.8-2.9-3.2-.7-1.4-1.1-3-1.1-4.9 0-1.9.4-3.5 1.1-4.9.7-1.4 1.7-2.5 2.9-3.2 1.2-.7 2.7-1.1 4.3-1.1 1.7-.1 3.1.4 4.4 1.2zm-8 3.1c-1.1 1.2-1.7 2.8-1.7 4.8 0 2.1.5 3.7 1.7 4.8 1.1 1.2 2.6 1.8 4.4 1.8 1.2 0 2.2-.3 3.2-.8.9-.5 1.7-1.3 2.2-2.3.5-1 .8-2.1.8-3.5 0-1.3-.3-2.5-.8-3.5s-1.2-1.8-2.2-2.3c-.9-.5-2-.8-3.2-.8-1.9.1-3.3.7-4.4 1.8zM135 16.6c1.5 1.2 2.4 2.9 2.8 4.9h-3.1c-.2-1.3-.8-2.3-1.8-3-1-.7-2.2-1.1-3.6-1.1-1 0-2 .2-2.9.7-.9.5-1.6 1.2-2.1 2.2-.5 1-.8 2.2-.8 3.7s.3 2.7.8 3.7 1.2 1.7 2.1 2.2c.9.5 1.8.7 2.9.7 1.4 0 2.6-.4 3.6-1.1 1-.7 1.6-1.8 1.8-3h3.1c-.3 2.1-1.3 3.7-2.8 4.9-1.5 1.2-3.4 1.8-5.7 1.8-1.7 0-3.2-.4-4.6-1.1-1.3-.7-2.4-1.8-3.1-3.2-.8-1.4-1.1-3-1.1-4.9 0-1.9.4-3.5 1.1-4.9.8-1.4 1.8-2.5 3.1-3.2 1.3-.7 2.9-1.1 4.6-1.1 2.3-.1 4.2.6 5.7 1.8zM154.5 15.9c1.4.7 2.4 1.8 3.2 3.2.8 1.4 1.2 3 1.2 4.9 0 1.9-.4 3.5-1.2 4.9-.8 1.4-1.8 2.4-3.2 3.2-1.4.7-2.9 1.1-4.6 1.1-1.7 0-3.3-.4-4.6-1.1-1.4-.7-2.4-1.8-3.2-3.2-.8-1.4-1.2-3-1.2-4.9 0-1.9.4-3.5 1.2-4.9.8-1.4 1.9-2.5 3.2-3.2 1.4-.7 2.9-1.1 4.6-1.1 1.7-.1 3.2.3 4.6 1.1zm-7.6 2.2c-.9.5-1.6 1.2-2.2 2.2-.6 1-.8 2.2-.8 3.7 0 1.4.3 2.7.8 3.6.6 1 1.3 1.7 2.2 2.2.9.5 1.9.7 3 .7s2.1-.2 3-.7c.9-.5 1.6-1.2 2.2-2.2.6-1 .8-2.2.8-3.6 0-1.5-.3-2.7-.8-3.7-.6-1-1.3-1.7-2.2-2.2-.9-.5-1.9-.7-3-.7s-2.1.2-3 .7zM177.3 16.7c1.3 1.3 1.9 3.3 1.9 5.8v10.4h-3V22.8c0-1.8-.5-3.2-1.4-4.1-.9-1-2.2-1.4-3.7-1.4-1.6 0-2.9.5-3.9 1.6s-1.5 2.6-1.5 4.6V33h-3V15h3v4.3c.5-1.5 1.3-2.6 2.4-3.4 1.2-.8 2.5-1.2 4-1.2 2.2 0 3.9.6 5.2 2z"],["class","st1"]])])]),dn("div",["beacon-modal__close__wrapper"],[["id",`beacon-alert-${e}-close`]],[dn("div",["beacon-modal__close__icon"],[],[dn("div",["beacon-modal__close__line1"],[],[]),dn("div",["beacon-modal__close__line2"],[],[])])])]),dn("div",["beacon-modal__base"],[],[dn("div",[],[["id","beacon-modal__content"]],[dn("div",[],[],[dn("p",["beacon-alert__title"],[],t),...r,dn("div",["beacon-action__container"],[],n)])])])])]);var xn=function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function s(e){try{l(r.next(e))}catch(e){o(e)}}function a(e){try{l(r.throw(e))}catch(e){o(e)}}function l(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}l((r=r.apply(e,t||[])).next())}))};let In,On;"undefined"!=typeof window&&void 0!==window.document&&(On=window.document);const kn={},Nn=e=>(se.postMessage(`closeAlert-${e}`),new Promise((t=>{var n;const r=On.getElementById(`beacon-alert-wrapper-${e}`);if(!r)return t();const i=null===(n=r.shadowRoot)||void 0===n?void 0:n.getElementById(`beacon-alert-modal-${e}`);if(i){const n=300,o=kn[e];o&&(clearTimeout(o),kn[e]=void 0),i.className=i.className.replace("fadeIn","fadeOut"),window.setTimeout((()=>{const e=r.parentNode;e&&e.removeChild(r),In&&In.focus(),t()}),n)}else t()}))),Cn=()=>xn(void 0,void 0,void 0,(function*(){return new Promise((e=>xn(void 0,void 0,void 0,(function*(){const t=On.querySelectorAll('[id^="beacon-alert-wrapper-"]');if(t.length>0){const n=[];t.forEach((e=>xn(void 0,void 0,void 0,(function*(){n.push(e.id.split("-")[3])})))),yield Promise.all(n.map(Nn)),e()}else e()}))))})),Pn=e=>xn(void 0,void 0,void 0,(function*(){var t,n;const r=e.body,i=e.data,o=e.title,s=e.timer,a=e.pairingPayload,l=e.disclaimerText,c=e.closeButtonCallback;yield Cn();const u=(yield ee()).split("-").join(""),h=On.createElement("div");h.setAttribute("id",`beacon-alert-wrapper-${u}`);const f=h.attachShadow({mode:"open"}),d=On.createElement("div");d.setAttribute("tabindex","0"),f.appendChild(d);const p=[...null!==(n=null===(t=e.buttons)||void 0===t?void 0:t.map((e=>{var t,n;return{text:e.text,actionCallback:null!==(t=e.actionCallback)&&void 0!==t?t:()=>Promise.resolve(),style:null!==(n=e.style)&&void 0!==n?n:"outline"}})))&&void 0!==n?n:[]];let g=a?"string"==typeof r?dn("div",[],[["id","beacon--qr__container"]],[dn("div",[],[["id","beacon--qr__copy__container"]],[dn("button",["beacon-modal__button--outline"],[["id","beacon--qr__copy"]],"Copy")])]):dn("span",[],[],""):dn("span",[],[],null!=r?r:"");i&&(g=dn("span",[],[],[g,dn("pre",[],[["style","text-align: left"]],i)]));const{style:y,html:v}=((e,t,n,r,i)=>{const o=n,s=r.map(((t,n)=>dn("button",["beacon-modal__button"+("outline"===t.style?"--outline":"")],[["id",`beacon-alert-${e}-${n}`]],t.text)));let a=Ht;i&&(a+=Wt);const l=dn("span",[],[],o),c=i?((e,t,n,r)=>Rn(e,t,n,[dn("span",[],[["id","pairing-container"]],""),dn("div",["beacon-alert__text"],[["id","beacon-main-text"]],[dn("p",["beacon-list__title"],[["id","beacon-title"]],[document.createTextNode("Scan QR code with a Beacon-compatible wallet. "),dn("a",[],[["href","https://docs.walletbeacon.io/supported-wallets"],["target","_blank"]],"Learn more"),...r])]),dn("div",[],[["id","beacon--switch__container"]],[dn("button",["beacon-modal__button--outline"],[["id","beacon-switch"]],"")]),dn("div",[],[["id","beacon--disclaimer"]],"")]))(e,[l],s,[t]):((e,t,n,r)=>Rn(e,t,n,[dn("div",["beacon-alert__text"],[["id","beacon-main-text"]],r)]))(e,[l],s,[t]);return{style:a,html:c}})(u,g,o,p,!!(null==a?void 0:a.p2pSyncCode));d.appendChild(v);const m=On.createElement("style");m.textContent=y,f.appendChild(m),s&&(kn[u]=window.setTimeout((()=>xn(void 0,void 0,void 0,(function*(){yield Nn(u)}))),s)),On.body.prepend(h);const w=f.getElementById(`beacon-alert-${u}-close`),E=()=>xn(void 0,void 0,void 0,(function*(){c&&c(),yield Nn(u)}));if(l){const e=f.getElementById("beacon--disclaimer");e&&(e.innerText=l)}const b=Tn(),_=f.getElementById(`beacon-alert-modal-${u}`);_&&(_.classList.add(`theme__${b}`),_.addEventListener("click",E));const A=f.querySelectorAll(".beacon-modal__wrapper");return A.length>0&&A[0].addEventListener("click",(e=>{e.stopPropagation()})),In=On.activeElement,d.focus(),p.forEach(((e,t)=>{const n=f.getElementById(`beacon-alert-${u}-${t}`);n&&n.addEventListener("click",(()=>xn(void 0,void 0,void 0,(function*(){yield Nn(u),e.actionCallback&&(yield e.actionCallback())}))))})),w&&w.addEventListener("click",(()=>xn(void 0,void 0,void 0,(function*(){yield E()})))),window.addEventListener("keydown",(e=>xn(void 0,void 0,void 0,(function*(){"Escape"===e.key&&(yield E())})))),a&&(yield _n(u,f,a)),u})),Ln=":host {\n  --animation-duration: 300ms;\n  all: initial;\n}\n\n@keyframes fadeIn {\n  from {\n    opacity: 0;\n  }\n  to {\n    opacity: 1;\n  }\n}\n\n@keyframes fadeOut {\n  from {\n    opacity: 1;\n  }\n  to {\n    opacity: 0;\n  }\n}\n\n.animated {\n  animation-duration: var(--animation-duration);\n  animation-fill-mode: both;\n}\n\n.fadeIn {\n  animation-name: fadeIn;\n}\n\n.fadeOut {\n  animation-name: fadeOut;\n}\n\n.beacon-toast__base {\n  position: fixed;\n  top: 16px;\n  right: 16px;\n  z-index: 2147483000;\n  margin: 0 auto;\n  border-radius: 8px;\n  overflow: hidden;\n  box-shadow: 0 12px 24px 0 rgba(0, 0, 0, 0.1);\n  flex-direction: column;\n}\n@media (max-width: 576px) {\n  .beacon-toast__base {\n    top: 8px;\n    right: 8px;\n    left: 8px;\n  }\n  .beacon-toast__wallet__outer {\n    flex-wrap: wrap;\n  }\n  .beacon-toast__wallet__link {\n    display: flex;\n    margin-left: 12px !important;\n  }\n}\n\n.theme__light.beacon-toast__base {\n  background: #fff;\n}\n\n.theme__dark.beacon-toast__base {\n  background: #27334c;\n}\n\n.theme__dark p {\n  color: #6183ff;\n}\n\na {\n  text-decoration: none;\n  color: #3880ff;\n}\n\na svg {\n  width: 12px;\n  margin-left: 2px;\n}\n\na:visited {\n  color: #3880ff;\n}\n\nhr {\n  height: 1px;\n  color: rgba(0, 0, 0, 0.12);\n  background-color: rgba(0, 0, 0, 0.12);\n  border: none;\n  width: 100%;\n  margin: 0;\n  display: none;\n}\n\n.show {\n  display: block !important;\n}\n\n.hide {\n  display: none !important;\n}\n\n#beacon-toast-list {\n  display: none;\n}\n\n.beacon-toast__upside_down {\n  transform: rotate(180deg);\n}\n\n.beacon-toast__content {\n  justify-content: space-between;\n  min-height: 56px;\n  height: 0;\n}\n\n.beacon-toast__action__item,\n.beacon-toast__powered a,\n.beacon-toast__wallet__container,\n#beacon-text,\n.beacon-toast__action__item p,\n.beacon-toast__wallet__outer {\n  align-items: center;\n}\n\n.beacon-toast__content,\n.beacon-toast__base,\n.beacon-toast__action__item,\n.beacon-toast__powered a,\n#beacon-text,\n.beacon-toast__wallet__container,\n.beacon-toast__wallet__outer {\n  display: flex;\n}\n\n.beacon-toast__content,\n.beacon-toast__action__item,\n.beacon-toast__powered a {\n  padding: 0 16px;\n  font-family: Roboto, Helvetica, sans-serif;\n}\n\n#beacon-text strong {\n  display: contents;\n}\n.beacon-toast__wallet__link {\n  margin-left: 8px;\n}\n.beacon-toast__wallet__link svg {\n  margin-left: 4px;\n}\n.beacon-toast__powered a {\n  margin: 4px 0 12px;\n  font-size: 12px;\n  opacity: 0.64;\n}\n\n.beacon-toast__powered svg {\n  width: 20px;\n  height: 20px;\n  margin: 0 2px 0 4px;\n}\n\n.beacon-toast__action__item {\n  font-size: 14px;\n  max-width: 40ch;\n}\n\n.beacon-toast__action__item p {\n  margin-right: 8px;\n}\n\n.beacon-toast__action__item__subtitle,\n.beacon-toast__powered a {\n  min-width: 88px;\n  color: rgba(0, 0, 0, 0.54);\n}\n\n.theme__dark .beacon-toast__powered a {\n  color: #7c99d6;\n}\n\n.beacon-toast__content__img {\n  width: 24px;\n  height: 24px;\n  margin-right: 4px;\n  image-rendering: -moz-crisp-edges; /* Firefox */\n  image-rendering: -o-crisp-edges; /* Opera */\n  image-rendering: -webkit-optimize-contrast; /* Webkit (non-standard naming) */\n  image-rendering: crisp-edges;\n  -ms-interpolation-mode: nearest-neighbor; /* IE (non-standard property) */\n}\n\n.beacon-toast__more {\n  width: 14px;\n  transition: transform 0.5s;\n}\n\na,\n.beacon-toast__more {\n  cursor: pointer;\n}\n\na:hover {\n  opacity: 0.64;\n}\n\n.theme__dark .beacon-toast__more {\n  color: #7c99d6;\n}\n\n.beacon-toast__more--action {\n  margin: 8px 0;\n}\n\n#beacon-text {\n  padding-right: 24px;\n}\n\n#beacon-text-content {\n  display: flex;\n  align-items: center;\n}\n\n.progress-line,\n.progress-line:before {\n  height: 3px;\n  width: 100%;\n  margin: 0;\n}\n.progress-line {\n  background-color: #a7c4f7;\n  display: -webkit-flex;\n  display: flex;\n}\n.progress-line:before {\n  background-color: #3880ff;\n  content: '';\n  -webkit-animation: running-progress 2s cubic-bezier(0.4, 0, 0.2, 1) infinite;\n  animation: running-progress 2s cubic-bezier(0.4, 0, 0.2, 1) infinite;\n}\n@-webkit-keyframes running-progress {\n  0% {\n    margin-left: 0px;\n    margin-right: 100%;\n  }\n  50% {\n    margin-left: 25%;\n    margin-right: 0%;\n  }\n  100% {\n    margin-left: 100%;\n    margin-right: 0;\n  }\n}\n@keyframes running-progress {\n  0% {\n    margin-left: 0px;\n    margin-right: 100%;\n  }\n  50% {\n    margin-left: 25%;\n    margin-right: 0%;\n  }\n  100% {\n    margin-left: 100%;\n    margin-right: 0;\n  }\n}\n";var Mn=function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function s(e){try{l(r.next(e))}catch(e){o(e)}}function a(e){try{l(r.throw(e))}catch(e){o(e)}}function l(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}l((r=r.apply(e,t||[])).next())}))};let Bn,Un,Dn,jn;"undefined"!=typeof window&&void 0!==window.document&&(Bn=window.document);const Kn=e=>{for(;e.firstChild;)e.removeChild(e.firstChild)},qn=e=>{var t,n;const r=null===(t=null==jn?void 0:jn.walletInfo)||void 0===t?void 0:t.icon,i=null===(n=null==jn?void 0:jn.walletInfo)||void 0===n?void 0:n.name;let o;const s=dn("strong",[],[],null!=i?i:"Wallet");o=r?dn("span",["beacon-toast__wallet__container"],[],[dn("img",["beacon-toast__content__img"],[["src",r]],""),s]):s;const a=e.split("{{wallet}}");if(1===a.length)return[dn("span",[],[],e)];{const e=[];for(let t=0;t<a.length;t++)e.push(dn("span",[],[],a[t])),t<a.length-1&&e.push(o);return e}},Fn=()=>new Promise((e=>{var t;jn=void 0;const n=Bn.getElementById("beacon-toast-wrapper");if(!n)return e();const r=null===(t=n.shadowRoot)||void 0===t?void 0:t.getElementById("beacon-toast");if(r){const t=300;Un&&(clearTimeout(Un),Un=void 0),r.className=r.className.replace("fadeIn","fadeOut"),window.setTimeout((()=>{const t=n.parentNode;t&&t.removeChild(n),e()}),t)}else e()})),Hn=(e,t,n)=>{const r=e.getElementById(t);return r&&r.addEventListener("click",(()=>Mn(void 0,void 0,void 0,(function*(){yield n(r)})))),r},Wn=(e,t)=>{const n=e.getElementById(t);n&&(n.classList.remove("hide"),n.classList.add("show"))},Gn=(e,t)=>{const n=e.getElementById(t);n&&(n.classList.add("hide"),n.classList.remove("show"))},Vn=e=>{Wn(e,"beacon-toast-button-close"),Gn(e,"beacon-toast-button-expand")},zn=e=>{const t=e.getElementById("beacon-toast-button-expand"),n=e.getElementById("beacon-toast-list");t&&n&&(t.classList.remove("beacon-toast__upside_down"),n.classList.add("hide"),n.classList.remove("show"))},Qn=e=>{const t=e.getElementById("beacon-toast-button-expand"),n=e.getElementById("beacon-toast-list");t&&n&&(t.classList.add("beacon-toast__upside_down"),n.classList.remove("hide"),n.classList.add("show"))},Xn=e=>{const t=e.getElementById("beacon-toast-button-expand"),n=e.getElementById("beacon-toast-list");t&&n&&(t.classList.contains("beacon-toast__upside_down")?zn(e):Qn(e))},Yn=(e,t,n)=>Mn(void 0,void 0,void 0,(function*(){const r=t.actions;if(r&&r.length>0){const t=r.map((e=>Mn(void 0,void 0,void 0,(function*(){return t=e,Mn(void 0,void 0,void 0,(function*(){const{text:e,isBold:n,actionText:r,actionLogo:i,actionCallback:o}=t,s=yield ee(),a=Bn.createElement("div");a.classList.add("beacon-toast__action__item"),Kn(a);const l=e=>dn("strong",[],[],e);if(o){e.length>0&&a.appendChild(dn("p",[],[],e));const t=dn("span",[],[],[dn("span",[],[],r),i&&"external"===i?pn(["svg-inline--fa","fa-external-link-alt","fa-w-16"],[["aria-hidden","true"],["focusable","false"],["data-prefix","fas"],["data-icon","external-link-alt"],["role","img"],["xmlns","http://www.w3.org/2000/svg"],["viewBox","0 0 512 512"]],[gn([["fill","currentColor"],["d","M432,320H400a16,16,0,0,0-16,16V448H64V128H208a16,16,0,0,0,16-16V80a16,16,0,0,0-16-16H48A48,48,0,0,0,0,112V464a48,48,0,0,0,48,48H400a48,48,0,0,0,48-48V336A16,16,0,0,0,432,320ZM488,0h-128c-21.37,0-32.05,25.91-17,41l35.73,35.73L135,320.37a24,24,0,0,0,0,34L157.67,377a24,24,0,0,0,34,0L435.28,133.32,471,169c15,15,41,4.5,41-17V24A24,24,0,0,0,488,0Z"]])]):void 0]);a.appendChild(dn("p",[],[],[dn("a",[],[["id",s]],[n?l([t]):t])]))}else if(r){e.length>0&&a.appendChild(dn("p",["beacon-toast__action__item__subtitle"],[],e));const t=dn("span",[],[],r);a.appendChild(dn("p",[],[],[n?l([t]):t]))}else{const t=dn("p",[],[],e);a.appendChild(n?l([t]):t)}return o&&a.addEventListener("click",o),a}));var t}))));(yield Promise.all(t)).forEach((e=>n.appendChild(e)));const i=Bn.createElement("small");i.classList.add("beacon-toast__powered"),i.appendChild(dn("a",[],[["href","https://walletbeacon.io"],["target","_blank"]],[document.createTextNode("powered by"),pn([],[["id","f63e95a9-fd19-4487-bc1a-09eb2f066704"],["data-name","Guides"],["xmlns","http://www.w3.org/2000/svg"],["width","65"],["height","65"],["viewBox","0 0 65 65"]],[dn("title",[],[],"beacon_logo"),gn([["fill","currentColor"],["d","M59.66,29.52v1.06c0,.37-.18,9.07-4.11,15.88S44.16,57.75,43.84,57.93l-.91.54-1.61-.93-9.19-5.3a14.68,14.68,0,0,1-1.63-1.06h0a14.09,14.09,0,0,1-1.29-1,17.63,17.63,0,0,1-2.56-2.7,18.58,18.58,0,0,1-2.56-4.51,21.53,21.53,0,0,1-1.5-9,6.21,6.21,0,0,1,2.93-.73c.25,0,.49,0,.74,0a18.29,18.29,0,0,0,1,7.93,15.06,15.06,0,0,0,6.67,8l8.93,5.16c.2-.13.43-.3.68-.48,2.26-1.6,6.42-4.92,8.86-9.13C55.12,39.94,55.8,34,56,31.57l-3.79-2.19a23,23,0,0,0,.6-3.83Z"]]),gn([["fill","currentColor"],["d","M49.22,11.43V23.89c0,.65,0,1.3-.1,1.94v0c-.06.55-.13,1.1-.24,1.63A18,18,0,0,1,47.82,31a19.11,19.11,0,0,1-2.62,4.49,21.37,21.37,0,0,1-7.07,5.8,6.08,6.08,0,0,1-2.42-2.84A18.1,18.1,0,0,0,42,33.7h0a15.12,15.12,0,0,0,3.58-9.81V13.6c-.21-.11-.47-.21-.74-.35-2.52-1.16-7.47-3.1-12.36-3.1-5.42,0-11,2.4-13.08,3.45V18a22.54,22.54,0,0,0-3.63,1.38V11.43l.92-.52c.33-.18,8-4.38,15.79-4.38s15.48,4.2,15.8,4.38Z"]]),gn([["fill","currentColor"],["d","M18,26.4,9,31.55q0,.35.06.78a31.63,31.63,0,0,0,3.49,12.28c2.71,4.71,7.55,8.3,9.53,9.64l3.79-2.19a23.33,23.33,0,0,0,3,2.44l-6.88,4-.92-.54c-.31-.18-7.75-4.69-11.68-11.5S5.36,30.92,5.35,30.56V29.49L7,28.55l9.17-5.29c.57-.32,1.14-.61,1.72-.87a13.46,13.46,0,0,1,1.55-.61A17.52,17.52,0,0,1,23,20.91a19.2,19.2,0,0,1,5.19,0,21.49,21.49,0,0,1,8.55,3.24,6.29,6.29,0,0,1-1.25,3.51,17.9,17.9,0,0,0-7.3-3.06A15.14,15.14,0,0,0,18,26.4Z"]])]),document.createTextNode("Beacon")])),n.appendChild(i),(e=>{Wn(e,"beacon-toast-button-expand"),Gn(e,"beacon-toast-button-close")})(e)}else Vn(e),zn(e)})),Jn=e=>Mn(void 0,void 0,void 0,(function*(){jn=e;const t=e.timer,n=Bn.createElement("div");n.setAttribute("id","beacon-toast-wrapper");const r=n.attachShadow({mode:"open"}),i=Bn.createElement("div"),{style:o,html:s}=(e=>{const t=e.body,n=qn(t),r=(e=>dn("div",["beacon-toast__base","animated","fadeIn"],[["id","beacon-toast"]],[dn("div",["beacon-toast__content"],[],[dn("span",[],[["id","beacon-text"]],[dn("p",[],[["id","beacon-text-content"]],e),dn("a",["beacon-toast__wallet__link"],[["id","beacon-open-wallet"]],[dn("span",[],[],"Open"),pn(["svg-inline--fa","fa-external-link-alt","fa-w-16"],[["aria-hidden","true"],["focusable","false"],["data-prefix","fas"],["data-icon","external-link-alt"],["role","img"],["xmlns","http://www.w3.org/2000/svg"],["viewBox","0 0 512 512"]],[gn([["fill","currentColor"],["d","M432,320H400a16,16,0,0,0-16,16V448H64V128H208a16,16,0,0,0,16-16V80a16,16,0,0,0-16-16H48A48,48,0,0,0,0,112V464a48,48,0,0,0,48,48H400a48,48,0,0,0,48-48V336A16,16,0,0,0,432,320ZM488,0h-128c-21.37,0-32.05,25.91-17,41l35.73,35.73L135,320.37a24,24,0,0,0,0,34L157.67,377a24,24,0,0,0,34,0L435.28,133.32,471,169c15,15,41,4.5,41-17V24A24,24,0,0,0,488,0Z"]])])])]),pn(["beacon-toast__more","svg-inline--fa","fa-angle-down","fa-w-10"],[["id","beacon-toast-button-expand"],["aria-hidden","true"],["focusable","false"],["data-prefix","fas"],["data-icon","angle-down"],["role","img"],["xmlns","http://www.w3.org/2000/svg"],["viewBox","0 0 320 512"]],[gn([["fill","currentColor"],["d","M143 352.3L7 216.3c-9.4-9.4-9.4-24.6 0-33.9l22.6-22.6c9.4-9.4 24.6-9.4 33.9 0l96.4 96.4 96.4-96.4c9.4-9.4 24.6-9.4 33.9 0l22.6 22.6c9.4 9.4 9.4 24.6 0 33.9l-136 136c-9.2 9.4-24.4 9.4-33.8 0z"]])]),pn(["beacon-toast__more","svg-inline--fa","fa-times","fa-w-10"],[["id","beacon-toast-button-close"],["aria-hidden","true"],["focusable","false"],["data-prefix","fal"],["data-icon","times"],["role","img"],["xmlns","http://www.w3.org/2000/svg"],["viewBox","0 0 320 512"]],[gn([["fill","currentColor"],["d","M193.94 256L296.5 153.44l21.15-21.15c3.12-3.12 3.12-8.19 0-11.31l-22.63-22.63c-3.12-3.12-8.19-3.12-11.31 0L160 222.06 36.29 98.34c-3.12-3.12-8.19-3.12-11.31 0L2.34 120.97c-3.12 3.12-3.12 8.19 0 11.31L126.06 256 2.34 379.71c-3.12 3.12-3.12 8.19 0 11.31l22.63 22.63c3.12 3.12 8.19 3.12 11.31 0L160 289.94 262.56 392.5l21.15 21.15c3.12 3.12 8.19 3.12 11.31 0l22.63-22.63c3.12-3.12 3.12-8.19 0-11.31L193.94 256z"]])])]),dn("div",["progress-line"],[["id","beacon-toast-loader"]],""),dn("hr",["hide"],[["id","beacon-toast-loader-placeholder"]],""),dn("div",["beacon-toast__more--action"],[["id","beacon-toast-list"]],"")]))([dn("span",["beacon-toast__wallet__outer"],[],n)]);return{style:Ln,html:r}})(e);i.appendChild(s);const a=Bn.createElement("style");a.textContent=o,r.appendChild(i),r.appendChild(a),t&&(Un=window.setTimeout((()=>Mn(void 0,void 0,void 0,(function*(){yield Fn()}))),t)),Bn.body.prepend(n);const l=Tn(),c=r.getElementById("beacon-toast");c&&c.classList.add(`theme__${l}`);const u=r.getElementById("beacon-toast-list");u&&(yield Yn(r,e,u));const h=r.getElementById("beacon-open-wallet");h&&(e.openWalletAction?h.addEventListener("click",(()=>{e.openWalletAction&&e.openWalletAction()})):h.classList.add("hide")),"loading"===jn.state&&(Dn=window.setTimeout((()=>Mn(void 0,void 0,void 0,(function*(){const e=r.getElementById("beacon-toast-button-expand");e&&!e.classList.contains("beacon-toast__upside_down")&&Xn(r)}))),5e3)),Hn(r,"beacon-toast-button-done",(()=>Mn(void 0,void 0,void 0,(function*(){yield Fn()}))));const f=Hn(r,"beacon-toast-button-close",(()=>Mn(void 0,void 0,void 0,(function*(){yield Fn()}))));f&&"loading"===jn.state&&f.classList.add("hide"),Hn(r,"beacon-toast-button-expand",(()=>Mn(void 0,void 0,void 0,(function*(){Xn(r)}))))})),Zn=e=>Mn(void 0,void 0,void 0,(function*(){var t;if(Dn&&clearTimeout(Dn),Bn.getElementById("beacon-toast-wrapper")?e.forceNew?(yield Fn(),yield Jn(e)):yield(e=>Mn(void 0,void 0,void 0,(function*(){jn=Object.assign(Object.assign({},jn),e);const t=e.timer,n=Bn.getElementById("beacon-toast-wrapper");if(!n)return;const r=n.shadowRoot;if(!r)return;const i=r.getElementById("beacon-toast-list");i&&(Kn(i),yield Yn(r,e,i)),"loading"===jn.state&&(Dn=window.setTimeout((()=>Mn(void 0,void 0,void 0,(function*(){const e=r.getElementById("beacon-toast-button-expand");e&&!e.classList.contains("beacon-toast__upside_down")&&Xn(r)}))),5e3));const o=r.getElementById("beacon-text-content");o&&(Kn(o),o.appendChild(dn("span",["beacon-toast__wallet__outer"],[],qn(e.body))));const s=r.getElementById("beacon-open-wallet");s&&(e.openWalletAction?(s.classList.remove("hide"),s.addEventListener("click",(()=>{e.openWalletAction&&e.openWalletAction()}))):s.classList.add("hide")),t&&(Un=window.setTimeout((()=>Mn(void 0,void 0,void 0,(function*(){yield Fn()}))),t));const a=r.getElementById("beacon-toast-button-done");a&&a.addEventListener("click",(()=>Mn(void 0,void 0,void 0,(function*(){yield Fn()}))))})))(e):yield Jn(e),jn&&"finished"===jn.state){const e=null===(t=Bn.getElementById("beacon-toast-wrapper"))||void 0===t?void 0:t.shadowRoot;e&&((e=>{Gn(e,"beacon-toast-loader"),Wn(e,"beacon-toast-loader-placeholder")})(e),Vn(e),Qn(e))}})),$n=e=>e.length>=12?`${e.substr(0,5)}...${e.substr(-5)}`:e;var er=function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function s(e){try{l(r.next(e))}catch(e){o(e)}}function a(e){try{l(r.throw(e))}catch(e){o(e)}}function l(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}l((r=r.apply(e,t||[])).next())}))};const tr=new we("BeaconEvents"),nr=5e3;var rr;!function(e){e.PERMISSION_REQUEST_SENT="PERMISSION_REQUEST_SENT",e.PERMISSION_REQUEST_SUCCESS="PERMISSION_REQUEST_SUCCESS",e.PERMISSION_REQUEST_ERROR="PERMISSION_REQUEST_ERROR",e.OPERATION_REQUEST_SENT="OPERATION_REQUEST_SENT",e.OPERATION_REQUEST_SUCCESS="OPERATION_REQUEST_SUCCESS",e.OPERATION_REQUEST_ERROR="OPERATION_REQUEST_ERROR",e.SIGN_REQUEST_SENT="SIGN_REQUEST_SENT",e.SIGN_REQUEST_SUCCESS="SIGN_REQUEST_SUCCESS",e.SIGN_REQUEST_ERROR="SIGN_REQUEST_ERROR",e.BROADCAST_REQUEST_SENT="BROADCAST_REQUEST_SENT",e.BROADCAST_REQUEST_SUCCESS="BROADCAST_REQUEST_SUCCESS",e.BROADCAST_REQUEST_ERROR="BROADCAST_REQUEST_ERROR",e.ACKNOWLEDGE_RECEIVED="ACKNOWLEDGE_RECEIVED",e.LOCAL_RATE_LIMIT_REACHED="LOCAL_RATE_LIMIT_REACHED",e.NO_PERMISSIONS="NO_PERMISSIONS",e.ACTIVE_ACCOUNT_SET="ACTIVE_ACCOUNT_SET",e.ACTIVE_TRANSPORT_SET="ACTIVE_TRANSPORT_SET",e.SHOW_PREPARE="SHOW_PREPARE",e.HIDE_UI="HIDE_UI",e.PAIR_INIT="PAIR_INIT",e.PAIR_SUCCESS="PAIR_SUCCESS",e.CHANNEL_CLOSED="CHANNEL_CLOSED",e.INTERNAL_ERROR="INTERNAL_ERROR",e.UNKNOWN="UNKNOWN"}(rr||(rr={}));const ir=e=>er(void 0,void 0,void 0,(function*(){let t;const n=[];if(e.walletInfo.deeplink&&("web"===e.walletInfo.type||"mobile"===e.walletInfo.type&&Vt(window)||"desktop"===e.walletInfo.type&&!Vt(window))){const n=e.walletInfo.deeplink;t=()=>er(void 0,void 0,void 0,(function*(){const e=document.createElement("a");e.setAttribute("href",n),e.setAttribute("target","_blank"),e.dispatchEvent(new MouseEvent("click",{view:window,bubbles:!0,cancelable:!0}))}))}n.push({text:"No answer from your wallet received yet. Please make sure the wallet is open.",isBold:!0}),n.push({text:"Did you make a mistake?",actionText:"Cancel Request",actionCallback:()=>er(void 0,void 0,void 0,(function*(){yield Fn()}))}),n.push({text:"Wallet not receiving request?",actionText:"Reset Connection",actionCallback:()=>er(void 0,void 0,void 0,(function*(){yield Fn();const t=e.extraInfo.resetCallback;t&&(tr.log("showSentToast","resetCallback invoked"),yield t())}))}),Zn({body:"Request sent to  {{wallet}}",walletInfo:e.walletInfo,state:"loading",actions:n,openWalletAction:t}).catch((e=>console.error(e)))})),or=(e,t)=>er(void 0,void 0,void 0,(function*(){var n,r,i,o,s,a;const l=e.errorResponse.errorType?Se.getError(e.errorResponse.errorType,e.errorResponse.errorData):new Pe,c=[{text:l.title,isBold:!0}];if(e.errorResponse.errorType===W.TRANSACTION_INVALID_ERROR&&e.errorResponse.errorData){const u=e.errorResponse.errorData,h=e.errorMessages;let f=!1;if((null===(n=u[0])||void 0===n?void 0:n.contract_handle)&&h&&(null==h?void 0:h[u[0].contract_handle])){const e=null!==(o=null===(i=null===(r=u[1])||void 0===r?void 0:r.with)||void 0===i?void 0:i.int)&&void 0!==o?o:null===(a=null===(s=u[1])||void 0===s?void 0:s.with)||void 0===a?void 0:a.string,t=null==h?void 0:h[u[0].contract_handle];e&&(null==t?void 0:t[e])&&(c.push({text:null==t?void 0:t[e],isBold:!0}),f=!0)}f||c.push({text:l.description}),c.push({text:"",actionText:"Show Details",actionCallback:()=>er(void 0,void 0,void 0,(function*(){yield Fn(),yield Pn({title:l.title,body:l.fullDescription.description,data:l.fullDescription.data,buttons:t})}))})}yield Zn({body:"{{wallet}}  has returned an error",timer:e.errorResponse.errorType===W.ABORTED_ERROR?nr:void 0,state:"finished",walletInfo:e.walletInfo,actions:c})})),sr=()=>()=>er(void 0,void 0,void 0,(function*(){})),ar={[rr.PERMISSION_REQUEST_SENT]:ir,[rr.PERMISSION_REQUEST_SUCCESS]:e=>er(void 0,void 0,void 0,(function*(){const{output:t}=e;yield Zn({body:"{{wallet}}  has granted permission",timer:nr,walletInfo:e.walletInfo,state:"finished",actions:[{text:"Address",actionText:$n(t.address),isBold:!0},{text:"Network",actionText:`${t.network.type}`},{text:"Permissions",actionText:t.scopes.join(", ")}]})})),[rr.PERMISSION_REQUEST_ERROR]:or,[rr.OPERATION_REQUEST_SENT]:ir,[rr.OPERATION_REQUEST_SUCCESS]:e=>er(void 0,void 0,void 0,(function*(){const{account:t,output:n,blockExplorer:r}=e;yield Zn({body:"{{wallet}}  successfully submitted operation",timer:nr,state:"finished",walletInfo:e.walletInfo,actions:[{text:$n(n.transactionHash),isBold:!0,actionText:"Open Blockexplorer",actionLogo:"external",actionCallback:()=>er(void 0,void 0,void 0,(function*(){const e=yield r.getTransactionLink(n.transactionHash,t.network);window.open(e,"_blank"),yield Fn()}))}]})})),[rr.OPERATION_REQUEST_ERROR]:or,[rr.SIGN_REQUEST_SENT]:ir,[rr.SIGN_REQUEST_SUCCESS]:e=>er(void 0,void 0,void 0,(function*(){const t=e.output;yield Zn({body:"{{wallet}}  successfully signed payload",timer:nr,state:"finished",walletInfo:e.walletInfo,actions:[{text:`Signature: ${$n(t.signature)}`,actionText:"Copy to clipboard",actionCallback:()=>er(void 0,void 0,void 0,(function*(){navigator.clipboard.writeText(t.signature).then((()=>{tr.log("showSignSuccessAlert","Copying to clipboard was successful!")}),(e=>{tr.error("showSignSuccessAlert","Could not copy text to clipboard: ",e)})),yield Fn()}))}]})})),[rr.SIGN_REQUEST_ERROR]:or,[rr.BROADCAST_REQUEST_SENT]:ir,[rr.BROADCAST_REQUEST_SUCCESS]:e=>er(void 0,void 0,void 0,(function*(){const{network:t,output:n,blockExplorer:r}=e;yield Zn({body:"{{wallet}}  successfully injected operation",timer:nr,state:"finished",walletInfo:e.walletInfo,actions:[{text:$n(n.transactionHash),isBold:!0,actionText:"Open Blockexplorer",actionLogo:"external",actionCallback:()=>er(void 0,void 0,void 0,(function*(){const e=yield r.getTransactionLink(n.transactionHash,t);window.open(e,"_blank"),yield Fn()}))}]})})),[rr.BROADCAST_REQUEST_ERROR]:or,[rr.ACKNOWLEDGE_RECEIVED]:e=>er(void 0,void 0,void 0,(function*(){Zn({body:"Awaiting confirmation in  {{wallet}}",state:"acknowledge",walletInfo:e.walletInfo}).catch((e=>console.error(e)))})),[rr.LOCAL_RATE_LIMIT_REACHED]:()=>er(void 0,void 0,void 0,(function*(){Pn({title:"Error",body:"Rate limit reached. Please slow down",buttons:[{text:"Done",style:"outline"}],timer:3e3}).catch((e=>console.error(e)))})),[rr.NO_PERMISSIONS]:()=>er(void 0,void 0,void 0,(function*(){yield Pn({title:"No Permission",body:"Please allow the wallet to handle this type of request."})})),[rr.ACTIVE_ACCOUNT_SET]:sr(),[rr.ACTIVE_TRANSPORT_SET]:sr(),[rr.SHOW_PREPARE]:e=>er(void 0,void 0,void 0,(function*(){const t=e.walletInfo?"Preparing Request for  {{wallet}}...":"Preparing Request...";Zn({body:t,state:"prepare",walletInfo:e.walletInfo}).catch((e=>console.error(e)))})),[rr.HIDE_UI]:e=>er(void 0,void 0,void 0,(function*(){e?(e.includes("alert")&&Cn(),e.includes("toast")&&Fn()):Fn()})),[rr.PAIR_INIT]:e=>er(void 0,void 0,void 0,(function*(){const t={title:"Choose your preferred wallet",body:"<p></p>",pairingPayload:{p2pSyncCode:e.p2pPeerInfo,postmessageSyncCode:e.postmessagePeerInfo,preferredNetwork:e.preferredNetwork},closeButtonCallback:e.abortedHandler,disclaimerText:e.disclaimerText};yield Pn(t)})),[rr.PAIR_SUCCESS]:()=>er(void 0,void 0,void 0,(function*(){yield Cn()})),[rr.CHANNEL_CLOSED]:()=>er(void 0,void 0,void 0,(function*(){yield Pn({title:"Channel closed",body:"Your peer has closed the connection.",buttons:[{text:"Done",style:"outline"}],timer:1500})})),[rr.INTERNAL_ERROR]:e=>er(void 0,void 0,void 0,(function*(){var t;const n=[...null!==(t=e.buttons)&&void 0!==t?t:[]];n.push({text:"Done",style:"outline"});const r={title:"Internal Error",body:e.text,buttons:n};yield Pn(r)})),[rr.UNKNOWN]:sr()};class lr{constructor(e={},t){this.callbackMap={[rr.PERMISSION_REQUEST_SENT]:[ar.PERMISSION_REQUEST_SENT],[rr.PERMISSION_REQUEST_SUCCESS]:[ar.PERMISSION_REQUEST_SUCCESS],[rr.PERMISSION_REQUEST_ERROR]:[ar.PERMISSION_REQUEST_ERROR],[rr.OPERATION_REQUEST_SENT]:[ar.OPERATION_REQUEST_SENT],[rr.OPERATION_REQUEST_SUCCESS]:[ar.OPERATION_REQUEST_SUCCESS],[rr.OPERATION_REQUEST_ERROR]:[ar.OPERATION_REQUEST_ERROR],[rr.SIGN_REQUEST_SENT]:[ar.SIGN_REQUEST_SENT],[rr.SIGN_REQUEST_SUCCESS]:[ar.SIGN_REQUEST_SUCCESS],[rr.SIGN_REQUEST_ERROR]:[ar.SIGN_REQUEST_ERROR],[rr.BROADCAST_REQUEST_SENT]:[ar.BROADCAST_REQUEST_SENT],[rr.BROADCAST_REQUEST_SUCCESS]:[ar.BROADCAST_REQUEST_SUCCESS],[rr.BROADCAST_REQUEST_ERROR]:[ar.BROADCAST_REQUEST_ERROR],[rr.ACKNOWLEDGE_RECEIVED]:[ar.ACKNOWLEDGE_RECEIVED],[rr.LOCAL_RATE_LIMIT_REACHED]:[ar.LOCAL_RATE_LIMIT_REACHED],[rr.NO_PERMISSIONS]:[ar.NO_PERMISSIONS],[rr.ACTIVE_ACCOUNT_SET]:[ar.ACTIVE_ACCOUNT_SET],[rr.ACTIVE_TRANSPORT_SET]:[ar.ACTIVE_TRANSPORT_SET],[rr.SHOW_PREPARE]:[ar.SHOW_PREPARE],[rr.HIDE_UI]:[ar.HIDE_UI],[rr.PAIR_INIT]:[ar.PAIR_INIT],[rr.PAIR_SUCCESS]:[ar.PAIR_SUCCESS],[rr.CHANNEL_CLOSED]:[ar.CHANNEL_CLOSED],[rr.INTERNAL_ERROR]:[ar.INTERNAL_ERROR],[rr.UNKNOWN]:[ar.UNKNOWN]},t&&this.setAllHandlers(),this.overrideDefaults(e)}on(e,t){return er(this,void 0,void 0,(function*(){const n=this.callbackMap[e]||[];n.push(t),this.callbackMap[e]=n}))}emit(e,t,n){return er(this,void 0,void 0,(function*(){const r=this.callbackMap[e];r&&r.length>0&&r.forEach((r=>er(this,void 0,void 0,(function*(){try{yield r(t,n)}catch(t){tr.error(`error handling event ${e}`,t)}}))))}))}overrideDefaults(e){Object.keys(e).forEach((t=>{const n=t,r=e[n];r&&(this.callbackMap[n]=[r.handler])}))}setAllHandlers(e){Object.keys(this.callbackMap).forEach((t=>{const n=t;this.callbackMap[n]=[],e?this.callbackMap[n].push(e):this.callbackMap[n].push(((...e)=>{tr.log(t,...e)}))}))}}const cr={[D.BlockchainRequest]:{sent:rr.UNKNOWN,success:rr.UNKNOWN,error:rr.UNKNOWN},[D.BlockchainResponse]:{sent:rr.UNKNOWN,success:rr.UNKNOWN,error:rr.UNKNOWN},[D.PermissionRequest]:{sent:rr.PERMISSION_REQUEST_SENT,success:rr.PERMISSION_REQUEST_SUCCESS,error:rr.PERMISSION_REQUEST_ERROR},[D.PermissionResponse]:{sent:rr.UNKNOWN,success:rr.UNKNOWN,error:rr.UNKNOWN},[D.OperationRequest]:{sent:rr.OPERATION_REQUEST_SENT,success:rr.OPERATION_REQUEST_SUCCESS,error:rr.OPERATION_REQUEST_ERROR},[D.OperationResponse]:{sent:rr.UNKNOWN,success:rr.UNKNOWN,error:rr.UNKNOWN},[D.SignPayloadRequest]:{sent:rr.SIGN_REQUEST_SENT,success:rr.SIGN_REQUEST_SUCCESS,error:rr.SIGN_REQUEST_ERROR},[D.SignPayloadResponse]:{sent:rr.UNKNOWN,success:rr.UNKNOWN,error:rr.UNKNOWN},[D.BroadcastRequest]:{sent:rr.BROADCAST_REQUEST_SENT,success:rr.BROADCAST_REQUEST_SUCCESS,error:rr.BROADCAST_REQUEST_ERROR},[D.BroadcastResponse]:{sent:rr.UNKNOWN,success:rr.UNKNOWN,error:rr.UNKNOWN},[D.Acknowledge]:{sent:rr.UNKNOWN,success:rr.UNKNOWN,error:rr.UNKNOWN},[D.Disconnect]:{sent:rr.UNKNOWN,success:rr.UNKNOWN,error:rr.UNKNOWN},[D.Error]:{sent:rr.UNKNOWN,success:rr.UNKNOWN,error:rr.UNKNOWN}};class ur{constructor(e){this.rpcUrls=e}getLinkForNetwork(e){return t=this,n=void 0,i=function*(){return this.rpcUrls[e.type]},new((r=void 0)||(r=Promise))((function(e,o){function s(e){try{l(i.next(e))}catch(e){o(e)}}function a(e){try{l(i.throw(e))}catch(e){o(e)}}function l(t){var n;t.done?e(t.value):(n=t.value,n instanceof r?n:new r((function(e){e(n)}))).then(s,a)}l((i=i.apply(t,n||[])).next())}));var t,n,r,i}}var hr=function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function s(e){try{l(r.next(e))}catch(e){o(e)}}function a(e){try{l(r.throw(e))}catch(e){o(e)}}function l(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}l((r=r.apply(e,t||[])).next())}))};class fr extends ur{constructor(e={[K.MAINNET]:"https://tzkt.io",[K.GHOSTNET]:"https://ghostnet.tzkt.io",[K.MONDAYNET]:"https://mondaynet.tzkt.io",[K.DAILYNET]:"https://dailynet.tzkt.io",[K.DELPHINET]:"https://delphinet.tzkt.io",[K.EDONET]:"https://edonet.tzkt.io",[K.FLORENCENET]:"https://florencenet.tzkt.io",[K.GRANADANET]:"https://granadanet.tzkt.io",[K.HANGZHOUNET]:"https://hangzhounet.tzkt.io",[K.ITHACANET]:"https://ithacanet.tzkt.io",[K.JAKARTANET]:"https://jakartanet.tzkt.io",[K.KATHMANDUNET]:"https://kathmandunet.tzkt.io",[K.LIMANET]:"https://limanet.tzkt.io",[K.MUMBAINET]:"https://mumbainet.tzkt.io",[K.CUSTOM]:"https://mumbainet.tzkt.io"}){super(e),this.rpcUrls=e}getAddressLink(e,t){return hr(this,void 0,void 0,(function*(){return`${yield this.getLinkForNetwork(t)}/${e}`}))}getTransactionLink(e,t){return hr(this,void 0,void 0,(function*(){return`${yield this.getLinkForNetwork(t)}/${e}`}))}}var dr=function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function s(e){try{l(r.next(e))}catch(e){o(e)}}function a(e){try{l(r.throw(e))}catch(e){o(e)}}function l(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}l((r=r.apply(e,t||[])).next())}))};const pr=new we("DappPostMessageTransport");class gr extends Ft{constructor(e,t,n){super(e,t,n,z.TRANSPORT_POSTMESSAGE_PEERS_DAPP)}startOpenChannelListener(){return dr(this,void 0,void 0,(function*(){return this.client.listenForChannelOpening((e=>dr(this,void 0,void 0,(function*(){pr.log("connect","received PostMessagePairingResponse",e),yield this.addPeer(e),this._isConnected=G.CONNECTED,this.newPeerListener&&(this.newPeerListener(e),this.newPeerListener=void 0)}))))}))}listenForNewPeer(e){return dr(this,void 0,void 0,(function*(){pr.log("listenForNewPeer"),this.newPeerListener=e}))}stopListeningForNewPeers(){return dr(this,void 0,void 0,(function*(){pr.log("stopListeningForNewPeers"),this.newPeerListener=void 0}))}}var yr=function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function s(e){try{l(r.next(e))}catch(e){o(e)}}function a(e){try{l(r.throw(e))}catch(e){o(e)}}function l(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}l((r=r.apply(e,t||[])).next())}))};const vr=new we("DappP2PTransport");class mr extends Pt{constructor(e,t,n,r,i,o){super(e,t,n,r,z.TRANSPORT_P2P_PEERS_DAPP,i,o)}startOpenChannelListener(){return yr(this,void 0,void 0,(function*(){return this.client.listenForChannelOpening((e=>yr(this,void 0,void 0,(function*(){vr.log("listenForNewPeer","new publicKey",e.publicKey),yield this.addPeer(e),this._isConnected=G.CONNECTED,this.newPeerListener&&(this.newPeerListener(e),this.newPeerListener=void 0)}))))}))}listenForNewPeer(e){return yr(this,void 0,void 0,(function*(){vr.log("listenForNewPeer"),this.newPeerListener=e}))}stopListeningForNewPeers(){return yr(this,void 0,void 0,(function*(){vr.log("stopListeningForNewPeers"),this.newPeerListener=void 0}))}}var wr=n(8764).Buffer,Er=function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function s(e){try{l(r.next(e))}catch(e){o(e)}}function a(e){try{l(r.throw(e))}catch(e){o(e)}}function l(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}l((r=r.apply(e,t||[])).next())}))};const br=new we("DAppClient");new we("IncomingRequestInterceptor"),new we("OutgoingResponseInterceptor"),new we("WalletClient");var _r=n(8687);const Ar=new class extends Ae{constructor(e){var t,n,r,i,o;super(Object.assign({storage:e&&e.storage?e.storage:new De},e)),this.events=new lr,this.openRequests=new Map,this._activeAccount=new E,this._activePeer=new E,this.blockchains=new Map,this.events=new lr(e.eventHandlers,null!==(t=e.disableDefaultEvents)&&void 0!==t&&t),this.blockExplorer=null!==(n=e.blockExplorer)&&void 0!==n?n:new fr,this.preferredNetwork=null!==(r=e.preferredNetwork)&&void 0!==r?r:K.MAINNET,Sn(null!==(i=e.colorMode)&&void 0!==i?i:re.LIGHT),this.disclaimerText=e.disclaimerText,this.errorMessages=null!==(o=e.errorMessages)&&void 0!==o?o:{},this.appMetadataManager=new He(this.storage),this.activeAccountLoaded=this.storage.get(z.ACTIVE_ACCOUNT).then((e=>Er(this,void 0,void 0,(function*(){e?yield this.setActiveAccount(yield this.accountManager.getAccount(e)):yield this.setActiveAccount(void 0)})))).catch((e=>Er(this,void 0,void 0,(function*(){yield this.setActiveAccount(void 0),console.error(e)})))),this.handleResponse=(e,t)=>Er(this,void 0,void 0,(function*(){var n,r;const i=this.openRequests.get(e.id);if(br.log("handleResponse","Received message",e,t),"3"===e.version){const r=e;if(i&&r.message.type===D.Acknowledge)br.log(`acknowledge message received for ${e.id}`),console.timeLog(e.id,"acknowledge"),this.events.emit(rr.ACKNOWLEDGE_RECEIVED,{message:r.message,extraInfo:{},walletInfo:yield this.getWalletInfo()}).catch(console.error);else if(i){const n=r.message.blockchainData.appMetadata;r.message.type===D.PermissionResponse&&n&&(yield this.appMetadataManager.addAppMetadata(n)),console.timeLog(r.id,"response"),console.timeEnd(r.id),r.message.type===D.Error?i.reject(r.message):i.resolve({message:e,connectionInfo:t}),this.openRequests.delete(r.id)}else if(r.message.type===D.Disconnect){const r=t.origin===F.P2P?this.p2pTransport:null!==(n=this.postMessageTransport)&&void 0!==n?n:yield this.transport;if(r){const t=(yield r.getPeers()).find((t=>t.senderId===e.senderId));t?(yield r.removePeer(t),yield this.removeAccountsForPeers([t]),yield this.events.emit(rr.CHANNEL_CLOSED)):br.error("handleDisconnect","cannot find peer for sender ID",e.senderId)}}else br.error("handleResponse","no request found for id ",e.id,e)}else{const n=e;if(i&&n.type===D.Acknowledge)br.log(`acknowledge message received for ${e.id}`),console.timeLog(e.id,"acknowledge"),this.events.emit(rr.ACKNOWLEDGE_RECEIVED,{message:n,extraInfo:{},walletInfo:yield this.getWalletInfo()}).catch(console.error);else if(i)n.type===D.PermissionResponse&&n.appMetadata&&(yield this.appMetadataManager.addAppMetadata(n.appMetadata)),console.timeLog(n.id,"response"),console.timeEnd(n.id),n.type===D.Error||e.errorType?i.reject(n):i.resolve({message:e,connectionInfo:t}),this.openRequests.delete(n.id);else if(n.type===D.Disconnect||e.typedMessage.type===D.Disconnect){const n=t.origin===F.P2P?this.p2pTransport:null!==(r=this.postMessageTransport)&&void 0!==r?r:yield this.transport;if(n){const t=(yield n.getPeers()).find((t=>t.senderId===e.senderId));t?(yield n.removePeer(t),yield this.removeAccountsForPeers([t]),yield this.events.emit(rr.CHANNEL_CLOSED)):br.error("handleDisconnect","cannot find peer for sender ID",e.senderId)}}else br.error("handleResponse","no request found for id ",e.id,e)}}))}initInternalTransports(){return Er(this,void 0,void 0,(function*(){const e=yield this.keyPair;this.postMessageTransport||this.p2pTransport||(this.postMessageTransport=new gr(this.name,e,this.storage),yield this.addListener(this.postMessageTransport),this.p2pTransport=new mr(this.name,e,this.storage,this.matrixNodes,this.iconUrl,this.appUrl),yield this.addListener(this.p2pTransport))}))}init(e){const t=Object.create(null,{init:{get:()=>super.init}});return Er(this,void 0,void 0,(function*(){if(this._initPromise)return this._initPromise;try{yield this.activeAccountLoaded}catch(e){}return this._initPromise=new Promise((n=>Er(this,void 0,void 0,(function*(){if(e)yield this.addListener(e),n(yield t.init.call(this,e));else if(this._transport.isSettled())yield(yield this.transport).connect(),n(yield t.init.call(this,yield this.transport));else{const e=yield this.getActiveAccount(),r=()=>{this.postMessageTransport&&this.postMessageTransport.stopListeningForNewPeers().catch(console.error),this.p2pTransport&&this.p2pTransport.stopListeningForNewPeers().catch(console.error)};if(yield this.initInternalTransports(),!this.postMessageTransport||!this.p2pTransport)return;if(this.postMessageTransport.connect().then().catch(console.error),e&&e.origin){const r=e.origin.type;r===F.EXTENSION?n(yield t.init.call(this,this.postMessageTransport)):r===F.P2P&&n(yield t.init.call(this,this.p2pTransport))}else{const e=this.p2pTransport,t=this.postMessageTransport;t.listenForNewPeer((e=>{br.log("init","postmessage transport peer connected",e),this.events.emit(rr.PAIR_SUCCESS,e).catch((e=>console.warn(e))),this.setActivePeer(e).catch(console.error),this.setTransport(this.postMessageTransport).catch(console.error),r(),n(V.POST_MESSAGE)})).catch(console.error),e.listenForNewPeer((e=>{br.log("init","p2p transport peer connected",e),this.events.emit(rr.PAIR_SUCCESS,e).catch((e=>console.warn(e))),this.setActivePeer(e).catch(console.error),this.setTransport(this.p2pTransport).catch(console.error),r(),n(V.P2P)})).catch(console.error),Ft.getAvailableExtensions().then((()=>Er(this,void 0,void 0,(function*(){this.events.emit(rr.PAIR_INIT,{p2pPeerInfo:()=>(e.connect().then().catch(console.error),e.getPairingRequestInfo()),postmessagePeerInfo:()=>t.getPairingRequestInfo(),preferredNetwork:this.preferredNetwork,abortedHandler:()=>{console.log("ABORTED"),this._initPromise=void 0},disclaimerText:this.disclaimerText}).catch((e=>console.warn(e)))})))).catch((e=>{this._initPromise=void 0,console.error(e)}))}}})))),this._initPromise}))}getActiveAccount(){return Er(this,void 0,void 0,(function*(){return this._activeAccount.promise}))}setActiveAccount(e){return Er(this,void 0,void 0,(function*(){if(this._activeAccount.isSettled()?this._activeAccount=E.resolve(e):this._activeAccount.resolve(e),e){const t=e.origin.type;yield this.initInternalTransports(),t===F.EXTENSION?yield this.setTransport(this.postMessageTransport):t===F.P2P&&(yield this.setTransport(this.p2pTransport));const n=yield this.getPeer(e);yield this.setActivePeer(n)}else yield this.setActivePeer(void 0),yield this.setTransport(void 0);yield this.storage.set(z.ACTIVE_ACCOUNT,e?e.accountIdentifier:void 0),yield this.events.emit(rr.ACTIVE_ACCOUNT_SET,e)}))}clearActiveAccount(){return this.setActiveAccount()}setColorMode(e){return Er(this,void 0,void 0,(function*(){return Sn(e)}))}getColorMode(){return Er(this,void 0,void 0,(function*(){return Tn()}))}getAppMetadata(){return Er(this,void 0,void 0,(function*(){return this.getOwnAppMetadata()}))}showPrepare(){return Er(this,void 0,void 0,(function*(){const e=yield(()=>Er(this,void 0,void 0,(function*(){try{return yield this.getWalletInfo()}catch(e){return}})))();yield this.events.emit(rr.SHOW_PREPARE,{walletInfo:e})}))}hideUI(e){return Er(this,void 0,void 0,(function*(){yield this.events.emit(rr.HIDE_UI,e)}))}removeAccount(e){const t=Object.create(null,{removeAccount:{get:()=>super.removeAccount}});return Er(this,void 0,void 0,(function*(){const n=t.removeAccount.call(this,e),r=yield this.getActiveAccount();return r&&r.accountIdentifier===e&&(yield this.setActiveAccount(void 0)),n}))}removeAllAccounts(){const e=Object.create(null,{removeAllAccounts:{get:()=>super.removeAllAccounts}});return Er(this,void 0,void 0,(function*(){yield e.removeAllAccounts.call(this),yield this.setActiveAccount(void 0)}))}removePeer(e,t=!1){return Er(this,void 0,void 0,(function*(){const n=yield this.transport,r=n.removePeer(e);return yield this.removeAccountsForPeers([e]),t&&(yield this.sendDisconnectToPeer(e,n)),r}))}removeAllPeers(e=!1){return Er(this,void 0,void 0,(function*(){const t=yield this.transport,n=yield t.getPeers(),r=t.removeAllPeers();if(yield this.removeAccountsForPeers(n),e){const e=n.map((e=>this.sendDisconnectToPeer(e,t)));yield Promise.all(e)}return r}))}subscribeToEvent(e,t){return Er(this,void 0,void 0,(function*(){yield this.events.on(e,t)}))}checkPermissions(e){return Er(this,void 0,void 0,(function*(){if(e===D.PermissionRequest)return!0;const t=yield this.getActiveAccount();if(!t)throw yield this.sendInternalError("No active account set!");const n=t.scopes;switch(e){case D.OperationRequest:return n.includes(j.OPERATION_REQUEST);case D.SignPayloadRequest:return n.includes(j.SIGN);case D.BroadcastRequest:return!0;default:return!1}}))}sendNotification(e,t,n,r){var i,o,s;return Er(this,void 0,void 0,(function*(){const a=yield this.getActiveAccount();if(!a||a&&!a.scopes.includes(j.NOTIFICATION)&&!a.notification)throw new Error("notification permissions not given");if(!(null===(i=a.notification)||void 0===i?void 0:i.token))throw new Error("No AccessToken");const l=null===(o=a.notification)||void 0===o?void 0:o.apiUrl;if(!l)throw new Error("No Push URL set");return this.sendNotificationWithAccessToken({url:l,recipient:a.address,title:e,body:t,payload:n,protocolIdentifier:r,accessToken:null===(s=a.notification)||void 0===s?void 0:s.token})}))}addBlockchain(e){this.blockchains.set(e.identifier,e),e.getWalletLists().then((e=>{var t,n,r,i;i=e.desktopList,$t=i,r=e.extensionList,en=r,n=e.webList,tn=n,t=e.iOSList,nn=t}))}removeBlockchain(e){this.blockchains.delete(e)}permissionRequest(e){return Er(this,void 0,void 0,(function*(){console.log("PERMISSION REQUEST");const t=this.blockchains.get(e.blockchainIdentifier);if(!t)throw new Error(`Blockchain "${e.blockchainIdentifier}" not supported by dAppClient`);const n=Object.assign(Object.assign({},e),{type:D.PermissionRequest,blockchainData:Object.assign(Object.assign({},e.blockchainData),{appMetadata:yield this.getOwnAppMetadata()})});console.log("REQUESTION PERMIMISSION V3","xxx",n);const{message:r,connectionInfo:i}=yield this.makeRequestV3(n).catch((e=>Er(this,void 0,void 0,(function*(){throw new Error("TODO")}))));console.log("RESPONSE V3",r,i);const o=yield t.getAccountInfosFromPermissionResponse(r.message),s={accountIdentifier:o[0].accountId,senderId:r.senderId,origin:{type:i.origin,id:i.id},address:o[0].address,publicKey:o[0].publicKey,scopes:r.message.blockchainData.scopes,connectedAt:(new Date).getTime(),chainData:r.message.blockchainData};return yield this.accountManager.addAccount(s),yield this.setActiveAccount(s),yield t.handleResponse({request:n,account:s,output:r,blockExplorer:this.blockExplorer,connectionContext:i,walletInfo:yield this.getWalletInfo()}),yield this.notifySuccess(n,{account:s,output:{address:o[0].address,network:{type:K.MAINNET},scopes:[j.OPERATION_REQUEST]},blockExplorer:this.blockExplorer,connectionContext:i,walletInfo:yield this.getWalletInfo()}),r.message}))}request(e){return Er(this,void 0,void 0,(function*(){console.log("REQUEST",e);const t=this.blockchains.get(e.blockchainIdentifier);if(!t)throw new Error(`Blockchain "${t}" not supported by dAppClient`);yield t.validateRequest(e);const n=yield this.getActiveAccount();if(!n)throw yield this.sendInternalError("No active account!");const r=Object.assign(Object.assign({},e),{type:D.BlockchainRequest,accountId:n.accountIdentifier}),{message:i,connectionInfo:o}=yield this.makeRequestV3(r).catch((e=>Er(this,void 0,void 0,(function*(){throw console.error(e),new Error("TODO")}))));return yield t.handleResponse({request:r,account:n,output:i,blockExplorer:this.blockExplorer,connectionContext:o,walletInfo:yield this.getWalletInfo()}),i.message}))}requestPermissions(e){return Er(this,void 0,void 0,(function*(){const t={appMetadata:yield this.getOwnAppMetadata(),type:D.PermissionRequest,network:e&&e.network?e.network:{type:K.MAINNET},scopes:e&&e.scopes?e.scopes:[j.OPERATION_REQUEST,j.SIGN]},{message:n,connectionInfo:r}=yield this.makeRequest(t).catch((e=>Er(this,void 0,void 0,(function*(){throw yield this.handleRequestError(t,e)})))),i=n.publicKey||n.pubkey||n.pubKey,o=yield function(e){return O(this,void 0,void 0,(function*(){const t={edpk:{length:54,prefix:I.from(new Uint8Array([6,161,159]))},sppk:{length:55,prefix:I.from(new Uint8Array([6,161,161]))},p2pk:{length:55,prefix:I.from(new Uint8Array([6,161,164]))}};let n,r;if(64===e.length)n=t.edpk.prefix,r=e;else{const i=Object.entries(t);for(let t=0;t<i.length;t++){const[o,s]=i[t];if(e.startsWith(o)&&e.length===s.length){n=s.prefix;const t=b.decode(e);r=t.slice(o.length,t.length).toString("hex");break}}}if(!n||!r)throw new Error(`invalid publicKey: ${e}`);const i=(0,T.hash)(I.from(r,"hex"),20);return b.encode(I.concat([n,I.from(i)]))}))}(i),s={accountIdentifier:yield fe(o,n.network),senderId:n.senderId,origin:{type:r.origin,id:r.id},address:o,publicKey:i,network:n.network,scopes:n.scopes,threshold:n.threshold,notification:n.notification,connectedAt:(new Date).getTime()};yield this.accountManager.addAccount(s),yield this.setActiveAccount(s);const a=Object.assign(Object.assign({},n),{address:o,accountInfo:s});return yield this.notifySuccess(t,{account:s,output:a,blockExplorer:this.blockExplorer,connectionContext:r,walletInfo:yield this.getWalletInfo()}),a}))}requestSignPayload(e){return Er(this,void 0,void 0,(function*(){if(!e.payload)throw yield this.sendInternalError("Payload must be provided");const t=yield this.getActiveAccount();if(!t)throw yield this.sendInternalError("No active account!");const n=e.payload;if("string"!=typeof n)throw new Error("Payload must be a string");const r=(()=>{switch(e.signingType){case ne.OPERATION:if(!n.startsWith("03"))throw new Error('When using signing type "OPERATION", the payload must start with prefix "03"');return ne.OPERATION;case ne.MICHELINE:if(!n.startsWith("05"))throw new Error('When using signing type "MICHELINE", the payload must start with prefix "05"');return ne.MICHELINE;case ne.RAW:default:return ne.RAW}})(),i={type:D.SignPayloadRequest,signingType:r,payload:n,sourceAddress:e.sourceAddress||t.address},{message:o,connectionInfo:s}=yield this.makeRequest(i).catch((e=>Er(this,void 0,void 0,(function*(){throw yield this.handleRequestError(i,e)}))));return yield this.notifySuccess(i,{account:t,output:o,connectionContext:s,walletInfo:yield this.getWalletInfo()}),o}))}requestOperation(e){return Er(this,void 0,void 0,(function*(){if(!e.operationDetails)throw yield this.sendInternalError("Operation details must be provided");const t=yield this.getActiveAccount();if(!t)throw yield this.sendInternalError("No active account!");const n={type:D.OperationRequest,network:t.network||{type:K.MAINNET},operationDetails:e.operationDetails,sourceAddress:t.address||""},{message:r,connectionInfo:i}=yield this.makeRequest(n).catch((e=>Er(this,void 0,void 0,(function*(){throw yield this.handleRequestError(n,e)}))));return yield this.notifySuccess(n,{account:t,output:r,blockExplorer:this.blockExplorer,connectionContext:i,walletInfo:yield this.getWalletInfo()}),r}))}requestBroadcast(e){return Er(this,void 0,void 0,(function*(){if(!e.signedTransaction)throw yield this.sendInternalError("Signed transaction must be provided");const t=e.network||{type:K.MAINNET},n={type:D.BroadcastRequest,network:t,signedTransaction:e.signedTransaction},{message:r,connectionInfo:i}=yield this.makeRequest(n).catch((e=>Er(this,void 0,void 0,(function*(){throw yield this.handleRequestError(n,e)}))));return yield this.notifySuccess(n,{network:t,output:r,blockExplorer:this.blockExplorer,connectionContext:i,walletInfo:yield this.getWalletInfo()}),r}))}setActivePeer(e){return Er(this,void 0,void 0,(function*(){this._activePeer.isSettled()?this._activePeer=E.resolve(e):this._activePeer.resolve(e),e&&(yield this.initInternalTransports(),"postmessage-pairing-response"===e.type?yield this.setTransport(this.postMessageTransport):"p2p-pairing-response"===e.type&&(yield this.setTransport(this.p2pTransport)))}))}setTransport(e){const t=Object.create(null,{setTransport:{get:()=>super.setTransport}});return Er(this,void 0,void 0,(function*(){e||(this._initPromise=void 0);const n=t.setTransport.call(this,e);return yield this.events.emit(rr.ACTIVE_TRANSPORT_SET,e),n}))}sendInternalError(e){return Er(this,void 0,void 0,(function*(){throw yield this.events.emit(rr.INTERNAL_ERROR,{text:e}),new Error(e)}))}removeAccountsForPeers(e){return Er(this,void 0,void 0,(function*(){const t=yield this.accountManager.getAccounts(),n=e.map((e=>e.senderId)),r=t.filter((e=>n.includes(e.senderId))).map((e=>e.accountIdentifier));yield this.accountManager.removeAccounts(r);const i=yield this.getActiveAccount();i&&r.includes(i.accountIdentifier)&&(yield this.setActiveAccount(void 0))}))}handleRequestError(e,t){return Er(this,void 0,void 0,(function*(){if(br.error("handleRequestError","error response",t),t.errorType){const n=[];if(t.errorType===W.NO_PRIVATE_KEY_FOUND_ERROR){const t=()=>Er(this,void 0,void 0,(function*(){const t=e;let n;if(t.sourceAddress&&t.network){const e=yield fe(t.sourceAddress,t.network);n=yield this.getAccount(e),n&&(yield this.removeAccount(n.accountIdentifier))}}));n.push({text:"Remove account",actionCallback:t})}const r=yield this.getPeer(),i=yield this.getActiveAccount();throw e.type===D.PermissionRequest&&void 0===(yield this.getActiveAccount())&&(this._initPromise=void 0,this.postMessageTransport=void 0,this.p2pTransport=void 0,yield this.setTransport(),yield this.setActivePeer()),this.events.emit(cr[e.type].error,{errorResponse:t,walletInfo:yield this.getWalletInfo(r,i),errorMessages:this.errorMessages},n).catch((e=>br.error("handleRequestError",e))),Se.getError(t.errorType,t.errorData)}throw t}))}notifySuccess(e,t){return Er(this,void 0,void 0,(function*(){this.events.emit(cr[e.type].success,t).catch((e=>console.warn(e)))}))}getWalletInfo(e,t){var n,r;return Er(this,void 0,void 0,(function*(){const i=t||(yield this.getActiveAccount()),o=e||(yield this.getPeer(i));let s;i&&(s=yield this.appMetadataManager.getAppMetadata(i.senderId));const a=o;s||(s={name:a.name,icon:a.icon});const l=(e,t)=>!(!e||!t)&&e.toLowerCase()===t.toLowerCase();let c,u;if(an().find((e=>l(e.name,null==s?void 0:s.name)))?(c=an().find((e=>l(e.name,null==s?void 0:s.name))),u="mobile"):sn().find((e=>l(e.name,null==s?void 0:s.name)))?(c=sn().find((e=>l(e.name,null==s?void 0:s.name))),u="web"):rn().find((e=>l(e.name,null==s?void 0:s.name)))?(c=rn().find((e=>l(e.name,null==s?void 0:s.name))),u="desktop"):on().find((e=>l(e.name,null==s?void 0:s.name)))&&(c=on().find((e=>l(e.name,null==s?void 0:s.name))),u="extension"),c){let e;return c.hasOwnProperty("links")?e=c.links[null!==(n=null==i?void 0:i.network.type)&&void 0!==n?n:this.preferredNetwork]:c.hasOwnProperty("deepLink")&&(e=c.deepLink),{name:s.name,icon:null!==(r=s.icon)&&void 0!==r?r:c.logo,deeplink:e,type:u}}return s}))}getPeer(e){var t,n,r,i;return Er(this,void 0,void 0,(function*(){let o;if(e){br.log("getPeer","We have an account",e);const s=[...null!==(n=yield null===(t=this.postMessageTransport)||void 0===t?void 0:t.getPeers())&&void 0!==n?n:[],...null!==(i=yield null===(r=this.p2pTransport)||void 0===r?void 0:r.getPeers())&&void 0!==i?i:[]];br.log("getPeer","Found peers",s,e),o=s.find((t=>t.senderId===e.senderId)),o||(o=s.find((t=>t.extensionId===e.origin.id)))}else o=yield this._activePeer.promise,br.log("getPeer","Active peer",o);if(!o)throw new Error("No matching peer found.");return o}))}makeRequest(e){var t;return Er(this,void 0,void 0,(function*(){const n=yield ee();if(console.time(n),br.log("makeRequest","starting"),yield this.init(),console.timeLog(n,"init done"),br.log("makeRequest","after init"),yield this.addRequestAndCheckIfRateLimited())throw this.events.emit(rr.LOCAL_RATE_LIMIT_REACHED).catch((e=>console.warn(e))),new Error("rate limit reached");if(!(yield this.checkPermissions(e.type)))throw this.events.emit(rr.NO_PERMISSIONS).catch((e=>console.warn(e))),new Error("No permissions to send this request to wallet!");if(!this.beaconId)throw yield this.sendInternalError("BeaconID not defined");const r=Object.assign({id:n,version:"2",senderId:yield ve(yield this.beaconId)},e),i=new E;this.addOpenRequest(r.id,i);const o=yield(new qe).serialize(r),s=yield this.getActiveAccount(),a=yield this.getPeer(s),l=yield this.getWalletInfo(a,s);br.log("makeRequest","sending message",r),console.timeLog(n,"sending");try{yield(yield this.transport).send(o,a)}catch(e){throw this.events.emit(rr.INTERNAL_ERROR,{text:"Unable to send message. If this problem persists, please reset the connection and pair your wallet again.",buttons:[{text:"Reset Connection",actionCallback:()=>Er(this,void 0,void 0,(function*(){yield Fn(),this.disconnect()}))}]}),console.timeLog(n,"send error"),e}return console.timeLog(n,"sent"),this.events.emit(cr[e.type].sent,{walletInfo:Object.assign(Object.assign({},l),{name:null!==(t=l.name)&&void 0!==t?t:"Wallet"}),extraInfo:{resetCallback:()=>Er(this,void 0,void 0,(function*(){this.disconnect()}))}}).catch((e=>console.warn(e))),i.promise}))}makeRequestV3(e){var t;return Er(this,void 0,void 0,(function*(){const n=yield ee();if(console.time(n),br.log("makeRequest","starting"),yield this.init(),console.timeLog(n,"init done"),br.log("makeRequest","after init"),yield this.addRequestAndCheckIfRateLimited())throw this.events.emit(rr.LOCAL_RATE_LIMIT_REACHED).catch((e=>console.warn(e))),new Error("rate limit reached");if(!this.beaconId)throw yield this.sendInternalError("BeaconID not defined");const r={id:n,version:"3",senderId:yield ve(yield this.beaconId),message:e},i=new E;this.addOpenRequest(r.id,i);const o=yield(new qe).serialize(r),s=yield this.getActiveAccount(),a=yield this.getPeer(s),l=yield this.getWalletInfo(a,s);br.log("makeRequest","sending message",r),console.timeLog(n,"sending");try{yield(yield this.transport).send(o,a)}catch(e){throw this.events.emit(rr.INTERNAL_ERROR,{text:"Unable to send message. If this problem persists, please reset the connection and pair your wallet again.",buttons:[{text:"Reset Connection",actionCallback:()=>Er(this,void 0,void 0,(function*(){yield Fn(),this.disconnect()}))}]}),console.timeLog(n,"send error"),e}console.timeLog(n,"sent");const c=e.type;return this.events.emit(cr[c].sent,{walletInfo:Object.assign(Object.assign({},l),{name:null!==(t=l.name)&&void 0!==t?t:"Wallet"}),extraInfo:{resetCallback:()=>Er(this,void 0,void 0,(function*(){this.disconnect()}))}}).catch((e=>console.warn(e))),i.promise}))}disconnect(){return Er(this,void 0,void 0,(function*(){this.postMessageTransport=void 0,this.p2pTransport=void 0,yield Promise.all([this.clearActiveAccount(),(yield this.transport).disconnect()])}))}addOpenRequest(e,t){br.log("addOpenRequest",this.name,`adding request ${e} and waiting for answer`),this.openRequests.set(e,t)}sendNotificationWithAccessToken(e){return Er(this,void 0,void 0,(function*(){const{url:t,recipient:n,title:r,body:i,payload:o,protocolIdentifier:s,accessToken:a}=e,l=(new Date).toISOString(),c=yield this.keyPair,u=c.publicKey,h=wr.from(new Uint8Array([13,15,37,217])),f=b.encode(wr.concat([h,wr.from(u)])),d=N(["Tezos Signed Message: ",n,r,i,l,o].join(" ")),p="0501"+d.length.toString(16).padStart(8,"0")+d,g=yield((e,t)=>O(void 0,void 0,void 0,(function*(){const n=yield(e=>O(void 0,void 0,void 0,(function*(){if(e.length%2!=0)return(0,S.cv)(e);let t=e;e.startsWith("0x")&&(t=e.slice(2));const n=I.from(t,"hex");return n.length===t.length/2?n:(0,S.cv)(e)})))(e),r=new Uint8Array([9,245,205,134,18]),i=yield((e,t=32)=>O(void 0,void 0,void 0,(function*(){return(0,T.hash)(e,t)})))(n),o=(0,R.Xx)(t.secretKey,i);return b.encode(I.concat([I.from(r),I.from(o)]))})))(p,{secretKey:wr.from(c.secretKey)});return(yield rt().post(`${t}/send`,{recipient:n,title:r,body:i,timestamp:l,payload:o,accessToken:a,protocolIdentifier:s,sender:{name:this.name,publicKey:f,signature:g}})).data}))}}({name:"INTERFACE.NET"});var Sr,Tr="";const Rr=e=>(0,_r.request)("https://data.objkt.com/v3/graphql",`query getUser {\n    holder(where: {address: {_eq: "${e}"}}) {\n      alias\n      description\n      discord\n      dns\n      email\n      ethereum\n      facebook\n      flag\n      github\n      gitlab\n      inserted_at\n      instagram\n      last_metadata_update\n      logo\n      medium\n      reddit\n      slack\n      support\n      telegram\n      twitter\n      tzdomain\n      website\n    }\n  }`).then((e=>(e=>{Sr=e;const t=document.getElementById("playOpt").firstChild,n=new Image(30,30);n.className="starticon",n.id="profile",n.src=e.logo,n.addEventListener("click",(()=>{window.confirm("Unsynchronize your wallet?")&&(Ar.clearActiveAccount(),document.getElementById("walletsyncbutton").style.display="block",n.remove())})),t.append(n)})(e.holder[0]))),xr=()=>Ar.requestPermissions().then((e=>{Tr=e.address,Rr(Tr),document.getElementById("walletsyncbutton").style.display="none",Br(Tr)})).catch((e=>console.log(e)));Ar.getActiveAccount().then((e=>{e&&(Tr=e.address,Rr(Tr),document.getElementById("walletsyncbutton").style.display="none",Br(Tr))}));const Ir={920:()=>{const e=document.getElementById("background-canvas");var n=e.getContext("2d");const r=document.getElementById("crux"),i=document.getElementById("crux-canvas");var o=i.getContext("2d");const s=document.getElementById("timeSlider");var a=s.getContext("2d");const l=document.getElementById("alt1Div"),c=document.getElementById("alt1-canvas"),u=document.getElementById("alt2Div"),h=document.getElementById("alt2-canvas");var f,d,p=document.getElementById("altSwitch"),g=300,y=300,m=Date.now(),w=1,E=window.devicePixelRatio||1,b=[],_=[],A=document.getElementById("compteur"),S=1,T=2,R="monospace";p.style.backgroundImage="url(themes/920/img/sw1.png)",p.style.backgroundSize="50px 50px",p.style.borderRadius="5px 5px 5px 5px",e.style.background="url(themes/920/img/bg920.jpeg)",e.style.backgroundSize="cover",document.getElementById("comptBg").innerText="8888",document.getElementById("comptBg").style.color="rgba(255,45,45,.15)",document.getElementById("comptBg").style.textShadow="0px 0px 15px rgba(255,45,45,.4)",r.style.borderStyle="solid",r.style.borderImage='url("themes/920/img/cruxBorder2.png") 30 fill / 10px / 10px stretch',r.style.borderRadius="15px 15px 15px 15px",r.style.boxShadow="-6px 6px 10px 12px black",l.style.backgroundColor="DimGray",l.style.boxShadow="inset 0px 0px 10px 10px black",l.style.border="3px solid gray",l.style.borderStyle="inset",l.style.borderRadius="5px",u.style.backgroundColor="DimGray",u.style.boxShadow="inset 0px 0px 10px 10px black",u.style.border="3px solid gray",u.style.borderStyle="inset",u.style.borderRadius="5px",c.style.filter="blur(.5px)",h.style.filter="blur(.5px)",A.style.position="absolute",A.style.width="98px",A.style.height="48px",A.style.backgroundColor="#404040",A.style.boxShadow="inset 0px 0px 10px 10px black",A.style.border="1px solid gray",A.style.borderStyle="inset",A.style.borderRadius="2px",A.style.color="rgba(255,45,45,.9)",A.style.fontSize="24px",A.style.display="none",A.style.textshadow="0px 0px 20px rgba(255,45,45,1)",[...A.childNodes].forEach((e=>{e.style.position="absolute",e.style.marginLeft="10%",e.style.width="80%",e.style.textAlign="end",e.style.marginTop="12%",e.style.userSelect="none",e.style.zIndex="5"})),A.style.zIndex="6";var x=new Image;x.src="themes/commun/img/texture/papertexture.jpeg";var I=new Image;I.src="themes/920/img/blacklight.png",document.fonts.load("24px DSEG7").then((()=>{document.getElementById("compteur").style.fontFamily="DSEG7"}));var O=new Image;O.src="themes/920/img/slider.png";var k="PROPRIÉTÉINSAISISSABLEDESARCHIVESTÉLÉMATIQUESDELAREPUBLIQUE";const N=(e,t)=>(E=window.devicePixelRatio||1,f=e.getBoundingClientRect(),e.width=f.width*E,e.height=f.height*E,t.scale(E,E),t.clearRect(0,0,parseInt(f.width*E),parseInt(f.height*E)),t),C=(e,t)=>{d=parseInt(t.length-e/parseInt(g/16)),document.getElementById("compte").innerText=d},P=e=>{(a=N(s,a)).clearRect(0,0,a.width*E,a.height*E),a.beginPath(),a.strokeStyle="gray",a.lineWidth=1,a.moveTo(26,30),a.lineTo(26,s.offsetHeight-20),a.closePath(),a.stroke(),a.beginPath(),a.strokeStyle="black",a.lineWidth=2,a.moveTo(25,30),a.lineTo(25,s.offsetHeight-20),a.moveTo(15,30),a.lineTo(35,30),a.moveTo(15,s.offsetHeight-20),a.lineTo(35,s.offsetHeight-20);let t=s.offsetHeight-20-30,n=t/10;for(let e=10;e<t;e+=n)a.moveTo(20,20+e),a.lineTo(30,20+e);a.closePath(),a.stroke();let r=s.offsetHeight*(e/100)-32.5;r<5?r=5:r>s.offsetHeight-70&&(r=s.offsetHeight-70),a.drawImage(O,10,r,30,65)},L=(e,t,n,r)=>{t===c?(b=n,S=r):t===h&&(_=n,T=r);let i=["rgba(133, 144, 140,.65)","rgba(50, 52, 49,.65)"],o=(e=N(t,e)).createLinearGradient(0,0,0,200);o.addColorStop(0,i[1]),o.addColorStop(1,i[0]);let s=t.getBoundingClientRect().width,a=t.getBoundingClientRect().height;if(e.clearRect(0,0,s,a),e.save(),(e=>{for(var t=e.canvas.width,n=e.canvas.height,r=e.createImageData(t,n),i=new Uint32Array(r.data.buffer),o=i.length,s=0;s<o;s++)i[s]=(255*Math.random()|0)<<24;for(e.save(),e.putImageData(r,0,0),e.restore(),e.save(),e.beginPath(),s=0;s<n;s+=3)e.strokeStyle="rgba(255,255,255,.1)",e.moveTo(0,0+s),e.lineTo(t,0+s);e.stroke(),e.closePath(),e.restore()})(e),e.beginPath(),e.moveTo(10,10),e.quadraticCurveTo(s/2,-5,s-10,10),e.quadraticCurveTo(s+5,a/2,s-10,a-10),e.quadraticCurveTo(s/2,a+5,10,a-10),e.quadraticCurveTo(-5,a/2,10,10),e.stroke(),e.fillStyle=o,e.fill(),e.fillStyle="black",e.strokeStyle="black",e.shadowBlur=25,e.shadowColor="black",e.lineWidth=6,e.stroke(),e.globalCompositeOperation="destination-in",e.fill(),e.globalCompositeOperation="source-over",e.lineWidth=1,e.stroke(),e.closePath(),e.restore(),e.font="600 "+parseInt(g/30)+"px "+R,e.fillStyle="Azure",n&&n.length>0&&n[0].hasOwnProperty("text")&&n[0].text.length>1){let t=Math.round(Math.random())/1.7;e.fillText(">",20,a/2-parseInt(s/8)*((n.length+1)/2)+parseInt(s/8)+t),e.fillText(r,.9*s,.2*a+t);for(let r=0;r<n.length&&r<5;r++)null!=n[r]&&e.fillText(n[r].text.toUpperCase(),35,a/2-parseInt(s/8)*((n.length+1)/2)+parseInt(s/8)*(r+1)+t)}};function M(){try{window.requestAnimationFrame(M);var e=Date.now();e-m>w&&(m=e-(e-m)%w,L(Nl,c,b,S),L(kl,h,_,T))}catch(e){console.log(e)}}return M(),{drawbg:()=>{let i=window.innerWidth,o=window.innerHeight;if(e.width=i,e.height=o,n=N(e,n),r.style.width=.7*window.innerWidth+"px",r.style.height=.6*window.innerHeight+"px",r.style.left=window.innerWidth/2-r.offsetWidth/2+"px",l.style.width=.9*i/2-10+"px",l.style.maxWidth=r.offsetWidth/2-10+"px",l.style.left=i/2-(l.offsetWidth+10)+"px",l.style.height=.7*(r.offsetWidth/2-10)+"px",u.style.left=i/2+10+"px",u.style.width=.9*i/2-10+"px",u.style.maxWidth=r.offsetWidth/2-10+"px",u.style.height=.7*(r.offsetWidth/2-10)+"px",s.style.width="50px",s.style.height=r.offsetHeight-30+"px",s.style.left=r.offsetLeft+r.offsetWidth+5+"px",s.style.top="2%",p.style.left=s.offsetLeft+"px",p.style.top=s.offsetTop+s.offsetHeight+10+"px",n.save(),n.beginPath(),n.font="italic bold "+r.offsetWidth/20+"px Arial",n.textAlign="end",n.textBaseline="middle",n.fillStyle="maroon",n.shadowOffsetX=2,n.shadowOffsetY=-2,n.shadowBlur=0,n.shadowColor="gray",n.fillText("PEGAS 920",u.offsetLeft+u.offsetWidth+200,o-100),n.font="italic bold "+r.offsetWidth/35+"px Arial",n.fillText(v.t920.term,u.offsetLeft+u.offsetWidth+200,o-80),n.closePath(),n.restore(),n.save(),n.beginPath(),n.fillStyle="maroon",n.font="bold "+r.offsetWidth/25+"px sans-serif",n.strokeStyle="maroon",n.lineWidth=3,n.shadowOffsetX=2,n.shadowOffsetY=-2,n.shadowBlur=0,n.shadowColor="gray",n.font="bold "+r.offsetWidth/30+"px sans-serif",n.textAlign="center",n.textBaseline="middle",n.fillText(v.t920.opt1,l.offsetLeft+l.offsetWidth/2,l.offsetTop+l.offsetHeight+20,.4*l.offsetWidth),n.fillText(v.t920.opt2,u.offsetLeft+u.offsetWidth/2,u.offsetTop+u.offsetHeight+20,.4*u.offsetWidth),n.stroke(),n.closePath(),window.innerHeight>700&&window.innerWidth>600&&(n.beginPath(),n.strokeRect(l.offsetLeft-20,l.offsetTop-20,u.offsetLeft+u.offsetWidth-l.offsetLeft+40,l.offsetHeight+40),n.clearRect(l.offsetLeft+l.offsetWidth/2-l.offsetWidth/5,l.offsetTop+l.offsetHeight+10,.4*l.offsetWidth,20),n.clearRect(u.offsetLeft+u.offsetWidth/2-u.offsetWidth/5,u.offsetTop+u.offsetHeight+10,.4*u.offsetWidth,20),n.moveTo(i/2,l.offsetTop+l.offsetHeight+20),n.lineTo(i/2,o+20),n.stroke(),n.closePath()),window.innerWidth>600&&(n.fillText(v.t920.opt1,l.offsetLeft+l.offsetWidth/2,l.offsetTop+l.offsetHeight+20,.4*l.offsetWidth),n.fillText(v.t920.opt2,u.offsetLeft+u.offsetWidth/2,u.offsetTop+u.offsetHeight+20,.4*u.offsetWidth),n.moveTo(i/2,l.offsetTop+l.offsetHeight+20),n.lineTo(i/2,o+20),n.stroke()),window.innerWidth>800){if(n.beginPath(),n.moveTo(l.offsetLeft-20,l.offsetTop+l.offsetHeight/2),n.lineTo(2*l.offsetLeft/3,l.offsetTop+l.offsetHeight/2),n.lineTo(2*l.offsetLeft/3,o/2),n.fillText(v.t920.flux,2*l.offsetLeft/3,o/2-40),n.fillText(v.t920.princ,2*l.offsetLeft/3,o/2-20),n.moveTo(2*l.offsetLeft/3-50,o/2-30),n.lineTo(-20,o/2-30),n.moveTo(2*l.offsetLeft/3,o/2-60),n.lineTo(2*l.offsetLeft/3,o/4),n.lineTo(r.offsetLeft,o/4),n.moveTo(2*l.offsetLeft/3,o/4),n.lineTo(2*l.offsetLeft/3,o/6),n.moveTo(p.offsetLeft+p.offsetWidth+10,p.offsetTop+p.offsetHeight/2),n.lineTo(p.offsetLeft+p.offsetWidth+50,p.offsetTop+p.offsetHeight/2),n.textAlign="left",n.fillText(v.t920.switch,p.offsetLeft+p.offsetWidth+60,p.offsetTop+p.offsetHeight/2),n.textAlign="center",n.stroke(),n.save(),n.shadowOffsetX=-.5,n.shadowOffsetY=.5,n.shadowBlur=0,n.shadowColor="gray",n.drawImage(I,2*l.offsetLeft/3-10,o/6-40,20,20),n.restore(),n.closePath(),t){n.save();let e=n.createRadialGradient(2*l.offsetLeft/3,o/6-30,4,2*l.offsetLeft/3,o/6-30,12);e.addColorStop(0,"rgba(241,8,8,.45)"),e.addColorStop(.9,"transparent"),n.fillStyle=e,n.fillRect(2*l.offsetLeft/3-20,o/6-50,40,40),n.restore()}n.beginPath(),n.fillText(v.t920.transm,2*l.offsetLeft/3,o/6-60),n.clearRect(r.offsetLeft+r.offsetWidth,o/4-10,50,20),n.moveTo(r.offsetLeft+r.offsetWidth,o/4),n.lineTo(r.offsetLeft+r.offsetWidth+20,o/4),n.moveTo(r.offsetLeft+r.offsetWidth+40,o/4),n.lineTo(r.offsetLeft+r.offsetWidth+100,o/4),n.fillText(v.t920.defil,r.offsetLeft+r.offsetWidth+160,o/4-10),n.fillText(v.t920.rap,r.offsetLeft+r.offsetWidth+160,o/4+10),n.moveTo(r.offsetLeft+r.offsetWidth+160,o/4-30),n.lineTo(r.offsetLeft+r.offsetWidth+160,-10),n.moveTo(r.offsetLeft+r.offsetWidth+160,o/4+30),n.lineTo(r.offsetLeft+r.offsetWidth+160,o/4+130),n.strokeRect(r.offsetLeft+r.offsetWidth+100,o/4+130,120,70),n.fillText(v.t920.compt,r.offsetLeft+r.offsetWidth+160,o/4+220),n.fillText(v.t920.ligne,r.offsetLeft+r.offsetWidth+160,o/4+240),A.style.display="block",A.style.left=`${r.offsetLeft+r.offsetWidth+110}px`,A.style.top=o/4+140+"px",n.stroke(),n.closePath()}n.restore(),n.save();var a=n.createRadialGradient(i,90,i/4,i,90,i);a.addColorStop(0,"rgba(255,255,255,.4)"),a.addColorStop(.9,"rgba(100,100,100,.3)"),n.fillStyle=a,n.fillRect(0,0,i,o),n.restore()},startCanvas:N,compteurLigne:C,drawSlider:P,drawCrux:(e,t,n)=>{if((e=parseInt(e))>0&&e<t.length*parseInt(g/16)){(o=N(i,o)).beginPath(),g=i.getBoundingClientRect().width,y=i.getBoundingClientRect().height;let s=t.length*parseInt(g/16);for(let u=-1200;u<s+400;u+=280)o.drawImage(x,0,+e-u),o.drawImage(x,280,+e-u);for(let h=1;h<t.length;h++)if(null!=t[h]){let f;h<10?f=h+"   -":h<100?f=h+"  -":h<1e3?f=h+" -":h<1e4?f=h+"-":console.log("error, line 9999 reached");let d=e+y+parseInt(g/16)*(h+1)-parseInt(g/16)*(t.length+1);switch(o.restore(),t[h].endBlock&&(o.save(),o.beginPath(),o.setLineDash([5,5]),o.strokeStyle="DarkGray",o.moveTo(.78*g,d+5),o.lineTo(g,d+5),o.stroke(),o.restore()),o.font=parseInt(g/60)+"px "+R,o.fillText(f,g/100+2,d),t[h].type){case"past":o.save(),o.font=parseInt(g/30)+"px "+R,o.fillText(t[h].text,g/15+5,d),o.beginPath(),o.strokeStyle="rgba(66,150,237,.5)",o.lineWidth=.5,o.moveTo(0,d+5),o.lineTo(g/100*78,d+5),o.stroke();break;case"alt":o.save(),o.font="bold "+parseInt(g/30)+"px "+R,o.fillText("> "+t[h].text.toUpperCase(),g/15+5,d),o.beginPath(),o.strokeStyle="rgba(66,150,237,.5)",o.lineWidth=.5,o.moveTo(0,d+5),o.lineTo(g/100*78,d+5),o.stroke();break;case"img":o.drawImage(t[h].illustration,.78*g/4,d-.78*g/2,.78*g/2,.78*g/2),o.filter="none"}}let a=k+k+k;for(let p=0;p<t.length;p+=10)a+=k;let l=y+e-parseInt(g/16)*t.length;o.save(),o.transform(1,-1,0,1,0,0),o.fillStyle="rgba(220,210,200,.2)";for(let v=0;v<s+1200;v+=100)o.fillRect(g/100*78,l-400+v,g/100*22,50);function c(e,t,n,r,i,o){o={tl:o,tr:o,br:o,bl:o},e.beginPath(),e.moveTo(t+o.tl,n),e.lineTo(t+r-o.tr,n),e.quadraticCurveTo(t+r,n,t+r,n+o.tr),e.lineTo(t+r,n+i-o.br),e.quadraticCurveTo(t+r,n+i,t+r-o.br,n+i),e.lineTo(t+o.bl,n+i),e.quadraticCurveTo(t,n+i,t,n+i-o.bl),e.lineTo(t,n+o.tl),e.quadraticCurveTo(t,n,t+o.tl,n),e.closePath()}o.restore(),o.save(),o.font="10px sans-serif",o.textAlign="end",o.translate(g-8,l-1200),o.rotate(-90*Math.PI/180),o.fillStyle="rgb(0,7,14,.5)",o.textBaseline="hanging",o.fillText(a,0,-4),o.restore(),o.strokeStyle="DarkGray",o.lineWidth=.5,o.moveTo(.78*g,-10),o.lineTo(.78*g,y+10),o.closePath(),o.stroke(),o.beginPath(),o.lineWidth=4,o.strokeStyle="rgba(193,20,20,.3)",o.moveTo(g-12,-10),o.lineTo(g-12,y+10),o.closePath(),o.stroke(),o.beginPath(),o.lineWidth=4,o.strokeStyle="rgba(13,109,206,.3)",o.moveTo(g-4,-10),o.lineTo(g-4,y+10),o.closePath(),o.stroke(),o.strokeStyle="black",o.shadowBlur=50,o.shadowColor="black",o.lineWidth=12,c(o,-6,-2,r.offsetWidth,r.offsetHeight+12,20),o.stroke(),C(e,t),P(n)}},drawAlt:L,loop:M,updateSwitch:e=>{p.style.backgroundImage=e?"url(themes/920/img/sw2.png)":"url(themes/920/img/sw1.png)"}}},1080:()=>{var e,t,n=document.getElementById("background-canvas"),r=n.getContext("2d"),i=document.getElementById("crux"),o=document.getElementById("crux-canvas"),s=document.getElementById("timeSlider"),a=s.getContext("2d"),l=document.getElementById("alt1Div"),c=document.getElementById("alt1-canvas"),u=document.getElementById("alt2Div"),h=document.getElementById("alt2-canvas"),f=300,d=300,p=o.getContext("2d"),g=window.devicePixelRatio||1,y=document.getElementById("compteur");let v=!1;var m="Open Sans";i.style.border="3px solid black",i.style.borderRadius="15px 15px 15px 15px",i.style.boxShadow="inset -6px 6px 12px 10px black",l.style.backgroundColor="#202020",l.style.boxShadow="inset 0px 0px 10px 10px black",l.style.border="3px solid black",l.style.borderRadius="15px",u.style.backgroundColor="#202020",u.style.boxShadow="inset 0px 0px 10px 10px black",u.style.border="3px solid black",u.style.borderRadius="15px",y.style.position="absolute",y.style.width="100px",y.style.height="48px",y.style.color="#202020",y.style.fontSize="18px",y.style.fontFamily=m,y.style.zIndex="6",y.style.userSelect="none",y.style.filter="blur(.5px)",o.style.filter="blur(.5px)",s.style.filter="blur(.5px)",c.style.filter="blur(.5px)",h.style.filter="blur(.5px)";var w=new Image;w.src="themes/1080/img/1080-pan.png";var E=new Image;E.src="themes/commun/img/texture/papertexture.jpeg",[...y.childNodes].forEach((e=>{e.style.position="absolute",e.style.marginLeft="10%",e.style.width="80%",e.style.textAlign="end",e.style.marginTop="12%"}));const b=(t,n)=>(g=window.devicePixelRatio||1,e=t.getBoundingClientRect(),t.width=e.width*g,t.height=e.height*g,n.scale(g,g),n.clearRect(0,0,parseInt(e.width*g),parseInt(e.height*g)),n),_=(e,t,n,r,i,o)=>{e.beginPath(),e.moveTo(t+o,n),e.lineTo(t+r-o,n),e.quadraticCurveTo(t+r,n,t+r,n+o),e.lineTo(t+r,n+i-o),e.quadraticCurveTo(t+r,n+i,t+r-o,n+i),e.lineTo(t+o,n+i),e.quadraticCurveTo(t,n+i,t,n+i-o),e.lineTo(t,n+o),e.quadraticCurveTo(t,n,t+o,n),e.closePath()},A=e=>{s.style.width="50px",s.style.height=i.offsetHeight+50+"px",s.style.left=i.offsetLeft+i.offsetWidth+-55+"px",s.style.top=i.offsetTop+20+"px",(a=b(s,a)).beginPath(),a.strokeStyle="#E6FFF0",a.lineWidth=2,a.moveTo(25,30),a.lineTo(25,i.offsetHeight-20),a.moveTo(15,30),a.lineTo(35,30),a.moveTo(15,i.offsetHeight-20),a.lineTo(35,i.offsetHeight-20);let t=parseInt(i.offsetHeight-20-30),n=parseInt(t/10);for(let e=10;e<t;e+=n)a.moveTo(20,20+e),a.lineTo(30,20+e);a.closePath(),a.stroke();let r=i.offsetHeight*(e/100)-32.5;r<5&&(r=5),a.strokeRect(10,r,30,65),a.fillStyle="#E6FFF0",a.fillRect(20,r+10,10,40),a.strokeStyle="#202020",a.strokeRect(20,r+10,10,40),a.clearRect(0,d-20,50,500)};return{drawbg:()=>{let e=window.innerWidth,t=window.innerHeight;n.width=e,n.height=t,(r=b(n,r)).fillStyle="#000",r.fillRect(0,0,parseInt(2*n.width),parseInt(2*n.height)),i.style.width=.9*e+"px",i.style.height=.6*t+"px",i.style.left=e/2-i.offsetWidth/2+"px",l.style.width=.9*e/2-10+"px",l.style.maxWidth=i.offsetWidth/2-10+"px",l.style.left=e/2-(l.offsetWidth+10)+"px",l.style.height=.7*(i.offsetWidth/2-10)+"px",u.style.left=e/2+10+"px",u.style.width=.9*e/2-10+"px",u.style.maxWidth=i.offsetWidth/2-10+"px",u.style.height=.7*(i.offsetWidth/2-10)+"px",altSwitch.style.left=i.offsetLeft+.6*i.offsetWidth+"px",altSwitch.style.top=i.offsetTop+30+"px",altSwitch.style.width=.15*i.offsetWidth+"px",altSwitch.style.height="30px",altSwitch.style.zIndex=3,r.save();let o=0;for(let n=-20;n<e;n+=parseInt(e/8))o+=1,r.fillStyle=o>2&&o<8?"#101010":"#303030",r.fillRect(n,0,parseInt(e/8)-2,t/2.4-2),r.fillRect(n,t/2.4+5,parseInt(e/8)-2,t/2.4-2),r.fillRect(n,2*t/2.4+10,parseInt(e/8)-2,t/2.4-2),r.drawImage(w,n,0,parseInt(e/8),t/2.4),r.drawImage(w,n,t/2.4+5,parseInt(e/8),t/2.4),r.drawImage(w,n,2*t/2.4+10,parseInt(e/8),t/2.4),n+=5;r.save(),r.fillStyle="#e77f00",r.fillRect(-28,3,i.offsetLeft,t/16),r.fillRect(i.offsetLeft+i.offsetWidth+28,3,i.offsetLeft+24,t/16),r.fillRect(-28,l.offsetTop,i.offsetLeft,l.offsetHeight),r.fillRect(i.offsetLeft+i.offsetWidth+28,l.offsetTop,l.offsetLeft+4,l.offsetHeight);let s=new Path2D;s.rect(-28,3,i.offsetLeft,t/16),s.rect(i.offsetLeft+i.offsetWidth+28,3,i.offsetLeft+24,t/16),s.rect(-28,l.offsetTop,i.offsetLeft,l.offsetHeight),s.rect(i.offsetLeft+i.offsetWidth+28,l.offsetTop,l.offsetLeft+4,l.offsetHeight),r.clip(s,"evenodd"),r.restore(),r.globalCompositeOperation="multiply";for(let e=0;e<window.innerWidth;e+=280)r.drawImage(E,e,0),r.drawImage(E,e,l.offsetTop);r.restore(),r.save(),r.shadowBlur=25,r.shadowColor="black",r.strokeStyle="silver",r.lineWidth=6,r.strokeRect(-28,3,i.offsetLeft,t/16),r.strokeRect(i.offsetLeft+i.offsetWidth+28,3,i.offsetLeft+24,t/16),r.strokeRect(-28,l.offsetTop,i.offsetLeft,l.offsetHeight),r.strokeRect(i.offsetLeft+i.offsetWidth+28,l.offsetTop,l.offsetLeft+4,l.offsetHeight),r.stroke(),r.restore(),r.save(),r.globalCompositeOperation="destination-in",r.fill(),r.globalCompositeOperation="source-over",r.restore(),r.save(),r.fillStyle="#202020",r.lineWidth=15,r.strokeStyle="#ebead0",r.shadowBlur=25,r.shadowColor="black",_(r,i.offsetLeft-15,i.offsetTop-15,i.offsetWidth+30,l.offsetTop+l.offsetHeight+20,10),r.stroke(),r.fill(),r.shadowBlur=0,r.restore(),y.style.display="block",y.style.left=i.offsetLeft+20,y.style.top=i.offsetTop+70,r.save();var a=r.createRadialGradient(.7*e,90,e/5,.7*e,90,e);a.addColorStop(0,"rgba(255,255,255,.3)"),a.addColorStop(.4,"rgba(100,100,100,.1)"),r.fillStyle=a,r.fillRect(0,0,e,t),r.restore()},startCanvas:b,drawSlider:A,drawCrux:(e,n,r)=>{if(e=parseInt(e),t=parseInt(n.length-e/parseInt(f/16)),e>0&&t<=n.length){(p=b(o,p)).beginPath(),f=o.getBoundingClientRect().width,d=o.getBoundingClientRect().height,p.fillStyle="rgb(32,32,32)",p.fillRect(0,0,f,d);for(let t=1;t<n.length;t++)if(null!=n[t]){let r;t<10||t<100||t<1e3||t<1e4?r=t:console.log("error, line 9999 reached");let i=e+d+parseInt(f/16)*(t+1)-parseInt(f/16)*(n.length+1);switch(p.fillStyle="#E6FFF0",p.font=parseInt(f/30)+"px "+m,p.fillText(r,.85*f,i),n[t].type){case"past":p.save(),p.font=parseInt(f/30)+"px "+m,p.fillText(n[t].text.toUpperCase(),f/15+5,i),p.beginPath(),p.strokeStyle="#E6FFF0",p.lineWidth=1.5,p.moveTo(0,i+5),p.lineTo(f,i+5),p.stroke(),p.restore();break;case"alt":p.save(),p.font="bold "+parseInt(f/30)+"px "+m,p.fillStyle="#ff4b0d",p.beginPath(),p.moveTo(.01*f,i),p.lineTo(.035*f,i-f/30),p.lineTo(.06*f,i),p.fill(),p.restore(),p.fillText(n[t].text.toUpperCase(),f/15+5,i);break;case"img":p.save();var s=new Image;s.src=n[t].text,p.fillStyle="#ff4b0d",p.globalCompositeOperation="difference",p.fillRect(.78*f/4-10,i-10-.78*f/2,.78*f/2+20,.78*f/2+20),p.drawImage(s,.78*f/4,i-.78*f/2,.78*f/2,.78*f/2),p.filter="none",p.globalCompositeOperation="source-over",p.restore()}n[t].endBlock&&(p.closePath(),p.beginPath(),p.save(),p.strokeStyle="#E6FFF0",p.lineWidth=2,p.arc(f/25,i-f/50,f/50,0,2*Math.PI),p.stroke(),p.restore())}p.save(),p.beginPath(),p.fillStyle="#E6FFF0",p.fillRect(0,0,f,100),p.fillStyle="rgb(32,32,32)",p.font="bolder "+f/20+" px "+m,p.fillText("PEGAS 1080",10,40),_(p,-6,-6,f+12,d+12,5),p.strokeStyle="black",p.shadowBlur=25,p.shadowColor="black",p.lineWidth=12,p.stroke(),p.globalCompositeOperation="destination-in",p.fill(),p.globalCompositeOperation="source-over",p.closePath(),p.restore(),p.save(),p.fillStyle="#141414",p.fillRect(.6*i.offsetWidth,30,.15*i.offsetWidth,30),p.font="900 "+parseInt(i.offsetWidth/40)+"px "+m,p.textAlign="center",v?(p.fillStyle="#ff4b0d",p.strokeStyle="#ff4b0d"):(p.fillStyle="#E6FFF0",p.strokeStyle="#E6FFF0"),p.strokeRect(.6*i.offsetWidth+5,35,.15*i.offsetWidth-10,20),p.fillText("SWITCH",.6*i.offsetWidth+.075*i.offsetWidth,50),p.restore(),((e,n)=>{t=parseInt(n.length-e/parseInt(i.offsetWidth/16)),y.innerText="LIGNE: "+t})(e,n),A(r)}},drawAlt:(e,t,n,r)=>{e=b(t,e);let o=t.getBoundingClientRect().width,s=t.getBoundingClientRect().height;if(e.save(),e.fillStyle="black",e.strokeStyle="black",e.shadowBlur=15,e.shadowColor="black",e.lineWidth=2,e.stroke(),e.restore(),n&&n.length>0&&n[0].hasOwnProperty("text")&&n[0].text.length>1){switch(Math.floor(Math.random()*Math.floor(2))){case 0:e.save(),e.strokeStyle="#E6FFF0",e.lineWidth=2,e.strokeRect(c.offsetWidth-40,20,20,20),e.stroke(),e.restore();break;case 1:e.save(),e.fillStyle="#ff4b0d",e.arc(c.offsetWidth-20,25,10,0,2*Math.PI),e.fill(),e.restore()}e.fillStyle="#E6FFF0",e.font="200 "+parseInt(i.offsetWidth/50)+"px "+m,e.fillText("00"+r,c.offsetWidth-40,34),e.font="200 "+parseInt(i.offsetWidth/30)+"px "+m;for(let t=0;t<n.length&&t<5;t++)null!=n[t]&&e.fillText(n[t].text.toUpperCase(),35,s/2-parseInt(o/8)*((n.length+1)/2)+parseInt(o/8)*(t+1))}},updateSwitch:e=>v=e}}},Or=window.localStorage;var kr,Nr={user:"",games:{}},Cr=0,Pr={numChoices:0,cards:{},id:""};const Lr=new Worker(new URL(n.p+n.u(322),n.b));Lr.onmessage=e=>Kr(e.data);const Mr=(e,t)=>Lr.postMessage({pile:e,game:t}),Br=e=>{e.length>0&&(Or.getItem(e+"-localGames")?Nr=JSON.parse(Or.getItem(e+"-localGames")):(Nr.user=e,Ur()))},Ur=()=>Or.setItem(Tr+"-localGames",JSON.stringify(Nr));var Dr;const jr=(e,t)=>{var n="";return e.content.forEach((e=>{e.alts.forEach((e=>{e.code===t&&(n=e.text)}))})),n},Kr=e=>{Dr={};const t=e.token,n=e.game,r=e.pile;t.content.forEach((e=>Dr[e.code]=e)),kr=Ir[t.theme]();const i=[];if(n.hasOwnProperty("cards")){Pr=n,Nr.games[Pr.id]=Pr;var s=[];for(const e in n.cards)s.push(Dr[n.cards[e].code]);s.sort(((e,t)=>e.order-t.order)),s.forEach((e=>i.push(e)))}else Pr.id=n.id,Nr.games[Pr.id]=Pr,Pr.story=r,Pr.cards[t.content[0].code]={code:t.content[0].code,order:Cr},Ur(),i.push(t.content[0]);let a=u.length;for(let e=0;e<i.length;e++){if(i[e].hasOwnProperty("img")&&i[e].img.length>0&&o(i[e].img,1,u,"img"),o(i[e].incipit,1,u,"past"),u[u.length-1].endBlock=!0,i[e].end&&(u[u.length-1].end=!0),e<i.length-1&&i.length>1){let n=jr(t,i[e+1].code);o(n,1,u,"alt")}i[e].hasOwnProperty("dependencyPath")&&i[e].dependencyPath.length>0&&i[e].dependencyPath.forEach((e=>{0===h.length?h.push(e):h.forEach((t=>{t.key===e.key?(t.value=parseInt(e.value)+t.value,t.value<5&&(t.value=5),t.value>95&&(t.value=95)):h.push(e)}))}))}if(d(i[i.length-1]),c.hasOwnProperty("alts")&&c.alts.length>0)for(let e=0;e<c.alts.length;e++)o(c.alts[e].text,2,e+1,"alt");let l=u.length;l>10&&(a=l-12);crux.offsetWidth},qr=e=>{c.alts.forEach((t=>{t.altNum===e&&(Cr++,(e=>{if(d(e),e.hasOwnProperty("dependencyPath")&&e.dependencyPath.length>0&&e.dependencyPath.forEach((e=>{0===h.length?h.push(e):h.forEach((t=>{e.key===t.key?(t.value=parseInt(t.value)+e.value,t.value<5&&(t.value=5),t.value>95&&(t.value=95)):h.push(e)}))})),e.hasOwnProperty("computeOperation")&&e.computeOperation.hasOwnProperty("key")){let t=parseInt(100*Math.random()),n=h.findIndex((t=>t===e.computeOperation.key)),r=h[n];qr(t<r?1:2)}else{let t=u.length;if(e.hasOwnProperty("alts")&&e.alts.length>2?(altSwitch.style.cursor="pointer",altSwitch.addEventListener("click",s)):(altSwitch.style.cursor="not-allowed",altSwitch.removeEventListener("click",s)),e.hasOwnProperty("img")&&e.img.length>1&&o(e.img,1,u,"img"),o(e.incipit,1,u,"past"),e.hasOwnProperty("alts")&&e.alts.length>0)for(let t=0;t<e.alts.length;t++)o(e.alts[t].text,2,t+1,"alt");else o("",2,1,"alt");u[u.length-1].endBlock=!0,e.end&&(u[u.length-1].end=!0);let n=(u.length-t+1)*(crux.offsetWidth/16);Fl(Ml+n),a(u.length)}})(Dr[t.code]),Pr.cards[t.code]={code:t.code,order:Cr},Pr.numChoices=Object.keys(Pr.cards).length,Ur())}))},Fr={KT10:{author:{name:"INTERFACE",wallet:"NA"},title:"Tutorial",url:"./tutoriel.json",openAccess:!0,contract:"KT1",token_id:0,id:"KT10"}},Hr=document.getElementById("menuList"),Wr=()=>{Hr.innerHTML="";for(const e in Fr){const t=document.createElement("div");t.innerHTML=Fr[e].title,t.className="menuItem",t.addEventListener("click",(()=>{f();const t={id:Fr[e].author.wallet+JSON.stringify(Date.now()),startDate:Date.now()};Mr(Fr[e],t),uc()})),Hr.append(t)}};function Gr(e,t){if("function"!=typeof e[Symbol.iterator])throw new TypeError("values is not iterable");if("function"!=typeof t)throw new TypeError("mapper is not a function");return Array.from(e,((n,r)=>t(n,r,e)))}function Vr(e,t){return null==e||null==t?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function zr(e,t){return(null==e||!(e>=e))-(null==t||!(t>=t))||(e<t?-1:e>t?1:0)}function Qr(){}function Xr(e){return null==e?Qr:function(){return this.querySelector(e)}}function Yr(){return[]}function Jr(e){return null==e?Yr:function(){return this.querySelectorAll(e)}}function Zr(e){return function(){return this.matches(e)}}function $r(e){return function(t){return t.matches(e)}}var ei=Array.prototype.find;function ti(){return this.firstElementChild}var ni=Array.prototype.filter;function ri(){return Array.from(this.children)}function ii(e){return new Array(e.length)}function oi(e,t){this.ownerDocument=e.ownerDocument,this.namespaceURI=e.namespaceURI,this._next=null,this._parent=e,this.__data__=t}function si(e,t,n,r,i,o){for(var s,a=0,l=t.length,c=o.length;a<c;++a)(s=t[a])?(s.__data__=o[a],r[a]=s):n[a]=new oi(e,o[a]);for(;a<l;++a)(s=t[a])&&(i[a]=s)}function ai(e,t,n,r,i,o,s){var a,l,c,u=new Map,h=t.length,f=o.length,d=new Array(h);for(a=0;a<h;++a)(l=t[a])&&(d[a]=c=s.call(l,l.__data__,a,t)+"",u.has(c)?i[a]=l:u.set(c,l));for(a=0;a<f;++a)c=s.call(e,o[a],a,o)+"",(l=u.get(c))?(r[a]=l,l.__data__=o[a],u.delete(c)):n[a]=new oi(e,o[a]);for(a=0;a<h;++a)(l=t[a])&&u.get(d[a])===l&&(i[a]=l)}function li(e){return e.__data__}function ci(e){return"object"==typeof e&&"length"in e?e:Array.from(e)}function ui(e,t){return e<t?-1:e>t?1:e>=t?0:NaN}oi.prototype={constructor:oi,appendChild:function(e){return this._parent.insertBefore(e,this._next)},insertBefore:function(e,t){return this._parent.insertBefore(e,t)},querySelector:function(e){return this._parent.querySelector(e)},querySelectorAll:function(e){return this._parent.querySelectorAll(e)}};var hi="http://www.w3.org/1999/xhtml";const fi={svg:"http://www.w3.org/2000/svg",xhtml:hi,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function di(e){var t=e+="",n=t.indexOf(":");return n>=0&&"xmlns"!==(t=e.slice(0,n))&&(e=e.slice(n+1)),fi.hasOwnProperty(t)?{space:fi[t],local:e}:e}function pi(e){return function(){this.removeAttribute(e)}}function gi(e){return function(){this.removeAttributeNS(e.space,e.local)}}function yi(e,t){return function(){this.setAttribute(e,t)}}function vi(e,t){return function(){this.setAttributeNS(e.space,e.local,t)}}function mi(e,t){return function(){var n=t.apply(this,arguments);null==n?this.removeAttribute(e):this.setAttribute(e,n)}}function wi(e,t){return function(){var n=t.apply(this,arguments);null==n?this.removeAttributeNS(e.space,e.local):this.setAttributeNS(e.space,e.local,n)}}function Ei(e){return e.ownerDocument&&e.ownerDocument.defaultView||e.document&&e||e.defaultView}function bi(e){return function(){this.style.removeProperty(e)}}function _i(e,t,n){return function(){this.style.setProperty(e,t,n)}}function Ai(e,t,n){return function(){var r=t.apply(this,arguments);null==r?this.style.removeProperty(e):this.style.setProperty(e,r,n)}}function Si(e,t){return e.style.getPropertyValue(t)||Ei(e).getComputedStyle(e,null).getPropertyValue(t)}function Ti(e){return function(){delete this[e]}}function Ri(e,t){return function(){this[e]=t}}function xi(e,t){return function(){var n=t.apply(this,arguments);null==n?delete this[e]:this[e]=n}}function Ii(e){return e.trim().split(/^|\s+/)}function Oi(e){return e.classList||new ki(e)}function ki(e){this._node=e,this._names=Ii(e.getAttribute("class")||"")}function Ni(e,t){for(var n=Oi(e),r=-1,i=t.length;++r<i;)n.add(t[r])}function Ci(e,t){for(var n=Oi(e),r=-1,i=t.length;++r<i;)n.remove(t[r])}function Pi(e){return function(){Ni(this,e)}}function Li(e){return function(){Ci(this,e)}}function Mi(e,t){return function(){(t.apply(this,arguments)?Ni:Ci)(this,e)}}function Bi(){this.textContent=""}function Ui(e){return function(){this.textContent=e}}function Di(e){return function(){var t=e.apply(this,arguments);this.textContent=null==t?"":t}}function ji(){this.innerHTML=""}function Ki(e){return function(){this.innerHTML=e}}function qi(e){return function(){var t=e.apply(this,arguments);this.innerHTML=null==t?"":t}}function Fi(){this.nextSibling&&this.parentNode.appendChild(this)}function Hi(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function Wi(e){return function(){var t=this.ownerDocument,n=this.namespaceURI;return n===hi&&t.documentElement.namespaceURI===hi?t.createElement(e):t.createElementNS(n,e)}}function Gi(e){return function(){return this.ownerDocument.createElementNS(e.space,e.local)}}function Vi(e){var t=di(e);return(t.local?Gi:Wi)(t)}function zi(){return null}function Qi(){var e=this.parentNode;e&&e.removeChild(this)}function Xi(){var e=this.cloneNode(!1),t=this.parentNode;return t?t.insertBefore(e,this.nextSibling):e}function Yi(){var e=this.cloneNode(!0),t=this.parentNode;return t?t.insertBefore(e,this.nextSibling):e}function Ji(e){return function(){var t=this.__on;if(t){for(var n,r=0,i=-1,o=t.length;r<o;++r)n=t[r],e.type&&n.type!==e.type||n.name!==e.name?t[++i]=n:this.removeEventListener(n.type,n.listener,n.options);++i?t.length=i:delete this.__on}}}function Zi(e,t,n){return function(){var r,i=this.__on,o=function(e){return function(t){e.call(this,t,this.__data__)}}(t);if(i)for(var s=0,a=i.length;s<a;++s)if((r=i[s]).type===e.type&&r.name===e.name)return this.removeEventListener(r.type,r.listener,r.options),this.addEventListener(r.type,r.listener=o,r.options=n),void(r.value=t);this.addEventListener(e.type,o,n),r={type:e.type,name:e.name,value:t,listener:o,options:n},i?i.push(r):this.__on=[r]}}function $i(e,t,n){var r=Ei(e),i=r.CustomEvent;"function"==typeof i?i=new i(t,n):(i=r.document.createEvent("Event"),n?(i.initEvent(t,n.bubbles,n.cancelable),i.detail=n.detail):i.initEvent(t,!1,!1)),e.dispatchEvent(i)}function eo(e,t){return function(){return $i(this,e,t)}}function to(e,t){return function(){return $i(this,e,t.apply(this,arguments))}}ki.prototype={add:function(e){this._names.indexOf(e)<0&&(this._names.push(e),this._node.setAttribute("class",this._names.join(" ")))},remove:function(e){var t=this._names.indexOf(e);t>=0&&(this._names.splice(t,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(e){return this._names.indexOf(e)>=0}};var no=[null];function ro(e,t){this._groups=e,this._parents=t}function io(){return new ro([[document.documentElement]],no)}ro.prototype=io.prototype={constructor:ro,select:function(e){"function"!=typeof e&&(e=Xr(e));for(var t=this._groups,n=t.length,r=new Array(n),i=0;i<n;++i)for(var o,s,a=t[i],l=a.length,c=r[i]=new Array(l),u=0;u<l;++u)(o=a[u])&&(s=e.call(o,o.__data__,u,a))&&("__data__"in o&&(s.__data__=o.__data__),c[u]=s);return new ro(r,this._parents)},selectAll:function(e){e="function"==typeof e?function(e){return function(){return null==(t=e.apply(this,arguments))?[]:Array.isArray(t)?t:Array.from(t);var t}}(e):Jr(e);for(var t=this._groups,n=t.length,r=[],i=[],o=0;o<n;++o)for(var s,a=t[o],l=a.length,c=0;c<l;++c)(s=a[c])&&(r.push(e.call(s,s.__data__,c,a)),i.push(s));return new ro(r,i)},selectChild:function(e){return this.select(null==e?ti:function(e){return function(){return ei.call(this.children,e)}}("function"==typeof e?e:$r(e)))},selectChildren:function(e){return this.selectAll(null==e?ri:function(e){return function(){return ni.call(this.children,e)}}("function"==typeof e?e:$r(e)))},filter:function(e){"function"!=typeof e&&(e=Zr(e));for(var t=this._groups,n=t.length,r=new Array(n),i=0;i<n;++i)for(var o,s=t[i],a=s.length,l=r[i]=[],c=0;c<a;++c)(o=s[c])&&e.call(o,o.__data__,c,s)&&l.push(o);return new ro(r,this._parents)},data:function(e,t){if(!arguments.length)return Array.from(this,li);var n,r=t?ai:si,i=this._parents,o=this._groups;"function"!=typeof e&&(n=e,e=function(){return n});for(var s=o.length,a=new Array(s),l=new Array(s),c=new Array(s),u=0;u<s;++u){var h=i[u],f=o[u],d=f.length,p=ci(e.call(h,h&&h.__data__,u,i)),g=p.length,y=l[u]=new Array(g),v=a[u]=new Array(g);r(h,f,y,v,c[u]=new Array(d),p,t);for(var m,w,E=0,b=0;E<g;++E)if(m=y[E]){for(E>=b&&(b=E+1);!(w=v[b])&&++b<g;);m._next=w||null}}return(a=new ro(a,i))._enter=l,a._exit=c,a},enter:function(){return new ro(this._enter||this._groups.map(ii),this._parents)},exit:function(){return new ro(this._exit||this._groups.map(ii),this._parents)},join:function(e,t,n){var r=this.enter(),i=this,o=this.exit();return"function"==typeof e?(r=e(r))&&(r=r.selection()):r=r.append(e+""),null!=t&&(i=t(i))&&(i=i.selection()),null==n?o.remove():n(o),r&&i?r.merge(i).order():i},merge:function(e){for(var t=e.selection?e.selection():e,n=this._groups,r=t._groups,i=n.length,o=r.length,s=Math.min(i,o),a=new Array(i),l=0;l<s;++l)for(var c,u=n[l],h=r[l],f=u.length,d=a[l]=new Array(f),p=0;p<f;++p)(c=u[p]||h[p])&&(d[p]=c);for(;l<i;++l)a[l]=n[l];return new ro(a,this._parents)},selection:function(){return this},order:function(){for(var e=this._groups,t=-1,n=e.length;++t<n;)for(var r,i=e[t],o=i.length-1,s=i[o];--o>=0;)(r=i[o])&&(s&&4^r.compareDocumentPosition(s)&&s.parentNode.insertBefore(r,s),s=r);return this},sort:function(e){function t(t,n){return t&&n?e(t.__data__,n.__data__):!t-!n}e||(e=ui);for(var n=this._groups,r=n.length,i=new Array(r),o=0;o<r;++o){for(var s,a=n[o],l=a.length,c=i[o]=new Array(l),u=0;u<l;++u)(s=a[u])&&(c[u]=s);c.sort(t)}return new ro(i,this._parents).order()},call:function(){var e=arguments[0];return arguments[0]=this,e.apply(null,arguments),this},nodes:function(){return Array.from(this)},node:function(){for(var e=this._groups,t=0,n=e.length;t<n;++t)for(var r=e[t],i=0,o=r.length;i<o;++i){var s=r[i];if(s)return s}return null},size:function(){let e=0;for(const t of this)++e;return e},empty:function(){return!this.node()},each:function(e){for(var t=this._groups,n=0,r=t.length;n<r;++n)for(var i,o=t[n],s=0,a=o.length;s<a;++s)(i=o[s])&&e.call(i,i.__data__,s,o);return this},attr:function(e,t){var n=di(e);if(arguments.length<2){var r=this.node();return n.local?r.getAttributeNS(n.space,n.local):r.getAttribute(n)}return this.each((null==t?n.local?gi:pi:"function"==typeof t?n.local?wi:mi:n.local?vi:yi)(n,t))},style:function(e,t,n){return arguments.length>1?this.each((null==t?bi:"function"==typeof t?Ai:_i)(e,t,null==n?"":n)):Si(this.node(),e)},property:function(e,t){return arguments.length>1?this.each((null==t?Ti:"function"==typeof t?xi:Ri)(e,t)):this.node()[e]},classed:function(e,t){var n=Ii(e+"");if(arguments.length<2){for(var r=Oi(this.node()),i=-1,o=n.length;++i<o;)if(!r.contains(n[i]))return!1;return!0}return this.each(("function"==typeof t?Mi:t?Pi:Li)(n,t))},text:function(e){return arguments.length?this.each(null==e?Bi:("function"==typeof e?Di:Ui)(e)):this.node().textContent},html:function(e){return arguments.length?this.each(null==e?ji:("function"==typeof e?qi:Ki)(e)):this.node().innerHTML},raise:function(){return this.each(Fi)},lower:function(){return this.each(Hi)},append:function(e){var t="function"==typeof e?e:Vi(e);return this.select((function(){return this.appendChild(t.apply(this,arguments))}))},insert:function(e,t){var n="function"==typeof e?e:Vi(e),r=null==t?zi:"function"==typeof t?t:Xr(t);return this.select((function(){return this.insertBefore(n.apply(this,arguments),r.apply(this,arguments)||null)}))},remove:function(){return this.each(Qi)},clone:function(e){return this.select(e?Yi:Xi)},datum:function(e){return arguments.length?this.property("__data__",e):this.node().__data__},on:function(e,t,n){var r,i,o=function(e){return e.trim().split(/^|\s+/).map((function(e){var t="",n=e.indexOf(".");return n>=0&&(t=e.slice(n+1),e=e.slice(0,n)),{type:e,name:t}}))}(e+""),s=o.length;if(!(arguments.length<2)){for(a=t?Zi:Ji,r=0;r<s;++r)this.each(a(o[r],t,n));return this}var a=this.node().__on;if(a)for(var l,c=0,u=a.length;c<u;++c)for(r=0,l=a[c];r<s;++r)if((i=o[r]).type===l.type&&i.name===l.name)return l.value},dispatch:function(e,t){return this.each(("function"==typeof t?to:eo)(e,t))},[Symbol.iterator]:function*(){for(var e=this._groups,t=0,n=e.length;t<n;++t)for(var r,i=e[t],o=0,s=i.length;o<s;++o)(r=i[o])&&(yield r)}};const oo=io;var so={value:()=>{}};function ao(){for(var e,t=0,n=arguments.length,r={};t<n;++t){if(!(e=arguments[t]+"")||e in r||/[\s.]/.test(e))throw new Error("illegal type: "+e);r[e]=[]}return new lo(r)}function lo(e){this._=e}function co(e,t){for(var n,r=0,i=e.length;r<i;++r)if((n=e[r]).name===t)return n.value}function uo(e,t,n){for(var r=0,i=e.length;r<i;++r)if(e[r].name===t){e[r]=so,e=e.slice(0,r).concat(e.slice(r+1));break}return null!=n&&e.push({name:t,value:n}),e}lo.prototype=ao.prototype={constructor:lo,on:function(e,t){var n,r,i=this._,o=(r=i,(e+"").trim().split(/^|\s+/).map((function(e){var t="",n=e.indexOf(".");if(n>=0&&(t=e.slice(n+1),e=e.slice(0,n)),e&&!r.hasOwnProperty(e))throw new Error("unknown type: "+e);return{type:e,name:t}}))),s=-1,a=o.length;if(!(arguments.length<2)){if(null!=t&&"function"!=typeof t)throw new Error("invalid callback: "+t);for(;++s<a;)if(n=(e=o[s]).type)i[n]=uo(i[n],e.name,t);else if(null==t)for(n in i)i[n]=uo(i[n],e.name,null);return this}for(;++s<a;)if((n=(e=o[s]).type)&&(n=co(i[n],e.name)))return n},copy:function(){var e={},t=this._;for(var n in t)e[n]=t[n].slice();return new lo(e)},call:function(e,t){if((n=arguments.length-2)>0)for(var n,r,i=new Array(n),o=0;o<n;++o)i[o]=arguments[o+2];if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(o=0,n=(r=this._[e]).length;o<n;++o)r[o].value.apply(t,i)},apply:function(e,t,n){if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(var r=this._[e],i=0,o=r.length;i<o;++i)r[i].value.apply(t,n)}};const ho=ao;var fo,po,go=0,yo=0,vo=0,mo=1e3,wo=0,Eo=0,bo=0,_o="object"==typeof performance&&performance.now?performance:Date,Ao="object"==typeof window&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(e){setTimeout(e,17)};function So(){return Eo||(Ao(To),Eo=_o.now()+bo)}function To(){Eo=0}function Ro(){this._call=this._time=this._next=null}function xo(e,t,n){var r=new Ro;return r.restart(e,t,n),r}function Io(){Eo=(wo=_o.now())+bo,go=yo=0;try{!function(){So(),++go;for(var e,t=fo;t;)(e=Eo-t._time)>=0&&t._call.call(void 0,e),t=t._next;--go}()}finally{go=0,function(){for(var e,t,n=fo,r=1/0;n;)n._call?(r>n._time&&(r=n._time),e=n,n=n._next):(t=n._next,n._next=null,n=e?e._next=t:fo=t);po=e,ko(r)}(),Eo=0}}function Oo(){var e=_o.now(),t=e-wo;t>mo&&(bo-=t,wo=e)}function ko(e){go||(yo&&(yo=clearTimeout(yo)),e-Eo>24?(e<1/0&&(yo=setTimeout(Io,e-_o.now()-bo)),vo&&(vo=clearInterval(vo))):(vo||(wo=_o.now(),vo=setInterval(Oo,mo)),go=1,Ao(Io)))}function No(e,t,n){var r=new Ro;return t=null==t?0:+t,r.restart((n=>{r.stop(),e(n+t)}),t,n),r}Ro.prototype=xo.prototype={constructor:Ro,restart:function(e,t,n){if("function"!=typeof e)throw new TypeError("callback is not a function");n=(null==n?So():+n)+(null==t?0:+t),this._next||po===this||(po?po._next=this:fo=this,po=this),this._call=e,this._time=n,ko()},stop:function(){this._call&&(this._call=null,this._time=1/0,ko())}};var Co=ho("start","end","cancel","interrupt"),Po=[],Lo=0,Mo=1,Bo=2,Uo=3,Do=4,jo=5,Ko=6;function qo(e,t,n,r,i,o){var s=e.__transition;if(s){if(n in s)return}else e.__transition={};!function(e,t,n){var r,i=e.__transition;function o(l){var c,u,h,f;if(n.state!==Mo)return a();for(c in i)if((f=i[c]).name===n.name){if(f.state===Uo)return No(o);f.state===Do?(f.state=Ko,f.timer.stop(),f.on.call("interrupt",e,e.__data__,f.index,f.group),delete i[c]):+c<t&&(f.state=Ko,f.timer.stop(),f.on.call("cancel",e,e.__data__,f.index,f.group),delete i[c])}if(No((function(){n.state===Uo&&(n.state=Do,n.timer.restart(s,n.delay,n.time),s(l))})),n.state=Bo,n.on.call("start",e,e.__data__,n.index,n.group),n.state===Bo){for(n.state=Uo,r=new Array(h=n.tween.length),c=0,u=-1;c<h;++c)(f=n.tween[c].value.call(e,e.__data__,n.index,n.group))&&(r[++u]=f);r.length=u+1}}function s(t){for(var i=t<n.duration?n.ease.call(null,t/n.duration):(n.timer.restart(a),n.state=jo,1),o=-1,s=r.length;++o<s;)r[o].call(e,i);n.state===jo&&(n.on.call("end",e,e.__data__,n.index,n.group),a())}function a(){for(var r in n.state=Ko,n.timer.stop(),delete i[t],i)return;delete e.__transition}i[t]=n,n.timer=xo((function(e){n.state=Mo,n.timer.restart(o,n.delay,n.time),n.delay<=e&&o(e-n.delay)}),0,n.time)}(e,n,{name:t,index:r,group:i,on:Co,tween:Po,time:o.time,delay:o.delay,duration:o.duration,ease:o.ease,timer:null,state:Lo})}function Fo(e,t){var n=Wo(e,t);if(n.state>Lo)throw new Error("too late; already scheduled");return n}function Ho(e,t){var n=Wo(e,t);if(n.state>Uo)throw new Error("too late; already running");return n}function Wo(e,t){var n=e.__transition;if(!n||!(n=n[t]))throw new Error("transition not found");return n}function Go(e,t){var n,r,i,o=e.__transition,s=!0;if(o){for(i in t=null==t?null:t+"",o)(n=o[i]).name===t?(r=n.state>Bo&&n.state<jo,n.state=Ko,n.timer.stop(),n.on.call(r?"interrupt":"cancel",e,e.__data__,n.index,n.group),delete o[i]):s=!1;s&&delete e.__transition}}function Vo(e,t){return e=+e,t=+t,function(n){return e*(1-n)+t*n}}var zo,Qo=180/Math.PI,Xo={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1};function Yo(e,t,n,r,i,o){var s,a,l;return(s=Math.sqrt(e*e+t*t))&&(e/=s,t/=s),(l=e*n+t*r)&&(n-=e*l,r-=t*l),(a=Math.sqrt(n*n+r*r))&&(n/=a,r/=a,l/=a),e*r<t*n&&(e=-e,t=-t,l=-l,s=-s),{translateX:i,translateY:o,rotate:Math.atan2(t,e)*Qo,skewX:Math.atan(l)*Qo,scaleX:s,scaleY:a}}function Jo(e,t,n,r){function i(e){return e.length?e.pop()+" ":""}return function(o,s){var a=[],l=[];return o=e(o),s=e(s),function(e,r,i,o,s,a){if(e!==i||r!==o){var l=s.push("translate(",null,t,null,n);a.push({i:l-4,x:Vo(e,i)},{i:l-2,x:Vo(r,o)})}else(i||o)&&s.push("translate("+i+t+o+n)}(o.translateX,o.translateY,s.translateX,s.translateY,a,l),function(e,t,n,o){e!==t?(e-t>180?t+=360:t-e>180&&(e+=360),o.push({i:n.push(i(n)+"rotate(",null,r)-2,x:Vo(e,t)})):t&&n.push(i(n)+"rotate("+t+r)}(o.rotate,s.rotate,a,l),function(e,t,n,o){e!==t?o.push({i:n.push(i(n)+"skewX(",null,r)-2,x:Vo(e,t)}):t&&n.push(i(n)+"skewX("+t+r)}(o.skewX,s.skewX,a,l),function(e,t,n,r,o,s){if(e!==n||t!==r){var a=o.push(i(o)+"scale(",null,",",null,")");s.push({i:a-4,x:Vo(e,n)},{i:a-2,x:Vo(t,r)})}else 1===n&&1===r||o.push(i(o)+"scale("+n+","+r+")")}(o.scaleX,o.scaleY,s.scaleX,s.scaleY,a,l),o=s=null,function(e){for(var t,n=-1,r=l.length;++n<r;)a[(t=l[n]).i]=t.x(e);return a.join("")}}}var Zo=Jo((function(e){const t=new("function"==typeof DOMMatrix?DOMMatrix:WebKitCSSMatrix)(e+"");return t.isIdentity?Xo:Yo(t.a,t.b,t.c,t.d,t.e,t.f)}),"px, ","px)","deg)"),$o=Jo((function(e){return null==e?Xo:(zo||(zo=document.createElementNS("http://www.w3.org/2000/svg","g")),zo.setAttribute("transform",e),(e=zo.transform.baseVal.consolidate())?Yo((e=e.matrix).a,e.b,e.c,e.d,e.e,e.f):Xo)}),", ",")",")");function es(e,t){var n,r;return function(){var i=Ho(this,e),o=i.tween;if(o!==n)for(var s=0,a=(r=n=o).length;s<a;++s)if(r[s].name===t){(r=r.slice()).splice(s,1);break}i.tween=r}}function ts(e,t,n){var r,i;if("function"!=typeof n)throw new Error;return function(){var o=Ho(this,e),s=o.tween;if(s!==r){i=(r=s).slice();for(var a={name:t,value:n},l=0,c=i.length;l<c;++l)if(i[l].name===t){i[l]=a;break}l===c&&i.push(a)}o.tween=i}}function ns(e,t,n){var r=e._id;return e.each((function(){var e=Ho(this,r);(e.value||(e.value={}))[t]=n.apply(this,arguments)})),function(e){return Wo(e,r).value[t]}}function rs(e,t,n){e.prototype=t.prototype=n,n.constructor=e}function is(e,t){var n=Object.create(e.prototype);for(var r in t)n[r]=t[r];return n}function os(){}var ss=.7,as=1/ss,ls="\\s*([+-]?\\d+)\\s*",cs="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",us="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",hs=/^#([0-9a-f]{3,8})$/,fs=new RegExp(`^rgb\\(${ls},${ls},${ls}\\)$`),ds=new RegExp(`^rgb\\(${us},${us},${us}\\)$`),ps=new RegExp(`^rgba\\(${ls},${ls},${ls},${cs}\\)$`),gs=new RegExp(`^rgba\\(${us},${us},${us},${cs}\\)$`),ys=new RegExp(`^hsl\\(${cs},${us},${us}\\)$`),vs=new RegExp(`^hsla\\(${cs},${us},${us},${cs}\\)$`),ms={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};function ws(){return this.rgb().formatHex()}function Es(){return this.rgb().formatRgb()}function bs(e){var t,n;return e=(e+"").trim().toLowerCase(),(t=hs.exec(e))?(n=t[1].length,t=parseInt(t[1],16),6===n?_s(t):3===n?new Ts(t>>8&15|t>>4&240,t>>4&15|240&t,(15&t)<<4|15&t,1):8===n?As(t>>24&255,t>>16&255,t>>8&255,(255&t)/255):4===n?As(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|240&t,((15&t)<<4|15&t)/255):null):(t=fs.exec(e))?new Ts(t[1],t[2],t[3],1):(t=ds.exec(e))?new Ts(255*t[1]/100,255*t[2]/100,255*t[3]/100,1):(t=ps.exec(e))?As(t[1],t[2],t[3],t[4]):(t=gs.exec(e))?As(255*t[1]/100,255*t[2]/100,255*t[3]/100,t[4]):(t=ys.exec(e))?Ns(t[1],t[2]/100,t[3]/100,1):(t=vs.exec(e))?Ns(t[1],t[2]/100,t[3]/100,t[4]):ms.hasOwnProperty(e)?_s(ms[e]):"transparent"===e?new Ts(NaN,NaN,NaN,0):null}function _s(e){return new Ts(e>>16&255,e>>8&255,255&e,1)}function As(e,t,n,r){return r<=0&&(e=t=n=NaN),new Ts(e,t,n,r)}function Ss(e,t,n,r){return 1===arguments.length?((i=e)instanceof os||(i=bs(i)),i?new Ts((i=i.rgb()).r,i.g,i.b,i.opacity):new Ts):new Ts(e,t,n,null==r?1:r);var i}function Ts(e,t,n,r){this.r=+e,this.g=+t,this.b=+n,this.opacity=+r}function Rs(){return`#${ks(this.r)}${ks(this.g)}${ks(this.b)}`}function xs(){const e=Is(this.opacity);return`${1===e?"rgb(":"rgba("}${Os(this.r)}, ${Os(this.g)}, ${Os(this.b)}${1===e?")":`, ${e})`}`}function Is(e){return isNaN(e)?1:Math.max(0,Math.min(1,e))}function Os(e){return Math.max(0,Math.min(255,Math.round(e)||0))}function ks(e){return((e=Os(e))<16?"0":"")+e.toString(16)}function Ns(e,t,n,r){return r<=0?e=t=n=NaN:n<=0||n>=1?e=t=NaN:t<=0&&(e=NaN),new Ps(e,t,n,r)}function Cs(e){if(e instanceof Ps)return new Ps(e.h,e.s,e.l,e.opacity);if(e instanceof os||(e=bs(e)),!e)return new Ps;if(e instanceof Ps)return e;var t=(e=e.rgb()).r/255,n=e.g/255,r=e.b/255,i=Math.min(t,n,r),o=Math.max(t,n,r),s=NaN,a=o-i,l=(o+i)/2;return a?(s=t===o?(n-r)/a+6*(n<r):n===o?(r-t)/a+2:(t-n)/a+4,a/=l<.5?o+i:2-o-i,s*=60):a=l>0&&l<1?0:s,new Ps(s,a,l,e.opacity)}function Ps(e,t,n,r){this.h=+e,this.s=+t,this.l=+n,this.opacity=+r}function Ls(e){return(e=(e||0)%360)<0?e+360:e}function Ms(e){return Math.max(0,Math.min(1,e||0))}function Bs(e,t,n){return 255*(e<60?t+(n-t)*e/60:e<180?n:e<240?t+(n-t)*(240-e)/60:t)}function Us(e,t,n,r,i){var o=e*e,s=o*e;return((1-3*e+3*o-s)*t+(4-6*o+3*s)*n+(1+3*e+3*o-3*s)*r+s*i)/6}rs(os,bs,{copy(e){return Object.assign(new this.constructor,this,e)},displayable(){return this.rgb().displayable()},hex:ws,formatHex:ws,formatHex8:function(){return this.rgb().formatHex8()},formatHsl:function(){return Cs(this).formatHsl()},formatRgb:Es,toString:Es}),rs(Ts,Ss,is(os,{brighter(e){return e=null==e?as:Math.pow(as,e),new Ts(this.r*e,this.g*e,this.b*e,this.opacity)},darker(e){return e=null==e?ss:Math.pow(ss,e),new Ts(this.r*e,this.g*e,this.b*e,this.opacity)},rgb(){return this},clamp(){return new Ts(Os(this.r),Os(this.g),Os(this.b),Is(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:Rs,formatHex:Rs,formatHex8:function(){return`#${ks(this.r)}${ks(this.g)}${ks(this.b)}${ks(255*(isNaN(this.opacity)?1:this.opacity))}`},formatRgb:xs,toString:xs})),rs(Ps,(function(e,t,n,r){return 1===arguments.length?Cs(e):new Ps(e,t,n,null==r?1:r)}),is(os,{brighter(e){return e=null==e?as:Math.pow(as,e),new Ps(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=null==e?ss:Math.pow(ss,e),new Ps(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=this.h%360+360*(this.h<0),t=isNaN(e)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*t,i=2*n-r;return new Ts(Bs(e>=240?e-240:e+120,i,r),Bs(e,i,r),Bs(e<120?e+240:e-120,i,r),this.opacity)},clamp(){return new Ps(Ls(this.h),Ms(this.s),Ms(this.l),Is(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const e=Is(this.opacity);return`${1===e?"hsl(":"hsla("}${Ls(this.h)}, ${100*Ms(this.s)}%, ${100*Ms(this.l)}%${1===e?")":`, ${e})`}`}}));const Ds=e=>()=>e;function js(e,t){var n=t-e;return n?function(e,t){return function(n){return e+n*t}}(e,n):Ds(isNaN(e)?t:e)}const Ks=function e(t){var n=function(e){return 1==(e=+e)?js:function(t,n){return n-t?function(e,t,n){return e=Math.pow(e,n),t=Math.pow(t,n)-e,n=1/n,function(r){return Math.pow(e+r*t,n)}}(t,n,e):Ds(isNaN(t)?n:t)}}(t);function r(e,t){var r=n((e=Ss(e)).r,(t=Ss(t)).r),i=n(e.g,t.g),o=n(e.b,t.b),s=js(e.opacity,t.opacity);return function(t){return e.r=r(t),e.g=i(t),e.b=o(t),e.opacity=s(t),e+""}}return r.gamma=e,r}(1);function qs(e){return function(t){var n,r,i=t.length,o=new Array(i),s=new Array(i),a=new Array(i);for(n=0;n<i;++n)r=Ss(t[n]),o[n]=r.r||0,s[n]=r.g||0,a[n]=r.b||0;return o=e(o),s=e(s),a=e(a),r.opacity=1,function(e){return r.r=o(e),r.g=s(e),r.b=a(e),r+""}}}qs((function(e){var t=e.length-1;return function(n){var r=n<=0?n=0:n>=1?(n=1,t-1):Math.floor(n*t),i=e[r],o=e[r+1],s=r>0?e[r-1]:2*i-o,a=r<t-1?e[r+2]:2*o-i;return Us((n-r/t)*t,s,i,o,a)}})),qs((function(e){var t=e.length;return function(n){var r=Math.floor(((n%=1)<0?++n:n)*t),i=e[(r+t-1)%t],o=e[r%t],s=e[(r+1)%t],a=e[(r+2)%t];return Us((n-r/t)*t,i,o,s,a)}}));var Fs=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,Hs=new RegExp(Fs.source,"g");function Ws(e,t){var n,r,i,o=Fs.lastIndex=Hs.lastIndex=0,s=-1,a=[],l=[];for(e+="",t+="";(n=Fs.exec(e))&&(r=Hs.exec(t));)(i=r.index)>o&&(i=t.slice(o,i),a[s]?a[s]+=i:a[++s]=i),(n=n[0])===(r=r[0])?a[s]?a[s]+=r:a[++s]=r:(a[++s]=null,l.push({i:s,x:Vo(n,r)})),o=Hs.lastIndex;return o<t.length&&(i=t.slice(o),a[s]?a[s]+=i:a[++s]=i),a.length<2?l[0]?function(e){return function(t){return e(t)+""}}(l[0].x):function(e){return function(){return e}}(t):(t=l.length,function(e){for(var n,r=0;r<t;++r)a[(n=l[r]).i]=n.x(e);return a.join("")})}function Gs(e,t){var n;return("number"==typeof t?Vo:t instanceof bs?Ks:(n=bs(t))?(t=n,Ks):Ws)(e,t)}function Vs(e){return function(){this.removeAttribute(e)}}function zs(e){return function(){this.removeAttributeNS(e.space,e.local)}}function Qs(e,t,n){var r,i,o=n+"";return function(){var s=this.getAttribute(e);return s===o?null:s===r?i:i=t(r=s,n)}}function Xs(e,t,n){var r,i,o=n+"";return function(){var s=this.getAttributeNS(e.space,e.local);return s===o?null:s===r?i:i=t(r=s,n)}}function Ys(e,t,n){var r,i,o;return function(){var s,a,l=n(this);if(null!=l)return(s=this.getAttribute(e))===(a=l+"")?null:s===r&&a===i?o:(i=a,o=t(r=s,l));this.removeAttribute(e)}}function Js(e,t,n){var r,i,o;return function(){var s,a,l=n(this);if(null!=l)return(s=this.getAttributeNS(e.space,e.local))===(a=l+"")?null:s===r&&a===i?o:(i=a,o=t(r=s,l));this.removeAttributeNS(e.space,e.local)}}function Zs(e,t){var n,r;function i(){var i=t.apply(this,arguments);return i!==r&&(n=(r=i)&&function(e,t){return function(n){this.setAttributeNS(e.space,e.local,t.call(this,n))}}(e,i)),n}return i._value=t,i}function $s(e,t){var n,r;function i(){var i=t.apply(this,arguments);return i!==r&&(n=(r=i)&&function(e,t){return function(n){this.setAttribute(e,t.call(this,n))}}(e,i)),n}return i._value=t,i}function ea(e,t){return function(){Fo(this,e).delay=+t.apply(this,arguments)}}function ta(e,t){return t=+t,function(){Fo(this,e).delay=t}}function na(e,t){return function(){Ho(this,e).duration=+t.apply(this,arguments)}}function ra(e,t){return t=+t,function(){Ho(this,e).duration=t}}var ia=oo.prototype.constructor;function oa(e){return function(){this.style.removeProperty(e)}}var sa=0;function aa(e,t,n,r){this._groups=e,this._parents=t,this._name=n,this._id=r}function la(){return++sa}var ca=oo.prototype;aa.prototype=function(e){return oo().transition(e)}.prototype={constructor:aa,select:function(e){var t=this._name,n=this._id;"function"!=typeof e&&(e=Xr(e));for(var r=this._groups,i=r.length,o=new Array(i),s=0;s<i;++s)for(var a,l,c=r[s],u=c.length,h=o[s]=new Array(u),f=0;f<u;++f)(a=c[f])&&(l=e.call(a,a.__data__,f,c))&&("__data__"in a&&(l.__data__=a.__data__),h[f]=l,qo(h[f],t,n,f,h,Wo(a,n)));return new aa(o,this._parents,t,n)},selectAll:function(e){var t=this._name,n=this._id;"function"!=typeof e&&(e=Jr(e));for(var r=this._groups,i=r.length,o=[],s=[],a=0;a<i;++a)for(var l,c=r[a],u=c.length,h=0;h<u;++h)if(l=c[h]){for(var f,d=e.call(l,l.__data__,h,c),p=Wo(l,n),g=0,y=d.length;g<y;++g)(f=d[g])&&qo(f,t,n,g,d,p);o.push(d),s.push(l)}return new aa(o,s,t,n)},selectChild:ca.selectChild,selectChildren:ca.selectChildren,filter:function(e){"function"!=typeof e&&(e=Zr(e));for(var t=this._groups,n=t.length,r=new Array(n),i=0;i<n;++i)for(var o,s=t[i],a=s.length,l=r[i]=[],c=0;c<a;++c)(o=s[c])&&e.call(o,o.__data__,c,s)&&l.push(o);return new aa(r,this._parents,this._name,this._id)},merge:function(e){if(e._id!==this._id)throw new Error;for(var t=this._groups,n=e._groups,r=t.length,i=n.length,o=Math.min(r,i),s=new Array(r),a=0;a<o;++a)for(var l,c=t[a],u=n[a],h=c.length,f=s[a]=new Array(h),d=0;d<h;++d)(l=c[d]||u[d])&&(f[d]=l);for(;a<r;++a)s[a]=t[a];return new aa(s,this._parents,this._name,this._id)},selection:function(){return new ia(this._groups,this._parents)},transition:function(){for(var e=this._name,t=this._id,n=la(),r=this._groups,i=r.length,o=0;o<i;++o)for(var s,a=r[o],l=a.length,c=0;c<l;++c)if(s=a[c]){var u=Wo(s,t);qo(s,e,n,c,a,{time:u.time+u.delay+u.duration,delay:0,duration:u.duration,ease:u.ease})}return new aa(r,this._parents,e,n)},call:ca.call,nodes:ca.nodes,node:ca.node,size:ca.size,empty:ca.empty,each:ca.each,on:function(e,t){var n=this._id;return arguments.length<2?Wo(this.node(),n).on.on(e):this.each(function(e,t,n){var r,i,o=function(e){return(e+"").trim().split(/^|\s+/).every((function(e){var t=e.indexOf(".");return t>=0&&(e=e.slice(0,t)),!e||"start"===e}))}(t)?Fo:Ho;return function(){var s=o(this,e),a=s.on;a!==r&&(i=(r=a).copy()).on(t,n),s.on=i}}(n,e,t))},attr:function(e,t){var n=di(e),r="transform"===n?$o:Gs;return this.attrTween(e,"function"==typeof t?(n.local?Js:Ys)(n,r,ns(this,"attr."+e,t)):null==t?(n.local?zs:Vs)(n):(n.local?Xs:Qs)(n,r,t))},attrTween:function(e,t){var n="attr."+e;if(arguments.length<2)return(n=this.tween(n))&&n._value;if(null==t)return this.tween(n,null);if("function"!=typeof t)throw new Error;var r=di(e);return this.tween(n,(r.local?Zs:$s)(r,t))},style:function(e,t,n){var r="transform"==(e+="")?Zo:Gs;return null==t?this.styleTween(e,function(e,t){var n,r,i;return function(){var o=Si(this,e),s=(this.style.removeProperty(e),Si(this,e));return o===s?null:o===n&&s===r?i:i=t(n=o,r=s)}}(e,r)).on("end.style."+e,oa(e)):"function"==typeof t?this.styleTween(e,function(e,t,n){var r,i,o;return function(){var s=Si(this,e),a=n(this),l=a+"";return null==a&&(this.style.removeProperty(e),l=a=Si(this,e)),s===l?null:s===r&&l===i?o:(i=l,o=t(r=s,a))}}(e,r,ns(this,"style."+e,t))).each(function(e,t){var n,r,i,o,s="style."+t,a="end."+s;return function(){var l=Ho(this,e),c=l.on,u=null==l.value[s]?o||(o=oa(t)):void 0;c===n&&i===u||(r=(n=c).copy()).on(a,i=u),l.on=r}}(this._id,e)):this.styleTween(e,function(e,t,n){var r,i,o=n+"";return function(){var s=Si(this,e);return s===o?null:s===r?i:i=t(r=s,n)}}(e,r,t),n).on("end.style."+e,null)},styleTween:function(e,t,n){var r="style."+(e+="");if(arguments.length<2)return(r=this.tween(r))&&r._value;if(null==t)return this.tween(r,null);if("function"!=typeof t)throw new Error;return this.tween(r,function(e,t,n){var r,i;function o(){var o=t.apply(this,arguments);return o!==i&&(r=(i=o)&&function(e,t,n){return function(r){this.style.setProperty(e,t.call(this,r),n)}}(e,o,n)),r}return o._value=t,o}(e,t,null==n?"":n))},text:function(e){return this.tween("text","function"==typeof e?function(e){return function(){var t=e(this);this.textContent=null==t?"":t}}(ns(this,"text",e)):function(e){return function(){this.textContent=e}}(null==e?"":e+""))},textTween:function(e){var t="text";if(arguments.length<1)return(t=this.tween(t))&&t._value;if(null==e)return this.tween(t,null);if("function"!=typeof e)throw new Error;return this.tween(t,function(e){var t,n;function r(){var r=e.apply(this,arguments);return r!==n&&(t=(n=r)&&function(e){return function(t){this.textContent=e.call(this,t)}}(r)),t}return r._value=e,r}(e))},remove:function(){return this.on("end.remove",function(e){return function(){var t=this.parentNode;for(var n in this.__transition)if(+n!==e)return;t&&t.removeChild(this)}}(this._id))},tween:function(e,t){var n=this._id;if(e+="",arguments.length<2){for(var r,i=Wo(this.node(),n).tween,o=0,s=i.length;o<s;++o)if((r=i[o]).name===e)return r.value;return null}return this.each((null==t?es:ts)(n,e,t))},delay:function(e){var t=this._id;return arguments.length?this.each(("function"==typeof e?ea:ta)(t,e)):Wo(this.node(),t).delay},duration:function(e){var t=this._id;return arguments.length?this.each(("function"==typeof e?na:ra)(t,e)):Wo(this.node(),t).duration},ease:function(e){var t=this._id;return arguments.length?this.each(function(e,t){if("function"!=typeof t)throw new Error;return function(){Ho(this,e).ease=t}}(t,e)):Wo(this.node(),t).ease},easeVarying:function(e){if("function"!=typeof e)throw new Error;return this.each(function(e,t){return function(){var n=t.apply(this,arguments);if("function"!=typeof n)throw new Error;Ho(this,e).ease=n}}(this._id,e))},end:function(){var e,t,n=this,r=n._id,i=n.size();return new Promise((function(o,s){var a={value:s},l={value:function(){0==--i&&o()}};n.each((function(){var n=Ho(this,r),i=n.on;i!==e&&((t=(e=i).copy())._.cancel.push(a),t._.interrupt.push(a),t._.end.push(l)),n.on=t})),0===i&&o()}))},[Symbol.iterator]:ca[Symbol.iterator]};var ua={time:null,delay:0,duration:250,ease:function(e){return((e*=2)<=1?e*e*e:(e-=2)*e*e+2)/2}};function ha(e,t){for(var n;!(n=e.__transition)||!(n=n[t]);)if(!(e=e.parentNode))throw new Error(`transition ${t} not found`);return n}oo.prototype.interrupt=function(e){return this.each((function(){Go(this,e)}))},oo.prototype.transition=function(e){var t,n;e instanceof aa?(t=e._id,e=e._name):(t=la(),(n=ua).time=So(),e=null==e?null:e+"");for(var r=this._groups,i=r.length,o=0;o<i;++o)for(var s,a=r[o],l=a.length,c=0;c<l;++c)(s=a[c])&&qo(s,e,t,c,a,n||ha(s,t));return new aa(r,this._parents,e,t)};const{abs:fa,max:da,min:pa}=Math;function ga(e){return{type:e}}function ya(e){return"string"==typeof e?new ro([[document.querySelector(e)]],[document.documentElement]):new ro([[e]],no)}function va(e,t){if(e=function(e){let t;for(;t=e.sourceEvent;)e=t;return e}(e),void 0===t&&(t=e.currentTarget),t){var n=t.ownerSVGElement||t;if(n.createSVGPoint){var r=n.createSVGPoint();return r.x=e.clientX,r.y=e.clientY,[(r=r.matrixTransform(t.getScreenCTM().inverse())).x,r.y]}if(t.getBoundingClientRect){var i=t.getBoundingClientRect();return[e.clientX-i.left-t.clientLeft,e.clientY-i.top-t.clientTop]}}return[e.pageX,e.pageY]}["w","e"].map(ga),["n","s"].map(ga),["n","w","e","s","nw","ne","sw","se"].map(ga);const ma={passive:!1},wa={capture:!0,passive:!1};function Ea(e){e.stopImmediatePropagation()}function ba(e){e.preventDefault(),e.stopImmediatePropagation()}function _a(e){var t=e.document.documentElement,n=ya(e).on("dragstart.drag",ba,wa);"onselectstart"in t?n.on("selectstart.drag",ba,wa):(t.__noselect=t.style.MozUserSelect,t.style.MozUserSelect="none")}function Aa(e,t){var n=e.document.documentElement,r=ya(e).on("dragstart.drag",null);t&&(r.on("click.drag",ba,wa),setTimeout((function(){r.on("click.drag",null)}),0)),"onselectstart"in n?r.on("selectstart.drag",null):(n.style.MozUserSelect=n.__noselect,delete n.__noselect)}const Sa=e=>()=>e;function Ta(e,{sourceEvent:t,subject:n,target:r,identifier:i,active:o,x:s,y:a,dx:l,dy:c,dispatch:u}){Object.defineProperties(this,{type:{value:e,enumerable:!0,configurable:!0},sourceEvent:{value:t,enumerable:!0,configurable:!0},subject:{value:n,enumerable:!0,configurable:!0},target:{value:r,enumerable:!0,configurable:!0},identifier:{value:i,enumerable:!0,configurable:!0},active:{value:o,enumerable:!0,configurable:!0},x:{value:s,enumerable:!0,configurable:!0},y:{value:a,enumerable:!0,configurable:!0},dx:{value:l,enumerable:!0,configurable:!0},dy:{value:c,enumerable:!0,configurable:!0},_:{value:u}})}function Ra(e){return!e.ctrlKey&&!e.button}function xa(){return this.parentNode}function Ia(e,t){return null==t?{x:e.x,y:e.y}:t}function Oa(){return navigator.maxTouchPoints||"ontouchstart"in this}function ka(e){return function(){return e}}function Na(e){return 1e-6*(e()-.5)}function Ca(e){return e.index}function Pa(e,t){var n=e.get(t);if(!n)throw new Error("node not found: "+t);return n}function La(e,t,n,r){if(isNaN(t)||isNaN(n))return e;var i,o,s,a,l,c,u,h,f,d=e._root,p={data:r},g=e._x0,y=e._y0,v=e._x1,m=e._y1;if(!d)return e._root=p,e;for(;d.length;)if((c=t>=(o=(g+v)/2))?g=o:v=o,(u=n>=(s=(y+m)/2))?y=s:m=s,i=d,!(d=d[h=u<<1|c]))return i[h]=p,e;if(a=+e._x.call(null,d.data),l=+e._y.call(null,d.data),t===a&&n===l)return p.next=d,i?i[h]=p:e._root=p,e;do{i=i?i[h]=new Array(4):e._root=new Array(4),(c=t>=(o=(g+v)/2))?g=o:v=o,(u=n>=(s=(y+m)/2))?y=s:m=s}while((h=u<<1|c)==(f=(l>=s)<<1|a>=o));return i[f]=d,i[h]=p,e}function Ma(e,t,n,r,i){this.node=e,this.x0=t,this.y0=n,this.x1=r,this.y1=i}function Ba(e){return e[0]}function Ua(e){return e[1]}function Da(e,t,n){var r=new ja(null==t?Ba:t,null==n?Ua:n,NaN,NaN,NaN,NaN);return null==e?r:r.addAll(e)}function ja(e,t,n,r,i,o){this._x=e,this._y=t,this._x0=n,this._y0=r,this._x1=i,this._y1=o,this._root=void 0}function Ka(e){for(var t={data:e.data},n=t;e=e.next;)n=n.next={data:e.data};return t}Ta.prototype.on=function(){var e=this._.on.apply(this._,arguments);return e===this._?this:e};var qa=Da.prototype=ja.prototype;qa.copy=function(){var e,t,n=new ja(this._x,this._y,this._x0,this._y0,this._x1,this._y1),r=this._root;if(!r)return n;if(!r.length)return n._root=Ka(r),n;for(e=[{source:r,target:n._root=new Array(4)}];r=e.pop();)for(var i=0;i<4;++i)(t=r.source[i])&&(t.length?e.push({source:t,target:r.target[i]=new Array(4)}):r.target[i]=Ka(t));return n},qa.add=function(e){const t=+this._x.call(null,e),n=+this._y.call(null,e);return La(this.cover(t,n),t,n,e)},qa.addAll=function(e){var t,n,r,i,o=e.length,s=new Array(o),a=new Array(o),l=1/0,c=1/0,u=-1/0,h=-1/0;for(n=0;n<o;++n)isNaN(r=+this._x.call(null,t=e[n]))||isNaN(i=+this._y.call(null,t))||(s[n]=r,a[n]=i,r<l&&(l=r),r>u&&(u=r),i<c&&(c=i),i>h&&(h=i));if(l>u||c>h)return this;for(this.cover(l,c).cover(u,h),n=0;n<o;++n)La(this,s[n],a[n],e[n]);return this},qa.cover=function(e,t){if(isNaN(e=+e)||isNaN(t=+t))return this;var n=this._x0,r=this._y0,i=this._x1,o=this._y1;if(isNaN(n))i=(n=Math.floor(e))+1,o=(r=Math.floor(t))+1;else{for(var s,a,l=i-n||1,c=this._root;n>e||e>=i||r>t||t>=o;)switch(a=(t<r)<<1|e<n,(s=new Array(4))[a]=c,c=s,l*=2,a){case 0:i=n+l,o=r+l;break;case 1:n=i-l,o=r+l;break;case 2:i=n+l,r=o-l;break;case 3:n=i-l,r=o-l}this._root&&this._root.length&&(this._root=c)}return this._x0=n,this._y0=r,this._x1=i,this._y1=o,this},qa.data=function(){var e=[];return this.visit((function(t){if(!t.length)do{e.push(t.data)}while(t=t.next)})),e},qa.extent=function(e){return arguments.length?this.cover(+e[0][0],+e[0][1]).cover(+e[1][0],+e[1][1]):isNaN(this._x0)?void 0:[[this._x0,this._y0],[this._x1,this._y1]]},qa.find=function(e,t,n){var r,i,o,s,a,l,c,u=this._x0,h=this._y0,f=this._x1,d=this._y1,p=[],g=this._root;for(g&&p.push(new Ma(g,u,h,f,d)),null==n?n=1/0:(u=e-n,h=t-n,f=e+n,d=t+n,n*=n);l=p.pop();)if(!(!(g=l.node)||(i=l.x0)>f||(o=l.y0)>d||(s=l.x1)<u||(a=l.y1)<h))if(g.length){var y=(i+s)/2,v=(o+a)/2;p.push(new Ma(g[3],y,v,s,a),new Ma(g[2],i,v,y,a),new Ma(g[1],y,o,s,v),new Ma(g[0],i,o,y,v)),(c=(t>=v)<<1|e>=y)&&(l=p[p.length-1],p[p.length-1]=p[p.length-1-c],p[p.length-1-c]=l)}else{var m=e-+this._x.call(null,g.data),w=t-+this._y.call(null,g.data),E=m*m+w*w;if(E<n){var b=Math.sqrt(n=E);u=e-b,h=t-b,f=e+b,d=t+b,r=g.data}}return r},qa.remove=function(e){if(isNaN(o=+this._x.call(null,e))||isNaN(s=+this._y.call(null,e)))return this;var t,n,r,i,o,s,a,l,c,u,h,f,d=this._root,p=this._x0,g=this._y0,y=this._x1,v=this._y1;if(!d)return this;if(d.length)for(;;){if((c=o>=(a=(p+y)/2))?p=a:y=a,(u=s>=(l=(g+v)/2))?g=l:v=l,t=d,!(d=d[h=u<<1|c]))return this;if(!d.length)break;(t[h+1&3]||t[h+2&3]||t[h+3&3])&&(n=t,f=h)}for(;d.data!==e;)if(r=d,!(d=d.next))return this;return(i=d.next)&&delete d.next,r?(i?r.next=i:delete r.next,this):t?(i?t[h]=i:delete t[h],(d=t[0]||t[1]||t[2]||t[3])&&d===(t[3]||t[2]||t[1]||t[0])&&!d.length&&(n?n[f]=d:this._root=d),this):(this._root=i,this)},qa.removeAll=function(e){for(var t=0,n=e.length;t<n;++t)this.remove(e[t]);return this},qa.root=function(){return this._root},qa.size=function(){var e=0;return this.visit((function(t){if(!t.length)do{++e}while(t=t.next)})),e},qa.visit=function(e){var t,n,r,i,o,s,a=[],l=this._root;for(l&&a.push(new Ma(l,this._x0,this._y0,this._x1,this._y1));t=a.pop();)if(!e(l=t.node,r=t.x0,i=t.y0,o=t.x1,s=t.y1)&&l.length){var c=(r+o)/2,u=(i+s)/2;(n=l[3])&&a.push(new Ma(n,c,u,o,s)),(n=l[2])&&a.push(new Ma(n,r,u,c,s)),(n=l[1])&&a.push(new Ma(n,c,i,o,u)),(n=l[0])&&a.push(new Ma(n,r,i,c,u))}return this},qa.visitAfter=function(e){var t,n=[],r=[];for(this._root&&n.push(new Ma(this._root,this._x0,this._y0,this._x1,this._y1));t=n.pop();){var i=t.node;if(i.length){var o,s=t.x0,a=t.y0,l=t.x1,c=t.y1,u=(s+l)/2,h=(a+c)/2;(o=i[0])&&n.push(new Ma(o,s,a,u,h)),(o=i[1])&&n.push(new Ma(o,u,a,l,h)),(o=i[2])&&n.push(new Ma(o,s,h,u,c)),(o=i[3])&&n.push(new Ma(o,u,h,l,c))}r.push(t)}for(;t=r.pop();)e(t.node,t.x0,t.y0,t.x1,t.y1);return this},qa.x=function(e){return arguments.length?(this._x=e,this):this._x},qa.y=function(e){return arguments.length?(this._y=e,this):this._y};const Fa=1664525,Ha=1013904223,Wa=4294967296;function Ga(e){return e.x}function Va(e){return e.y}var za=10,Qa=Math.PI*(3-Math.sqrt(5));class Xa extends Map{constructor(e,t=el){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:t}}),null!=e)for(const[t,n]of e)this.set(t,n)}get(e){return super.get(Ja(this,e))}has(e){return super.has(Ja(this,e))}set(e,t){return super.set(Za(this,e),t)}delete(e){return super.delete($a(this,e))}}class Ya extends Set{constructor(e,t=el){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:t}}),null!=e)for(const t of e)this.add(t)}has(e){return super.has(Ja(this,e))}add(e){return super.add(Za(this,e))}delete(e){return super.delete($a(this,e))}}function Ja({_intern:e,_key:t},n){const r=t(n);return e.has(r)?e.get(r):n}function Za({_intern:e,_key:t},n){const r=t(n);return e.has(r)?e.get(r):(e.set(r,n),n)}function $a({_intern:e,_key:t},n){const r=t(n);return e.has(r)&&(n=e.get(r),e.delete(r)),n}function el(e){return null!==e&&"object"==typeof e?e.valueOf():e}function tl(e,t){switch(arguments.length){case 0:break;case 1:this.range(e);break;default:this.range(t).domain(e)}return this}const nl=Symbol("implicit");function rl(){var e=new Xa,t=[],n=[],r=nl;function i(i){let o=e.get(i);if(void 0===o){if(r!==nl)return r;e.set(i,o=t.push(i)-1)}return n[o%n.length]}return i.domain=function(n){if(!arguments.length)return t.slice();t=[],e=new Xa;for(const r of n)e.has(r)||e.set(r,t.push(r)-1);return i},i.range=function(e){return arguments.length?(n=Array.from(e),i):n.slice()},i.unknown=function(e){return arguments.length?(r=e,i):r},i.copy=function(){return rl(t,n).unknown(r)},tl.apply(i,arguments),i}function il(e){return((e=Math.exp(e))+1/e)/2}const ol=function e(t,n,r){function i(e,i){var o,s,a=e[0],l=e[1],c=e[2],u=i[0],h=i[1],f=i[2],d=u-a,p=h-l,g=d*d+p*p;if(g<1e-12)s=Math.log(f/c)/t,o=function(e){return[a+e*d,l+e*p,c*Math.exp(t*e*s)]};else{var y=Math.sqrt(g),v=(f*f-c*c+r*g)/(2*c*n*y),m=(f*f-c*c-r*g)/(2*f*n*y),w=Math.log(Math.sqrt(v*v+1)-v),E=Math.log(Math.sqrt(m*m+1)-m);s=(E-w)/t,o=function(e){var r,i=e*s,o=il(w),u=c/(n*y)*(o*(r=t*i+w,((r=Math.exp(2*r))-1)/(r+1))-function(e){return((e=Math.exp(e))-1/e)/2}(w));return[a+u*d,l+u*p,c*o/il(t*i+w)]}}return o.duration=1e3*s*t/Math.SQRT2,o}return i.rho=function(t){var n=Math.max(.001,+t),r=n*n;return e(n,r,r*r)},i}(Math.SQRT2,2,4),sl=e=>()=>e;function al(e,{sourceEvent:t,target:n,transform:r,dispatch:i}){Object.defineProperties(this,{type:{value:e,enumerable:!0,configurable:!0},sourceEvent:{value:t,enumerable:!0,configurable:!0},target:{value:n,enumerable:!0,configurable:!0},transform:{value:r,enumerable:!0,configurable:!0},_:{value:i}})}function ll(e,t,n){this.k=e,this.x=t,this.y=n}ll.prototype={constructor:ll,scale:function(e){return 1===e?this:new ll(this.k*e,this.x,this.y)},translate:function(e,t){return 0===e&0===t?this:new ll(this.k,this.x+this.k*e,this.y+this.k*t)},apply:function(e){return[e[0]*this.k+this.x,e[1]*this.k+this.y]},applyX:function(e){return e*this.k+this.x},applyY:function(e){return e*this.k+this.y},invert:function(e){return[(e[0]-this.x)/this.k,(e[1]-this.y)/this.k]},invertX:function(e){return(e-this.x)/this.k},invertY:function(e){return(e-this.y)/this.k},rescaleX:function(e){return e.copy().domain(e.range().map(this.invertX,this).map(e.invert,e))},rescaleY:function(e){return e.copy().domain(e.range().map(this.invertY,this).map(e.invert,e))},toString:function(){return"translate("+this.x+","+this.y+") scale("+this.k+")"}};var cl=new ll(1,0,0);function ul(e){for(;!e.__zoom;)if(!(e=e.parentNode))return cl;return e.__zoom}function hl(e){e.stopImmediatePropagation()}function fl(e){e.preventDefault(),e.stopImmediatePropagation()}function dl(e){return!(e.ctrlKey&&"wheel"!==e.type||e.button)}function pl(){var e=this;return e instanceof SVGElement?(e=e.ownerSVGElement||e).hasAttribute("viewBox")?[[(e=e.viewBox.baseVal).x,e.y],[e.x+e.width,e.y+e.height]]:[[0,0],[e.width.baseVal.value,e.height.baseVal.value]]:[[0,0],[e.clientWidth,e.clientHeight]]}function gl(){return this.__zoom||cl}function yl(e){return-e.deltaY*(1===e.deltaMode?.05:e.deltaMode?1:.002)*(e.ctrlKey?10:1)}function vl(){return navigator.maxTouchPoints||"ontouchstart"in this}function ml(e,t,n){var r=e.invertX(t[0][0])-n[0][0],i=e.invertX(t[1][0])-n[1][0],o=e.invertY(t[0][1])-n[0][1],s=e.invertY(t[1][1])-n[1][1];return e.translate(i>r?(r+i)/2:Math.min(0,r)||Math.max(0,i),s>o?(o+s)/2:Math.min(0,o)||Math.max(0,s))}ul.prototype=ll.prototype;const wl=window.innerWidth,El=window.innerHeight;function bl({nodes:e,links:t},{nodeId:n=(e=>e.id),nodeGroup:r,nodeGroups:i,nodeTitle:o,nodeFill:s="currentColor",nodeStroke:a="#fff",nodeStrokeWidth:l=1.5,nodeStrokeOpacity:c=1,nodeRadius:u=5,nodeStrength:h,linkSource:f=(({source:e})=>e),linkTarget:d=(({target:e})=>e),linkStroke:p="#999",linkStrokeOpacity:g=.6,linkStrokeWidth:y=1.5,linkStrokeLinecap:v="round",linkStrength:m,colors:w=["blue"],width:E=640,height:b=400}={}){const _=Gr(e,n).map(D),A=Gr(t,f).map(D),S=Gr(t,d).map(D);void 0===o&&(o=(e,t)=>_[t]);const T=null==o?null:Gr(e,o),R=null==r?null:Gr(e,r).map(D),x="function"!=typeof y?null:Gr(t,y),I="function"!=typeof p?null:Gr(t,p);e=Gr(e,((e,t)=>({id:_[t]}))),t=Gr(t,((e,t)=>({source:A[t],target:S[t]}))),R&&void 0===i&&(i=function(e,...t){if("function"!=typeof e[Symbol.iterator])throw new TypeError("values is not iterable");e=Array.from(e);let[n]=t;if(n&&2!==n.length||t.length>1){const r=Uint32Array.from(e,((e,t)=>t));return t.length>1?(t=t.map((t=>e.map(t))),r.sort(((e,n)=>{for(const r of t){const t=zr(r[e],r[n]);if(t)return t}}))):(n=e.map(n),r.sort(((e,t)=>zr(n[e],n[t])))),function(e,t){return Array.from(t,(t=>e[t]))}(e,r)}return e.sort(function(e=Vr){if(e===Vr)return zr;if("function"!=typeof e)throw new TypeError("compare is not a function");return(t,n)=>{const r=e(t,n);return r||0===r?r:(0===e(n,n))-(0===e(t,t))}}(n))}(R));const O=null==r?null:rl(i,w),k=function(){var e,t,n,r,i,o=ka(-30),s=1,a=1/0,l=.81;function c(n){var i,o=e.length,s=Da(e,Ga,Va).visitAfter(h);for(r=n,i=0;i<o;++i)t=e[i],s.visit(f)}function u(){if(e){var t,n,r=e.length;for(i=new Array(r),t=0;t<r;++t)n=e[t],i[n.index]=+o(n,t,e)}}function h(e){var t,n,r,o,s,a=0,l=0;if(e.length){for(r=o=s=0;s<4;++s)(t=e[s])&&(n=Math.abs(t.value))&&(a+=t.value,l+=n,r+=n*t.x,o+=n*t.y);e.x=r/l,e.y=o/l}else{(t=e).x=t.data.x,t.y=t.data.y;do{a+=i[t.data.index]}while(t=t.next)}e.value=a}function f(e,o,c,u){if(!e.value)return!0;var h=e.x-t.x,f=e.y-t.y,d=u-o,p=h*h+f*f;if(d*d/l<p)return p<a&&(0===h&&(p+=(h=Na(n))*h),0===f&&(p+=(f=Na(n))*f),p<s&&(p=Math.sqrt(s*p)),t.vx+=h*e.value*r/p,t.vy+=f*e.value*r/p),!0;if(!(e.length||p>=a)){(e.data!==t||e.next)&&(0===h&&(p+=(h=Na(n))*h),0===f&&(p+=(f=Na(n))*f),p<s&&(p=Math.sqrt(s*p)));do{e.data!==t&&(d=i[e.data.index]*r/p,t.vx+=h*d,t.vy+=f*d)}while(e=e.next)}}return c.initialize=function(t,r){e=t,n=r,u()},c.strength=function(e){return arguments.length?(o="function"==typeof e?e:ka(+e),u(),c):o},c.distanceMin=function(e){return arguments.length?(s=e*e,c):Math.sqrt(s)},c.distanceMax=function(e){return arguments.length?(a=e*e,c):Math.sqrt(a)},c.theta=function(e){return arguments.length?(l=e*e,c):Math.sqrt(l)},c}(),N=function(e){var t,n,r,i,o,s,a=Ca,l=function(e){return 1/Math.min(i[e.source.index],i[e.target.index])},c=ka(30),u=1;function h(r){for(var i=0,a=e.length;i<u;++i)for(var l,c,h,f,d,p,g,y=0;y<a;++y)c=(l=e[y]).source,f=(h=l.target).x+h.vx-c.x-c.vx||Na(s),d=h.y+h.vy-c.y-c.vy||Na(s),f*=p=((p=Math.sqrt(f*f+d*d))-n[y])/p*r*t[y],d*=p,h.vx-=f*(g=o[y]),h.vy-=d*g,c.vx+=f*(g=1-g),c.vy+=d*g}function f(){if(r){var s,l,c=r.length,u=e.length,h=new Map(r.map(((e,t)=>[a(e,t,r),e])));for(s=0,i=new Array(c);s<u;++s)(l=e[s]).index=s,"object"!=typeof l.source&&(l.source=Pa(h,l.source)),"object"!=typeof l.target&&(l.target=Pa(h,l.target)),i[l.source.index]=(i[l.source.index]||0)+1,i[l.target.index]=(i[l.target.index]||0)+1;for(s=0,o=new Array(u);s<u;++s)l=e[s],o[s]=i[l.source.index]/(i[l.source.index]+i[l.target.index]);t=new Array(u),d(),n=new Array(u),p()}}function d(){if(r)for(var n=0,i=e.length;n<i;++n)t[n]=+l(e[n],n,e)}function p(){if(r)for(var t=0,i=e.length;t<i;++t)n[t]=+c(e[t],t,e)}return null==e&&(e=[]),h.initialize=function(e,t){r=e,s=t,f()},h.links=function(t){return arguments.length?(e=t,f(),h):e},h.id=function(e){return arguments.length?(a=e,h):a},h.iterations=function(e){return arguments.length?(u=+e,h):u},h.strength=function(e){return arguments.length?(l="function"==typeof e?e:ka(+e),d(),h):l},h.distance=function(e){return arguments.length?(c="function"==typeof e?e:ka(+e),p(),h):c},h}(t).id((({index:e})=>_[e]));void 0!==h&&k.strength(h),void 0!==m&&N.strength(m);const C=function(e){var t,n=1,r=.001,i=1-Math.pow(r,1/300),o=0,s=.6,a=new Map,l=xo(h),c=ho("tick","end"),u=function(){let e=1;return()=>(e=(Fa*e+Ha)%Wa)/Wa}();function h(){f(),c.call("tick",t),n<r&&(l.stop(),c.call("end",t))}function f(r){var l,c,u=e.length;void 0===r&&(r=1);for(var h=0;h<r;++h)for(n+=(o-n)*i,a.forEach((function(e){e(n)})),l=0;l<u;++l)null==(c=e[l]).fx?c.x+=c.vx*=s:(c.x=c.fx,c.vx=0),null==c.fy?c.y+=c.vy*=s:(c.y=c.fy,c.vy=0);return t}function d(){for(var t,n=0,r=e.length;n<r;++n){if((t=e[n]).index=n,null!=t.fx&&(t.x=t.fx),null!=t.fy&&(t.y=t.fy),isNaN(t.x)||isNaN(t.y)){var i=za*Math.sqrt(.5+n),o=n*Qa;t.x=i*Math.cos(o),t.y=i*Math.sin(o)}(isNaN(t.vx)||isNaN(t.vy))&&(t.vx=t.vy=0)}}function p(t){return t.initialize&&t.initialize(e,u),t}return null==e&&(e=[]),d(),t={tick:f,restart:function(){return l.restart(h),t},stop:function(){return l.stop(),t},nodes:function(n){return arguments.length?(e=n,d(),a.forEach(p),t):e},alpha:function(e){return arguments.length?(n=+e,t):n},alphaMin:function(e){return arguments.length?(r=+e,t):r},alphaDecay:function(e){return arguments.length?(i=+e,t):+i},alphaTarget:function(e){return arguments.length?(o=+e,t):o},velocityDecay:function(e){return arguments.length?(s=1-e,t):1-s},randomSource:function(e){return arguments.length?(u=e,a.forEach(p),t):u},force:function(e,n){return arguments.length>1?(null==n?a.delete(e):a.set(e,p(n)),t):a.get(e)},find:function(t,n,r){var i,o,s,a,l,c=0,u=e.length;for(null==r?r=1/0:r*=r,c=0;c<u;++c)(s=(i=t-(a=e[c]).x)*i+(o=n-a.y)*o)<r&&(l=a,r=s);return l},on:function(e,n){return arguments.length>1?(c.on(e,n),t):c.on(e)}}}(e).force("link",N).force("charge",k).force("x",function(e){var t,n,r,i=ka(.1);function o(e){for(var i,o=0,s=t.length;o<s;++o)(i=t[o]).vx+=(r[o]-i.x)*n[o]*e}function s(){if(t){var o,s=t.length;for(n=new Array(s),r=new Array(s),o=0;o<s;++o)n[o]=isNaN(r[o]=+e(t[o],o,t))?0:+i(t[o],o,t)}}return"function"!=typeof e&&(e=ka(null==e?0:+e)),o.initialize=function(e){t=e,s()},o.strength=function(e){return arguments.length?(i="function"==typeof e?e:ka(+e),s(),o):i},o.x=function(t){return arguments.length?(e="function"==typeof t?t:ka(+t),s(),o):e},o}().strength(.01)).force("y",function(e){var t,n,r,i=ka(.1);function o(e){for(var i,o=0,s=t.length;o<s;++o)(i=t[o]).vy+=(r[o]-i.y)*n[o]*e}function s(){if(t){var o,s=t.length;for(n=new Array(s),r=new Array(s),o=0;o<s;++o)n[o]=isNaN(r[o]=+e(t[o],o,t))?0:+i(t[o],o,t)}}return"function"!=typeof e&&(e=ka(null==e?0:+e)),o.initialize=function(e){t=e,s()},o.strength=function(e){return arguments.length?(i="function"==typeof e?e:ka(+e),s(),o):i},o.y=function(t){return arguments.length?(e="function"==typeof t?t:ka(+t),s(),o):e},o}((e=>.4*-E+_l.nodeMap[e.id].parentNum*E*.12)).strength(.01)).on("tick",(function(){M.attr("x1",(e=>e.source.x)).attr("y1",(e=>e.source.y)).attr("x2",(e=>e.target.x)).attr("y2",(e=>e.target.y)),U.attr("transform",(e=>`translate(${e.x},${e.y})`)),B.attr("cx",(e=>e.x)).attr("cy",(e=>e.y))})),P=("svg",ya(Vi("svg").call(document.documentElement))).attr("width",E).attr("height",b).style("cursor","move").attr("viewBox",[-E/2,-b/2,E,b]).attr("style","max-width: 100%; height: auto; height: intrinsic;");const L=P.append("g");L.append("rect").attr("x",-E).attr("y",-E).attr("width",2*E).attr("height",10*E).attr("fill","white").style("cursor","move");for(let e=0;e<200;++e)L.append("line").attr("x1",-E).attr("x2",2*E).attr("y1",40*e-E).attr("y2",40*e-E).attr("stroke-dasharray","2 2").attr("stroke","rgb(200,200,200)");for(let e=0;e<100;++e)L.append("line").attr("y1",-E).attr("y2",20*E).attr("x1",40*e-E).attr("x2",40*e-E).attr("stroke-dasharray","2 2").attr("stroke","rgb(200,200,200)");const M=L.append("g").attr("stroke","function"!=typeof p?p:null).attr("stroke-opacity",.5).attr("stroke-width",1).attr("stroke","black").attr("stroke-linecap",v).selectAll("line").data(t).join("line"),B=L.append("g").attr("fill",s).attr("stroke",a).attr("stroke-opacity",c).attr("stroke-width",l).style("cursor","pointer").selectAll("circle").data(e).join("circle").call(j(C)).attr("r",u),U=L.append("g").attr("fill","black").style("font-family","sans-serif").style("font-size",12).style("cursor","pointer").selectAll("text").data(e).join("text").attr("dx",8).attr("dy",3).call(j(C)).text((e=>e.id));function D(e){return null!==e&&"object"==typeof e?e.valueOf():e}function j(e){return function(){var e,t,n,r,i=Ra,o=xa,s=Ia,a=Oa,l={},c=ho("start","drag","end"),u=0,h=0;function f(e){e.on("mousedown.drag",d).filter(a).on("touchstart.drag",y).on("touchmove.drag",v,ma).on("touchend.drag touchcancel.drag",m).style("touch-action","none").style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}function d(s,a){if(!r&&i.call(this,s,a)){var l=w(this,o.call(this,s,a),s,a,"mouse");l&&(ya(s.view).on("mousemove.drag",p,wa).on("mouseup.drag",g,wa),_a(s.view),Ea(s),n=!1,e=s.clientX,t=s.clientY,l("start",s))}}function p(r){if(ba(r),!n){var i=r.clientX-e,o=r.clientY-t;n=i*i+o*o>h}l.mouse("drag",r)}function g(e){ya(e.view).on("mousemove.drag mouseup.drag",null),Aa(e.view,n),ba(e),l.mouse("end",e)}function y(e,t){if(i.call(this,e,t)){var n,r,s=e.changedTouches,a=o.call(this,e,t),l=s.length;for(n=0;n<l;++n)(r=w(this,a,e,t,s[n].identifier,s[n]))&&(Ea(e),r("start",e,s[n]))}}function v(e){var t,n,r=e.changedTouches,i=r.length;for(t=0;t<i;++t)(n=l[r[t].identifier])&&(ba(e),n("drag",e,r[t]))}function m(e){var t,n,i=e.changedTouches,o=i.length;for(r&&clearTimeout(r),r=setTimeout((function(){r=null}),500),t=0;t<o;++t)(n=l[i[t].identifier])&&(Ea(e),n("end",e,i[t]))}function w(e,t,n,r,i,o){var a,h,d,p=c.copy(),g=va(o||n,t);if(null!=(d=s.call(e,new Ta("beforestart",{sourceEvent:n,target:f,identifier:i,active:u,x:g[0],y:g[1],dx:0,dy:0,dispatch:p}),r)))return a=d.x-g[0]||0,h=d.y-g[1]||0,function n(o,s,c){var y,v=g;switch(o){case"start":l[i]=n,y=u++;break;case"end":delete l[i],--u;case"drag":g=va(c||s,t),y=u}p.call(o,e,new Ta(o,{sourceEvent:s,subject:d,target:f,identifier:i,active:y,x:g[0]+a,y:g[1]+h,dx:g[0]-v[0],dy:g[1]-v[1],dispatch:p}),r)}}return f.filter=function(e){return arguments.length?(i="function"==typeof e?e:Sa(!!e),f):i},f.container=function(e){return arguments.length?(o="function"==typeof e?e:Sa(e),f):o},f.subject=function(e){return arguments.length?(s="function"==typeof e?e:Sa(e),f):s},f.touchable=function(e){return arguments.length?(a="function"==typeof e?e:Sa(!!e),f):a},f.on=function(){var e=c.on.apply(c,arguments);return e===c?f:e},f.clickDistance=function(e){return arguments.length?(h=(e=+e)*e,f):Math.sqrt(h)},f}().on("start",(function(t){t.active||e.alphaTarget(.3).restart(),t.subject.fx=t.subject.x,t.subject.fy=t.subject.y})).on("drag",(function(e){e.subject.fx=e.x,e.subject.fy=e.y})).on("end",(function(t){t.active||e.alphaTarget(0),t.subject.fx=null,t.subject.fy=null}))}x&&M.attr("stroke-width",(({index:e})=>x[e])),I&&M.attr("stroke",(({index:e})=>I[e])),R&&B.attr("fill",(({index:e})=>O(R[e]))),T&&B.append("title").text((({index:e})=>T[e]));const K=function(){var e,t,n,r=dl,i=pl,o=ml,s=yl,a=vl,l=[0,1/0],c=[[-1/0,-1/0],[1/0,1/0]],u=250,h=ol,f=ho("start","zoom","end"),d=500,p=150,g=0,y=10;function v(e){e.property("__zoom",gl).on("wheel.zoom",S,{passive:!1}).on("mousedown.zoom",T).on("dblclick.zoom",R).filter(a).on("touchstart.zoom",x).on("touchmove.zoom",I).on("touchend.zoom touchcancel.zoom",O).style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}function m(e,t){return(t=Math.max(l[0],Math.min(l[1],t)))===e.k?e:new ll(t,e.x,e.y)}function w(e,t,n){var r=t[0]-n[0]*e.k,i=t[1]-n[1]*e.k;return r===e.x&&i===e.y?e:new ll(e.k,r,i)}function E(e){return[(+e[0][0]+ +e[1][0])/2,(+e[0][1]+ +e[1][1])/2]}function b(e,t,n,r){e.on("start.zoom",(function(){_(this,arguments).event(r).start()})).on("interrupt.zoom end.zoom",(function(){_(this,arguments).event(r).end()})).tween("zoom",(function(){var e=this,o=arguments,s=_(e,o).event(r),a=i.apply(e,o),l=null==n?E(a):"function"==typeof n?n.apply(e,o):n,c=Math.max(a[1][0]-a[0][0],a[1][1]-a[0][1]),u=e.__zoom,f="function"==typeof t?t.apply(e,o):t,d=h(u.invert(l).concat(c/u.k),f.invert(l).concat(c/f.k));return function(e){if(1===e)e=f;else{var t=d(e),n=c/t[2];e=new ll(n,l[0]-t[0]*n,l[1]-t[1]*n)}s.zoom(null,e)}}))}function _(e,t,n){return!n&&e.__zooming||new A(e,t)}function A(e,t){this.that=e,this.args=t,this.active=0,this.sourceEvent=null,this.extent=i.apply(e,t),this.taps=0}function S(e,...t){if(r.apply(this,arguments)){var n=_(this,t).event(e),i=this.__zoom,a=Math.max(l[0],Math.min(l[1],i.k*Math.pow(2,s.apply(this,arguments)))),u=va(e);if(n.wheel)n.mouse[0][0]===u[0]&&n.mouse[0][1]===u[1]||(n.mouse[1]=i.invert(n.mouse[0]=u)),clearTimeout(n.wheel);else{if(i.k===a)return;n.mouse=[u,i.invert(u)],Go(this),n.start()}fl(e),n.wheel=setTimeout((function(){n.wheel=null,n.end()}),p),n.zoom("mouse",o(w(m(i,a),n.mouse[0],n.mouse[1]),n.extent,c))}}function T(e,...t){if(!n&&r.apply(this,arguments)){var i=e.currentTarget,s=_(this,t,!0).event(e),a=ya(e.view).on("mousemove.zoom",(function(e){if(fl(e),!s.moved){var t=e.clientX-u,n=e.clientY-h;s.moved=t*t+n*n>g}s.event(e).zoom("mouse",o(w(s.that.__zoom,s.mouse[0]=va(e,i),s.mouse[1]),s.extent,c))}),!0).on("mouseup.zoom",(function(e){a.on("mousemove.zoom mouseup.zoom",null),Aa(e.view,s.moved),fl(e),s.event(e).end()}),!0),l=va(e,i),u=e.clientX,h=e.clientY;_a(e.view),hl(e),s.mouse=[l,this.__zoom.invert(l)],Go(this),s.start()}}function R(e,...t){if(r.apply(this,arguments)){var n=this.__zoom,s=va(e.changedTouches?e.changedTouches[0]:e,this),a=n.invert(s),l=n.k*(e.shiftKey?.5:2),h=o(w(m(n,l),s,a),i.apply(this,t),c);fl(e),u>0?ya(this).transition().duration(u).call(b,h,s,e):ya(this).call(v.transform,h,s,e)}}function x(n,...i){if(r.apply(this,arguments)){var o,s,a,l,c=n.touches,u=c.length,h=_(this,i,n.changedTouches.length===u).event(n);for(hl(n),s=0;s<u;++s)l=[l=va(a=c[s],this),this.__zoom.invert(l),a.identifier],h.touch0?h.touch1||h.touch0[2]===l[2]||(h.touch1=l,h.taps=0):(h.touch0=l,o=!0,h.taps=1+!!e);e&&(e=clearTimeout(e)),o&&(h.taps<2&&(t=l[0],e=setTimeout((function(){e=null}),d)),Go(this),h.start())}}function I(e,...t){if(this.__zooming){var n,r,i,s,a=_(this,t).event(e),l=e.changedTouches,u=l.length;for(fl(e),n=0;n<u;++n)i=va(r=l[n],this),a.touch0&&a.touch0[2]===r.identifier?a.touch0[0]=i:a.touch1&&a.touch1[2]===r.identifier&&(a.touch1[0]=i);if(r=a.that.__zoom,a.touch1){var h=a.touch0[0],f=a.touch0[1],d=a.touch1[0],p=a.touch1[1],g=(g=d[0]-h[0])*g+(g=d[1]-h[1])*g,y=(y=p[0]-f[0])*y+(y=p[1]-f[1])*y;r=m(r,Math.sqrt(g/y)),i=[(h[0]+d[0])/2,(h[1]+d[1])/2],s=[(f[0]+p[0])/2,(f[1]+p[1])/2]}else{if(!a.touch0)return;i=a.touch0[0],s=a.touch0[1]}a.zoom("touch",o(w(r,i,s),a.extent,c))}}function O(e,...r){if(this.__zooming){var i,o,s=_(this,r).event(e),a=e.changedTouches,l=a.length;for(hl(e),n&&clearTimeout(n),n=setTimeout((function(){n=null}),d),i=0;i<l;++i)o=a[i],s.touch0&&s.touch0[2]===o.identifier?delete s.touch0:s.touch1&&s.touch1[2]===o.identifier&&delete s.touch1;if(s.touch1&&!s.touch0&&(s.touch0=s.touch1,delete s.touch1),s.touch0)s.touch0[1]=this.__zoom.invert(s.touch0[0]);else if(s.end(),2===s.taps&&(o=va(o,this),Math.hypot(t[0]-o[0],t[1]-o[1])<y)){var c=ya(this).on("dblclick.zoom");c&&c.apply(this,arguments)}}}return v.transform=function(e,t,n,r){var i=e.selection?e.selection():e;i.property("__zoom",gl),e!==i?b(e,t,n,r):i.interrupt().each((function(){_(this,arguments).event(r).start().zoom(null,"function"==typeof t?t.apply(this,arguments):t).end()}))},v.scaleBy=function(e,t,n,r){v.scaleTo(e,(function(){return this.__zoom.k*("function"==typeof t?t.apply(this,arguments):t)}),n,r)},v.scaleTo=function(e,t,n,r){v.transform(e,(function(){var e=i.apply(this,arguments),r=this.__zoom,s=null==n?E(e):"function"==typeof n?n.apply(this,arguments):n,a=r.invert(s),l="function"==typeof t?t.apply(this,arguments):t;return o(w(m(r,l),s,a),e,c)}),n,r)},v.translateBy=function(e,t,n,r){v.transform(e,(function(){return o(this.__zoom.translate("function"==typeof t?t.apply(this,arguments):t,"function"==typeof n?n.apply(this,arguments):n),i.apply(this,arguments),c)}),null,r)},v.translateTo=function(e,t,n,r,s){v.transform(e,(function(){var e=i.apply(this,arguments),s=this.__zoom,a=null==r?E(e):"function"==typeof r?r.apply(this,arguments):r;return o(cl.translate(a[0],a[1]).scale(s.k).translate("function"==typeof t?-t.apply(this,arguments):-t,"function"==typeof n?-n.apply(this,arguments):-n),e,c)}),r,s)},A.prototype={event:function(e){return e&&(this.sourceEvent=e),this},start:function(){return 1==++this.active&&(this.that.__zooming=this,this.emit("start")),this},zoom:function(e,t){return this.mouse&&"mouse"!==e&&(this.mouse[1]=t.invert(this.mouse[0])),this.touch0&&"touch"!==e&&(this.touch0[1]=t.invert(this.touch0[0])),this.touch1&&"touch"!==e&&(this.touch1[1]=t.invert(this.touch1[0])),this.that.__zoom=t,this.emit("zoom"),this},end:function(){return 0==--this.active&&(delete this.that.__zooming,this.emit("end")),this},emit:function(e){var t=ya(this.that).datum();f.call(e,this.that,new al(e,{sourceEvent:this.sourceEvent,target:v,type:e,transform:this.that.__zoom,dispatch:f}),t)}},v.wheelDelta=function(e){return arguments.length?(s="function"==typeof e?e:sl(+e),v):s},v.filter=function(e){return arguments.length?(r="function"==typeof e?e:sl(!!e),v):r},v.touchable=function(e){return arguments.length?(a="function"==typeof e?e:sl(!!e),v):a},v.extent=function(e){return arguments.length?(i="function"==typeof e?e:sl([[+e[0][0],+e[0][1]],[+e[1][0],+e[1][1]]]),v):i},v.scaleExtent=function(e){return arguments.length?(l[0]=+e[0],l[1]=+e[1],v):[l[0],l[1]]},v.translateExtent=function(e){return arguments.length?(c[0][0]=+e[0][0],c[1][0]=+e[1][0],c[0][1]=+e[0][1],c[1][1]=+e[1][1],v):[[c[0][0],c[0][1]],[c[1][0],c[1][1]]]},v.constrain=function(e){return arguments.length?(o=e,v):o},v.duration=function(e){return arguments.length?(u=+e,v):u},v.interpolate=function(e){return arguments.length?(h=e,v):h},v.on=function(){var e=f.on.apply(f,arguments);return e===f?v:e},v.clickDistance=function(e){return arguments.length?(g=(e=+e)*e,v):Math.sqrt(g)},v.tapDistance=function(e){return arguments.length?(y=+e,v):y},v}().extent([[0,0],[E,b]]).scaleExtent([1,8]).on("zoom",(function({transform:e}){L.attr("transform",e)}));return P.call(K),P.append("rect").attr("fill","white").attr("stroke","black").attr("x",-E/2+20).attr("y",-b/2+20).attr("width",120).attr("height",30).attr("cursor","pointer").on("click",(()=>{P.transition().duration(750).call(K.transform,cl,ul(P.node()).invert([E/2,b/2]))})),P.append("text").attr("fill","black").style("font-family","sans-serif").style("pointer-events","none").style("user-select","none").attr("x",-E/2+24).attr("y",-b/2+40).text("Reset Camera"),Object.assign(P.node(),{scales:{color:O}})}window.localStorage;var _l,Al={user:"",stories:{}};const Sl=()=>{const e=Tr+Date.now(),t={contract:"KT1-interface",id:e,title:"new Story",author:{name:Sr.alias,wallet:Tr},content:[{incipit:"This is your root card",code:"racine",alts:[{altNum:1,text:"Go to card 2",code:"card2"}],dependencyPath:[],computeOperation:{},selfColor:"#61bfda"},{incipit:"This is the second card",code:"card2",alts:[],dependencyPath:[],computeOperation:{},selfColor:"#61bfda"}]};Al.stories[e]=t,(e=>{const t=document.createElement("div");t.id="editor";const n=document.createElement("div"),r=(e=>{const t=[...e],n=[],r={},i={};return t.forEach((e=>{r[e.code]=e,e.alts.forEach((t=>{const r={source:e.code,target:t.code,text:t.text};i[t.code]=r,n.push(r)}))})),t.forEach((e=>(e=>{for(var t=e.code,n=0;"racine"!=t&&i.hasOwnProperty(t);){if(t=i[t].source,r[t].hasOwnProperty("parentNum")){n+=r[t].parentNum+1;break}n++}e.parentNum=n})(e))),{nodes:t,links:n,nodeMap:r}})(e.content);_l=r;const i=bl(r,{nodeId:e=>e.code,nodeGroup:e=>e.group,nodeTitle:e=>`${e.id}\n${e.group}`,linkStrokeWidth:e=>Math.sqrt(e.value),width:wl,height:El});n.append(i),t.append(n),document.body.append(t)})(t)},Tl=document.getElementById("chargement"),Rl=document.getElementById("loadingbar");Tl.style.userSelect="none",Rl.style.fontSize=parseInt(window.innerWidth/18),Rl.style.letterSpacing=parseInt(window.innerWidth/50),Rl.innerText="INTERFACE";const xl=document.getElementById("crux-canvas"),Il=document.getElementById("alt2-canvas"),Ol=document.getElementById("alt1-canvas"),kl=Il.getContext("2d"),Nl=Ol.getContext("2d");var Cl=!0,Pl=(document.getElementById("background-canvas").getContext("2d"),document.getElementById("crux")),Ll=document.getElementById("timeSlider"),Ml=(Ll.getContext("2d"),document.getElementById("alt1Div"),document.getElementById("alt2Div"),Date.now(),20),Bl=(window.devicePixelRatio,!1),Ul=(document.getElementById("compteur"),100),Dl=(document.getElementById("altSwitch"),0),jl=!0,Kl=document.getElementById("loadDisplay");const ql=e=>Ul=e,Fl=e=>Ml=e,Hl=e=>Dl=e,Wl=()=>{const e=document.getElementById("backToMenu");jl||(Tl.style.animation="fadein .8s",e.style.animation="fadeout .8s",setTimeout((()=>{jl=!jl,Tl.style.display="flex",Tl.style.opacity=1,e.style.opacity=0}),800))},Gl=e=>{e.deltaY/5+Ml>-300-Ml&&e.deltaY/5+Ml<parseInt(Pl.offsetWidth/16)*u.length&&(Ml+=e.deltaY/5,kr.drawCrux(Ml,u,Ul)),Ul=(Pl.offsetWidth/16*u.length-Ml)/(Pl.offsetWidth/16*u.length)*100};var Vl=0;const zl=e=>Vl=e.touches[0].pageY,Ql=e=>{e.preventDefault(),e.stopImmediatePropagation(),Ml+e.touches[0].pageY-Vl<=parseInt(Pl.offsetWidth/16)*u.length-50&&parseInt(Pl.offsetWidth/16)*u.length+Ml+e.touches[0].pageY-Vl>50&&(Ml+=e.touches[0].pageY-Vl,kr.drawCrux(Ml,u,Ul),Vl=e.touches[0].pageY,Ul=(Pl.offsetWidth/16*u.length-Ml)/(Pl.offsetWidth/16*u.length)*100)},Xl=e=>{Bl=!0},Yl=e=>{Bl&&e.movementY/5+Ml>-300-Ml&&e.movementY/5+Ml<parseInt(Pl.offsetWidth/16)*u.length&&(xl.style.cursor="grabbing",Ml+=e.movementY,Ul=(Pl.offsetWidth/16*u.length-Ml)/(Pl.offsetWidth/16*u.length)*100,kr.drawCrux(Ml,u,Ul))},Jl=e=>{xl.style.cursor="grab",Bl=!1},Zl=e=>{switch(e.code){case"KeyS":s();break;case"ArrowUp":a(currentLine-10);break;case"ArrowDown":a(currentLine+10);break;case"ArrowLeft":l(1);break;case"ArrowRight":l(2)}};var $l=!1;const ec=e=>$l=!0,tc=e=>{if(!0===$l){Ul=(Ll.offsetHeight-(Ll.offsetHeight-e.layerY))/Ll.offsetHeight*100;let t=(100-parseInt(Ul))/100,n=u.length*parseInt(Pl.offsetWidth/16);Ml=n*t,kr.drawCrux(Ml,u,Ul),kr.drawSlider(Ul)}},nc=e=>$l=!1,rc=e=>e.touches[0].pageY,ic=e=>{e.preventDefault(),e.stopImmediatePropagation(),Ul=(Ll.offsetHeight-(Ll.offsetHeight-e.touches[0].pageY))/Ll.offsetHeight*100;let t=(100-parseInt(Ul))/100,n=u.length*parseInt(Pl.offsetWidth/16);Ml=n*t,kr.drawCrux(Ml,u,Ul),e.touches[0].pageY},oc=()=>{Cl=!0,Ll.addEventListener("mousedown",ec),Ll.addEventListener("mousemove",tc),Ll.addEventListener("mouseup",nc),Ll.addEventListener("touchstart",rc,{passive:!1}),Ll.addEventListener("touchmove",ic,{passive:!1}),xl.addEventListener("wheel",Gl,{passive:!0}),xl.addEventListener("touchstart",zl,{passive:!1}),xl.addEventListener("touchmove",Ql,{passive:!1}),xl.addEventListener("mousemove",Yl),xl.addEventListener("mouseup",Jl),xl.addEventListener("mousedown",Xl),Ol.addEventListener("mousedown",lc),Il.addEventListener("mousedown",cc),document.addEventListener("keydown",Zl);let e=document.getElementsByClassName("altDivs");for(let t=0;t<e.length;t++)e[t].style.cursor="pointer"},sc=()=>{Ol.removeEventListener("mousedown",lc),Il.removeEventListener("mousedown",cc),document.removeEventListener("keydown",Zl);let e=document.getElementsByClassName("altDivs");for(let t=0;t<e.length;t++)e[t].style.cursor="not-allowed"},ac=()=>{Cl=!1,Ll.removeEventListener("mousedown",ec),Ll.removeEventListener("mousemove",tc),Ll.removeEventListener("mouseup",nc),xl.removeEventListener("wheel",Gl),xl.removeEventListener("touchstart",zl),xl.removeEventListener("touchmove",Ql,{passive:!1}),xl.removeEventListener("mousemove",Yl),xl.removeEventListener("mouseup",Jl),xl.removeEventListener("mousedown",Xl),sc()},lc=()=>l(1),cc=()=>l(2),uc=()=>{Kl.innerHTML="";const e=document.createElement("div");e.innerHTML="RUN",e.id="starter",e.style.fontSize=parseInt(window.innerWidth/18),e.addEventListener("click",(e=>{kr.drawbg(),kr.drawAlt(Nl,Ol,r["Alt"+Dl],Dl),kr.drawAlt(kl,Il,r.Alt2,Dl+1),a(u.length),(()=>{const e=document.getElementById("backToMenu");jl&&(Tl.style.animation="fadeout .8s",e.style.animation="fadein .8s",setTimeout((()=>{Tl.style.display="none",Tl.style.opacity=0,e.style.opacity=1,jl=!jl,document.getElementById("starter").remove()}),800))})()})),Kl.append(e)},hc=document.getElementById("menuList");document.getElementById("newPiles").addEventListener("click",Wr),document.getElementById("savedGames").addEventListener("click",(()=>{hc.innerHTML="";for(const e in Nr.games){const t=document.createElement("div");t.className="menuItem";const n=document.createElement("span");n.innerText=Nr.games[e].story.title;const r=document.createElement("span");r.innerText=Nr.games[e].numChoices;const i=document.createElement("span");i.innerText="delete_forever",i.className="material-icons",t.append(n,r,i),n.addEventListener("click",(()=>{f();const t=Nr.games[e];Mr(t.story,t),uc()})),i.addEventListener("click",(()=>{window.confirm("Delete this game progress?")&&(delete Nr.games[e],t.remove(),Ur())})),hc.append(t)}})),document.getElementById("editorList").addEventListener("click",(()=>{hc.innerHTML="";const e=document.createElement("div");e.innerHTML="Write a new story",e.className="menuItem",e.addEventListener("click",Sl),hc.append(e);for(const e in Fr){const t=document.createElement("div");t.innerHTML=Fr[e].title,t.className="menuItem",t.addEventListener("click",(()=>{})),hc.append(t)}})),console.log("======================================================================\n██╗███╗   ██╗████████╗███████╗██████╗ ███████╗ █████╗  ██████╗███████╗\n██║████╗  ██║╚══██╔══╝██╔════╝██╔══██╗██╔════╝██╔══██╗██╔════╝██╔════╝\n██║██╔██╗ ██║   ██║   █████╗  ██████╔╝█████╗  ███████║██║     █████╗  \n██║██║╚██╗██║   ██║   ██╔══╝  ██╔══██╗██╔══╝  ██╔══██║██║     ██╔══╝  \n██║██║ ╚████║   ██║   ███████╗██║  ██║██║     ██║  ██║╚██████╗███████╗\n╚═╝╚═╝  ╚═══╝   ╚═╝   ╚══════╝╚═╝  ╚═╝╚═╝     ╚═╝  ╚═╝ ╚═════╝╚══════╝\n ======================================================================\n\n");const fc=document.getElementById("background-canvas"),dc=()=>{const e=window.innerWidth,t=window.innerHeight;fc.width=e,fc.height=t,fc.style.width=e+"px",fc.style.height=t+"px",kr&&(kr.drawCrux(Ml,u,Ul),kr.drawbg())};window.onresize=dc,Br(""),(()=>{let e=document.createElement("div");e.style="display: flex;flex-direction: column-reverse;align-items: center;justify-content: space-evenly;";const t=document.createElement("i");t.innerHTML="fullscreen",t.className="material-icons starticon",t.addEventListener("click",(e=>{document.body.requestFullscreen().catch((e=>{console.log(e),kr.drawbg(),kr.drawCrux(Ml,u,Ul)}))}));const n=document.createElement("i");n.innerHTML="wallet",n.id="walletsyncbutton",n.className="material-icons starticon",n.addEventListener("click",xr),e.append(t);let r=document.createElement("i");r.innerHTML="volume_off",r.className="material-icons starticon",r.addEventListener("click",(e=>{console.log("toggle volume")}));const i=document.createElement("i");i.innerHTML="logout",i.id="backToMenu",i.className="material-icons starticon",i.addEventListener("click",Wl),e.append(n),e.append(i),e.append(t),e.append(r),document.getElementById("playOpt").append(e)})(),Wr(),dc()})()})();